/*!
* @license CreateJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2011-2015 gskinner.com, inc.
*
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
*/
this.createjs=this.createjs||{},createjs.extend=function(a,b){"use strict";function c(){this.constructor=a}return c.prototype=b.prototype,a.prototype=new c},this.createjs=this.createjs||{},createjs.promote=function(a,b){"use strict";var c=a.prototype,d=Object.getPrototypeOf&&Object.getPrototypeOf(c)||c.__proto__;if(d){c[(b+="_")+"constructor"]=d.constructor;for(var e in d)c.hasOwnProperty(e)&&"function"==typeof d[e]&&(c[b+e]=d[e])}return a},this.createjs=this.createjs||{},createjs.indexOf=function(a,b){"use strict";for(var c=0,d=a.length;d>c;c++)if(b===a[c])return c;return-1},this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c){this.type=a,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!b,this.cancelable=!!c,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var b=a.prototype;b.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},b.stopPropagation=function(){this.propagationStopped=!0},b.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},b.remove=function(){this.removed=!0},b.clone=function(){return new a(this.type,this.bubbles,this.cancelable)},b.set=function(a){for(var b in a)this[b]=a[b];return this},b.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(){this._listeners=null,this._captureListeners=null}var b=a.prototype;a.initialize=function(a){a.addEventListener=b.addEventListener,a.on=b.on,a.removeEventListener=a.off=b.removeEventListener,a.removeAllEventListeners=b.removeAllEventListeners,a.hasEventListener=b.hasEventListener,a.dispatchEvent=b.dispatchEvent,a._dispatchEvent=b._dispatchEvent,a.willTrigger=b.willTrigger},b.addEventListener=function(a,b,c){var d;d=c?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var e=d[a];return e&&this.removeEventListener(a,b,c),e=d[a],e?e.push(b):d[a]=[b],b},b.on=function(a,b,c,d,e,f){return b.handleEvent&&(c=c||b,b=b.handleEvent),c=c||this,this.addEventListener(a,function(a){b.call(c,a,e),d&&a.remove()},f)},b.removeEventListener=function(a,b,c){var d=c?this._captureListeners:this._listeners;if(d){var e=d[a];if(e)for(var f=0,g=e.length;g>f;f++)if(e[f]==b){1==g?delete d[a]:e.splice(f,1);break}}},b.off=b.removeEventListener,b.removeAllEventListeners=function(a){a?(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null},b.dispatchEvent=function(a,b,c){if("string"==typeof a){var d=this._listeners;if(!(b||d&&d[a]))return!0;a=new createjs.Event(a,b,c)}else a.target&&a.clone&&(a=a.clone());try{a.target=this}catch(e){}if(a.bubbles&&this.parent){for(var f=this,g=[f];f.parent;)g.push(f=f.parent);var h,i=g.length;for(h=i-1;h>=0&&!a.propagationStopped;h--)g[h]._dispatchEvent(a,1+(0==h));for(h=1;i>h&&!a.propagationStopped;h++)g[h]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return!a.defaultPrevented},b.hasEventListener=function(a){var b=this._listeners,c=this._captureListeners;return!!(b&&b[a]||c&&c[a])},b.willTrigger=function(a){for(var b=this;b;){if(b.hasEventListener(a))return!0;b=b.parent}return!1},b.toString=function(){return"[EventDispatcher]"},b._dispatchEvent=function(a,b){var c,d=1==b?this._captureListeners:this._listeners;if(a&&d){var e=d[a.type];if(!e||!(c=e.length))return;try{a.currentTarget=this}catch(f){}try{a.eventPhase=b}catch(f){}a.removed=!1,e=e.slice();for(var g=0;c>g&&!a.immediatePropagationStopped;g++){var h=e[g];h.handleEvent?h.handleEvent(a):h(a),a.removed&&(this.off(a.type,h,1==b),a.removed=!1)}}},createjs.EventDispatcher=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(){throw"Ticker cannot be instantiated."}a.RAF_SYNCHED="synched",a.RAF="raf",a.TIMEOUT="timeout",a.useRAF=!1,a.timingMode=null,a.maxDelta=0,a.paused=!1,a.removeEventListener=null,a.removeAllEventListeners=null,a.dispatchEvent=null,a.hasEventListener=null,a._listeners=null,createjs.EventDispatcher.initialize(a),a._addEventListener=a.addEventListener,a.addEventListener=function(){return!a._inited&&a.init(),a._addEventListener.apply(a,arguments)},a._inited=!1,a._startTime=0,a._pausedTime=0,a._ticks=0,a._pausedTicks=0,a._interval=50,a._lastTime=0,a._times=null,a._tickTimes=null,a._timerId=null,a._raf=!0,a.setInterval=function(b){a._interval=b,a._inited&&a._setupTick()},a.getInterval=function(){return a._interval},a.setFPS=function(b){a.setInterval(1e3/b)},a.getFPS=function(){return 1e3/a._interval};try{Object.defineProperties(a,{interval:{get:a.getInterval,set:a.setInterval},framerate:{get:a.getFPS,set:a.setFPS}})}catch(b){console.log(b)}a.init=function(){a._inited||(a._inited=!0,a._times=[],a._tickTimes=[],a._startTime=a._getTime(),a._times.push(a._lastTime=0),a.interval=a._interval)},a.reset=function(){if(a._raf){var b=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;b&&b(a._timerId)}else clearTimeout(a._timerId);a.removeAllEventListeners("tick"),a._timerId=a._times=a._tickTimes=null,a._startTime=a._lastTime=a._ticks=0,a._inited=!1},a.getMeasuredTickTime=function(b){var c=0,d=a._tickTimes;if(!d||d.length<1)return-1;b=Math.min(d.length,b||0|a.getFPS());for(var e=0;b>e;e++)c+=d[e];return c/b},a.getMeasuredFPS=function(b){var c=a._times;return!c||c.length<2?-1:(b=Math.min(c.length-1,b||0|a.getFPS()),1e3/((c[0]-c[b])/b))},a.setPaused=function(b){a.paused=b},a.getPaused=function(){return a.paused},a.getTime=function(b){return a._startTime?a._getTime()-(b?a._pausedTime:0):-1},a.getEventTime=function(b){return a._startTime?(a._lastTime||a._startTime)-(b?a._pausedTime:0):-1},a.getTicks=function(b){return a._ticks-(b?a._pausedTicks:0)},a._handleSynch=function(){a._timerId=null,a._setupTick(),a._getTime()-a._lastTime>=.97*(a._interval-1)&&a._tick()},a._handleRAF=function(){a._timerId=null,a._setupTick(),a._tick()},a._handleTimeout=function(){a._timerId=null,a._setupTick(),a._tick()},a._setupTick=function(){if(null==a._timerId){var b=a.timingMode||a.useRAF&&a.RAF_SYNCHED;if(b==a.RAF_SYNCHED||b==a.RAF){var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(c)return a._timerId=c(b==a.RAF?a._handleRAF:a._handleSynch),void(a._raf=!0)}a._raf=!1,a._timerId=setTimeout(a._handleTimeout,a._interval)}},a._tick=function(){var b=a.paused,c=a._getTime(),d=c-a._lastTime;if(a._lastTime=c,a._ticks++,b&&(a._pausedTicks++,a._pausedTime+=d),a.hasEventListener("tick")){var e=new createjs.Event("tick"),f=a.maxDelta;e.delta=f&&d>f?f:d,e.paused=b,e.time=c,e.runTime=c-a._pausedTime,a.dispatchEvent(e)}for(a._tickTimes.unshift(a._getTime()-c);a._tickTimes.length>100;)a._tickTimes.pop();for(a._times.unshift(c);a._times.length>100;)a._times.pop()};var c=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);a._getTime=function(){return(c&&c.call(performance)||(new Date).getTime())-a._startTime},createjs.Ticker=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(){throw"UID cannot be instantiated"}a._nextID=0,a.get=function(){return a._nextID++},createjs.UID=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k){this.Event_constructor(a,b,c),this.stageX=d,this.stageY=e,this.rawX=null==i?d:i,this.rawY=null==j?e:j,this.nativeEvent=f,this.pointerID=g,this.primary=!!h,this.relatedTarget=k}var b=createjs.extend(a,createjs.Event);b._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},b._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},b._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(b,{localX:{get:b._get_localX},localY:{get:b._get_localY},isTouch:{get:b._get_isTouch}})}catch(c){}b.clone=function(){return new a(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},b.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},createjs.MouseEvent=createjs.promote(a,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c,d,e,f){this.setValues(a,b,c,d,e,f)}var b=a.prototype;a.DEG_TO_RAD=Math.PI/180,a.identity=null,b.setValues=function(a,b,c,d,e,f){return this.a=null==a?1:a,this.b=b||0,this.c=c||0,this.d=null==d?1:d,this.tx=e||0,this.ty=f||0,this},b.append=function(a,b,c,d,e,f){var g=this.a,h=this.b,i=this.c,j=this.d;return(1!=a||0!=b||0!=c||1!=d)&&(this.a=g*a+i*b,this.b=h*a+j*b,this.c=g*c+i*d,this.d=h*c+j*d),this.tx=g*e+i*f+this.tx,this.ty=h*e+j*f+this.ty,this},b.prepend=function(a,b,c,d,e,f){var g=this.a,h=this.c,i=this.tx;return this.a=a*g+c*this.b,this.b=b*g+d*this.b,this.c=a*h+c*this.d,this.d=b*h+d*this.d,this.tx=a*i+c*this.ty+e,this.ty=b*i+d*this.ty+f,this},b.appendMatrix=function(a){return this.append(a.a,a.b,a.c,a.d,a.tx,a.ty)},b.prependMatrix=function(a){return this.prepend(a.a,a.b,a.c,a.d,a.tx,a.ty)},b.appendTransform=function(b,c,d,e,f,g,h,i,j){if(f%360)var k=f*a.DEG_TO_RAD,l=Math.cos(k),m=Math.sin(k);else l=1,m=0;return g||h?(g*=a.DEG_TO_RAD,h*=a.DEG_TO_RAD,this.append(Math.cos(h),Math.sin(h),-Math.sin(g),Math.cos(g),b,c),this.append(l*d,m*d,-m*e,l*e,0,0)):this.append(l*d,m*d,-m*e,l*e,b,c),(i||j)&&(this.tx-=i*this.a+j*this.c,this.ty-=i*this.b+j*this.d),this},b.prependTransform=function(b,c,d,e,f,g,h,i,j){if(f%360)var k=f*a.DEG_TO_RAD,l=Math.cos(k),m=Math.sin(k);else l=1,m=0;return(i||j)&&(this.tx-=i,this.ty-=j),g||h?(g*=a.DEG_TO_RAD,h*=a.DEG_TO_RAD,this.prepend(l*d,m*d,-m*e,l*e,0,0),this.prepend(Math.cos(h),Math.sin(h),-Math.sin(g),Math.cos(g),b,c)):this.prepend(l*d,m*d,-m*e,l*e,b,c),this},b.rotate=function(b){b*=a.DEG_TO_RAD;var c=Math.cos(b),d=Math.sin(b),e=this.a,f=this.b;return this.a=e*c+this.c*d,this.b=f*c+this.d*d,this.c=-e*d+this.c*c,this.d=-f*d+this.d*c,this},b.skew=function(b,c){return b*=a.DEG_TO_RAD,c*=a.DEG_TO_RAD,this.append(Math.cos(c),Math.sin(c),-Math.sin(b),Math.cos(b),0,0),this},b.scale=function(a,b){return this.a*=a,this.b*=a,this.c*=b,this.d*=b,this},b.translate=function(a,b){return this.tx+=this.a*a+this.c*b,this.ty+=this.b*a+this.d*b,this},b.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},b.invert=function(){var a=this.a,b=this.b,c=this.c,d=this.d,e=this.tx,f=a*d-b*c;return this.a=d/f,this.b=-b/f,this.c=-c/f,this.d=a/f,this.tx=(c*this.ty-d*e)/f,this.ty=-(a*this.ty-b*e)/f,this},b.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},b.equals=function(a){return this.tx===a.tx&&this.ty===a.ty&&this.a===a.a&&this.b===a.b&&this.c===a.c&&this.d===a.d},b.transformPoint=function(a,b,c){return c=c||{},c.x=a*this.a+b*this.c+this.tx,c.y=a*this.b+b*this.d+this.ty,c},b.decompose=function(b){null==b&&(b={}),b.x=this.tx,b.y=this.ty,b.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),b.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var c=Math.atan2(-this.c,this.d),d=Math.atan2(this.b,this.a),e=Math.abs(1-c/d);return 1e-5>e?(b.rotation=d/a.DEG_TO_RAD,this.a<0&&this.d>=0&&(b.rotation+=b.rotation<=0?180:-180),b.skewX=b.skewY=0):(b.skewX=c/a.DEG_TO_RAD,b.skewY=d/a.DEG_TO_RAD),b},b.copy=function(a){return this.setValues(a.a,a.b,a.c,a.d,a.tx,a.ty)},b.clone=function(){return new a(this.a,this.b,this.c,this.d,this.tx,this.ty)},b.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},a.identity=new a,createjs.Matrix2D=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c,d,e){this.setValues(a,b,c,d,e)}var b=a.prototype;b.setValues=function(a,b,c,d,e){return this.visible=null==a?!0:!!a,this.alpha=null==b?1:b,this.shadow=c,this.compositeOperation=d,this.matrix=e||this.matrix&&this.matrix.identity()||new createjs.Matrix2D,this},b.append=function(a,b,c,d,e){return this.alpha*=b,this.shadow=c||this.shadow,this.compositeOperation=d||this.compositeOperation,this.visible=this.visible&&a,e&&this.matrix.appendMatrix(e),this},b.prepend=function(a,b,c,d,e){return this.alpha*=b,this.shadow=this.shadow||c,this.compositeOperation=this.compositeOperation||d,this.visible=this.visible&&a,e&&this.matrix.prependMatrix(e),this},b.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},b.clone=function(){return new a(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},createjs.DisplayProps=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b){this.setValues(a,b)}var b=a.prototype;b.setValues=function(a,b){return this.x=a||0,this.y=b||0,this},b.copy=function(a){return this.x=a.x,this.y=a.y,this},b.clone=function(){return new a(this.x,this.y)},b.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},createjs.Point=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c,d){this.setValues(a,b,c,d)}var b=a.prototype;b.setValues=function(a,b,c,d){return this.x=a||0,this.y=b||0,this.width=c||0,this.height=d||0,this},b.extend=function(a,b,c,d){return c=c||0,d=d||0,a+c>this.x+this.width&&(this.width=a+c-this.x),b+d>this.y+this.height&&(this.height=b+d-this.y),a<this.x&&(this.width+=this.x-a,this.x=a),b<this.y&&(this.height+=this.y-b,this.y=b),this},b.pad=function(a,b,c,d){return this.x-=b,this.y-=a,this.width+=b+d,this.height+=a+c,this},b.copy=function(a){return this.setValues(a.x,a.y,a.width,a.height)},b.contains=function(a,b,c,d){return c=c||0,d=d||0,a>=this.x&&a+c<=this.x+this.width&&b>=this.y&&b+d<=this.y+this.height},b.union=function(a){return this.clone().extend(a.x,a.y,a.width,a.height)},b.intersection=function(b){var c=b.x,d=b.y,e=c+b.width,f=d+b.height;return this.x>c&&(c=this.x),this.y>d&&(d=this.y),this.x+this.width<e&&(e=this.x+this.width),this.y+this.height<f&&(f=this.y+this.height),c>=e||d>=f?null:new a(c,d,e-c,f-d)},b.intersects=function(a){return a.x<=this.x+this.width&&this.x<=a.x+a.width&&a.y<=this.y+this.height&&this.y<=a.y+a.height},b.isEmpty=function(){return this.width<=0||this.height<=0},b.clone=function(){return new a(this.x,this.y,this.width,this.height)},b.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},createjs.Rectangle=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c,d,e,f,g){a.addEventListener&&(this.target=a,this.overLabel=null==c?"over":c,this.outLabel=null==b?"out":b,this.downLabel=null==d?"down":d,this.play=e,this._isPressed=!1,this._isOver=!1,this._enabled=!1,a.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),f&&(g&&(f.actionsEnabled=!1,f.gotoAndStop&&f.gotoAndStop(g)),a.hitArea=f))}var b=a.prototype;b.setEnabled=function(a){if(a!=this._enabled){var b=this.target;this._enabled=a,a?(b.cursor="pointer",b.addEventListener("rollover",this),b.addEventListener("rollout",this),b.addEventListener("mousedown",this),b.addEventListener("pressup",this),b._reset&&(b.__reset=b._reset,b._reset=this._reset)):(b.cursor=null,b.removeEventListener("rollover",this),b.removeEventListener("rollout",this),b.removeEventListener("mousedown",this),b.removeEventListener("pressup",this),b.__reset&&(b._reset=b.__reset,delete b.__reset))}},b.getEnabled=function(){return this._enabled};try{Object.defineProperties(b,{enabled:{get:b.getEnabled,set:b.setEnabled}})}catch(c){}b.toString=function(){return"[ButtonHelper]"},b.handleEvent=function(a){var b,c=this.target,d=a.type;"mousedown"==d?(this._isPressed=!0,b=this.downLabel):"pressup"==d?(this._isPressed=!1,b=this._isOver?this.overLabel:this.outLabel):"rollover"==d?(this._isOver=!0,b=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,b=this._isPressed?this.overLabel:this.outLabel),this.play?c.gotoAndPlay&&c.gotoAndPlay(b):c.gotoAndStop&&c.gotoAndStop(b)},b._reset=function(){var a=this.paused;this.__reset(),this.paused=a},createjs.ButtonHelper=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c,d){this.color=a||"black",this.offsetX=b||0,this.offsetY=c||0,this.blur=d||0}var b=a.prototype;a.identity=new a("transparent",0,0,0),b.toString=function(){return"[Shadow]"},b.clone=function(){return new a(this.color,this.offsetX,this.offsetY,this.blur)},createjs.Shadow=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(a)}var b=createjs.extend(a,createjs.EventDispatcher);b.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(b,{animations:{get:b.getAnimations}})}catch(c){}b.getNumFrames=function(a){if(null==a)return this._frames?this._frames.length:this._numFrames||0;var b=this._data[a];return null==b?0:b.frames.length},b.getAnimation=function(a){return this._data[a]},b.getFrame=function(a){var b;return this._frames&&(b=this._frames[a])?b:null},b.getFrameBounds=function(a,b){var c=this.getFrame(a);return c?(b||new createjs.Rectangle).setValues(-c.regX,-c.regY,c.rect.width,c.rect.height):null},b.toString=function(){return"[SpriteSheet]"},b.clone=function(){throw"SpriteSheet cannot be cloned."},b._parseData=function(a){var b,c,d,e;if(null!=a){if(this.framerate=a.framerate||0,a.images&&(c=a.images.length)>0)for(e=this._images=[],b=0;c>b;b++){var f=a.images[b];if("string"==typeof f){var g=f;f=document.createElement("img"),f.src=g}e.push(f),f.getContext||f.naturalWidth||(this._loadCount++,this.complete=!1,function(a,b){f.onload=function(){a._handleImageLoad(b)}}(this,g),function(a,b){f.onerror=function(){a._handleImageError(b)}}(this,g))}if(null==a.frames);else if(Array.isArray(a.frames))for(this._frames=[],e=a.frames,b=0,c=e.length;c>b;b++){var h=e[b];this._frames.push({image:this._images[h[4]?h[4]:0],rect:new createjs.Rectangle(h[0],h[1],h[2],h[3]),regX:h[5]||0,regY:h[6]||0})}else d=a.frames,this._frameWidth=d.width,this._frameHeight=d.height,this._regX=d.regX||0,this._regY=d.regY||0,this._spacing=d.spacing||0,this._margin=d.margin||0,this._numFrames=d.count,0==this._loadCount&&this._calculateFrames();if(this._animations=[],null!=(d=a.animations)){this._data={};var i;for(i in d){var j={name:i},k=d[i];if("number"==typeof k)e=j.frames=[k];else if(Array.isArray(k))if(1==k.length)j.frames=[k[0]];else for(j.speed=k[3],j.next=k[2],e=j.frames=[],b=k[0];b<=k[1];b++)e.push(b);else{j.speed=k.speed,j.next=k.next;var l=k.frames;e=j.frames="number"==typeof l?[l]:l.slice(0)}(j.next===!0||void 0===j.next)&&(j.next=i),(j.next===!1||e.length<2&&j.next==i)&&(j.next=null),j.speed||(j.speed=1),this._animations.push(i),this._data[i]=j}}}},b._handleImageLoad=function(a){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},b._handleImageError=function(a){var b=new createjs.Event("error");b.src=a,this.dispatchEvent(b),0==--this._loadCount&&this.dispatchEvent("complete")},b._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var a=this._numFrames||1e5,b=0,c=this._frameWidth,d=this._frameHeight,e=this._spacing,f=this._margin;a:for(var g=0,h=this._images;g<h.length;g++)for(var i=h[g],j=i.width,k=i.height,l=f;k-f-d>=l;){for(var m=f;j-f-c>=m;){if(b>=a)break a;b++,this._frames.push({image:i,rect:new createjs.Rectangle(m,l,c,d),regX:this._regX,regY:this._regY}),m+=c+e}l+=d+e}this._numFrames=b}},createjs.SpriteSheet=createjs.promote(a,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function a(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var b=a.prototype,c=a;a.getRGB=function(a,b,c,d){return null!=a&&null==c&&(d=b,c=255&a,b=a>>8&255,a=a>>16&255),null==d?"rgb("+a+","+b+","+c+")":"rgba("+a+","+b+","+c+","+d+")"},a.getHSL=function(a,b,c,d){return null==d?"hsl("+a%360+","+b+"%,"+c+"%)":"hsla("+a%360+","+b+"%,"+c+"%,"+d+")"},a.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},a.STROKE_CAPS_MAP=["butt","round","square"],a.STROKE_JOINTS_MAP=["miter","round","bevel"];var d=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");d.getContext&&(a._ctx=d.getContext("2d"),d.width=d.height=1),b.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(b,{instructions:{get:b.getInstructions}})}catch(e){}b.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},b.draw=function(a,b){this._updateInstructions();for(var c=this._instructions,d=this._storeIndex,e=c.length;e>d;d++)c[d].exec(a,b)},b.drawAsPath=function(a){this._updateInstructions();for(var b,c=this._instructions,d=this._storeIndex,e=c.length;e>d;d++)(b=c[d]).path!==!1&&b.exec(a)},b.moveTo=function(a,b){return this.append(new c.MoveTo(a,b),!0)},b.lineTo=function(a,b){return this.append(new c.LineTo(a,b))},b.arcTo=function(a,b,d,e,f){return this.append(new c.ArcTo(a,b,d,e,f))},b.arc=function(a,b,d,e,f,g){return this.append(new c.Arc(a,b,d,e,f,g))},b.quadraticCurveTo=function(a,b,d,e){return this.append(new c.QuadraticCurveTo(a,b,d,e))},b.bezierCurveTo=function(a,b,d,e,f,g){return this.append(new c.BezierCurveTo(a,b,d,e,f,g))},b.rect=function(a,b,d,e){return this.append(new c.Rect(a,b,d,e))},b.closePath=function(){return this._activeInstructions.length?this.append(new c.ClosePath):this},b.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},b.beginFill=function(a){return this._setFill(a?new c.Fill(a):null)},b.beginLinearGradientFill=function(a,b,d,e,f,g){return this._setFill((new c.Fill).linearGradient(a,b,d,e,f,g))},b.beginRadialGradientFill=function(a,b,d,e,f,g,h,i){return this._setFill((new c.Fill).radialGradient(a,b,d,e,f,g,h,i))},b.beginBitmapFill=function(a,b,d){return this._setFill(new c.Fill(null,d).bitmap(a,b))},b.endFill=function(){return this.beginFill()},b.setStrokeStyle=function(a,b,d,e,f){return this._updateInstructions(!0),this._strokeStyle=this.command=new c.StrokeStyle(a,b,d,e,f),this._stroke&&(this._stroke.ignoreScale=f),this._strokeIgnoreScale=f,this},b.setStrokeDash=function(a,b){return this._updateInstructions(!0),this._strokeDash=this.command=new c.StrokeDash(a,b),this},b.beginStroke=function(a){return this._setStroke(a?new c.Stroke(a):null)},b.beginLinearGradientStroke=function(a,b,d,e,f,g){return this._setStroke((new c.Stroke).linearGradient(a,b,d,e,f,g))},b.beginRadialGradientStroke=function(a,b,d,e,f,g,h,i){return this._setStroke((new c.Stroke).radialGradient(a,b,d,e,f,g,h,i))},b.beginBitmapStroke=function(a,b){return this._setStroke((new c.Stroke).bitmap(a,b))},b.endStroke=function(){return this.beginStroke()},b.curveTo=b.quadraticCurveTo,b.drawRect=b.rect,b.drawRoundRect=function(a,b,c,d,e){return this.drawRoundRectComplex(a,b,c,d,e,e,e,e)},b.drawRoundRectComplex=function(a,b,d,e,f,g,h,i){return this.append(new c.RoundRect(a,b,d,e,f,g,h,i))},b.drawCircle=function(a,b,d){return this.append(new c.Circle(a,b,d))},b.drawEllipse=function(a,b,d,e){return this.append(new c.Ellipse(a,b,d,e))},b.drawPolyStar=function(a,b,d,e,f,g){return this.append(new c.PolyStar(a,b,d,e,f,g))},b.append=function(a,b){return this._activeInstructions.push(a),this.command=a,b||(this._dirty=!0),this},b.decodePath=function(b){for(var c=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],d=[2,2,4,6,0],e=0,f=b.length,g=[],h=0,i=0,j=a.BASE_64;f>e;){var k=b.charAt(e),l=j[k],m=l>>3,n=c[m];if(!n||3&l)throw"bad path data (@"+e+"): "+k;var o=d[m];m||(h=i=0),g.length=0,e++;for(var p=(l>>2&1)+2,q=0;o>q;q++){var r=j[b.charAt(e)],s=r>>5?-1:1;r=(31&r)<<6|j[b.charAt(e+1)],3==p&&(r=r<<6|j[b.charAt(e+2)]),r=s*r/10,q%2?h=r+=h:i=r+=i,g[q]=r,e+=p}n.apply(this,g)}return this},b.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},b.unstore=function(){return this._storeIndex=0,this},b.clone=function(){var b=new a;return b.command=this.command,b._stroke=this._stroke,b._strokeStyle=this._strokeStyle,b._strokeDash=this._strokeDash,b._strokeIgnoreScale=this._strokeIgnoreScale,b._fill=this._fill,b._instructions=this._instructions.slice(),b._commitIndex=this._commitIndex,b._activeInstructions=this._activeInstructions.slice(),b._dirty=this._dirty,b._storeIndex=this._storeIndex,b},b.toString=function(){return"[Graphics]"},b.mt=b.moveTo,b.lt=b.lineTo,b.at=b.arcTo,b.bt=b.bezierCurveTo,b.qt=b.quadraticCurveTo,b.a=b.arc,b.r=b.rect,b.cp=b.closePath,b.c=b.clear,b.f=b.beginFill,b.lf=b.beginLinearGradientFill,b.rf=b.beginRadialGradientFill,b.bf=b.beginBitmapFill,b.ef=b.endFill,b.ss=b.setStrokeStyle,b.sd=b.setStrokeDash,b.s=b.beginStroke,b.ls=b.beginLinearGradientStroke,b.rs=b.beginRadialGradientStroke,b.bs=b.beginBitmapStroke,b.es=b.endStroke,b.dr=b.drawRect,b.rr=b.drawRoundRect,b.rc=b.drawRoundRectComplex,b.dc=b.drawCircle,b.de=b.drawEllipse,b.dp=b.drawPolyStar,b.p=b.decodePath,b._updateInstructions=function(b){var c=this._instructions,d=this._activeInstructions,e=this._commitIndex;if(this._dirty&&d.length){c.length=e,c.push(a.beginCmd);var f=d.length,g=c.length;c.length=g+f;for(var h=0;f>h;h++)c[h+g]=d[h];this._fill&&c.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&(this._oldStrokeDash=this._strokeDash,c.push(this._strokeDash)),this._strokeStyle!==this._oldStrokeStyle&&(this._oldStrokeStyle=this._strokeStyle,c.push(this._strokeStyle)),c.push(this._stroke)),this._dirty=!1}b&&(d.length=0,this._commitIndex=c.length)},b._setFill=function(a){return this._updateInstructions(!0),this.command=this._fill=a,this},b._setStroke=function(a){return this._updateInstructions(!0),(this.command=this._stroke=a)&&(a.ignoreScale=this._strokeIgnoreScale),this},(c.LineTo=function(a,b){this.x=a,this.y=b}).prototype.exec=function(a){a.lineTo(this.x,this.y)},(c.MoveTo=function(a,b){this.x=a,this.y=b}).prototype.exec=function(a){a.moveTo(this.x,this.y)},(c.ArcTo=function(a,b,c,d,e){this.x1=a,this.y1=b,this.x2=c,this.y2=d,this.radius=e}).prototype.exec=function(a){a.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(c.Arc=function(a,b,c,d,e,f){this.x=a,this.y=b,this.radius=c,this.startAngle=d,this.endAngle=e,this.anticlockwise=!!f}).prototype.exec=function(a){a.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(c.QuadraticCurveTo=function(a,b,c,d){this.cpx=a,this.cpy=b,this.x=c,this.y=d}).prototype.exec=function(a){a.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(c.BezierCurveTo=function(a,b,c,d,e,f){this.cp1x=a,this.cp1y=b,this.cp2x=c,this.cp2y=d,this.x=e,this.y=f}).prototype.exec=function(a){a.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(c.Rect=function(a,b,c,d){this.x=a,this.y=b,this.w=c,this.h=d}).prototype.exec=function(a){a.rect(this.x,this.y,this.w,this.h)},(c.ClosePath=function(){}).prototype.exec=function(a){a.closePath()},(c.BeginPath=function(){}).prototype.exec=function(a){a.beginPath()},b=(c.Fill=function(a,b){this.style=a,this.matrix=b}).prototype,b.exec=function(a){if(this.style){a.fillStyle=this.style;var b=this.matrix;b&&(a.save(),a.transform(b.a,b.b,b.c,b.d,b.tx,b.ty)),a.fill(),b&&a.restore()}},b.linearGradient=function(b,c,d,e,f,g){for(var h=this.style=a._ctx.createLinearGradient(d,e,f,g),i=0,j=b.length;j>i;i++)h.addColorStop(c[i],b[i]);return h.props={colors:b,ratios:c,x0:d,y0:e,x1:f,y1:g,type:"linear"},this},b.radialGradient=function(b,c,d,e,f,g,h,i){for(var j=this.style=a._ctx.createRadialGradient(d,e,f,g,h,i),k=0,l=b.length;l>k;k++)j.addColorStop(c[k],b[k]);return j.props={colors:b,ratios:c,x0:d,y0:e,r0:f,x1:g,y1:h,r1:i,type:"radial"},this},b.bitmap=function(b,c){if(b.naturalWidth||b.getContext||b.readyState>=2){var d=this.style=a._ctx.createPattern(b,c||"");d.props={image:b,repetition:c,type:"bitmap"}}return this},b.path=!1,b=(c.Stroke=function(a,b){this.style=a,this.ignoreScale=b}).prototype,b.exec=function(a){this.style&&(a.strokeStyle=this.style,this.ignoreScale&&(a.save(),a.setTransform(1,0,0,1,0,0)),a.stroke(),this.ignoreScale&&a.restore())},b.linearGradient=c.Fill.prototype.linearGradient,b.radialGradient=c.Fill.prototype.radialGradient,b.bitmap=c.Fill.prototype.bitmap,b.path=!1,b=(c.StrokeStyle=function(a,b,c,d,e){this.width=a,this.caps=b,this.joints=c,this.miterLimit=d,this.ignoreScale=e}).prototype,b.exec=function(b){b.lineWidth=null==this.width?"1":this.width,b.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:a.STROKE_CAPS_MAP[this.caps],b.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:a.STROKE_JOINTS_MAP[this.joints],b.miterLimit=null==this.miterLimit?"10":this.miterLimit,b.ignoreScale=null==this.ignoreScale?!1:this.ignoreScale},b.path=!1,(c.StrokeDash=function(a,b){this.segments=a,this.offset=b||0}).prototype.exec=function(a){a.setLineDash&&(a.setLineDash(this.segments||c.StrokeDash.EMPTY_SEGMENTS),a.lineDashOffset=this.offset||0)},c.StrokeDash.EMPTY_SEGMENTS=[],(c.RoundRect=function(a,b,c,d,e,f,g,h){this.x=a,this.y=b,this.w=c,this.h=d,this.radiusTL=e,this.radiusTR=f,this.radiusBR=g,this.radiusBL=h}).prototype.exec=function(a){var b=(j>i?i:j)/2,c=0,d=0,e=0,f=0,g=this.x,h=this.y,i=this.w,j=this.h,k=this.radiusTL,l=this.radiusTR,m=this.radiusBR,n=this.radiusBL;0>k&&(k*=c=-1),k>b&&(k=b),0>l&&(l*=d=-1),l>b&&(l=b),0>m&&(m*=e=-1),m>b&&(m=b),0>n&&(n*=f=-1),n>b&&(n=b),a.moveTo(g+i-l,h),a.arcTo(g+i+l*d,h-l*d,g+i,h+l,l),a.lineTo(g+i,h+j-m),a.arcTo(g+i+m*e,h+j+m*e,g+i-m,h+j,m),a.lineTo(g+n,h+j),a.arcTo(g-n*f,h+j+n*f,g,h+j-n,n),a.lineTo(g,h+k),a.arcTo(g-k*c,h-k*c,g+k,h,k),a.closePath()},(c.Circle=function(a,b,c){this.x=a,this.y=b,this.radius=c}).prototype.exec=function(a){a.arc(this.x,this.y,this.radius,0,2*Math.PI)},(c.Ellipse=function(a,b,c,d){this.x=a,this.y=b,this.w=c,this.h=d}).prototype.exec=function(a){var b=this.x,c=this.y,d=this.w,e=this.h,f=.5522848,g=d/2*f,h=e/2*f,i=b+d,j=c+e,k=b+d/2,l=c+e/2;a.moveTo(b,l),a.bezierCurveTo(b,l-h,k-g,c,k,c),a.bezierCurveTo(k+g,c,i,l-h,i,l),a.bezierCurveTo(i,l+h,k+g,j,k,j),a.bezierCurveTo(k-g,j,b,l+h,b,l)},(c.PolyStar=function(a,b,c,d,e,f){this.x=a,this.y=b,this.radius=c,this.sides=d,this.pointSize=e,this.angle=f}).prototype.exec=function(a){var b=this.x,c=this.y,d=this.radius,e=(this.angle||0)/180*Math.PI,f=this.sides,g=1-(this.pointSize||0),h=Math.PI/f;a.moveTo(b+Math.cos(e)*d,c+Math.sin(e)*d);for(var i=0;f>i;i++)e+=h,1!=g&&a.lineTo(b+Math.cos(e)*d*g,c+Math.sin(e)*d*g),e+=h,a.lineTo(b+Math.cos(e)*d,c+Math.sin(e)*d);a.closePath()},a.beginCmd=new c.BeginPath,createjs.Graphics=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.cacheID=0,this.id=createjs.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,
this.mask=null,this.hitArea=null,this.cursor=null,this._cacheOffsetX=0,this._cacheOffsetY=0,this._filterOffsetX=0,this._filterOffsetY=0,this._cacheScale=1,this._cacheDataURLID=0,this._cacheDataURL=null,this._props=new createjs.DisplayProps,this._rectangle=new createjs.Rectangle,this._bounds=null}var b=createjs.extend(a,createjs.EventDispatcher);a._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],a.suppressCrossDomainErrors=!1,a._snapToPixelEnabled=!1;var c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");c.getContext&&(a._hitTestCanvas=c,a._hitTestContext=c.getContext("2d"),c.width=c.height=1),a._nextCacheID=1,b.getStage=function(){for(var a=this,b=createjs.Stage;a.parent;)a=a.parent;return a instanceof b?a:null};try{Object.defineProperties(b,{stage:{get:b.getStage}})}catch(d){}b.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},b.draw=function(a,b){var c=this.cacheCanvas;if(b||!c)return!1;var d=this._cacheScale;return a.drawImage(c,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+this._filterOffsetY,c.width/d,c.height/d),!0},b.updateContext=function(b){var c=this,d=c.mask,e=c._props.matrix;d&&d.graphics&&!d.graphics.isEmpty()&&(d.getMatrix(e),b.transform(e.a,e.b,e.c,e.d,e.tx,e.ty),d.graphics.drawAsPath(b),b.clip(),e.invert(),b.transform(e.a,e.b,e.c,e.d,e.tx,e.ty)),this.getMatrix(e);var f=e.tx,g=e.ty;a._snapToPixelEnabled&&c.snapToPixel&&(f=f+(0>f?-.5:.5)|0,g=g+(0>g?-.5:.5)|0),b.transform(e.a,e.b,e.c,e.d,f,g),b.globalAlpha*=c.alpha,c.compositeOperation&&(b.globalCompositeOperation=c.compositeOperation),c.shadow&&this._applyShadow(b,c.shadow)},b.cache=function(a,b,c,d,e){e=e||1,this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),this._cacheWidth=c,this._cacheHeight=d,this._cacheOffsetX=a,this._cacheOffsetY=b,this._cacheScale=e,this.updateCache()},b.updateCache=function(b){var c=this.cacheCanvas;if(!c)throw"cache() must be called before updateCache()";var d=this._cacheScale,e=this._cacheOffsetX*d,f=this._cacheOffsetY*d,g=this._cacheWidth,h=this._cacheHeight,i=c.getContext("2d"),j=this._getFilterBounds();e+=this._filterOffsetX=j.x,f+=this._filterOffsetY=j.y,g=Math.ceil(g*d)+j.width,h=Math.ceil(h*d)+j.height,g!=c.width||h!=c.height?(c.width=g,c.height=h):b||i.clearRect(0,0,g+1,h+1),i.save(),i.globalCompositeOperation=b,i.setTransform(d,0,0,d,-e,-f),this.draw(i,!0),this._applyFilters(),i.restore(),this.cacheID=a._nextCacheID++},b.uncache=function(){this._cacheDataURL=this.cacheCanvas=null,this.cacheID=this._cacheOffsetX=this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0,this._cacheScale=1},b.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null},b.localToGlobal=function(a,b,c){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(a,b,c||new createjs.Point)},b.globalToLocal=function(a,b,c){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(a,b,c||new createjs.Point)},b.localToLocal=function(a,b,c,d){return d=this.localToGlobal(a,b,d),c.globalToLocal(d.x,d.y,d)},b.setTransform=function(a,b,c,d,e,f,g,h,i){return this.x=a||0,this.y=b||0,this.scaleX=null==c?1:c,this.scaleY=null==d?1:d,this.rotation=e||0,this.skewX=f||0,this.skewY=g||0,this.regX=h||0,this.regY=i||0,this},b.getMatrix=function(a){var b=this,c=a&&a.identity()||new createjs.Matrix2D;return b.transformMatrix?c.copy(b.transformMatrix):c.appendTransform(b.x,b.y,b.scaleX,b.scaleY,b.rotation,b.skewX,b.skewY,b.regX,b.regY)},b.getConcatenatedMatrix=function(a){for(var b=this,c=this.getMatrix(a);b=b.parent;)c.prependMatrix(b.getMatrix(b._props.matrix));return c},b.getConcatenatedDisplayProps=function(a){a=a?a.identity():new createjs.DisplayProps;var b=this,c=b.getMatrix(a.matrix);do a.prepend(b.visible,b.alpha,b.shadow,b.compositeOperation),b!=this&&c.prependMatrix(b.getMatrix(b._props.matrix));while(b=b.parent);return a},b.hitTest=function(b,c){var d=a._hitTestContext;d.setTransform(1,0,0,1,-b,-c),this.draw(d);var e=this._testHit(d);return d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,2,2),e},b.set=function(a){for(var b in a)this[b]=a[b];return this},b.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var a=this.cacheCanvas;if(a){var b=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,a.width/b,a.height/b)}return null},b.getTransformedBounds=function(){return this._getBounds()},b.setBounds=function(a,b,c,d){null==a&&(this._bounds=a),this._bounds=(this._bounds||new createjs.Rectangle).setValues(a,b,c,d)},b.clone=function(){return this._cloneProps(new a)},b.toString=function(){return"[DisplayObject (name="+this.name+")]"},b._cloneProps=function(a){return a.alpha=this.alpha,a.mouseEnabled=this.mouseEnabled,a.tickEnabled=this.tickEnabled,a.name=this.name,a.regX=this.regX,a.regY=this.regY,a.rotation=this.rotation,a.scaleX=this.scaleX,a.scaleY=this.scaleY,a.shadow=this.shadow,a.skewX=this.skewX,a.skewY=this.skewY,a.visible=this.visible,a.x=this.x,a.y=this.y,a.compositeOperation=this.compositeOperation,a.snapToPixel=this.snapToPixel,a.filters=null==this.filters?null:this.filters.slice(0),a.mask=this.mask,a.hitArea=this.hitArea,a.cursor=this.cursor,a._bounds=this._bounds,a},b._applyShadow=function(a,b){b=b||Shadow.identity,a.shadowColor=b.color,a.shadowOffsetX=b.offsetX,a.shadowOffsetY=b.offsetY,a.shadowBlur=b.blur},b._tick=function(a){var b=this._listeners;b&&b.tick&&(a.target=null,a.propagationStopped=a.immediatePropagationStopped=!1,this.dispatchEvent(a))},b._testHit=function(b){try{var c=b.getImageData(0,0,1,1).data[3]>1}catch(d){if(!a.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return c},b._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var a=this.filters.length,b=this.cacheCanvas.getContext("2d"),c=this.cacheCanvas.width,d=this.cacheCanvas.height,e=0;a>e;e++)this.filters[e].applyFilter(b,0,0,c,d)},b._getFilterBounds=function(a){var b,c=this.filters,d=this._rectangle.setValues(0,0,0,0);if(!c||!(b=c.length))return d;for(var e=0;b>e;e++){var f=this.filters[e];f.getBounds&&f.getBounds(d)}return d},b._getBounds=function(a,b){return this._transformBounds(this.getBounds(),a,b)},b._transformBounds=function(a,b,c){if(!a)return a;var d=a.x,e=a.y,f=a.width,g=a.height,h=this._props.matrix;h=c?h.identity():this.getMatrix(h),(d||e)&&h.appendTransform(0,0,1,1,0,0,0,-d,-e),b&&h.prependMatrix(b);var i=f*h.a,j=f*h.b,k=g*h.c,l=g*h.d,m=h.tx,n=h.ty,o=m,p=m,q=n,r=n;return(d=i+m)<o?o=d:d>p&&(p=d),(d=i+k+m)<o?o=d:d>p&&(p=d),(d=k+m)<o?o=d:d>p&&(p=d),(e=j+n)<q?q=e:e>r&&(r=e),(e=j+l+n)<q?q=e:e>r&&(r=e),(e=l+n)<q?q=e:e>r&&(r=e),a.setValues(o,q,p-o,r-q)},b._hasMouseEventListener=function(){for(var b=a._MOUSE_EVENTS,c=0,d=b.length;d>c;c++)if(this.hasEventListener(b[c]))return!0;return!!this.cursor},createjs.DisplayObject=createjs.promote(a,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function a(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var b=createjs.extend(a,createjs.DisplayObject);b.getNumChildren=function(){return this.children.length};try{Object.defineProperties(b,{numChildren:{get:b.getNumChildren}})}catch(c){}b.initialize=a,b.isVisible=function(){var a=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&a)},b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;for(var c=this.children.slice(),d=0,e=c.length;e>d;d++){var f=c[d];f.isVisible()&&(a.save(),f.updateContext(a),f.draw(a),a.restore())}return!0},b.addChild=function(a){if(null==a)return a;var b=arguments.length;if(b>1){for(var c=0;b>c;c++)this.addChild(arguments[c]);return arguments[b-1]}return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.push(a),a.dispatchEvent("added"),a},b.addChildAt=function(a,b){var c=arguments.length,d=arguments[c-1];if(0>d||d>this.children.length)return arguments[c-2];if(c>2){for(var e=0;c-1>e;e++)this.addChildAt(arguments[e],d+e);return arguments[c-2]}return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.splice(b,0,a),a.dispatchEvent("added"),a},b.removeChild=function(a){var b=arguments.length;if(b>1){for(var c=!0,d=0;b>d;d++)c=c&&this.removeChild(arguments[d]);return c}return this.removeChildAt(createjs.indexOf(this.children,a))},b.removeChildAt=function(a){var b=arguments.length;if(b>1){for(var c=[],d=0;b>d;d++)c[d]=arguments[d];c.sort(function(a,b){return b-a});for(var e=!0,d=0;b>d;d++)e=e&&this.removeChildAt(c[d]);return e}if(0>a||a>this.children.length-1)return!1;var f=this.children[a];return f&&(f.parent=null),this.children.splice(a,1),f.dispatchEvent("removed"),!0},b.removeAllChildren=function(){for(var a=this.children;a.length;)this.removeChildAt(0)},b.getChildAt=function(a){return this.children[a]},b.getChildByName=function(a){for(var b=this.children,c=0,d=b.length;d>c;c++)if(b[c].name==a)return b[c];return null},b.sortChildren=function(a){this.children.sort(a)},b.getChildIndex=function(a){return createjs.indexOf(this.children,a)},b.swapChildrenAt=function(a,b){var c=this.children,d=c[a],e=c[b];d&&e&&(c[a]=e,c[b]=d)},b.swapChildren=function(a,b){for(var c,d,e=this.children,f=0,g=e.length;g>f&&(e[f]==a&&(c=f),e[f]==b&&(d=f),null==c||null==d);f++);f!=g&&(e[c]=b,e[d]=a)},b.setChildIndex=function(a,b){var c=this.children,d=c.length;if(!(a.parent!=this||0>b||b>=d)){for(var e=0;d>e&&c[e]!=a;e++);e!=d&&e!=b&&(c.splice(e,1),c.splice(b,0,a))}},b.contains=function(a){for(;a;){if(a==this)return!0;a=a.parent}return!1},b.hitTest=function(a,b){return null!=this.getObjectUnderPoint(a,b)},b.getObjectsUnderPoint=function(a,b,c){var d=[],e=this.localToGlobal(a,b);return this._getObjectsUnderPoint(e.x,e.y,d,c>0,1==c),d},b.getObjectUnderPoint=function(a,b,c){var d=this.localToGlobal(a,b);return this._getObjectsUnderPoint(d.x,d.y,null,c>0,1==c)},b.getBounds=function(){return this._getBounds(null,!0)},b.getTransformedBounds=function(){return this._getBounds()},b.clone=function(b){var c=this._cloneProps(new a);return b&&this._cloneChildren(c),c},b.toString=function(){return"[Container (name="+this.name+")]"},b._tick=function(a){if(this.tickChildren)for(var b=this.children.length-1;b>=0;b--){var c=this.children[b];c.tickEnabled&&c._tick&&c._tick(a)}this.DisplayObject__tick(a)},b._cloneChildren=function(a){a.children.length&&a.removeAllChildren();for(var b=a.children,c=0,d=this.children.length;d>c;c++){var e=this.children[c].clone(!0);e.parent=a,b.push(e)}},b._getObjectsUnderPoint=function(b,c,d,e,f,g){if(g=g||0,!g&&!this._testMask(this,b,c))return null;var h,i=createjs.DisplayObject._hitTestContext;f=f||e&&this._hasMouseEventListener();for(var j=this.children,k=j.length,l=k-1;l>=0;l--){var m=j[l],n=m.hitArea;if(m.visible&&(n||m.isVisible())&&(!e||m.mouseEnabled)&&(n||this._testMask(m,b,c)))if(!n&&m instanceof a){var o=m._getObjectsUnderPoint(b,c,d,e,f,g+1);if(!d&&o)return e&&!this.mouseChildren?this:o}else{if(e&&!f&&!m._hasMouseEventListener())continue;var p=m.getConcatenatedDisplayProps(m._props);if(h=p.matrix,n&&(h.appendMatrix(n.getMatrix(n._props.matrix)),p.alpha=n.alpha),i.globalAlpha=p.alpha,i.setTransform(h.a,h.b,h.c,h.d,h.tx-b,h.ty-c),(n||m).draw(i),!this._testHit(i))continue;if(i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,2,2),!d)return e&&!this.mouseChildren?this:m;d.push(m)}}return null},b._testMask=function(a,b,c){var d=a.mask;if(!d||!d.graphics||d.graphics.isEmpty())return!0;var e=this._props.matrix,f=a.parent;e=f?f.getConcatenatedMatrix(e):e.identity(),e=d.getMatrix(d._props.matrix).prependMatrix(e);var g=createjs.DisplayObject._hitTestContext;return g.setTransform(e.a,e.b,e.c,e.d,e.tx-b,e.ty-c),d.graphics.drawAsPath(g),g.fillStyle="#000",g.fill(),this._testHit(g)?(g.setTransform(1,0,0,1,0,0),g.clearRect(0,0,2,2),!0):!1},b._getBounds=function(a,b){var c=this.DisplayObject_getBounds();if(c)return this._transformBounds(c,a,b);var d=this._props.matrix;d=b?d.identity():this.getMatrix(d),a&&d.prependMatrix(a);for(var e=this.children.length,f=null,g=0;e>g;g++){var h=this.children[g];h.visible&&(c=h._getBounds(d))&&(f?f.extend(c.x,c.y,c.width,c.height):f=c.clone())}return f},createjs.Container=createjs.promote(a,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.Container_constructor(),this.autoClear=!0,this.canvas="string"==typeof a?document.getElementById(a):a,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var b=createjs.extend(a,createjs.Container);b._get_nextStage=function(){return this._nextStage},b._set_nextStage=function(a){this._nextStage&&(this._nextStage._prevStage=null),a&&(a._prevStage=this),this._nextStage=a};try{Object.defineProperties(b,{nextStage:{get:b._get_nextStage,set:b._set_nextStage}})}catch(c){}b.update=function(a){if(this.canvas&&(this.tickOnUpdate&&this.tick(a),this.dispatchEvent("drawstart",!1,!0)!==!1)){createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var b=this.drawRect,c=this.canvas.getContext("2d");c.setTransform(1,0,0,1,0,0),this.autoClear&&(b?c.clearRect(b.x,b.y,b.width,b.height):c.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),c.save(),this.drawRect&&(c.beginPath(),c.rect(b.x,b.y,b.width,b.height),c.clip()),this.updateContext(c),this.draw(c,!1),c.restore(),this.dispatchEvent("drawend")}},b.tick=function(a){if(this.tickEnabled&&this.dispatchEvent("tickstart",!1,!0)!==!1){var b=new createjs.Event("tick");if(a)for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);this._tick(b),this.dispatchEvent("tickend")}},b.handleEvent=function(a){"tick"==a.type&&this.update(a)},b.clear=function(){if(this.canvas){var a=this.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},b.toDataURL=function(a,b){var c,d=this.canvas.getContext("2d"),e=this.canvas.width,f=this.canvas.height;if(a){c=d.getImageData(0,0,e,f);var g=d.globalCompositeOperation;d.globalCompositeOperation="destination-over",d.fillStyle=a,d.fillRect(0,0,e,f)}var h=this.canvas.toDataURL(b||"image/png");return a&&(d.putImageData(c,0,0),d.globalCompositeOperation=g),h},b.enableMouseOver=function(a){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==a&&this._testMouseOver(!0)),null==a)a=20;else if(0>=a)return;var b=this;this._mouseOverIntervalID=setInterval(function(){b._testMouseOver()},1e3/Math.min(50,a))},b.enableDOMEvents=function(a){null==a&&(a=!0);var b,c,d=this._eventListeners;if(!a&&d){for(b in d)c=d[b],c.t.removeEventListener(b,c.f,!1);this._eventListeners=null}else if(a&&!d&&this.canvas){var e=window.addEventListener?window:document,f=this;d=this._eventListeners={},d.mouseup={t:e,f:function(a){f._handleMouseUp(a)}},d.mousemove={t:e,f:function(a){f._handleMouseMove(a)}},d.dblclick={t:this.canvas,f:function(a){f._handleDoubleClick(a)}},d.mousedown={t:this.canvas,f:function(a){f._handleMouseDown(a)}};for(b in d)c=d[b],c.t.addEventListener(b,c.f,!1)}},b.clone=function(){throw"Stage cannot be cloned."},b.toString=function(){return"[Stage (name="+this.name+")]"},b._getElementRect=function(a){var b;try{b=a.getBoundingClientRect()}catch(c){b={top:a.offsetTop,left:a.offsetLeft,width:a.offsetWidth,height:a.offsetHeight}}var d=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),e=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),f=window.getComputedStyle?getComputedStyle(a,null):a.currentStyle,g=parseInt(f.paddingLeft)+parseInt(f.borderLeftWidth),h=parseInt(f.paddingTop)+parseInt(f.borderTopWidth),i=parseInt(f.paddingRight)+parseInt(f.borderRightWidth),j=parseInt(f.paddingBottom)+parseInt(f.borderBottomWidth);return{left:b.left+d+g,right:b.right+d-i,top:b.top+e+h,bottom:b.bottom+e-j}},b._getPointerData=function(a){var b=this._pointerData[a];return b||(b=this._pointerData[a]={x:0,y:0}),b},b._handleMouseMove=function(a){a||(a=window.event),this._handlePointerMove(-1,a,a.pageX,a.pageY)},b._handlePointerMove=function(a,b,c,d,e){if((!this._prevStage||void 0!==e)&&this.canvas){var f=this._nextStage,g=this._getPointerData(a),h=g.inBounds;this._updatePointerPosition(a,b,c,d),(h||g.inBounds||this.mouseMoveOutside)&&(-1===a&&g.inBounds==!h&&this._dispatchMouseEvent(this,h?"mouseleave":"mouseenter",!1,a,g,b),this._dispatchMouseEvent(this,"stagemousemove",!1,a,g,b),this._dispatchMouseEvent(g.target,"pressmove",!0,a,g,b)),f&&f._handlePointerMove(a,b,c,d,null)}},b._updatePointerPosition=function(a,b,c,d){var e=this._getElementRect(this.canvas);c-=e.left,d-=e.top;var f=this.canvas.width,g=this.canvas.height;c/=(e.right-e.left)/f,d/=(e.bottom-e.top)/g;var h=this._getPointerData(a);(h.inBounds=c>=0&&d>=0&&f-1>=c&&g-1>=d)?(h.x=c,h.y=d):this.mouseMoveOutside&&(h.x=0>c?0:c>f-1?f-1:c,h.y=0>d?0:d>g-1?g-1:d),h.posEvtObj=b,h.rawX=c,h.rawY=d,(a===this._primaryPointerID||-1===a)&&(this.mouseX=h.x,this.mouseY=h.y,this.mouseInBounds=h.inBounds)},b._handleMouseUp=function(a){this._handlePointerUp(-1,a,!1)},b._handlePointerUp=function(a,b,c,d){var e=this._nextStage,f=this._getPointerData(a);if(!this._prevStage||void 0!==d){var g=null,h=f.target;d||!h&&!e||(g=this._getObjectsUnderPoint(f.x,f.y,null,!0)),f.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,a,f,b,g),f.down=!1),g==h&&this._dispatchMouseEvent(h,"click",!0,a,f,b),this._dispatchMouseEvent(h,"pressup",!0,a,f,b),c?(a==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[a]):f.target=null,e&&e._handlePointerUp(a,b,c,d||g&&this)}},b._handleMouseDown=function(a){this._handlePointerDown(-1,a,a.pageX,a.pageY)},b._handlePointerDown=function(a,b,c,d,e){this.preventSelection&&b.preventDefault(),(null==this._primaryPointerID||-1===a)&&(this._primaryPointerID=a),null!=d&&this._updatePointerPosition(a,b,c,d);var f=null,g=this._nextStage,h=this._getPointerData(a);e||(f=h.target=this._getObjectsUnderPoint(h.x,h.y,null,!0)),h.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,a,h,b,f),h.down=!0),this._dispatchMouseEvent(f,"mousedown",!0,a,h,b),g&&g._handlePointerDown(a,b,c,d,e||f&&this)},b._testMouseOver=function(a,b,c){if(!this._prevStage||void 0!==b){var d=this._nextStage;if(!this._mouseOverIntervalID)return void(d&&d._testMouseOver(a,b,c));var e=this._getPointerData(-1);if(e&&(a||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var f,g,h,i=e.posEvtObj,j=c||i&&i.target==this.canvas,k=null,l=-1,m="";!b&&(a||this.mouseInBounds&&j)&&(k=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var n=this._mouseOverTarget||[],o=n[n.length-1],p=this._mouseOverTarget=[];for(f=k;f;)p.unshift(f),m||(m=f.cursor),f=f.parent;for(this.canvas.style.cursor=m,!b&&c&&(c.canvas.style.cursor=m),g=0,h=p.length;h>g&&p[g]==n[g];g++)l=g;for(o!=k&&this._dispatchMouseEvent(o,"mouseout",!0,-1,e,i,k),g=n.length-1;g>l;g--)this._dispatchMouseEvent(n[g],"rollout",!1,-1,e,i,k);for(g=p.length-1;g>l;g--)this._dispatchMouseEvent(p[g],"rollover",!1,-1,e,i,o);o!=k&&this._dispatchMouseEvent(k,"mouseover",!0,-1,e,i,o),d&&d._testMouseOver(a,b||k&&this,c||j&&this)}}},b._handleDoubleClick=function(a,b){var c=null,d=this._nextStage,e=this._getPointerData(-1);b||(c=this._getObjectsUnderPoint(e.x,e.y,null,!0),this._dispatchMouseEvent(c,"dblclick",!0,-1,e,a)),d&&d._handleDoubleClick(a,b||c&&this)},b._dispatchMouseEvent=function(a,b,c,d,e,f,g){if(a&&(c||a.hasEventListener(b))){var h=new createjs.MouseEvent(b,c,!1,e.x,e.y,f,d,d===this._primaryPointerID||-1===d,e.rawX,e.rawY,g);a.dispatchEvent(h)}},createjs.Stage=createjs.promote(a,"Container")}(),this.createjs=this.createjs||{},function(){function a(a){this.DisplayObject_constructor(),"string"==typeof a?(this.image=document.createElement("img"),this.image.src=a):this.image=a,this.sourceRect=null}var b=createjs.extend(a,createjs.DisplayObject);b.initialize=a,b.isVisible=function(){var a=this.image,b=this.cacheCanvas||a&&(a.naturalWidth||a.getContext||a.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&b)},b.draw=function(a,b){if(this.DisplayObject_draw(a,b)||!this.image)return!0;var c=this.image,d=this.sourceRect;if(d){var e=d.x,f=d.y,g=e+d.width,h=f+d.height,i=0,j=0,k=c.width,l=c.height;0>e&&(i-=e,e=0),g>k&&(g=k),0>f&&(j-=f,f=0),h>l&&(h=l),a.drawImage(c,e,f,g-e,h-f,i,j,g-e,h-f)}else a.drawImage(c,0,0);return!0},b.getBounds=function(){var a=this.DisplayObject_getBounds();if(a)return a;var b=this.image,c=this.sourceRect||b,d=b&&(b.naturalWidth||b.getContext||b.readyState>=2);return d?this._rectangle.setValues(0,0,c.width,c.height):null},b.clone=function(){var b=new a(this.image);return this.sourceRect&&(b.sourceRect=this.sourceRect.clone()),this._cloneProps(b),b},b.toString=function(){return"[Bitmap (name="+this.name+")]"},createjs.Bitmap=createjs.promote(a,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=a,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,null!=b&&this.gotoAndPlay(b)}var b=createjs.extend(a,createjs.DisplayObject);b.initialize=a,b.isVisible=function(){var a=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&a)},b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;this._normalizeFrame();var c=this.spriteSheet.getFrame(0|this._currentFrame);if(!c)return!1;var d=c.rect;return d.width&&d.height&&a.drawImage(c.image,d.x,d.y,d.width,d.height,-c.regX,-c.regY,d.width,d.height),!0},b.play=function(){this.paused=!1},b.stop=function(){this.paused=!0},b.gotoAndPlay=function(a){this.paused=!1,this._skipAdvance=!0,this._goto(a)},b.gotoAndStop=function(a){this.paused=!0,this._goto(a)},b.advance=function(a){var b=this.framerate||this.spriteSheet.framerate,c=b&&null!=a?a/(1e3/b):1;this._normalizeFrame(c)},b.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},b.clone=function(){return this._cloneProps(new a(this.spriteSheet))},b.toString=function(){return"[Sprite (name="+this.name+")]"},b._cloneProps=function(a){return this.DisplayObject__cloneProps(a),a.currentFrame=this.currentFrame,a.currentAnimation=this.currentAnimation,a.paused=this.paused,a.currentAnimationFrame=this.currentAnimationFrame,a.framerate=this.framerate,a._animation=this._animation,a._currentFrame=this._currentFrame,a._skipAdvance=this._skipAdvance,a},b._tick=function(a){this.paused||(this._skipAdvance||this.advance(a&&a.delta),this._skipAdvance=!1),this.DisplayObject__tick(a)},b._normalizeFrame=function(a){a=a||0;var b,c=this._animation,d=this.paused,e=this._currentFrame;if(c){var f=c.speed||1,g=this.currentAnimationFrame;if(b=c.frames.length,g+a*f>=b){var h=c.next;if(this._dispatchAnimationEnd(c,e,d,h,b-1))return;if(h)return this._goto(h,a-(b-g)/f);this.paused=!0,g=c.frames.length-1}else g+=a*f;this.currentAnimationFrame=g,this._currentFrame=c.frames[0|g]}else if(e=this._currentFrame+=a,b=this.spriteSheet.getNumFrames(),e>=b&&b>0&&!this._dispatchAnimationEnd(c,e,d,b-1)&&(this._currentFrame-=b)>=b)return this._normalizeFrame();e=0|this._currentFrame,this.currentFrame!=e&&(this.currentFrame=e,this.dispatchEvent("change"))},b._dispatchAnimationEnd=function(a,b,c,d,e){var f=a?a.name:null;if(this.hasEventListener("animationend")){var g=new createjs.Event("animationend");g.name=f,g.next=d,this.dispatchEvent(g)}var h=this._animation!=a||this._currentFrame!=b;return h||c||!this.paused||(this.currentAnimationFrame=e,h=!0),h},b._goto=function(a,b){if(this.currentAnimationFrame=0,isNaN(a)){var c=this.spriteSheet.getAnimation(a);c&&(this._animation=c,this.currentAnimation=a,this._normalizeFrame(b))}else this.currentAnimation=this._animation=null,this._currentFrame=a,this._normalizeFrame()},createjs.Sprite=createjs.promote(a,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.DisplayObject_constructor(),this.graphics=a?a:new createjs.Graphics}var b=createjs.extend(a,createjs.DisplayObject);b.isVisible=function(){var a=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&a)},b.draw=function(a,b){return this.DisplayObject_draw(a,b)?!0:(this.graphics.draw(a,this),!0)},b.clone=function(b){var c=b&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new a(c))},b.toString=function(){return"[Shape (name="+this.name+")]"},createjs.Shape=createjs.promote(a,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c){this.DisplayObject_constructor(),this.text=a,this.font=b,this.color=c,this.textAlign="left",this.textBaseline="top",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var b=createjs.extend(a,createjs.DisplayObject),c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");c.getContext&&(a._workingContext=c.getContext("2d"),c.width=c.height=1),a.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},a.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},b.isVisible=function(){var a=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&a)},b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;var c=this.color||"#000";return this.outline?(a.strokeStyle=c,a.lineWidth=1*this.outline):a.fillStyle=c,this._drawText(this._prepContext(a)),!0},b.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},b.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth("M")},b.getMeasuredHeight=function(){return this._drawText(null,{}).height},b.getBounds=function(){var b=this.DisplayObject_getBounds();if(b)return b;if(null==this.text||""===this.text)return null;var c=this._drawText(null,{}),d=this.maxWidth&&this.maxWidth<c.width?this.maxWidth:c.width,e=d*a.H_OFFSETS[this.textAlign||"left"],f=this.lineHeight||this.getMeasuredLineHeight(),g=f*a.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(e,g,d,c.height)},b.getMetrics=function(){var b={lines:[]};return b.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),b.vOffset=b.lineHeight*a.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,b,b.lines)},b.clone=function(){return this._cloneProps(new a(this.text,this.font,this.color))},b.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},b._cloneProps=function(a){return this.DisplayObject__cloneProps(a),a.textAlign=this.textAlign,a.textBaseline=this.textBaseline,a.maxWidth=this.maxWidth,a.outline=this.outline,a.lineHeight=this.lineHeight,a.lineWidth=this.lineWidth,a},b._prepContext=function(a){return a.font=this.font||"10px sans-serif",a.textAlign=this.textAlign||"left",a.textBaseline=this.textBaseline||"top",a},b._drawText=function(b,c,d){var e=!!b;e||(b=a._workingContext,b.save(),this._prepContext(b));for(var f=this.lineHeight||this.getMeasuredLineHeight(),g=0,h=0,i=String(this.text).split(/(?:\r\n|\r|\n)/),j=0,k=i.length;k>j;j++){var l=i[j],m=null;if(null!=this.lineWidth&&(m=b.measureText(l).width)>this.lineWidth){var n=l.split(/(\s)/);l=n[0],m=b.measureText(l).width;for(var o=1,p=n.length;p>o;o+=2){var q=b.measureText(n[o]+n[o+1]).width;m+q>this.lineWidth?(e&&this._drawTextLine(b,l,h*f),d&&d.push(l),m>g&&(g=m),l=n[o+1],m=b.measureText(l).width,h++):(l+=n[o]+n[o+1],m+=q)}}e&&this._drawTextLine(b,l,h*f),d&&d.push(l),c&&null==m&&(m=b.measureText(l).width),m>g&&(g=m),h++}return c&&(c.width=g,c.height=h*f),e||b.restore(),c},b._drawTextLine=function(a,b,c){this.outline?a.strokeText(b,0,c,this.maxWidth||65535):a.fillText(b,0,c,this.maxWidth||65535)},b._getMeasuredWidth=function(b){var c=a._workingContext;c.save();var d=this._prepContext(c).measureText(b).width;return c.restore(),d},createjs.Text=createjs.promote(a,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b){this.Container_constructor(),this.text=a||"",this.spriteSheet=b,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var b=createjs.extend(a,createjs.Container);a.maxPoolSize=100,a._spritePool=[],b.draw=function(a,b){this.DisplayObject_draw(a,b)||(this._updateText(),this.Container_draw(a,b))},b.getBounds=function(){return this._updateText(),this.Container_getBounds()},b.isVisible=function(){var a=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&a)},b.clone=function(){return this._cloneProps(new a(this.text,this.spriteSheet))},b.addChild=b.addChildAt=b.removeChild=b.removeChildAt=b.removeAllChildren=function(){},b._cloneProps=function(a){return this.Container__cloneProps(a),a.lineHeight=this.lineHeight,a.letterSpacing=this.letterSpacing,a.spaceWidth=this.spaceWidth,a},b._getFrameIndex=function(a,b){var c,d=b.getAnimation(a);return d||(a!=(c=a.toUpperCase())||a!=(c=a.toLowerCase())||(c=null),c&&(d=b.getAnimation(c))),d&&d.frames[0]},b._getFrame=function(a,b){var c=this._getFrameIndex(a,b);return null==c?c:b.getFrame(c)},b._getLineHeight=function(a){var b=this._getFrame("1",a)||this._getFrame("T",a)||this._getFrame("L",a)||a.getFrame(0);return b?b.rect.height:1},b._getSpaceWidth=function(a){var b=this._getFrame("1",a)||this._getFrame("l",a)||this._getFrame("e",a)||this._getFrame("a",a)||a.getFrame(0);return b?b.rect.width:1},b._updateText=function(){var b,c=0,d=0,e=this._oldProps,f=!1,g=this.spaceWidth,h=this.lineHeight,i=this.spriteSheet,j=a._spritePool,k=this.children,l=0,m=k.length;for(var n in e)e[n]!=this[n]&&(e[n]=this[n],f=!0);if(f){var o=!!this._getFrame(" ",i);o||g||(g=this._getSpaceWidth(i)),h||(h=this._getLineHeight(i));for(var p=0,q=this.text.length;q>p;p++){var r=this.text.charAt(p);if(" "!=r||o)if("\n"!=r&&"\r"!=r){var s=this._getFrameIndex(r,i);null!=s&&(m>l?b=k[l]:(k.push(b=j.length?j.pop():new createjs.Sprite),b.parent=this,m++),b.spriteSheet=i,b.gotoAndStop(s),b.x=c,b.y=d,l++,c+=b.getBounds().width+this.letterSpacing)}else"\r"==r&&"\n"==this.text.charAt(p+1)&&p++,c=0,d+=h;else c+=g}for(;m>l;)j.push(b=k.pop()),b.parent=null,m--;j.length>a.maxPoolSize&&(j.length=a.maxPoolSize)}},createjs.BitmapText=createjs.promote(a,"Container")}(),this.createjs=this.createjs||{},function(){"use strict";function a(b,c,d,e){this.Container_constructor(),!a.inited&&a.init(),this.mode=b||a.INDEPENDENT,this.startPosition=c||0,this.loop=d,this.currentFrame=0,this.timeline=new createjs.Timeline(null,e,{paused:!0,position:c,useTicks:!0}),this.paused=!1,this.actionsEnabled=!0,this.autoReset=!0,this.frameBounds=this.frameBounds||null,this.framerate=null,this._synchOffset=0,this._prevPos=-1,this._prevPosition=0,this._t=0,this._managed={}}function b(){throw"MovieClipPlugin cannot be instantiated."}var c=createjs.extend(a,createjs.Container);a.INDEPENDENT="independent",a.SINGLE_FRAME="single",a.SYNCHED="synched",a.inited=!1,a.init=function(){a.inited||(b.install(),a.inited=!0)},c.getLabels=function(){return this.timeline.getLabels()},c.getCurrentLabel=function(){return this._updateTimeline(),this.timeline.getCurrentLabel()},c.getDuration=function(){return this.timeline.duration;
};try{Object.defineProperties(c,{labels:{get:c.getLabels},currentLabel:{get:c.getCurrentLabel},totalFrames:{get:c.getDuration},duration:{get:c.getDuration}})}catch(d){}c.initialize=a,c.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},c.draw=function(a,b){return this.DisplayObject_draw(a,b)?!0:(this._updateTimeline(),this.Container_draw(a,b),!0)},c.play=function(){this.paused=!1},c.stop=function(){this.paused=!0},c.gotoAndPlay=function(a){this.paused=!1,this._goto(a)},c.gotoAndStop=function(a){this.paused=!0,this._goto(a)},c.advance=function(b){var c=a.INDEPENDENT;if(this.mode==c){for(var d=this,e=d.framerate;(d=d.parent)&&null==e;)d.mode==c&&(e=d._framerate);this._framerate=e;var f=null!=e&&-1!=e&&null!=b?b/(1e3/e)+this._t:1,g=0|f;for(this._t=f-g;!this.paused&&g--;)this._prevPosition=this._prevPos<0?0:this._prevPosition+1,this._updateTimeline()}},c.clone=function(){throw"MovieClip cannot be cloned."},c.toString=function(){return"[MovieClip (name="+this.name+")]"},c._tick=function(a){this.advance(a&&a.delta),this.Container__tick(a)},c._goto=function(a){var b=this.timeline.resolve(a);null!=b&&(-1==this._prevPos&&(this._prevPos=NaN),this._prevPosition=b,this._t=0,this._updateTimeline())},c._reset=function(){this._prevPos=-1,this._t=this.currentFrame=0,this.paused=!1},c._updateTimeline=function(){var b=this.timeline,c=this.mode!=a.INDEPENDENT;b.loop=null==this.loop?!0:this.loop;var d=c?this.startPosition+(this.mode==a.SINGLE_FRAME?0:this._synchOffset):this._prevPos<0?0:this._prevPosition,e=c||!this.actionsEnabled?createjs.Tween.NONE:null;if(this.currentFrame=b._calcPosition(d),b.setPosition(d,e),this._prevPosition=b._prevPosition,this._prevPos!=b._prevPos){this.currentFrame=this._prevPos=b._prevPos;for(var f in this._managed)this._managed[f]=1;for(var g=b._tweens,h=0,i=g.length;i>h;h++){var j=g[h],k=j._target;if(k!=this&&!j.passive){var l=j._stepPosition;k instanceof createjs.DisplayObject?this._addManagedChild(k,l):this._setState(k.state,l)}}var m=this.children;for(h=m.length-1;h>=0;h--){var n=m[h].id;1==this._managed[n]&&(this.removeChildAt(h),delete this._managed[n])}}},c._setState=function(a,b){if(a)for(var c=a.length-1;c>=0;c--){var d=a[c],e=d.t,f=d.p;for(var g in f)e[g]=f[g];this._addManagedChild(e,b)}},c._addManagedChild=function(b,c){b._off||(this.addChildAt(b,0),b instanceof a&&(b._synchOffset=c,b.mode==a.INDEPENDENT&&b.autoReset&&!this._managed[b.id]&&b._reset()),this._managed[b.id]=2)},c._getBounds=function(a,b){var c=this.DisplayObject_getBounds();return c||(this._updateTimeline(),this.frameBounds&&(c=this._rectangle.copy(this.frameBounds[this.currentFrame]))),c?this._transformBounds(c,a,b):this.Container__getBounds(a,b)},createjs.MovieClip=createjs.promote(a,"Container"),b.priority=100,b.install=function(){createjs.Tween.installPlugin(b,["startPosition"])},b.init=function(a,b,c){return c},b.step=function(){},b.tween=function(b,c,d,e,f,g,h,i){return b.target instanceof a?1==g?f[c]:e[c]:d}}(),this.createjs=this.createjs||{},function(){"use strict";function a(){throw"SpriteSheetUtils cannot be instantiated"}var b=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");b.getContext&&(a._workingCanvas=b,a._workingContext=b.getContext("2d"),b.width=b.height=1),a.addFlippedFrames=function(b,c,d,e){if(c||d||e){var f=0;c&&a._flip(b,++f,!0,!1),d&&a._flip(b,++f,!1,!0),e&&a._flip(b,++f,!0,!0)}},a.extractFrame=function(b,c){isNaN(c)&&(c=b.getAnimation(c).frames[0]);var d=b.getFrame(c);if(!d)return null;var e=d.rect,f=a._workingCanvas;f.width=e.width,f.height=e.height,a._workingContext.drawImage(d.image,e.x,e.y,e.width,e.height,0,0,e.width,e.height);var g=document.createElement("img");return g.src=f.toDataURL("image/png"),g},a.mergeAlpha=function(a,b,c){c||(c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),c.width=Math.max(b.width,a.width),c.height=Math.max(b.height,a.height);var d=c.getContext("2d");return d.save(),d.drawImage(a,0,0),d.globalCompositeOperation="destination-in",d.drawImage(b,0,0),d.restore(),c},a._flip=function(b,c,d,e){for(var f=b._images,g=a._workingCanvas,h=a._workingContext,i=f.length/c,j=0;i>j;j++){var k=f[j];k.__tmp=j,h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,g.width+1,g.height+1),g.width=k.width,g.height=k.height,h.setTransform(d?-1:1,0,0,e?-1:1,d?k.width:0,e?k.height:0),h.drawImage(k,0,0);var l=document.createElement("img");l.src=g.toDataURL("image/png"),l.width=k.width,l.height=k.height,f.push(l)}var m=b._frames,n=m.length/c;for(j=0;n>j;j++){k=m[j];var o=k.rect.clone();l=f[k.image.__tmp+i*c];var p={image:l,rect:o,regX:k.regX,regY:k.regY};d&&(o.x=l.width-o.x-o.width,p.regX=o.width-k.regX),e&&(o.y=l.height-o.y-o.height,p.regY=o.height-k.regY),m.push(p)}var q="_"+(d?"h":"")+(e?"v":""),r=b._animations,s=b._data,t=r.length/c;for(j=0;t>j;j++){var u=r[j];k=s[u];var v={name:u+q,speed:k.speed,next:k.next,frames:[]};k.next&&(v.next+=q),m=k.frames;for(var w=0,x=m.length;x>w;w++)v.frames.push(m[w]+n*c);s[v.name]=v,r.push(v.name)}},createjs.SpriteSheetUtils=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this.framerate=a||0,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var b=createjs.extend(a,createjs.EventDispatcher);a.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",a.ERR_RUNNING="a build is already running",b.addFrame=function(b,c,d,e,f){if(this._data)throw a.ERR_RUNNING;var g=c||b.bounds||b.nominalBounds;return!g&&b.getBounds&&(g=b.getBounds()),g?(d=d||1,this._frames.push({source:b,sourceRect:g,scale:d,funct:e,data:f,index:this._frames.length,height:g.height*d})-1):null},b.addAnimation=function(b,c,d,e){if(this._data)throw a.ERR_RUNNING;this._animations[b]={frames:c,next:d,speed:e}},b.addMovieClip=function(b,c,d,e,f,g){if(this._data)throw a.ERR_RUNNING;var h=b.frameBounds,i=c||b.bounds||b.nominalBounds;if(!i&&b.getBounds&&(i=b.getBounds()),i||h){var j,k,l=this._frames.length,m=b.timeline.duration;for(j=0;m>j;j++){var n=h&&h[j]?h[j]:i;this.addFrame(b,n,d,this._setupMovieClipFrame,{i:j,f:e,d:f})}var o=b.timeline._labels,p=[];for(var q in o)p.push({index:o[q],label:q});if(p.length)for(p.sort(function(a,b){return a.index-b.index}),j=0,k=p.length;k>j;j++){for(var r=p[j].label,s=l+p[j].index,t=l+(j==k-1?m:p[j+1].index),u=[],v=s;t>v;v++)u.push(v);(!g||(r=g(r,b,s,t)))&&this.addAnimation(r,u,!0)}}},b.build=function(){if(this._data)throw a.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},b.buildAsync=function(b){if(this._data)throw a.ERR_RUNNING;this.timeSlice=b,this._startBuild();var c=this;this._timerID=setTimeout(function(){c._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},b.stopAsync=function(){clearTimeout(this._timerID),this._data=null},b.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},b.toString=function(){return"[SpriteSheetBuilder]"},b._startBuild=function(){var b=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var c=[];this._data={images:[],frames:c,framerate:this.framerate,animations:this._animations};var d=this._frames.slice();if(d.sort(function(a,b){return a.height<=b.height?-1:1}),d[d.length-1].height+2*b>this.maxHeight)throw a.ERR_DIMENSIONS;for(var e=0,f=0,g=0;d.length;){var h=this._fillRow(d,e,g,c,b);if(h.w>f&&(f=h.w),e+=h.h,!h.h||!d.length){var i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");i.width=this._getSize(f,this.maxWidth),i.height=this._getSize(e,this.maxHeight),this._data.images[g]=i,h.h||(f=e=0,g++)}}},b._setupMovieClipFrame=function(a,b){var c=a.actionsEnabled;a.actionsEnabled=!1,a.gotoAndStop(b.i),a.actionsEnabled=c,b.f&&b.f(a,b.d,b.i)},b._getSize=function(a,b){for(var c=4;Math.pow(2,++c)<a;);return Math.min(b,Math.pow(2,c))},b._fillRow=function(b,c,d,e,f){var g=this.maxWidth,h=this.maxHeight;c+=f;for(var i=h-c,j=f,k=0,l=b.length-1;l>=0;l--){var m=b[l],n=this._scale*m.scale,o=m.sourceRect,p=m.source,q=Math.floor(n*o.x-f),r=Math.floor(n*o.y-f),s=Math.ceil(n*o.height+2*f),t=Math.ceil(n*o.width+2*f);if(t>g)throw a.ERR_DIMENSIONS;s>i||j+t>g||(m.img=d,m.rect=new createjs.Rectangle(j,c,t,s),k=k||s,b.splice(l,1),e[m.index]=[j,c,t,s,d,Math.round(-q+n*p.regX-f),Math.round(-r+n*p.regY-f)],j+=t)}return{w:j,h:k}},b._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},b._run=function(){for(var a=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),b=(new Date).getTime()+a,c=!1;b>(new Date).getTime();)if(!this._drawNext()){c=!0;break}if(c)this._endBuild();else{var d=this;this._timerID=setTimeout(function(){d._run()},50-a)}var e=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var f=new createjs.Event("progress");f.progress=e,this.dispatchEvent(f)}},b._drawNext=function(){var a=this._frames[this._index],b=a.scale*this._scale,c=a.rect,d=a.sourceRect,e=this._data.images[a.img],f=e.getContext("2d");return a.funct&&a.funct(a.source,a.data),f.save(),f.beginPath(),f.rect(c.x,c.y,c.width,c.height),f.clip(),f.translate(Math.ceil(c.x-d.x*b),Math.ceil(c.y-d.y*b)),f.scale(b,b),a.source.draw(f),f.restore(),++this._index<this._frames.length},createjs.SpriteSheetBuilder=createjs.promote(a,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.DisplayObject_constructor(),"string"==typeof a&&(a=document.getElementById(a)),this.mouseEnabled=!1;var b=a.style;b.position="absolute",b.transformOrigin=b.WebkitTransformOrigin=b.msTransformOrigin=b.MozTransformOrigin=b.OTransformOrigin="0% 0%",this.htmlElement=a,this._oldProps=null}var b=createjs.extend(a,createjs.DisplayObject);b.isVisible=function(){return null!=this.htmlElement},b.draw=function(a,b){return!0},b.cache=function(){},b.uncache=function(){},b.updateCache=function(){},b.hitTest=function(){},b.localToGlobal=function(){},b.globalToLocal=function(){},b.localToLocal=function(){},b.clone=function(){throw"DOMElement cannot be cloned."},b.toString=function(){return"[DOMElement (name="+this.name+")]"},b._tick=function(a){var b=this.getStage();b&&b.on("drawend",this._handleDrawEnd,this,!0),this.DisplayObject__tick(a)},b._handleDrawEnd=function(a){var b=this.htmlElement;if(b){var c=b.style,d=this.getConcatenatedDisplayProps(this._props),e=d.matrix,f=d.visible?"visible":"hidden";if(f!=c.visibility&&(c.visibility=f),d.visible){var g=this._oldProps,h=g&&g.matrix,i=1e4;if(!h||!h.equals(e)){var j="matrix("+(e.a*i|0)/i+","+(e.b*i|0)/i+","+(e.c*i|0)/i+","+(e.d*i|0)/i+","+(e.tx+.5|0);c.transform=c.WebkitTransform=c.OTransform=c.msTransform=j+","+(e.ty+.5|0)+")",c.MozTransform=j+"px,"+(e.ty+.5|0)+"px)",g||(g=this._oldProps=new createjs.DisplayProps(!0,NaN)),g.matrix.copy(e)}g.alpha!=d.alpha&&(c.opacity=""+(d.alpha*i|0)/i,g.alpha=d.alpha)}}},createjs.DOMElement=createjs.promote(a,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function a(){}var b=a.prototype;b.getBounds=function(a){return a},b.applyFilter=function(a,b,c,d,e,f,g,h){f=f||a,null==g&&(g=b),null==h&&(h=c);try{var i=a.getImageData(b,c,d,e)}catch(j){return!1}return this._applyFilter(i)?(f.putImageData(i,g,h),!0):!1},b.toString=function(){return"[Filter]"},b.clone=function(){return new a},b._applyFilter=function(a){return!0},createjs.Filter=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c){(isNaN(a)||0>a)&&(a=0),(isNaN(b)||0>b)&&(b=0),(isNaN(c)||1>c)&&(c=1),this.blurX=0|a,this.blurY=0|b,this.quality=0|c}var b=createjs.extend(a,createjs.Filter);a.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],a.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],b.getBounds=function(a){var b=0|this.blurX,c=0|this.blurY;if(0>=b&&0>=c)return a;var d=Math.pow(this.quality,.2);return(a||new createjs.Rectangle).pad(b*d+1,c*d+1,b*d+1,c*d+1)},b.clone=function(){return new a(this.blurX,this.blurY,this.quality)},b.toString=function(){return"[BlurFilter]"},b._applyFilter=function(b){var c=this.blurX>>1;if(isNaN(c)||0>c)return!1;var d=this.blurY>>1;if(isNaN(d)||0>d)return!1;if(0==c&&0==d)return!1;var e=this.quality;(isNaN(e)||1>e)&&(e=1),e|=0,e>3&&(e=3),1>e&&(e=1);var f=b.data,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=c+c+1|0,w=d+d+1|0,x=0|b.width,y=0|b.height,z=x-1|0,A=y-1|0,B=c+1|0,C=d+1|0,D={r:0,b:0,g:0,a:0},E=D;for(i=1;v>i;i++)E=E.n={r:0,b:0,g:0,a:0};E.n=D;var F={r:0,b:0,g:0,a:0},G=F;for(i=1;w>i;i++)G=G.n={r:0,b:0,g:0,a:0};G.n=F;for(var H=null,I=0|a.MUL_TABLE[c],J=0|a.SHG_TABLE[c],K=0|a.MUL_TABLE[d],L=0|a.SHG_TABLE[d];e-->0;){m=l=0;var M=I,N=J;for(h=y;--h>-1;){for(n=B*(r=f[0|l]),o=B*(s=f[l+1|0]),p=B*(t=f[l+2|0]),q=B*(u=f[l+3|0]),E=D,i=B;--i>-1;)E.r=r,E.g=s,E.b=t,E.a=u,E=E.n;for(i=1;B>i;i++)j=l+((i>z?z:i)<<2)|0,n+=E.r=f[j],o+=E.g=f[j+1],p+=E.b=f[j+2],q+=E.a=f[j+3],E=E.n;for(H=D,g=0;x>g;g++)f[l++]=n*M>>>N,f[l++]=o*M>>>N,f[l++]=p*M>>>N,f[l++]=q*M>>>N,j=m+((j=g+c+1)<z?j:z)<<2,n-=H.r-(H.r=f[j]),o-=H.g-(H.g=f[j+1]),p-=H.b-(H.b=f[j+2]),q-=H.a-(H.a=f[j+3]),H=H.n;m+=x}for(M=K,N=L,g=0;x>g;g++){for(l=g<<2|0,n=C*(r=f[l])|0,o=C*(s=f[l+1|0])|0,p=C*(t=f[l+2|0])|0,q=C*(u=f[l+3|0])|0,G=F,i=0;C>i;i++)G.r=r,G.g=s,G.b=t,G.a=u,G=G.n;for(k=x,i=1;d>=i;i++)l=k+g<<2,n+=G.r=f[l],o+=G.g=f[l+1],p+=G.b=f[l+2],q+=G.a=f[l+3],G=G.n,A>i&&(k+=x);if(l=g,H=F,e>0)for(h=0;y>h;h++)j=l<<2,f[j+3]=u=q*M>>>N,u>0?(f[j]=n*M>>>N,f[j+1]=o*M>>>N,f[j+2]=p*M>>>N):f[j]=f[j+1]=f[j+2]=0,j=g+((j=h+C)<A?j:A)*x<<2,n-=H.r-(H.r=f[j]),o-=H.g-(H.g=f[j+1]),p-=H.b-(H.b=f[j+2]),q-=H.a-(H.a=f[j+3]),H=H.n,l+=x;else for(h=0;y>h;h++)j=l<<2,f[j+3]=u=q*M>>>N,u>0?(u=255/u,f[j]=(n*M>>>N)*u,f[j+1]=(o*M>>>N)*u,f[j+2]=(p*M>>>N)*u):f[j]=f[j+1]=f[j+2]=0,j=g+((j=h+C)<A?j:A)*x<<2,n-=H.r-(H.r=f[j]),o-=H.g-(H.g=f[j+1]),p-=H.b-(H.b=f[j+2]),q-=H.a-(H.a=f[j+3]),H=H.n,l+=x}}return!0},createjs.BlurFilter=createjs.promote(a,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.alphaMap=a,this._alphaMap=null,this._mapData=null}var b=createjs.extend(a,createjs.Filter);b.clone=function(){var b=new a(this.alphaMap);return b._alphaMap=this._alphaMap,b._mapData=this._mapData,b},b.toString=function(){return"[AlphaMapFilter]"},b._applyFilter=function(a){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var b=a.data,c=this._mapData,d=0,e=b.length;e>d;d+=4)b[d+3]=c[d]||0;return!0},b._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var a,b=this._alphaMap=this.alphaMap,c=b;b instanceof HTMLCanvasElement?a=c.getContext("2d"):(c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),c.width=b.width,c.height=b.height,a=c.getContext("2d"),a.drawImage(b,0,0));try{var d=a.getImageData(0,0,b.width,b.height)}catch(e){return!1}return this._mapData=d.data,!0},createjs.AlphaMapFilter=createjs.promote(a,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.mask=a}var b=createjs.extend(a,createjs.Filter);b.applyFilter=function(a,b,c,d,e,f,g,h){return this.mask?(f=f||a,null==g&&(g=b),null==h&&(h=c),f.save(),a!=f?!1:(f.globalCompositeOperation="destination-in",f.drawImage(this.mask,g,h),f.restore(),!0)):!0},b.clone=function(){return new a(this.mask)},b.toString=function(){return"[AlphaMaskFilter]"},createjs.AlphaMaskFilter=createjs.promote(a,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c,d,e,f,g,h){this.redMultiplier=null!=a?a:1,this.greenMultiplier=null!=b?b:1,this.blueMultiplier=null!=c?c:1,this.alphaMultiplier=null!=d?d:1,this.redOffset=e||0,this.greenOffset=f||0,this.blueOffset=g||0,this.alphaOffset=h||0}var b=createjs.extend(a,createjs.Filter);b.toString=function(){return"[ColorFilter]"},b.clone=function(){return new a(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},b._applyFilter=function(a){for(var b=a.data,c=b.length,d=0;c>d;d+=4)b[d]=b[d]*this.redMultiplier+this.redOffset,b[d+1]=b[d+1]*this.greenMultiplier+this.greenOffset,b[d+2]=b[d+2]*this.blueMultiplier+this.blueOffset,b[d+3]=b[d+3]*this.alphaMultiplier+this.alphaOffset;return!0},createjs.ColorFilter=createjs.promote(a,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c,d){this.setColor(a,b,c,d)}var b=a.prototype;a.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],a.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],a.LENGTH=a.IDENTITY_MATRIX.length,b.setColor=function(a,b,c,d){return this.reset().adjustColor(a,b,c,d)},b.reset=function(){return this.copy(a.IDENTITY_MATRIX)},b.adjustColor=function(a,b,c,d){return this.adjustHue(d),this.adjustContrast(b),this.adjustBrightness(a),this.adjustSaturation(c)},b.adjustBrightness=function(a){return 0==a||isNaN(a)?this:(a=this._cleanValue(a,255),this._multiplyMatrix([1,0,0,0,a,0,1,0,0,a,0,0,1,0,a,0,0,0,1,0,0,0,0,0,1]),this)},b.adjustContrast=function(b){if(0==b||isNaN(b))return this;b=this._cleanValue(b,100);var c;return 0>b?c=127+b/100*127:(c=b%1,c=0==c?a.DELTA_INDEX[b]:a.DELTA_INDEX[b<<0]*(1-c)+a.DELTA_INDEX[(b<<0)+1]*c,c=127*c+127),this._multiplyMatrix([c/127,0,0,0,.5*(127-c),0,c/127,0,0,.5*(127-c),0,0,c/127,0,.5*(127-c),0,0,0,1,0,0,0,0,0,1]),this},b.adjustSaturation=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,100);var b=1+(a>0?3*a/100:a/100),c=.3086,d=.6094,e=.082;return this._multiplyMatrix([c*(1-b)+b,d*(1-b),e*(1-b),0,0,c*(1-b),d*(1-b)+b,e*(1-b),0,0,c*(1-b),d*(1-b),e*(1-b)+b,0,0,0,0,0,1,0,0,0,0,0,1]),this},b.adjustHue=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,180)/180*Math.PI;var b=Math.cos(a),c=Math.sin(a),d=.213,e=.715,f=.072;return this._multiplyMatrix([d+b*(1-d)+c*-d,e+b*-e+c*-e,f+b*-f+c*(1-f),0,0,d+b*-d+.143*c,e+b*(1-e)+.14*c,f+b*-f+c*-.283,0,0,d+b*-d+c*-(1-d),e+b*-e+c*e,f+b*(1-f)+c*f,0,0,0,0,0,1,0,0,0,0,0,1]),this},b.concat=function(b){return b=this._fixMatrix(b),b.length!=a.LENGTH?this:(this._multiplyMatrix(b),this)},b.clone=function(){return(new a).copy(this)},b.toArray=function(){for(var b=[],c=0,d=a.LENGTH;d>c;c++)b[c]=this[c];return b},b.copy=function(b){for(var c=a.LENGTH,d=0;c>d;d++)this[d]=b[d];return this},b.toString=function(){return"[ColorMatrix]"},b._multiplyMatrix=function(a){var b,c,d,e=[];for(b=0;5>b;b++){for(c=0;5>c;c++)e[c]=this[c+5*b];for(c=0;5>c;c++){var f=0;for(d=0;5>d;d++)f+=a[c+5*d]*e[d];this[c+5*b]=f}}},b._cleanValue=function(a,b){return Math.min(b,Math.max(-b,a))},b._fixMatrix=function(b){return b instanceof a&&(b=b.toArray()),b.length<a.LENGTH?b=b.slice(0,b.length).concat(a.IDENTITY_MATRIX.slice(b.length,a.LENGTH)):b.length>a.LENGTH&&(b=b.slice(0,a.LENGTH)),b},createjs.ColorMatrix=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.matrix=a}var b=createjs.extend(a,createjs.Filter);b.toString=function(){return"[ColorMatrixFilter]"},b.clone=function(){return new a(this.matrix)},b._applyFilter=function(a){for(var b,c,d,e,f=a.data,g=f.length,h=this.matrix,i=h[0],j=h[1],k=h[2],l=h[3],m=h[4],n=h[5],o=h[6],p=h[7],q=h[8],r=h[9],s=h[10],t=h[11],u=h[12],v=h[13],w=h[14],x=h[15],y=h[16],z=h[17],A=h[18],B=h[19],C=0;g>C;C+=4)b=f[C],c=f[C+1],d=f[C+2],e=f[C+3],f[C]=b*i+c*j+d*k+e*l+m,f[C+1]=b*n+c*o+d*p+e*q+r,f[C+2]=b*s+c*t+d*u+e*v+w,f[C+3]=b*x+c*y+d*z+e*A+B;return!0},createjs.ColorMatrixFilter=createjs.promote(a,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function a(){throw"Touch cannot be instantiated"}a.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)},a.enable=function(b,c,d){return b&&b.canvas&&a.isSupported()?b.__touch?!0:(b.__touch={pointers:{},multitouch:!c,preventDefault:!d,count:0},"ontouchstart"in window?a._IOS_enable(b):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&a._IE_enable(b),!0):!1},a.disable=function(b){b&&("ontouchstart"in window?a._IOS_disable(b):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&a._IE_disable(b),delete b.__touch)},a._IOS_enable=function(b){var c=b.canvas,d=b.__touch.f=function(c){a._IOS_handleEvent(b,c)};c.addEventListener("touchstart",d,!1),c.addEventListener("touchmove",d,!1),c.addEventListener("touchend",d,!1),c.addEventListener("touchcancel",d,!1)},a._IOS_disable=function(a){var b=a.canvas;if(b){var c=a.__touch.f;b.removeEventListener("touchstart",c,!1),b.removeEventListener("touchmove",c,!1),b.removeEventListener("touchend",c,!1),b.removeEventListener("touchcancel",c,!1)}},a._IOS_handleEvent=function(a,b){if(a){a.__touch.preventDefault&&b.preventDefault&&b.preventDefault();for(var c=b.changedTouches,d=b.type,e=0,f=c.length;f>e;e++){var g=c[e],h=g.identifier;g.target==a.canvas&&("touchstart"==d?this._handleStart(a,h,b,g.pageX,g.pageY):"touchmove"==d?this._handleMove(a,h,b,g.pageX,g.pageY):("touchend"==d||"touchcancel"==d)&&this._handleEnd(a,h,b))}}},a._IE_enable=function(b){var c=b.canvas,d=b.__touch.f=function(c){a._IE_handleEvent(b,c)};void 0===window.navigator.pointerEnabled?(c.addEventListener("MSPointerDown",d,!1),window.addEventListener("MSPointerMove",d,!1),window.addEventListener("MSPointerUp",d,!1),window.addEventListener("MSPointerCancel",d,!1),b.__touch.preventDefault&&(c.style.msTouchAction="none")):(c.addEventListener("pointerdown",d,!1),window.addEventListener("pointermove",d,!1),window.addEventListener("pointerup",d,!1),window.addEventListener("pointercancel",d,!1),b.__touch.preventDefault&&(c.style.touchAction="none")),b.__touch.activeIDs={}},a._IE_disable=function(a){var b=a.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",b,!1),window.removeEventListener("MSPointerUp",b,!1),window.removeEventListener("MSPointerCancel",b,!1),a.canvas&&a.canvas.removeEventListener("MSPointerDown",b,!1)):(window.removeEventListener("pointermove",b,!1),window.removeEventListener("pointerup",b,!1),window.removeEventListener("pointercancel",b,!1),a.canvas&&a.canvas.removeEventListener("pointerdown",b,!1))},a._IE_handleEvent=function(a,b){if(a){a.__touch.preventDefault&&b.preventDefault&&b.preventDefault();var c=b.type,d=b.pointerId,e=a.__touch.activeIDs;if("MSPointerDown"==c||"pointerdown"==c){if(b.srcElement!=a.canvas)return;e[d]=!0,this._handleStart(a,d,b,b.pageX,b.pageY)}else e[d]&&("MSPointerMove"==c||"pointermove"==c?this._handleMove(a,d,b,b.pageX,b.pageY):("MSPointerUp"==c||"MSPointerCancel"==c||"pointerup"==c||"pointercancel"==c)&&(delete e[d],this._handleEnd(a,d,b)))}},a._handleStart=function(a,b,c,d,e){var f=a.__touch;if(f.multitouch||!f.count){var g=f.pointers;g[b]||(g[b]=!0,f.count++,a._handlePointerDown(b,c,d,e))}},a._handleMove=function(a,b,c,d,e){a.__touch.pointers[b]&&a._handlePointerMove(b,c,d,e)},a._handleEnd=function(a,b,c){var d=a.__touch,e=d.pointers;e[b]&&(d.count--,a._handlePointerUp(b,c,!0),delete e[b])},createjs.Touch=a}(),this.createjs=this.createjs||{},function(){"use strict";var a=createjs.EaselJS=createjs.EaselJS||{};a.version="0.8.2",a.buildDate="Thu, 26 Nov 2015 20:44:34 GMT"}(),this.createjs=this.createjs||{},function(){"use strict";var a=createjs.PreloadJS=createjs.PreloadJS||{};a.version="0.6.2",a.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(a,b){var c=Array.prototype.slice.call(arguments,2);return function(){return a.apply(b,Array.prototype.slice.call(arguments,0).concat(c))}}}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c){this.Event_constructor("error"),this.title=a,this.message=b,this.data=c}var b=createjs.extend(a,createjs.Event);b.clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(a,"Event")}(),this.createjs=this.createjs||{},function(a){"use strict";function b(a,b){this.Event_constructor("progress"),this.loaded=a,this.total=null==b?1:b,this.progress=0==b?0:this.loaded/this.total}var c=createjs.extend(b,createjs.Event);c.clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(b,"Event")}(window),function(){function a(b,d){function f(a){if(f[a]!==q)return f[a];var b;if("bug-string-char-index"==a)b="a"!="a"[0];else if("json"==a)b=f("json-stringify")&&f("json-parse");else{var c,e='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==a){var i=d.stringify,k="function"==typeof i&&t;if(k){(c=function(){return 1}).toJSON=c;try{k="0"===i(0)&&"0"===i(new g)&&'""'==i(new h)&&i(s)===q&&i(q)===q&&i()===q&&"1"===i(c)&&"[1]"==i([c])&&"[null]"==i([q])&&"null"==i(null)&&"[null,null,null]"==i([q,s,null])&&i({a:[c,!0,!1,null,"\x00\b\n\f\r	"]})==e&&"1"===i(null,c)&&"[\n 1,\n 2\n]"==i([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==i(new j(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==i(new j(864e13))&&'"-000001-01-01T00:00:00.000Z"'==i(new j(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==i(new j(-1))}catch(l){k=!1}}b=k}if("json-parse"==a){var m=d.parse;if("function"==typeof m)try{if(0===m("0")&&!m(!1)){c=m(e);var n=5==c.a.length&&1===c.a[0];if(n){try{n=!m('"	"')}catch(l){}if(n)try{n=1!==m("01")}catch(l){}if(n)try{n=1!==m("1.")}catch(l){}}}}catch(l){n=!1}b=n}}return f[a]=!!b}b||(b=e.Object()),d||(d=e.Object());var g=b.Number||e.Number,h=b.String||e.String,i=b.Object||e.Object,j=b.Date||e.Date,k=b.SyntaxError||e.SyntaxError,l=b.TypeError||e.TypeError,m=b.Math||e.Math,n=b.JSON||e.JSON;"object"==typeof n&&n&&(d.stringify=n.stringify,d.parse=n.parse);var o,p,q,r=i.prototype,s=r.toString,t=new j(-0xc782b5b800cec);try{t=-109252==t.getUTCFullYear()&&0===t.getUTCMonth()&&1===t.getUTCDate()&&10==t.getUTCHours()&&37==t.getUTCMinutes()&&6==t.getUTCSeconds()&&708==t.getUTCMilliseconds()}catch(u){}if(!f("json")){var v="[object Function]",w="[object Date]",x="[object Number]",y="[object String]",z="[object Array]",A="[object Boolean]",B=f("bug-string-char-index");if(!t)var C=m.floor,D=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(a,b){return D[b]+365*(a-1970)+C((a-1969+(b=+(b>1)))/4)-C((a-1901+b)/100)+C((a-1601+b)/400)};if((o=r.hasOwnProperty)||(o=function(a){var b,c={};return(c.__proto__=null,c.__proto__={toString:1},c).toString!=s?o=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);return this.__proto__=b,c}:(b=c.constructor,o=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])}),c=null,o.call(this,a)}),p=function(a,b){var d,e,f,g=0;(d=function(){this.valueOf=0}).prototype.valueOf=0,e=new d;for(f in e)o.call(e,f)&&g++;return d=e=null,g?p=2==g?function(a,b){var c,d={},e=s.call(a)==v;for(c in a)e&&"prototype"==c||o.call(d,c)||!(d[c]=1)||!o.call(a,c)||b(c)}:function(a,b){var c,d,e=s.call(a)==v;for(c in a)e&&"prototype"==c||!o.call(a,c)||(d="constructor"===c)||b(c);(d||o.call(a,c="constructor"))&&b(c)}:(e=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(a,b){var d,f,g=s.call(a)==v,h=!g&&"function"!=typeof a.constructor&&c[typeof a.hasOwnProperty]&&a.hasOwnProperty||o;for(d in a)g&&"prototype"==d||!h.call(a,d)||b(d);for(f=e.length;d=e[--f];h.call(a,d)&&b(d));}),p(a,b)},!f("json-stringify")){var F={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},G="000000",H=function(a,b){return(G+(b||0)).slice(-a)},I="\\u00",J=function(a){for(var b='"',c=0,d=a.length,e=!B||d>10,f=e&&(B?a.split(""):a);d>c;c++){var g=a.charCodeAt(c);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=F[g];break;default:if(32>g){b+=I+H(2,g.toString(16));break}b+=e?f[c]:a.charAt(c)}}return b+'"'},K=function(a,b,c,d,e,f,g){var h,i,j,k,m,n,r,t,u,v,B,D,F,G,I,L;try{h=b[a]}catch(M){}if("object"==typeof h&&h)if(i=s.call(h),i!=w||o.call(h,"toJSON"))"function"==typeof h.toJSON&&(i!=x&&i!=y&&i!=z||o.call(h,"toJSON"))&&(h=h.toJSON(a));else if(h>-1/0&&1/0>h){if(E){for(m=C(h/864e5),j=C(m/365.2425)+1970-1;E(j+1,0)<=m;j++);for(k=C((m-E(j,0))/30.42);E(j,k+1)<=m;k++);m=1+m-E(j,k),n=(h%864e5+864e5)%864e5,r=C(n/36e5)%24,t=C(n/6e4)%60,u=C(n/1e3)%60,v=n%1e3}else j=h.getUTCFullYear(),k=h.getUTCMonth(),m=h.getUTCDate(),r=h.getUTCHours(),t=h.getUTCMinutes(),u=h.getUTCSeconds(),v=h.getUTCMilliseconds();h=(0>=j||j>=1e4?(0>j?"-":"+")+H(6,0>j?-j:j):H(4,j))+"-"+H(2,k+1)+"-"+H(2,m)+"T"+H(2,r)+":"+H(2,t)+":"+H(2,u)+"."+H(3,v)+"Z"}else h=null;if(c&&(h=c.call(b,a,h)),null===h)return"null";if(i=s.call(h),i==A)return""+h;if(i==x)return h>-1/0&&1/0>h?""+h:"null";if(i==y)return J(""+h);if("object"==typeof h){for(G=g.length;G--;)if(g[G]===h)throw l();if(g.push(h),B=[],I=f,f+=e,i==z){for(F=0,G=h.length;G>F;F++)D=K(F,h,c,d,e,f,g),B.push(D===q?"null":D);L=B.length?e?"[\n"+f+B.join(",\n"+f)+"\n"+I+"]":"["+B.join(",")+"]":"[]"}else p(d||h,function(a){var b=K(a,h,c,d,e,f,g);b!==q&&B.push(J(a)+":"+(e?" ":"")+b)}),L=B.length?e?"{\n"+f+B.join(",\n"+f)+"\n"+I+"}":"{"+B.join(",")+"}":"{}";return g.pop(),L}};d.stringify=function(a,b,d){var e,f,g,h;if(c[typeof b]&&b)if((h=s.call(b))==v)f=b;else if(h==z){g={};for(var i,j=0,k=b.length;k>j;i=b[j++],h=s.call(i),(h==y||h==x)&&(g[i]=1));}if(d)if((h=s.call(d))==x){if((d-=d%1)>0)for(e="",d>10&&(d=10);e.length<d;e+=" ");}else h==y&&(e=d.length<=10?d:d.slice(0,10));return K("",(i={},i[""]=a,i),f,g,e,"",[])}}if(!f("json-parse")){var L,M,N=h.fromCharCode,O={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},P=function(){throw L=M=null,k()},Q=function(){for(var a,b,c,d,e,f=M,g=f.length;g>L;)switch(e=f.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return a=B?f.charAt(L):f[L],L++,a;case 34:for(a="@",L++;g>L;)if(e=f.charCodeAt(L),32>e)P();else if(92==e)switch(e=f.charCodeAt(++L)){case 92:case 34:
case 47:case 98:case 116:case 110:case 102:case 114:a+=O[e],L++;break;case 117:for(b=++L,c=L+4;c>L;L++)e=f.charCodeAt(L),e>=48&&57>=e||e>=97&&102>=e||e>=65&&70>=e||P();a+=N("0x"+f.slice(b,L));break;default:P()}else{if(34==e)break;for(e=f.charCodeAt(L),b=L;e>=32&&92!=e&&34!=e;)e=f.charCodeAt(++L);a+=f.slice(b,L)}if(34==f.charCodeAt(L))return L++,a;P();default:if(b=L,45==e&&(d=!0,e=f.charCodeAt(++L)),e>=48&&57>=e){for(48==e&&(e=f.charCodeAt(L+1),e>=48&&57>=e)&&P(),d=!1;g>L&&(e=f.charCodeAt(L),e>=48&&57>=e);L++);if(46==f.charCodeAt(L)){for(c=++L;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==L&&P(),L=c}if(e=f.charCodeAt(L),101==e||69==e){for(e=f.charCodeAt(++L),(43==e||45==e)&&L++,c=L;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==L&&P(),L=c}return+f.slice(b,L)}if(d&&P(),"true"==f.slice(L,L+4))return L+=4,!0;if("false"==f.slice(L,L+5))return L+=5,!1;if("null"==f.slice(L,L+4))return L+=4,null;P()}return"$"},R=function(a){var b,c;if("$"==a&&P(),"string"==typeof a){if("@"==(B?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];a=Q(),"]"!=a;c||(c=!0))c&&(","==a?(a=Q(),"]"==a&&P()):P()),","==a&&P(),b.push(R(a));return b}if("{"==a){for(b={};a=Q(),"}"!=a;c||(c=!0))c&&(","==a?(a=Q(),"}"==a&&P()):P()),(","==a||"string"!=typeof a||"@"!=(B?a.charAt(0):a[0])||":"!=Q())&&P(),b[a.slice(1)]=R(Q());return b}P()}return a},S=function(a,b,c){var d=T(a,b,c);d===q?delete a[b]:a[b]=d},T=function(a,b,c){var d,e=a[b];if("object"==typeof e&&e)if(s.call(e)==z)for(d=e.length;d--;)S(e,d,c);else p(e,function(a){S(e,a,c)});return c.call(a,b,e)};d.parse=function(a,b){var c,d;return L=0,M=""+a,c=R(Q()),"$"!=Q()&&P(),L=M=null,b&&s.call(b)==v?T((d={},d[""]=c,d),"",b):c}}}return d.runInContext=a,d}var b="function"==typeof define&&define.amd,c={"function":!0,object:!0},d=c[typeof exports]&&exports&&!exports.nodeType&&exports,e=c[typeof window]&&window||this,f=d&&c[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!f||f.global!==f&&f.window!==f&&f.self!==f||(e=f),d&&!b)a(e,d);else{var g=e.JSON,h=e.JSON3,i=!1,j=a(e,e.JSON3={noConflict:function(){return i||(i=!0,e.JSON=g,e.JSON3=h,g=h=null),j}});e.JSON={parse:j.parse,stringify:j.stringify}}b&&define(function(){return j})}.call(this),function(){var a={};a.appendToHead=function(b){a.getHead().appendChild(b)},a.getHead=function(){return document.head||document.getElementsByTagName("head")[0]},a.getBody=function(){return document.body||document.getElementsByTagName("body")[0]},createjs.DomUtils=a}(),function(){var a={};a.parseXML=function(a,b){var c=null;try{if(window.DOMParser){var d=new DOMParser;c=d.parseFromString(a,b)}}catch(e){}if(!c)try{c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(a)}catch(e){c=null}return c},a.parseJSON=function(a){if(null==a)return null;try{return JSON.parse(a)}catch(b){throw b}},createjs.DataUtils=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=c.LOAD_TIMEOUT_DEFAULT}var b=a.prototype={},c=a;c.LOAD_TIMEOUT_DEFAULT=8e3,c.create=function(b){if("string"==typeof b){var d=new a;return d.src=b,d}if(b instanceof c)return b;if(b instanceof Object&&b.src)return null==b.loadTimeout&&(b.loadTimeout=c.LOAD_TIMEOUT_DEFAULT),b;throw new Error("Type not recognized.")},b.set=function(a){for(var b in a)this[b]=a[b];return this},createjs.LoadItem=c}(),function(){var a={};a.ABSOLUTE_PATT=/^(?:\w+:)?\/{2}/i,a.RELATIVE_PATT=/^[.\/]*?\//i,a.EXTENSION_PATT=/\/?[^\/]+\.(\w{1,5})$/i,a.parseURI=function(b){var c={absolute:!1,relative:!1};if(null==b)return c;var d=b.indexOf("?");d>-1&&(b=b.substr(0,d));var e;return a.ABSOLUTE_PATT.test(b)?c.absolute=!0:a.RELATIVE_PATT.test(b)&&(c.relative=!0),(e=b.match(a.EXTENSION_PATT))&&(c.extension=e[1].toLowerCase()),c},a.formatQueryString=function(a,b){if(null==a)throw new Error("You must specify data.");var c=[];for(var d in a)c.push(d+"="+escape(a[d]));return b&&(c=c.concat(b)),c.join("&")},a.buildPath=function(a,b){if(null==b)return a;var c=[],d=a.indexOf("?");if(-1!=d){var e=a.slice(d+1);c=c.concat(e.split("&"))}return-1!=d?a.slice(0,d)+"?"+this.formatQueryString(b,c):a+"?"+this.formatQueryString(b,c)},a.isCrossDomain=function(a){var b=document.createElement("a");b.href=a.src;var c=document.createElement("a");c.href=location.href;var d=""!=b.hostname&&(b.port!=c.port||b.protocol!=c.protocol||b.hostname!=c.hostname);return d},a.isLocal=function(a){var b=document.createElement("a");return b.href=a.src,""==b.hostname&&"file:"==b.protocol},a.isBinary=function(a){switch(a){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},a.isImageTag=function(a){return a instanceof HTMLImageElement},a.isAudioTag=function(a){return window.HTMLAudioElement?a instanceof HTMLAudioElement:!1},a.isVideoTag=function(a){return window.HTMLVideoElement?a instanceof HTMLVideoElement:!1},a.isText=function(a){switch(a){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return!0;default:return!1}},a.getTypeByExtension=function(a){if(null==a)return createjs.AbstractLoader.TEXT;switch(a.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}},createjs.RequestUtils=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=c,this.resultFormatter=null,a?this._item=createjs.LoadItem.create(a):this._item=null,this._preferXHR=b,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var b=createjs.extend(a,createjs.EventDispatcher),c=a;c.POST="POST",c.GET="GET",c.BINARY="binary",c.CSS="css",c.IMAGE="image",c.JAVASCRIPT="javascript",c.JSON="json",c.JSONP="jsonp",c.MANIFEST="manifest",c.SOUND="sound",c.VIDEO="video",c.SPRITESHEET="spritesheet",c.SVG="svg",c.TEXT="text",c.XML="xml",b.getItem=function(){return this._item},b.getResult=function(a){return a?this._rawResult:this._result},b.getTag=function(){return this._tag},b.setTag=function(a){this._tag=a},b.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var a=new createjs.Event("initialize");a.loader=this._request,this.dispatchEvent(a),this._request.load()},b.cancel=function(){this.canceled=!0,this.destroy()},b.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},b.getLoadedItems=function(){return this._loadedItems},b._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},b._createTag=function(a){return null},b._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},b._sendProgress=function(a){if(!this._isCanceled()){var b=null;"number"==typeof a?(this.progress=a,b=new createjs.ProgressEvent(this.progress)):(b=a,this.progress=a.loaded/a.total,b.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(b)}},b._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var a=new createjs.Event("complete");a.rawResult=this._rawResult,null!=this._result&&(a.result=this._result),this.dispatchEvent(a)}},b._sendError=function(a){!this._isCanceled()&&this.hasEventListener("error")&&(null==a&&(a=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(a))},b._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1},b.resultFormatter=null,b.handleEvent=function(a){switch(a.type){case"complete":this._rawResult=a.target._response;var b=this.resultFormatter&&this.resultFormatter(this);b instanceof Function?b.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=b||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(a);break;case"error":this._sendError(a);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+a.type.toUpperCase()+"_ERROR"))}},b._resultFormatSuccess=function(a){this._result=a,this._sendComplete()},b._resultFormatFailed=function(a){this._sendError(a)},b.buildPath=function(a,b){return createjs.RequestUtils.buildPath(a,b)},b.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(a,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c){this.AbstractLoader_constructor(a,b,c),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var b=createjs.extend(a,createjs.AbstractLoader);b.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},b._createTag=function(){},b._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},b._updateXHR=function(a){a.loader.setResponseType&&a.loader.setResponseType("blob")},b._formatResult=function(a){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var b=window.URL||window.webkitURL,c=a.getResult(!0);a.getTag().src=b.createObjectURL(c)}return a.getTag()},createjs.AbstractMediaLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var a=function(a){this._item=a},b=createjs.extend(a,createjs.EventDispatcher);b.load=function(){},b.destroy=function(){},b.cancel=function(){},createjs.AbstractRequest=createjs.promote(a,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c){this.AbstractRequest_constructor(a),this._tag=b,this._tagSrcAttribute=c,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var b=createjs.extend(a,createjs.AbstractRequest);b.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var a=new createjs.Event("initialize");a.loader=this._tag,this.dispatchEvent(a),this._hideTag(),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},b.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},b._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this._tag;("loaded"==a.readyState||"complete"==a.readyState)&&this._handleTagComplete()},b._handleError=function(){this._clean(),this.dispatchEvent("error")},b._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},b._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},b._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},b._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},b._showTag=function(){this._tag.style.visibility=this._startTagVisibility},b._handleStalled=function(){},createjs.TagRequest=createjs.promote(a,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c){this.AbstractRequest_constructor(a),this._tag=b,this._tagSrcAttribute=c,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var b=createjs.extend(a,createjs.TagRequest);b.load=function(){var a=createjs.proxy(this._handleStalled,this);this._stalledCallback=a;var b=createjs.proxy(this._handleProgress,this);this._handleProgress=b,this._tag.addEventListener("stalled",a),this._tag.addEventListener("progress",b),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},b._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this._tag;("loaded"==a.readyState||"complete"==a.readyState)&&this._handleTagComplete()},b._handleStalled=function(){},b._handleProgress=function(a){if(a&&!(a.loaded>0&&0==a.total)){var b=new createjs.ProgressEvent(a.loaded,a.total);this.dispatchEvent(b)}},b._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(a,"TagRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.AbstractRequest_constructor(a),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),!this._createXHR(a)}var b=createjs.extend(a,createjs.AbstractRequest);a.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],b.getResult=function(a){return a&&this._rawResponse?this._rawResponse:this._response},b.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},b.load=function(){if(null==this._request)return void this._handleError();null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(a){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,a))}},b.setResponseType=function(a){"blob"===a&&(a=window.URL?"blob":"arraybuffer",this._responseType=a),this._request.responseType=a},b.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},b.getResponseHeader=function(a){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(a):null},b._handleProgress=function(a){if(a&&!(a.loaded>0&&0==a.total)){var b=new createjs.ProgressEvent(a.loaded,a.total);this.dispatchEvent(b)}},b._handleLoadStart=function(a){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},b._handleAbort=function(a){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,a))},b._handleError=function(a){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(a.message))},b._handleReadyStateChange=function(a){4==this._request.readyState&&this._handleLoad()},b._handleLoad=function(a){if(!this.loaded){this.loaded=!0;var b=this._checkError();if(b)return void this._handleError(b);if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(c){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===c.name&&window.BlobBuilder){var d=new BlobBuilder;d.append(this._response),this._response=d.getBlob()}}this._clean(),this.dispatchEvent(new createjs.Event("complete"))}},b._handleTimeout=function(a){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,a))},b._checkError=function(){var a=parseInt(this._request.status);switch(a){case 404:case 0:return new Error(a)}return null},b._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(a){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(a){}return null},b._createXHR=function(a){var b=createjs.RequestUtils.isCrossDomain(a),c={},d=null;if(window.XMLHttpRequest)d=new XMLHttpRequest,b&&void 0===d.withCredentials&&window.XDomainRequest&&(d=new XDomainRequest);else{for(var e=0,f=s.ACTIVEX_VERSIONS.length;f>e;e++){var g=s.ACTIVEX_VERSIONS[e];try{d=new ActiveXObject(g);break}catch(h){}}if(null==d)return!1}null==a.mimeType&&createjs.RequestUtils.isText(a.type)&&(a.mimeType="text/plain; charset=utf-8"),a.mimeType&&d.overrideMimeType&&d.overrideMimeType(a.mimeType),this._xhrLevel="string"==typeof d.responseType?2:1;var i=null;if(i=a.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(a.src,a.values):a.src,d.open(a.method||createjs.AbstractLoader.GET,i,!0),b&&d instanceof XMLHttpRequest&&1==this._xhrLevel&&(c.Origin=location.origin),a.values&&a.method==createjs.AbstractLoader.POST&&(c["Content-Type"]="application/x-www-form-urlencoded"),b||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest"),a.headers)for(var j in a.headers)c[j]=a.headers[j];for(j in c)d.setRequestHeader(j,c[j]);return d instanceof XMLHttpRequest&&void 0!==a.withCredentials&&(d.withCredentials=a.withCredentials),this._request=d,!0},b._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},b.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(a,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c){this.AbstractLoader_constructor(),this._plugins=[],this._typeCallbacks={},this._extensionCallbacks={},this.next=null,this.maintainScriptOrder=!0,this.stopOnError=!1,this._maxConnections=1,this._availableLoaders=[createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,createjs.VideoLoader,createjs.TextLoader],this._defaultLoaderLength=this._availableLoaders.length,this.init(a,b,c)}var b=createjs.extend(a,createjs.AbstractLoader),c=a;b.init=function(a,b,c){this.useXHR=!0,this.preferXHR=!0,this._preferXHR=!0,this.setPreferXHR(a),this._paused=!1,this._basePath=b,this._crossOrigin=c,this._loadStartWasDispatched=!1,this._currentlyLoadingScript=null,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._numItems=0,this._numItemsLoaded=0,this._scriptOrder=[],this._loadedScripts=[],this._lastProgress=NaN},c.loadTimeout=8e3,c.LOAD_TIMEOUT=0,c.BINARY=createjs.AbstractLoader.BINARY,c.CSS=createjs.AbstractLoader.CSS,c.IMAGE=createjs.AbstractLoader.IMAGE,c.JAVASCRIPT=createjs.AbstractLoader.JAVASCRIPT,c.JSON=createjs.AbstractLoader.JSON,c.JSONP=createjs.AbstractLoader.JSONP,c.MANIFEST=createjs.AbstractLoader.MANIFEST,c.SOUND=createjs.AbstractLoader.SOUND,c.VIDEO=createjs.AbstractLoader.VIDEO,c.SVG=createjs.AbstractLoader.SVG,c.TEXT=createjs.AbstractLoader.TEXT,c.XML=createjs.AbstractLoader.XML,c.POST=createjs.AbstractLoader.POST,c.GET=createjs.AbstractLoader.GET,b.registerLoader=function(a){if(!a||!a.canLoadItem)throw new Error("loader is of an incorrect type.");if(-1!=this._availableLoaders.indexOf(a))throw new Error("loader already exists.");this._availableLoaders.unshift(a)},b.unregisterLoader=function(a){var b=this._availableLoaders.indexOf(a);-1!=b&&b<this._defaultLoaderLength-1&&this._availableLoaders.splice(b,1)},b.setUseXHR=function(a){return this.setPreferXHR(a)},b.setPreferXHR=function(a){return this.preferXHR=0!=a&&null!=window.XMLHttpRequest,this.preferXHR},b.removeAll=function(){this.remove()},b.remove=function(a){var b=null;if(a&&!Array.isArray(a))b=[a];else if(a)b=a;else if(arguments.length>0)return;var c=!1;if(b){for(;b.length;){var d=b.pop(),e=this.getResult(d);for(f=this._loadQueue.length-1;f>=0;f--)if(g=this._loadQueue[f].getItem(),g.id==d||g.src==d){this._loadQueue.splice(f,1)[0].cancel();break}for(f=this._loadQueueBackup.length-1;f>=0;f--)if(g=this._loadQueueBackup[f].getItem(),g.id==d||g.src==d){this._loadQueueBackup.splice(f,1)[0].cancel();break}if(e)this._disposeItem(this.getItem(d));else for(var f=this._currentLoads.length-1;f>=0;f--){var g=this._currentLoads[f].getItem();if(g.id==d||g.src==d){this._currentLoads.splice(f,1)[0].cancel(),c=!0;break}}}c&&this._loadNext()}else{this.close();for(var h in this._loadItemsById)this._disposeItem(this._loadItemsById[h]);this.init(this.preferXHR,this._basePath)}},b.reset=function(){this.close();for(var a in this._loadItemsById)this._disposeItem(this._loadItemsById[a]);for(var b=[],c=0,d=this._loadQueueBackup.length;d>c;c++)b.push(this._loadQueueBackup[c].getItem());this.loadManifest(b,!1)},b.installPlugin=function(a){if(null!=a&&null!=a.getPreloadHandlers){this._plugins.push(a);var b=a.getPreloadHandlers();if(b.scope=a,null!=b.types)for(var c=0,d=b.types.length;d>c;c++)this._typeCallbacks[b.types[c]]=b;if(null!=b.extensions)for(c=0,d=b.extensions.length;d>c;c++)this._extensionCallbacks[b.extensions[c]]=b}},b.setMaxConnections=function(a){this._maxConnections=a,!this._paused&&this._loadQueue.length>0&&this._loadNext()},b.loadFile=function(a,b,c){if(null==a){var d=new createjs.ErrorEvent("PRELOAD_NO_FILE");return void this._sendError(d)}this._addItem(a,null,c),b!==!1?this.setPaused(!1):this.setPaused(!0)},b.loadManifest=function(a,b,d){var e=null,f=null;if(Array.isArray(a)){if(0==a.length){var g=new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY");return void this._sendError(g)}e=a}else if("string"==typeof a)e=[{src:a,type:c.MANIFEST}];else{if("object"!=typeof a){var g=new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL");return void this._sendError(g)}if(void 0!==a.src){if(null==a.type)a.type=c.MANIFEST;else if(a.type!=c.MANIFEST){var g=new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE");this._sendError(g)}e=[a]}else void 0!==a.manifest&&(e=a.manifest,f=a.path)}for(var h=0,i=e.length;i>h;h++)this._addItem(e[h],f,d);b!==!1?this.setPaused(!1):this.setPaused(!0)},b.load=function(){this.setPaused(!1)},b.getItem=function(a){return this._loadItemsById[a]||this._loadItemsBySrc[a]},b.getResult=function(a,b){var c=this._loadItemsById[a]||this._loadItemsBySrc[a];if(null==c)return null;var d=c.id;return b&&this._loadedRawResults[d]?this._loadedRawResults[d]:this._loadedResults[d]},b.getItems=function(a){var b=[];for(var c in this._loadItemsById){var d=this._loadItemsById[c],e=this.getResult(c);(a!==!0||null!=e)&&b.push({item:d,result:e,rawResult:this.getResult(c,!0)})}return b},b.setPaused=function(a){this._paused=a,this._paused||this._loadNext()},b.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1,this._itemCount=0,this._lastProgress=NaN},b._addItem=function(a,b,c){var d=this._createLoadItem(a,b,c);if(null!=d){var e=this._createLoader(d);null!=e&&("plugins"in e&&(e.plugins=this._plugins),d._loader=e,this._loadQueue.push(e),this._loadQueueBackup.push(e),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&d.type==createjs.LoadQueue.JAVASCRIPT||d.maintainOrder===!0)&&(this._scriptOrder.push(d),this._loadedScripts.push(null)))}},b._createLoadItem=function(a,b,c){var d=createjs.LoadItem.create(a);if(null==d)return null;var e="",f=c||this._basePath;if(d.src instanceof Object){if(!d.type)return null;if(b){e=b;var g=createjs.RequestUtils.parseURI(b);null==f||g.absolute||g.relative||(e=f+e)}else null!=f&&(e=f)}else{var h=createjs.RequestUtils.parseURI(d.src);h.extension&&(d.ext=h.extension),null==d.type&&(d.type=createjs.RequestUtils.getTypeByExtension(d.ext));var i=d.src;if(!h.absolute&&!h.relative)if(b){e=b;var g=createjs.RequestUtils.parseURI(b);i=b+i,null==f||g.absolute||g.relative||(e=f+e)}else null!=f&&(e=f);d.src=e+d.src}d.path=e,(void 0===d.id||null===d.id||""===d.id)&&(d.id=i);var j=this._typeCallbacks[d.type]||this._extensionCallbacks[d.ext];if(j){var k=j.callback.call(j.scope,d,this);if(k===!1)return null;k===!0||null!=k&&(d._loader=k),h=createjs.RequestUtils.parseURI(d.src),null!=h.extension&&(d.ext=h.extension)}return this._loadItemsById[d.id]=d,this._loadItemsBySrc[d.src]=d,null==d.crossOrigin&&(d.crossOrigin=this._crossOrigin),d},b._createLoader=function(a){if(null!=a._loader)return a._loader;for(var b=this.preferXHR,c=0;c<this._availableLoaders.length;c++){var d=this._availableLoaders[c];if(d&&d.canLoadItem(a))return new d(a,b)}return null},b._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var a=0;a<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);a++){var b=this._loadQueue[a];this._canStartLoad(b)&&(this._loadQueue.splice(a,1),a--,this._loadItem(b))}}},b._loadItem=function(a){a.on("fileload",this._handleFileLoad,this),a.on("progress",this._handleProgress,this),a.on("complete",this._handleFileComplete,this),a.on("error",this._handleError,this),a.on("fileerror",this._handleFileError,this),this._currentLoads.push(a),this._sendFileStart(a.getItem()),a.load()},b._handleFileLoad=function(a){a.target=null,this.dispatchEvent(a)},b._handleFileError=function(a){var b=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,a.item);this._sendError(b)},b._handleError=function(a){var b=a.target;this._numItemsLoaded++,this._finishOrderedItem(b,!0),this._updateProgress();var c=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,b.getItem());this._sendError(c),this.stopOnError?this.setPaused(!0):(this._removeLoadItem(b),this._cleanLoadItem(b),this._loadNext())},b._handleFileComplete=function(a){var b=a.target,c=b.getItem(),d=b.getResult();this._loadedResults[c.id]=d;var e=b.getResult(!0);null!=e&&e!==d&&(this._loadedRawResults[c.id]=e),this._saveLoadedItems(b),this._removeLoadItem(b),this._finishOrderedItem(b)||this._processFinishedLoad(c,b),this._cleanLoadItem(b)},b._saveLoadedItems=function(a){var b=a.getLoadedItems();if(null!==b)for(var c=0;c<b.length;c++){var d=b[c].item;this._loadItemsBySrc[d.src]=d,this._loadItemsById[d.id]=d,this._loadedResults[d.id]=b[c].result,this._loadedRawResults[d.id]=b[c].rawResult}},b._finishOrderedItem=function(a,b){var c=a.getItem();if(this.maintainScriptOrder&&c.type==createjs.LoadQueue.JAVASCRIPT||c.maintainOrder){a instanceof createjs.JavaScriptLoader&&(this._currentlyLoadingScript=!1);var d=createjs.indexOf(this._scriptOrder,c);return-1==d?!1:(this._loadedScripts[d]=b===!0?!0:c,this._checkScriptLoadOrder(),!0)}return!1},b._checkScriptLoadOrder=function(){for(var a=this._loadedScripts.length,b=0;a>b;b++){var c=this._loadedScripts[b];if(null===c)break;if(c!==!0){var d=this._loadedResults[c.id];c.type==createjs.LoadQueue.JAVASCRIPT&&createjs.DomUtils.appendToHead(d);var e=c._loader;this._processFinishedLoad(c,e),this._loadedScripts[b]=!0}}},b._processFinishedLoad=function(a,b){if(this._numItemsLoaded++,!this.maintainScriptOrder&&a.type==createjs.LoadQueue.JAVASCRIPT){var c=b.getTag();createjs.DomUtils.appendToHead(c)}this._updateProgress(),this._sendFileComplete(a,b),this._loadNext()},b._canStartLoad=function(a){if(!this.maintainScriptOrder||a.preferXHR)return!0;var b=a.getItem();if(b.type!=createjs.LoadQueue.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;for(var c=this._scriptOrder.indexOf(b),d=0;c>d;){var e=this._loadedScripts[d];if(null==e)return!1;d++}return this._currentlyLoadingScript=!0,!0},b._removeLoadItem=function(a){for(var b=this._currentLoads.length,c=0;b>c;c++)if(this._currentLoads[c]==a){this._currentLoads.splice(c,1);break}},b._cleanLoadItem=function(a){var b=a.getItem();b&&delete b._loader},b._handleProgress=function(a){var b=a.target;this._sendFileProgress(b.getItem(),b.progress),this._updateProgress()},b._updateProgress=function(){var a=this._numItemsLoaded/this._numItems,b=this._numItems-this._numItemsLoaded;if(b>0){for(var c=0,d=0,e=this._currentLoads.length;e>d;d++)c+=this._currentLoads[d].progress;a+=c/b*(b/this._numItems)}this._lastProgress!=a&&(this._sendProgress(a),this._lastProgress=a)},b._disposeItem=function(a){delete this._loadedResults[a.id],delete this._loadedRawResults[a.id],delete this._loadItemsById[a.id],delete this._loadItemsBySrc[a.src]},b._sendFileProgress=function(a,b){if(!this._isCanceled()&&!this._paused&&this.hasEventListener("fileprogress")){var c=new createjs.Event("fileprogress");c.progress=b,c.loaded=b,c.total=1,c.item=a,this.dispatchEvent(c)}},b._sendFileComplete=function(a,b){
if(!this._isCanceled()&&!this._paused){var c=new createjs.Event("fileload");c.loader=b,c.item=a,c.result=this._loadedResults[a.id],c.rawResult=this._loadedRawResults[a.id],a.completeHandler&&a.completeHandler(c),this.hasEventListener("fileload")&&this.dispatchEvent(c)}},b._sendFileStart=function(a){var b=new createjs.Event("filestart");b.item=a,this.hasEventListener("filestart")&&this.dispatchEvent(b)},b.toString=function(){return"[PreloadJS LoadQueue]"},createjs.LoadQueue=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.TEXT)}var b=(createjs.extend(a,createjs.AbstractLoader),a);b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.TEXT},createjs.TextLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.BINARY),this.on("initialize",this._updateXHR,this)}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.BINARY},b._updateXHR=function(a){a.loader.setResponseType("arraybuffer")},createjs.BinaryLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.CSS),this.resultFormatter=this._formatResult,this._tagSrcAttribute="href",b?this._tag=document.createElement("style"):this._tag=document.createElement("link"),this._tag.rel="stylesheet",this._tag.type="text/css"}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.CSS},b._formatResult=function(a){if(this._preferXHR){var b=a.getTag();if(b.styleSheet)b.styleSheet.cssText=a.getResult(!0);else{var c=document.createTextNode(a.getResult(!0));b.appendChild(c)}}else b=this._tag;return createjs.DomUtils.appendToHead(b),b},createjs.CSSLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.IMAGE),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",createjs.RequestUtils.isImageTag(a)?this._tag=a:createjs.RequestUtils.isImageTag(a.src)?this._tag=a.src:createjs.RequestUtils.isImageTag(a.tag)&&(this._tag=a.tag),null!=this._tag?this._preferXHR=!1:this._tag=document.createElement("img"),this.on("initialize",this._updateXHR,this)}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.IMAGE},b.load=function(){if(""!=this._tag.src&&this._tag.complete)return void this._sendComplete();var a=this._item.crossOrigin;1==a&&(a="Anonymous"),null==a||createjs.RequestUtils.isLocal(this._item.src)||(this._tag.crossOrigin=a),this.AbstractLoader_load()},b._updateXHR=function(a){a.loader.mimeType="text/plain; charset=x-user-defined-binary",a.loader.setResponseType&&a.loader.setResponseType("blob")},b._formatResult=function(a){return this._formatImage},b._formatImage=function(a,b){var c=this._tag,d=window.URL||window.webkitURL;if(this._preferXHR)if(d){var e=d.createObjectURL(this.getResult(!0));c.src=e,c.addEventListener("load",this._cleanUpURL,!1),c.addEventListener("error",this._cleanUpURL,!1)}else c.src=this._item.src;else;c.complete?a(c):(c.onload=createjs.proxy(function(){a(this._tag)},this),c.onerror=createjs.proxy(function(){b(_this._tag)},this))},b._cleanUpURL=function(a){var b=window.URL||window.webkitURL;b.revokeObjectURL(a.target.src)},createjs.ImageLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.JAVASCRIPT),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.setTag(document.createElement("script"))}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.JAVASCRIPT},b._formatResult=function(a){var b=a.getTag();return this._preferXHR&&(b.text=a.getResult(!0)),b},createjs.JavaScriptLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.JSON),this.resultFormatter=this._formatResult}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.JSON},b._formatResult=function(a){var b=null;try{b=createjs.DataUtils.parseJSON(a.getResult(!0))}catch(c){var d=new createjs.ErrorEvent("JSON_FORMAT",null,c);return this._sendError(d),c}return b},createjs.JSONLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.AbstractLoader_constructor(a,!1,createjs.AbstractLoader.JSONP),this.setTag(document.createElement("script")),this.getTag().type="text/javascript"}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.JSONP},b.cancel=function(){this.AbstractLoader_cancel(),this._dispose()},b.load=function(){if(null==this._item.callback)throw new Error("callback is required for loading JSONP requests.");if(null!=window[this._item.callback])throw new Error("JSONP callback '"+this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=createjs.proxy(this._handleLoad,this),window.document.body.appendChild(this._tag),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag.src=this._item.src},b._handleLoad=function(a){this._result=this._rawResult=a,this._sendComplete(),this._dispose()},b._handleTimeout=function(){this._dispose(),this.dispatchEvent(new createjs.ErrorEvent("timeout"))},b._dispose=function(){window.document.body.removeChild(this._tag),delete window[this._item.callback],clearTimeout(this._loadTimeout)},createjs.JSONPLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.AbstractLoader_constructor(a,null,createjs.AbstractLoader.MANIFEST),this.plugins=null,this._manifestQueue=null}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.MANIFEST_PROGRESS=.25,c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.MANIFEST},b.load=function(){this.AbstractLoader_load()},b._createRequest=function(){var a=this._item.callback;null!=a?this._request=new createjs.JSONPLoader(this._item):this._request=new createjs.JSONLoader(this._item)},b.handleEvent=function(a){switch(a.type){case"complete":return this._rawResult=a.target.getResult(!0),this._result=a.target.getResult(),this._sendProgress(c.MANIFEST_PROGRESS),void this._loadManifest(this._result);case"progress":return a.loaded*=c.MANIFEST_PROGRESS,this.progress=a.loaded/a.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(a)}this.AbstractLoader_handleEvent(a)},b.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},b._loadManifest=function(a){if(a&&a.manifest){var b=this._manifestQueue=new createjs.LoadQueue;b.on("fileload",this._handleManifestFileLoad,this),b.on("progress",this._handleManifestProgress,this),b.on("complete",this._handleManifestComplete,this,!0),b.on("error",this._handleManifestError,this,!0);for(var c=0,d=this.plugins.length;d>c;c++)b.installPlugin(this.plugins[c]);b.loadManifest(a)}else this._sendComplete()},b._handleManifestFileLoad=function(a){a.target=null,this.dispatchEvent(a)},b._handleManifestComplete=function(a){this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},b._handleManifestProgress=function(a){this.progress=a.progress*(1-c.MANIFEST_PROGRESS)+c.MANIFEST_PROGRESS,this._sendProgress(this.progress)},b._handleManifestError=function(a){var b=new createjs.Event("fileerror");b.item=a.data,this.dispatchEvent(b)},createjs.ManifestLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b){this.AbstractMediaLoader_constructor(a,b,createjs.AbstractLoader.SOUND),createjs.RequestUtils.isAudioTag(a)?this._tag=a:createjs.RequestUtils.isAudioTag(a.src)?this._tag=a:createjs.RequestUtils.isAudioTag(a.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(a)?a:a.src),null!=this._tag&&(this._preferXHR=!1)}var b=createjs.extend(a,createjs.AbstractMediaLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.SOUND},b._createTag=function(a){var b=document.createElement("audio");return b.autoplay=!1,b.preload="none",b.src=a,b},createjs.SoundLoader=createjs.promote(a,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b){this.AbstractMediaLoader_constructor(a,b,createjs.AbstractLoader.VIDEO),createjs.RequestUtils.isVideoTag(a)||createjs.RequestUtils.isVideoTag(a.src)?(this.setTag(createjs.RequestUtils.isVideoTag(a)?a:a.src),this._preferXHR=!1):this.setTag(this._createTag())}var b=createjs.extend(a,createjs.AbstractMediaLoader),c=a;b._createTag=function(){return document.createElement("video")},c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.VIDEO},createjs.VideoLoader=createjs.promote(a,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.SPRITESHEET),this._manifestQueue=null}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.SPRITESHEET_PROGRESS=.25,c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.SPRITESHEET},b.destroy=function(){this.AbstractLoader_destroy,this._manifestQueue.close()},b._createRequest=function(){var a=this._item.callback;null!=a?this._request=new createjs.JSONPLoader(this._item):this._request=new createjs.JSONLoader(this._item)},b.handleEvent=function(a){switch(a.type){case"complete":return this._rawResult=a.target.getResult(!0),this._result=a.target.getResult(),this._sendProgress(c.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case"progress":return a.loaded*=c.SPRITESHEET_PROGRESS,this.progress=a.loaded/a.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(a)}this.AbstractLoader_handleEvent(a)},b._loadManifest=function(a){if(a&&a.images){var b=this._manifestQueue=new createjs.LoadQueue(this._preferXHR,this._item.path,this._item.crossOrigin);b.on("complete",this._handleManifestComplete,this,!0),b.on("fileload",this._handleManifestFileLoad,this),b.on("progress",this._handleManifestProgress,this),b.on("error",this._handleManifestError,this,!0),b.loadManifest(a.images)}},b._handleManifestFileLoad=function(a){var b=a.result;if(null!=b){var c=this.getResult().images,d=c.indexOf(a.item.src);c[d]=b}},b._handleManifestComplete=function(a){this._result=new createjs.SpriteSheet(this._result),this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},b._handleManifestProgress=function(a){this.progress=a.progress*(1-c.SPRITESHEET_PROGRESS)+c.SPRITESHEET_PROGRESS,this._sendProgress(this.progress)},b._handleManifestError=function(a){var b=new createjs.Event("fileerror");b.item=a.data,this.dispatchEvent(b)},createjs.SpriteSheetLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.SVG),this.resultFormatter=this._formatResult,this._tagSrcAttribute="data",b?this.setTag(document.createElement("svg")):(this.setTag(document.createElement("object")),this.getTag().type="image/svg+xml")}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.SVG},b._formatResult=function(a){var b=createjs.DataUtils.parseXML(a.getResult(!0),"text/xml"),c=a.getTag();return!this._preferXHR&&document.body.contains(c)&&document.body.removeChild(c),null!=b.documentElement?(c.appendChild(b.documentElement),c.style.visibility="visible",c):b},createjs.SVGLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.XML),this.resultFormatter=this._formatResult}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.AbstractLoader.XML},b._formatResult=function(a){return createjs.DataUtils.parseXML(a.getResult(!0),"text/xml")},createjs.XMLLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){var a=createjs.SoundJS=createjs.SoundJS||{};a.version="0.6.2",a.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),this.createjs=this.createjs||{},createjs.indexOf=function(a,b){"use strict";for(var c=0,d=a.length;d>c;c++)if(b===a[c])return c;return-1},this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(a,b){var c=Array.prototype.slice.call(arguments,2);return function(){return a.apply(b,Array.prototype.slice.call(arguments,0).concat(c))}}}(),this.createjs=this.createjs||{},function(){"use strict";function a(){throw"BrowserDetect cannot be instantiated"}var b=a.agent=window.navigator.userAgent;a.isWindowPhone=b.indexOf("IEMobile")>-1||b.indexOf("Windows Phone")>-1,a.isFirefox=b.indexOf("Firefox")>-1,a.isOpera=null!=window.opera,a.isChrome=b.indexOf("Chrome")>-1,a.isIOS=(b.indexOf("iPod")>-1||b.indexOf("iPhone")>-1||b.indexOf("iPad")>-1)&&!a.isWindowPhone,a.isAndroid=b.indexOf("Android")>-1&&!a.isWindowPhone,a.isBlackberry=b.indexOf("Blackberry")>-1,createjs.BrowserDetect=a}(),this.createjs=this.createjs||{},function(){"use strict";var a=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},b=a.prototype={},c=a;c.create=function(a){if(a instanceof c||a instanceof Object){var b=new createjs.PlayPropsConfig;return b.set(a),b}throw new Error("Type not recognized.")},b.set=function(a){for(var b in a)this[b]=a[b];return this},b.toString=function(){return"[PlayPropsConfig]"},createjs.PlayPropsConfig=c}(),this.createjs=this.createjs||{},function(){"use strict";function a(){throw"Sound cannot be instantiated"}function b(a,b){this.init(a,b)}var c=a;c.INTERRUPT_ANY="any",c.INTERRUPT_EARLY="early",c.INTERRUPT_LATE="late",c.INTERRUPT_NONE="none",c.PLAY_INITED="playInited",c.PLAY_SUCCEEDED="playSucceeded",c.PLAY_INTERRUPTED="playInterrupted",c.PLAY_FINISHED="playFinished",c.PLAY_FAILED="playFailed",c.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],c.EXTENSION_MAP={m4a:"mp4"},c.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([\/.]*?(?:[^?]+)?\/)?((?:[^\/?]+)\.(\w+))(?:\?(\S+)?)?$/,c.defaultInterruptBehavior=c.INTERRUPT_NONE,c.alternateExtensions=[],c.activePlugin=null,c._masterVolume=1,Object.defineProperty(c,"volume",{get:function(){return this._masterVolume},set:function(a){if(null==Number(a))return!1;if(a=Math.max(0,Math.min(1,a)),c._masterVolume=a,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(a))for(var b=this._instances,d=0,e=b.length;e>d;d++)b[d].setMasterVolume(a)}}),c._masterMute=!1,Object.defineProperty(c,"muted",{get:function(){return this._masterMute},set:function(a){if(null==a)return!1;if(this._masterMute=a,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(a))for(var b=this._instances,c=0,d=b.length;d>c;c++)b[c].setMasterMute(a);return!0}}),Object.defineProperty(c,"capabilities",{get:function(){return null==c.activePlugin?null:c.activePlugin._capabilities},set:function(a){return!1}}),c._pluginsRegistered=!1,c._lastID=0,c._instances=[],c._idHash={},c._preloadHash={},c._defaultPlayPropsHash={},c.addEventListener=null,c.removeEventListener=null,c.removeAllEventListeners=null,c.dispatchEvent=null,c.hasEventListener=null,c._listeners=null,createjs.EventDispatcher.initialize(c),c.getPreloadHandlers=function(){return{callback:createjs.proxy(c.initLoad,c),types:["sound"],extensions:c.SUPPORTED_EXTENSIONS}},c._handleLoadComplete=function(a){var b=a.target.getItem().src;if(c._preloadHash[b])for(var d=0,e=c._preloadHash[b].length;e>d;d++){var f=c._preloadHash[b][d];if(c._preloadHash[b][d]=!0,c.hasEventListener("fileload")){var a=new createjs.Event("fileload");a.src=f.src,a.id=f.id,a.data=f.data,a.sprite=f.sprite,c.dispatchEvent(a)}}},c._handleLoadError=function(a){var b=a.target.getItem().src;if(c._preloadHash[b])for(var d=0,e=c._preloadHash[b].length;e>d;d++){var f=c._preloadHash[b][d];if(c._preloadHash[b][d]=!1,c.hasEventListener("fileerror")){var a=new createjs.Event("fileerror");a.src=f.src,a.id=f.id,a.data=f.data,a.sprite=f.sprite,c.dispatchEvent(a)}}},c._registerPlugin=function(a){return a.isSupported()?(c.activePlugin=new a,!0):!1},c.registerPlugins=function(a){c._pluginsRegistered=!0;for(var b=0,d=a.length;d>b;b++)if(c._registerPlugin(a[b]))return!0;return!1},c.initializeDefaultPlugins=function(){return null!=c.activePlugin?!0:c._pluginsRegistered?!1:c.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])?!0:!1},c.isReady=function(){return null!=c.activePlugin},c.getCapabilities=function(){return null==c.activePlugin?null:c.activePlugin._capabilities},c.getCapability=function(a){return null==c.activePlugin?null:c.activePlugin._capabilities[a]},c.initLoad=function(a){return c._registerSound(a)},c._registerSound=function(a){if(!c.initializeDefaultPlugins())return!1;var d;if(a.src instanceof Object?(d=c._parseSrc(a.src),d.src=a.path+d.src):d=c._parsePath(a.src),null==d)return!1;a.src=d.src,a.type="sound";var e=a.data,f=null;if(null!=e&&(isNaN(e.channels)?isNaN(e)||(f=parseInt(e)):f=parseInt(e.channels),e.audioSprite))for(var g,h=e.audioSprite.length;h--;)g=e.audioSprite[h],c._idHash[g.id]={src:a.src,startTime:parseInt(g.startTime),duration:parseInt(g.duration)},g.defaultPlayProps&&(c._defaultPlayPropsHash[g.id]=createjs.PlayPropsConfig.create(g.defaultPlayProps));null!=a.id&&(c._idHash[a.id]={src:a.src});var i=c.activePlugin.register(a);return b.create(a.src,f),null!=e&&isNaN(e)?a.data.channels=f||b.maxPerChannel():a.data=f||b.maxPerChannel(),i.type&&(a.type=i.type),a.defaultPlayProps&&(c._defaultPlayPropsHash[a.src]=createjs.PlayPropsConfig.create(a.defaultPlayProps)),i},c.registerSound=function(a,b,d,e,f){var g={src:a,id:b,data:d,defaultPlayProps:f};a instanceof Object&&a.src&&(e=b,g=a),g=createjs.LoadItem.create(g),g.path=e,null==e||g.src instanceof Object||(g.src=e+a);var h=c._registerSound(g);if(!h)return!1;if(c._preloadHash[g.src]||(c._preloadHash[g.src]=[]),c._preloadHash[g.src].push(g),1==c._preloadHash[g.src].length)h.on("complete",createjs.proxy(this._handleLoadComplete,this)),h.on("error",createjs.proxy(this._handleLoadError,this)),c.activePlugin.preload(h);else if(1==c._preloadHash[g.src][0])return!0;return g},c.registerSounds=function(a,b){var c=[];a.path&&(b?b+=a.path:b=a.path,a=a.manifest);for(var d=0,e=a.length;e>d;d++)c[d]=createjs.Sound.registerSound(a[d].src,a[d].id,a[d].data,b,a[d].defaultPlayProps);return c},c.removeSound=function(a,d){if(null==c.activePlugin)return!1;a instanceof Object&&a.src&&(a=a.src);var e;if(a instanceof Object?e=c._parseSrc(a):(a=c._getSrcById(a).src,e=c._parsePath(a)),null==e)return!1;a=e.src,null!=d&&(a=d+a);for(var f in c._idHash)c._idHash[f].src==a&&delete c._idHash[f];return b.removeSrc(a),delete c._preloadHash[a],c.activePlugin.removeSound(a),!0},c.removeSounds=function(a,b){var c=[];a.path&&(b?b+=a.path:b=a.path,a=a.manifest);for(var d=0,e=a.length;e>d;d++)c[d]=createjs.Sound.removeSound(a[d].src,b);return c},c.removeAllSounds=function(){c._idHash={},c._preloadHash={},b.removeAll(),c.activePlugin&&c.activePlugin.removeAllSounds()},c.loadComplete=function(a){if(!c.isReady())return!1;var b=c._parsePath(a);return a=b?c._getSrcById(b.src).src:c._getSrcById(a).src,void 0==c._preloadHash[a]?!1:1==c._preloadHash[a][0]},c._parsePath=function(a){"string"!=typeof a&&(a=a.toString());var b=a.match(c.FILE_PATTERN);if(null==b)return!1;for(var d=b[4],e=b[5],f=c.capabilities,g=0;!f[e];)if(e=c.alternateExtensions[g++],g>c.alternateExtensions.length)return null;a=a.replace("."+b[5],"."+e);var h={name:d,src:a,extension:e};return h},c._parseSrc=function(a){var b={name:void 0,src:void 0,extension:void 0},d=c.capabilities;for(var e in a)if(a.hasOwnProperty(e)&&d[e]){b.src=a[e],b.extension=e;break}if(!b.src)return!1;var f=b.src.lastIndexOf("/");return-1!=f?b.name=b.src.slice(f+1):b.name=b.src,b},c.play=function(a,b,d,e,f,g,h,i,j){var k;k=b instanceof Object||b instanceof createjs.PlayPropsConfig?createjs.PlayPropsConfig.create(b):createjs.PlayPropsConfig.create({interrupt:b,delay:d,offset:e,loop:f,volume:g,pan:h,startTime:i,duration:j});var l=c.createInstance(a,k.startTime,k.duration),m=c._playInstance(l,k);return m||l._playFailed(),l},c.createInstance=function(a,d,e){if(!c.initializeDefaultPlugins())return new createjs.DefaultSoundInstance(a,d,e);var f=c._defaultPlayPropsHash[a];a=c._getSrcById(a);var g=c._parsePath(a.src),h=null;return null!=g&&null!=g.src?(b.create(g.src),null==d&&(d=a.startTime),h=c.activePlugin.create(g.src,d,e||a.duration),f=f||c._defaultPlayPropsHash[g.src],f&&h.applyPlayProps(f)):h=new createjs.DefaultSoundInstance(a,d,e),h.uniqueId=c._lastID++,h},c.stop=function(){for(var a=this._instances,b=a.length;b--;)a[b].stop()},c.setVolume=function(a){if(null==Number(a))return!1;if(a=Math.max(0,Math.min(1,a)),c._masterVolume=a,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(a))for(var b=this._instances,d=0,e=b.length;e>d;d++)b[d].setMasterVolume(a)},c.getVolume=function(){return this._masterVolume},c.setMute=function(a){if(null==a)return!1;if(this._masterMute=a,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(a))for(var b=this._instances,c=0,d=b.length;d>c;c++)b[c].setMasterMute(a);return!0},c.getMute=function(){return this._masterMute},c.setDefaultPlayProps=function(a,b){a=c._getSrcById(a),c._defaultPlayPropsHash[c._parsePath(a.src).src]=createjs.PlayPropsConfig.create(b)},c.getDefaultPlayProps=function(a){return a=c._getSrcById(a),c._defaultPlayPropsHash[c._parsePath(a.src).src]},c._playInstance=function(a,b){var d=c._defaultPlayPropsHash[a.src]||{};if(null==b.interrupt&&(b.interrupt=d.interrupt||c.defaultInterruptBehavior),null==b.delay&&(b.delay=d.delay||0),null==b.offset&&(b.offset=a.getPosition()),null==b.loop&&(b.loop=a.loop),null==b.volume&&(b.volume=a.volume),null==b.pan&&(b.pan=a.pan),0==b.delay){var e=c._beginPlaying(a,b);if(!e)return!1}else{var f=setTimeout(function(){c._beginPlaying(a,b)},b.delay);a.delayTimeoutId=f}return this._instances.push(a),!0},c._beginPlaying=function(a,c){if(!b.add(a,c.interrupt))return!1;var d=a._beginPlaying(c);if(!d){var e=createjs.indexOf(this._instances,a);return e>-1&&this._instances.splice(e,1),!1}return!0},c._getSrcById=function(a){return c._idHash[a]||{src:a}},c._playFinished=function(a){b.remove(a);var c=createjs.indexOf(this._instances,a);c>-1&&this._instances.splice(c,1)},createjs.Sound=a,b.channels={},b.create=function(a,c){var d=b.get(a);return null==d?(b.channels[a]=new b(a,c),!0):!1},b.removeSrc=function(a){var c=b.get(a);return null==c?!1:(c._removeAll(),delete b.channels[a],!0)},b.removeAll=function(){for(var a in b.channels)b.channels[a]._removeAll();b.channels={}},b.add=function(a,c){var d=b.get(a.src);return null==d?!1:d._add(a,c)},b.remove=function(a){var c=b.get(a.src);return null==c?!1:(c._remove(a),!0)},b.maxPerChannel=function(){return d.maxDefault},b.get=function(a){return b.channels[a]};var d=b.prototype;d.constructor=b,d.src=null,d.max=null,d.maxDefault=100,d.length=0,d.init=function(a,b){this.src=a,this.max=b||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},d._get=function(a){return this._instances[a]},d._add=function(a,b){return this._getSlot(b,a)?(this._instances.push(a),this.length++,!0):!1},d._remove=function(a){var b=createjs.indexOf(this._instances,a);return-1==b?!1:(this._instances.splice(b,1),this.length--,!0)},d._removeAll=function(){for(var a=this.length-1;a>=0;a--)this._instances[a].stop()},d._getSlot=function(b,c){var d,e;if(b!=a.INTERRUPT_NONE&&(e=this._get(0),null==e))return!0;for(var f=0,g=this.max;g>f;f++){if(d=this._get(f),null==d)return!0;if(d.playState==a.PLAY_FINISHED||d.playState==a.PLAY_INTERRUPTED||d.playState==a.PLAY_FAILED){e=d;break}b!=a.INTERRUPT_NONE&&(b==a.INTERRUPT_EARLY&&d.getPosition()<e.getPosition()||b==a.INTERRUPT_LATE&&d.getPosition()>e.getPosition())&&(e=d)}return null!=e?(e._interrupt(),this._remove(e),!0):!1},d.toString=function(){return"[Sound SoundChannel]"}}(),this.createjs=this.createjs||{},function(){"use strict";var a=function(a,b,c,d){this.EventDispatcher_constructor(),this.src=a,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this._pan=0,Object.defineProperty(this,"pan",{get:this.getPan,set:this.setPan}),this._startTime=Math.max(0,b||0),Object.defineProperty(this,"startTime",{get:this.getStartTime,set:this.setStartTime}),this._duration=Math.max(0,c||0),Object.defineProperty(this,"duration",{get:this.getDuration,set:this.setDuration}),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this.getPlaybackResource,set:this.setPlaybackResource}),d!==!1&&d!==!0&&this.setPlaybackResource(d),this._position=0,Object.defineProperty(this,"position",{get:this.getPosition,set:this.setPosition}),this._loop=0,Object.defineProperty(this,"loop",{get:this.getLoop,set:this.setLoop}),this._muted=!1,Object.defineProperty(this,"muted",{get:this.getMuted,set:this.setMuted}),this._paused=!1,Object.defineProperty(this,"paused",{get:this.getPaused,set:this.setPaused})},b=createjs.extend(a,createjs.EventDispatcher);b.play=function(a,b,c,d,e,f){var g;return g=a instanceof Object||a instanceof createjs.PlayPropsConfig?createjs.PlayPropsConfig.create(a):createjs.PlayPropsConfig.create({interrupt:a,delay:b,offset:c,loop:d,volume:e,pan:f}),this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(g),void(this._paused&&this.setPaused(!1))):(this._cleanUp(),createjs.Sound._playInstance(this,g),this)},b.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this},b.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},b.applyPlayProps=function(a){return null!=a.offset&&this.setPosition(a.offset),null!=a.loop&&this.setLoop(a.loop),null!=a.volume&&this.setVolume(a.volume),null!=a.pan&&this.setPan(a.pan),null!=a.startTime&&(this.setStartTime(a.startTime),this.setDuration(a.duration)),this},b.toString=function(){return"[AbstractSoundInstance]"},b.getPaused=function(){return this._paused},b.setPaused=function(a){return a!==!0&&a!==!1||this._paused==a||1==a&&this.playState!=createjs.Sound.PLAY_SUCCEEDED?void 0:(this._paused=a,a?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this)},b.setVolume=function(a){return a==this._volume?this:(this._volume=Math.max(0,Math.min(1,a)),this._muted||this._updateVolume(),this)},b.getVolume=function(){return this._volume},b.setMuted=function(a){return a===!0||a===!1?(this._muted=a,this._updateVolume(),this):void 0},b.getMuted=function(){return this._muted},b.setPan=function(a){return a==this._pan?this:(this._pan=Math.max(-1,Math.min(1,a)),this._updatePan(),this)},b.getPan=function(){return this._pan},b.getPosition=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},b.setPosition=function(a){return this._position=Math.max(0,a),this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},b.getStartTime=function(){return this._startTime},b.setStartTime=function(a){return a==this._startTime?this:(this._startTime=Math.max(0,a||0),this._updateStartTime(),this)},b.getDuration=function(){return this._duration},b.setDuration=function(a){return a==this._duration?this:(this._duration=Math.max(0,a||0),this._updateDuration(),this)},b.setPlaybackResource=function(a){return this._playbackResource=a,0==this._duration&&this._setDurationFromSource(),this},b.getPlaybackResource=function(){return this._playbackResource},b.getLoop=function(){return this._loop},b.setLoop=function(a){null!=this._playbackResource&&(0!=this._loop&&0==a?this._removeLooping(a):0==this._loop&&0!=a&&this._addLooping(a)),this._loop=a},b._sendEvent=function(a){var b=new createjs.Event(a);this.dispatchEvent(b)},b._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,createjs.Sound._playFinished(this)},b._interrupt=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},b._beginPlaying=function(a){return this.setPosition(a.offset),this.setLoop(a.loop),this.setVolume(a.volume),this.setPan(a.pan),null!=a.startTime&&(this.setStartTime(a.startTime),this.setDuration(a.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},b._playFailed=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed")},b._handleSoundComplete=function(a){return this._position=0,0!=this._loop?(this._loop--,this._handleLoop(),void this._sendEvent("loop")):(this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,void this._sendEvent("complete"))},b._handleSoundReady=function(){},b._updateVolume=function(){},b._updatePan=function(){},b._updateStartTime=function(){},b._updateDuration=function(){},b._setDurationFromSource=function(){},b._calculateCurrentPosition=function(){},b._updatePosition=function(){},b._removeLooping=function(a){},b._addLooping=function(a){},b._pause=function(){},b._resume=function(){},b._handleStop=function(){},b._handleCleanUp=function(){},b._handleLoop=function(){},createjs.AbstractSoundInstance=createjs.promote(a,"EventDispatcher"),createjs.DefaultSoundInstance=createjs.AbstractSoundInstance}(),this.createjs=this.createjs||{},function(){"use strict";var a=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass},b=a.prototype;a._capabilities=null,a.isSupported=function(){return!0},b.register=function(a){var b=this._loaders[a.src];return b&&!b.canceled?this._loaders[a.src]:(this._audioSources[a.src]=!0,this._soundInstances[a.src]=[],b=new this._loaderClass(a),b.on("complete",this._handlePreloadComplete,this),this._loaders[a.src]=b,b)},b.preload=function(a){a.on("error",this._handlePreloadError,this),a.load()},b.isPreloadStarted=function(a){return null!=this._audioSources[a]},b.isPreloadComplete=function(a){return!(null==this._audioSources[a]||1==this._audioSources[a])},b.removeSound=function(a){if(this._soundInstances[a]){for(var b=this._soundInstances[a].length;b--;){var c=this._soundInstances[a][b];c.destroy()}delete this._soundInstances[a],delete this._audioSources[a],this._loaders[a]&&this._loaders[a].destroy(),delete this._loaders[a]}},b.removeAllSounds=function(){for(var a in this._audioSources)this.removeSound(a)},b.create=function(a,b,c){this.isPreloadStarted(a)||this.preload(this.register(a));var d=new this._soundInstanceClass(a,b,c,this._audioSources[a]);return this._soundInstances[a].push(d),d},b.setVolume=function(a){return this._volume=a,this._updateVolume(),!0},b.getVolume=function(){return this._volume},b.setMute=function(a){return this._updateVolume(),!0},b.toString=function(){return"[AbstractPlugin]"},b._handlePreloadComplete=function(a){var b=a.target.getItem().src;this._audioSources[b]=a.result;for(var c=0,d=this._soundInstances[b].length;d>c;c++){var e=this._soundInstances[b][c];e.setPlaybackResource(this._audioSources[b]);
}},b._handlePreloadError=function(a){},b._updateVolume=function(){},createjs.AbstractPlugin=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.SOUND)}var b=createjs.extend(a,createjs.AbstractLoader);a.context=null,b.toString=function(){return"[WebAudioLoader]"},b._createRequest=function(){this._request=new createjs.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},b._sendComplete=function(b){a.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._sendError,this))},b._handleAudioDecoded=function(a){this._result=a,this.AbstractLoader__sendComplete()},createjs.WebAudioLoader=createjs.promote(a,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,d,e){this.AbstractSoundInstance_constructor(a,b,d,e),this.gainNode=c.context.createGain(),this.panNode=c.context.createPanner(),this.panNode.panningModel=c._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var b=createjs.extend(a,createjs.AbstractSoundInstance),c=a;c.context=null,c._scratchBuffer=null,c.destinationNode=null,c._panningModel="equalpower",b.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},b.toString=function(){return"[WebAudioSoundInstance]"},b._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},b._removeLooping=function(a){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},b._addLooping=function(a){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},b._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},b._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},b._cleanUpAudioNode=function(a){if(a){a.stop(0),a.disconnect(0);try{a.buffer=c._scratchBuffer}catch(b){}a=null}return a},b._handleSoundReady=function(a){this.gainNode.connect(c.destinationNode);var b=.001*this._duration,d=.001*this._position;d>b&&(d=b),this.sourceNode=this._createAndPlayAudioNode(c.context.currentTime-b,d),this._playbackStartTime=this.sourceNode.startTime-d,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(b-d)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},b._createAndPlayAudioNode=function(a,b){var d=c.context.createBufferSource();d.buffer=this.playbackResource,d.connect(this.panNode);var e=.001*this._duration;return d.startTime=a+e,d.start(d.startTime,b+.001*this._startTime,e-b),d},b._pause=function(){this._position=1e3*(c.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},b._resume=function(){this._handleSoundReady()},b._updateVolume=function(){var a=this._muted?0:this._volume;a!=this.gainNode.gain.value&&(this.gainNode.gain.value=a)},b._calculateCurrentPosition=function(){return 1e3*(c.context.currentTime-this._playbackStartTime)},b._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},b._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},b._updateDuration=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},createjs.WebAudioSoundInstance=createjs.promote(a,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function a(){this.AbstractPlugin_constructor(),this._panningModel=c._panningModel,this.context=c.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),createjs.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=c._capabilities,this._loaderClass=createjs.WebAudioLoader,this._soundInstanceClass=createjs.WebAudioSoundInstance,this._addPropsToClasses()}var b=createjs.extend(a,createjs.AbstractPlugin),c=a;c._capabilities=null,c._panningModel="equalpower",c.context=null,c._scratchBuffer=null,c._unlocked=!1,c.isSupported=function(){var a=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;return"file:"!=location.protocol||a||this._isFileXHRSupported()?(c._generateCapabilities(),null==c.context?!1:!0):!1},c.playEmptySound=function(){if(null!=c.context){var a=c.context.createBufferSource();a.buffer=c._scratchBuffer,a.connect(c.context.destination),a.start(0,0,0)}},c._isFileXHRSupported=function(){var a=!0,b=new XMLHttpRequest;try{b.open("GET","WebAudioPluginTest.fail",!1)}catch(c){return a=!1}b.onerror=function(){a=!1},b.onload=function(){a=404==this.status||200==this.status||0==this.status&&""!=this.response};try{b.send()}catch(c){a=!1}return a},c._generateCapabilities=function(){if(null==c._capabilities){var a=document.createElement("audio");if(null==a.canPlayType)return null;if(null==c.context)if(window.AudioContext)c.context=new AudioContext;else{if(!window.webkitAudioContext)return null;c.context=new webkitAudioContext}null==c._scratchBuffer&&(c._scratchBuffer=c.context.createBuffer(1,1,22050)),c._compatibilitySetUp(),"ontouchstart"in window&&"running"!=c.context.state&&(c._unlock(),document.addEventListener("mousedown",c._unlock,!0),document.addEventListener("touchend",c._unlock,!0)),c._capabilities={panning:!0,volume:!0,tracks:-1};for(var b=createjs.Sound.SUPPORTED_EXTENSIONS,d=createjs.Sound.EXTENSION_MAP,e=0,f=b.length;f>e;e++){var g=b[e],h=d[g]||g;c._capabilities[g]="no"!=a.canPlayType("audio/"+g)&&""!=a.canPlayType("audio/"+g)||"no"!=a.canPlayType("audio/"+h)&&""!=a.canPlayType("audio/"+h)}c.context.destination.numberOfChannels<2&&(c._capabilities.panning=!1)}},c._compatibilitySetUp=function(){if(c._panningModel="equalpower",!c.context.createGain){c.context.createGain=c.context.createGainNode;var a=c.context.createBufferSource();a.__proto__.start=a.__proto__.noteGrainOn,a.__proto__.stop=a.__proto__.noteOff,c._panningModel=0}},c._unlock=function(){c._unlocked||(c.playEmptySound(),"running"==c.context.state&&(document.removeEventListener("mousedown",c._unlock,!0),document.removeEventListener("touchend",c._unlock,!0),c._unlocked=!0))},b.toString=function(){return"[WebAudioPlugin]"},b._addPropsToClasses=function(){var a=this._soundInstanceClass;a.context=this.context,a._scratchBuffer=c._scratchBuffer,a.destinationNode=this.gainNode,a._panningModel=this._panningModel,this._loaderClass.context=this.context},b._updateVolume=function(){var a=createjs.Sound._masterMute?0:this._volume;a!=this.gainNode.gain.value&&(this.gainNode.gain.value=a)},createjs.WebAudioPlugin=createjs.promote(a,"AbstractPlugin")}(),this.createjs=this.createjs||{},function(){"use strict";function a(){throw"HTMLAudioTagPool cannot be instantiated"}function b(a){this._tags=[]}var c=a;c._tags={},c._tagPool=new b,c._tagUsed={},c.get=function(a){var b=c._tags[a];return null==b?(b=c._tags[a]=c._tagPool.get(),b.src=a):c._tagUsed[a]?(b=c._tagPool.get(),b.src=a):c._tagUsed[a]=!0,b},c.set=function(a,b){b==c._tags[a]?c._tagUsed[a]=!1:c._tagPool.set(b)},c.remove=function(a){var b=c._tags[a];return null==b?!1:(c._tagPool.set(b),delete c._tags[a],delete c._tagUsed[a],!0)},c.getDuration=function(a){var b=c._tags[a];return null!=b&&b.duration?1e3*b.duration:0},createjs.HTMLAudioTagPool=a;var d=b.prototype;d.constructor=b,d.get=function(){var a;return a=0==this._tags.length?this._createTag():this._tags.pop(),null==a.parentNode&&document.body.appendChild(a),a},d.set=function(a){var b=createjs.indexOf(this._tags,a);-1==b&&(this._tags.src=null,this._tags.push(a))},d.toString=function(){return"[TagPool]"},d._createTag=function(){var a=document.createElement("audio");return a.autoplay=!1,a.preload="none",a}}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c,d){this.AbstractSoundInstance_constructor(a,b,c,d),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=createjs.proxy(this._handleSoundComplete,this),this._readyHandler=createjs.proxy(this._handleTagReady,this),this._stalledHandler=createjs.proxy(this._playFailed,this),this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=createjs.proxy(this._handleSoundComplete,this),c?this._audioSpriteStopTime=.001*(b+c):this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}var b=createjs.extend(a,createjs.AbstractSoundInstance);b.setMasterVolume=function(a){this._updateVolume()},b.setMasterMute=function(a){this._updateVolume()},b.toString=function(){return"[HTMLAudioSoundInstance]"},b._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},b._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},b._handleCleanUp=function(){var a=this._playbackResource;if(null!=a){a.pause(),a.loop=!1,a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),a.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{a.currentTime=this._startTime}catch(b){}createjs.HTMLAudioTagPool.set(this.src,a),this._playbackResource=null}},b._beginPlaying=function(a){return this._playbackResource=createjs.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(a)},b._handleSoundReady=function(a){if(4!==this._playbackResource.readyState){var b=this._playbackResource;return b.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),b.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),b.preload="auto",void b.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},b._handleTagReady=function(a){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},b._pause=function(){this._playbackResource.pause()},b._resume=function(){this._playbackResource.play()},b._updateVolume=function(){if(null!=this._playbackResource){var a=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;a!=this._playbackResource.volume&&(this._playbackResource.volume=a)}},b._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},b._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(a){this._handleSetPositionSeek(null)}},b._handleSetPositionSeek=function(a){null!=this._playbackResource&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},b._handleAudioSpriteLoop=function(a){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},b._handleLoop=function(a){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},b._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},b._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},b._setDurationFromSource=function(){this._duration=createjs.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},createjs.HTMLAudioSoundInstance=createjs.promote(a,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function a(){this.AbstractPlugin_constructor(),this.defaultNumChannels=2,this._capabilities=c._capabilities,this._loaderClass=createjs.SoundLoader,this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var b=createjs.extend(a,createjs.AbstractPlugin),c=a;c.MAX_INSTANCES=30,c._AUDIO_READY="canplaythrough",c._AUDIO_ENDED="ended",c._AUDIO_SEEKED="seeked",c._AUDIO_STALLED="stalled",c._TIME_UPDATE="timeupdate",c._capabilities=null,c.isSupported=function(){return c._generateCapabilities(),null!=c._capabilities},c._generateCapabilities=function(){if(null==c._capabilities){var a=document.createElement("audio");if(null==a.canPlayType)return null;c._capabilities={panning:!1,volume:!0,tracks:-1};for(var b=createjs.Sound.SUPPORTED_EXTENSIONS,d=createjs.Sound.EXTENSION_MAP,e=0,f=b.length;f>e;e++){var g=b[e],h=d[g]||g;c._capabilities[g]="no"!=a.canPlayType("audio/"+g)&&""!=a.canPlayType("audio/"+g)||"no"!=a.canPlayType("audio/"+h)&&""!=a.canPlayType("audio/"+h)}}},b.register=function(a){var b=createjs.HTMLAudioTagPool.get(a.src),c=this.AbstractPlugin_register(a);return c.setTag(b),c},b.removeSound=function(a){this.AbstractPlugin_removeSound(a),createjs.HTMLAudioTagPool.remove(a)},b.create=function(a,b,c){var d=this.AbstractPlugin_create(a,b,c);return d.setPlaybackResource(null),d},b.toString=function(){return"[HTMLAudioPlugin]"},b.setVolume=b.getVolume=b.setMute=null,createjs.HTMLAudioPlugin=createjs.promote(a,"AbstractPlugin")}(),this.createjs=this.createjs||{},function(){"use strict";function a(b,c,d){this.ignoreGlobalPause=!1,this.loop=!1,this.duration=0,this.pluginData=d||{},this.target=b,this.position=null,this.passive=!1,this._paused=!1,this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],this._prevPosition=0,this._stepPosition=0,this._prevPos=-1,this._target=b,this._useTicks=!1,this._inited=!1,this._registered=!1,c&&(this._useTicks=c.useTicks,this.ignoreGlobalPause=c.ignoreGlobalPause,this.loop=c.loop,c.onChange&&this.addEventListener("change",c.onChange),c.override&&a.removeTweens(b)),c&&c.paused?this._paused=!0:createjs.Tween._register(this,!0),c&&null!=c.position&&this.setPosition(c.position,a.NONE)}var b=createjs.extend(a,createjs.EventDispatcher);a.NONE=0,a.LOOP=1,a.REVERSE=2,a.IGNORE={},a._tweens=[],a._plugins={},a.get=function(b,c,d,e){return e&&a.removeTweens(b),new a(b,c,d)},a.tick=function(b,c){for(var d=a._tweens.slice(),e=d.length-1;e>=0;e--){var f=d[e];c&&!f.ignoreGlobalPause||f._paused||f.tick(f._useTicks?1:b)}},a.handleEvent=function(a){"tick"==a.type&&this.tick(a.delta,a.paused)},a.removeTweens=function(b){if(b.tweenjs_count){for(var c=a._tweens,d=c.length-1;d>=0;d--){var e=c[d];e._target==b&&(e._paused=!0,c.splice(d,1))}b.tweenjs_count=0}},a.removeAllTweens=function(){for(var b=a._tweens,c=0,d=b.length;d>c;c++){var e=b[c];e._paused=!0,e.target&&(e.target.tweenjs_count=0)}b.length=0},a.hasActiveTweens=function(b){return b?null!=b.tweenjs_count&&!!b.tweenjs_count:a._tweens&&!!a._tweens.length},a.installPlugin=function(b,c){var d=b.priority;null==d&&(b.priority=d=0);for(var e=0,f=c.length,g=a._plugins;f>e;e++){var h=c[e];if(g[h]){for(var i=g[h],j=0,k=i.length;k>j&&!(d<i[j].priority);j++);g[h].splice(j,0,b)}else g[h]=[b]}},a._register=function(b,c){var d=b._target,e=a._tweens;if(c&&!b._registered)d&&(d.tweenjs_count=d.tweenjs_count?d.tweenjs_count+1:1),e.push(b),!a._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",a),a._inited=!0);else if(!c&&b._registered){d&&d.tweenjs_count--;for(var f=e.length;f--;)if(e[f]==b){e.splice(f,1);break}}b._registered=c},b.wait=function(a,b){if(null==a||0>=a)return this;var c=this._cloneProps(this._curQueueProps);return this._addStep({d:a,p0:c,e:this._linearEase,p1:c,v:b})},b.to=function(a,b,c){return(isNaN(b)||0>b)&&(b=0),this._addStep({d:b||0,p0:this._cloneProps(this._curQueueProps),e:c,p1:this._cloneProps(this._appendQueueProps(a))})},b.call=function(a,b,c){return this._addAction({f:a,p:b?b:[this],o:c?c:this._target})},b.set=function(a,b){return this._addAction({f:this._set,o:this,p:[a,b?b:this._target]})},b.play=function(a){return a||(a=this),this.call(a.setPaused,[!1],a)},b.pause=function(a){return a||(a=this),this.call(a.setPaused,[!0],a)},b.setPosition=function(a,b){0>a&&(a=0),null==b&&(b=1);var c=a,d=!1;if(c>=this.duration&&(this.loop?c%=this.duration:(c=this.duration,d=!0)),c==this._prevPos)return d;var e=this._prevPos;if(this.position=this._prevPos=c,this._prevPosition=a,this._target)if(d)this._updateTargetProps(null,1);else if(this._steps.length>0){for(var f=0,g=this._steps.length;g>f&&!(this._steps[f].t>c);f++);var h=this._steps[f-1];this._updateTargetProps(h,(this._stepPosition=c-h.t)/h.d)}return 0!=b&&this._actions.length>0&&(this._useTicks?this._runActions(c,c):1==b&&e>c?(e!=this.duration&&this._runActions(e,this.duration),this._runActions(0,c,!0)):this._runActions(e,c)),d&&this.setPaused(!0),this.dispatchEvent("change"),d},b.tick=function(a){this._paused||this.setPosition(this._prevPosition+a)},b.setPaused=function(b){return this._paused===!!b?this:(this._paused=!!b,a._register(this,!b),this)},b.w=b.wait,b.t=b.to,b.c=b.call,b.s=b.set,b.toString=function(){return"[Tween]"},b.clone=function(){throw"Tween can not be cloned."},b._updateTargetProps=function(b,c){var d,e,f,g,h,i;if(b||1!=c){if(this.passive=!!b.v,this.passive)return;b.e&&(c=b.e(c,0,1,1)),d=b.p0,e=b.p1}else this.passive=!1,d=e=this._curQueueProps;for(var j in this._initQueueProps){null==(g=d[j])&&(d[j]=g=this._initQueueProps[j]),null==(h=e[j])&&(e[j]=h=g),f=g==h||0==c||1==c||"number"!=typeof g?1==c?h:g:g+(h-g)*c;var k=!1;if(i=a._plugins[j])for(var l=0,m=i.length;m>l;l++){var n=i[l].tween(this,j,f,d,e,c,!!b&&d==e,!b);n==a.IGNORE?k=!0:f=n}k||(this._target[j]=f)}},b._runActions=function(a,b,c){var d=a,e=b,f=-1,g=this._actions.length,h=1;for(a>b&&(d=b,e=a,f=g,g=h=-1);(f+=h)!=g;){var i=this._actions[f],j=i.t;(j==e||j>d&&e>j||c&&j==a)&&i.f.apply(i.o,i.p)}},b._appendQueueProps=function(b){var c,d,e,f,g;for(var h in b)if(void 0===this._initQueueProps[h]){if(d=this._target[h],c=a._plugins[h])for(e=0,f=c.length;f>e;e++)d=c[e].init(this,h,d);this._initQueueProps[h]=this._curQueueProps[h]=void 0===d?null:d}else d=this._curQueueProps[h];for(var h in b){if(d=this._curQueueProps[h],c=a._plugins[h])for(g=g||{},e=0,f=c.length;f>e;e++)c[e].step&&c[e].step(this,h,d,b[h],g);this._curQueueProps[h]=b[h]}return g&&this._appendQueueProps(g),this._curQueueProps},b._cloneProps=function(a){var b={};for(var c in a)b[c]=a[c];return b},b._addStep=function(a){return a.d>0&&(this._steps.push(a),a.t=this.duration,this.duration+=a.d),this},b._addAction=function(a){return a.t=this.duration,this._actions.push(a),this},b._set=function(a,b){for(var c in a)b[c]=a[c]},createjs.Tween=createjs.promote(a,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function a(a,b,c){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.duration=0,this.loop=!1,this.position=null,this._paused=!1,this._tweens=[],this._labels=null,this._labelList=null,this._prevPosition=0,this._prevPos=-1,this._useTicks=!1,this._registered=!1,c&&(this._useTicks=c.useTicks,this.loop=c.loop,this.ignoreGlobalPause=c.ignoreGlobalPause,c.onChange&&this.addEventListener("change",c.onChange)),a&&this.addTween.apply(this,a),this.setLabels(b),c&&c.paused?this._paused=!0:createjs.Tween._register(this,!0),c&&null!=c.position&&this.setPosition(c.position,createjs.Tween.NONE)}var b=createjs.extend(a,createjs.EventDispatcher);b.addTween=function(a){var b=arguments.length;if(b>1){for(var c=0;b>c;c++)this.addTween(arguments[c]);return arguments[0]}return 0==b?null:(this.removeTween(a),this._tweens.push(a),a.setPaused(!0),a._paused=!1,a._useTicks=this._useTicks,a.duration>this.duration&&(this.duration=a.duration),this._prevPos>=0&&a.setPosition(this._prevPos,createjs.Tween.NONE),a)},b.removeTween=function(a){var b=arguments.length;if(b>1){for(var c=!0,d=0;b>d;d++)c=c&&this.removeTween(arguments[d]);return c}if(0==b)return!1;for(var e=this._tweens,d=e.length;d--;)if(e[d]==a)return e.splice(d,1),a.duration>=this.duration&&this.updateDuration(),!0;return!1},b.addLabel=function(a,b){this._labels[a]=b;var c=this._labelList;if(c){for(var d=0,e=c.length;e>d&&!(b<c[d].position);d++);c.splice(d,0,{label:a,position:b})}},b.setLabels=function(a){this._labels=a?a:{}},b.getLabels=function(){var a=this._labelList;if(!a){a=this._labelList=[];var b=this._labels;for(var c in b)a.push({label:c,position:b[c]});a.sort(function(a,b){return a.position-b.position})}return a},b.getCurrentLabel=function(){var a=this.getLabels(),b=this.position,c=a.length;if(c){for(var d=0;c>d&&!(b<a[d].position);d++);return 0==d?null:a[d-1].label}return null},b.gotoAndPlay=function(a){this.setPaused(!1),this._goto(a)},b.gotoAndStop=function(a){this.setPaused(!0),this._goto(a)},b.setPosition=function(a,b){var c=this._calcPosition(a),d=!this.loop&&a>=this.duration;if(c==this._prevPos)return d;this._prevPosition=a,this.position=this._prevPos=c;for(var e=0,f=this._tweens.length;f>e;e++)if(this._tweens[e].setPosition(c,b),c!=this._prevPos)return!1;return d&&this.setPaused(!0),this.dispatchEvent("change"),d},b.setPaused=function(a){this._paused=!!a,createjs.Tween._register(this,!a)},b.updateDuration=function(){this.duration=0;for(var a=0,b=this._tweens.length;b>a;a++){var c=this._tweens[a];c.duration>this.duration&&(this.duration=c.duration)}},b.tick=function(a){this.setPosition(this._prevPosition+a)},b.resolve=function(a){var b=Number(a);return isNaN(b)&&(b=this._labels[a]),b},b.toString=function(){return"[Timeline]"},b.clone=function(){throw"Timeline can not be cloned."},b._goto=function(a){var b=this.resolve(a);null!=b&&this.setPosition(b)},b._calcPosition=function(a){return 0>a?0:a<this.duration?a:this.loop?a%this.duration:this.duration},createjs.Timeline=createjs.promote(a,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function a(){throw"Ease cannot be instantiated."}a.linear=function(a){return a},a.none=a.linear,a.get=function(a){return-1>a&&(a=-1),a>1&&(a=1),function(b){return 0==a?b:0>a?b*(b*-a+1+a):b*((2-b)*a+(1-a))}},a.getPowIn=function(a){return function(b){return Math.pow(b,a)}},a.getPowOut=function(a){return function(b){return 1-Math.pow(1-b,a)}},a.getPowInOut=function(a){return function(b){return(b*=2)<1?.5*Math.pow(b,a):1-.5*Math.abs(Math.pow(2-b,a))}},a.quadIn=a.getPowIn(2),a.quadOut=a.getPowOut(2),a.quadInOut=a.getPowInOut(2),a.cubicIn=a.getPowIn(3),a.cubicOut=a.getPowOut(3),a.cubicInOut=a.getPowInOut(3),a.quartIn=a.getPowIn(4),a.quartOut=a.getPowOut(4),a.quartInOut=a.getPowInOut(4),a.quintIn=a.getPowIn(5),a.quintOut=a.getPowOut(5),a.quintInOut=a.getPowInOut(5),a.sineIn=function(a){return 1-Math.cos(a*Math.PI/2)},a.sineOut=function(a){return Math.sin(a*Math.PI/2)},a.sineInOut=function(a){return-.5*(Math.cos(Math.PI*a)-1)},a.getBackIn=function(a){return function(b){return b*b*((a+1)*b-a)}},a.backIn=a.getBackIn(1.7),a.getBackOut=function(a){return function(b){return--b*b*((a+1)*b+a)+1}},a.backOut=a.getBackOut(1.7),a.getBackInOut=function(a){return a*=1.525,function(b){return(b*=2)<1?.5*(b*b*((a+1)*b-a)):.5*((b-=2)*b*((a+1)*b+a)+2)}},a.backInOut=a.getBackInOut(1.7),a.circIn=function(a){return-(Math.sqrt(1-a*a)-1)},a.circOut=function(a){return Math.sqrt(1- --a*a)},a.circInOut=function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},a.bounceIn=function(b){return 1-a.bounceOut(1-b)},a.bounceOut=function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},a.bounceInOut=function(b){return.5>b?.5*a.bounceIn(2*b):.5*a.bounceOut(2*b-1)+.5},a.getElasticIn=function(a,b){var c=2*Math.PI;return function(d){if(0==d||1==d)return d;var e=b/c*Math.asin(1/a);return-(a*Math.pow(2,10*(d-=1))*Math.sin((d-e)*c/b))}},a.elasticIn=a.getElasticIn(1,.3),a.getElasticOut=function(a,b){var c=2*Math.PI;return function(d){if(0==d||1==d)return d;var e=b/c*Math.asin(1/a);return a*Math.pow(2,-10*d)*Math.sin((d-e)*c/b)+1}},a.elasticOut=a.getElasticOut(1,.3),a.getElasticInOut=function(a,b){var c=2*Math.PI;return function(d){var e=b/c*Math.asin(1/a);return(d*=2)<1?-.5*(a*Math.pow(2,10*(d-=1))*Math.sin((d-e)*c/b)):a*Math.pow(2,-10*(d-=1))*Math.sin((d-e)*c/b)*.5+1}},a.elasticInOut=a.getElasticInOut(1,.3*1.5),createjs.Ease=a}(),this.createjs=this.createjs||{},function(){"use strict";function a(){throw"MotionGuidePlugin cannot be instantiated."}a.priority=0,a._rotOffS,a._rotOffE,a._rotNormS,a._rotNormE,a.install=function(){return createjs.Tween.installPlugin(a,["guide","x","y","rotation"]),createjs.Tween.IGNORE},a.init=function(a,b,c){var d=a.target;return d.hasOwnProperty("x")||(d.x=0),d.hasOwnProperty("y")||(d.y=0),d.hasOwnProperty("rotation")||(d.rotation=0),"rotation"==b&&(a.__needsRot=!0),"guide"==b?null:c},a.step=function(b,c,d,e,f){if("rotation"==c&&(b.__rotGlobalS=d,b.__rotGlobalE=e,a.testRotData(b,f)),"guide"!=c)return e;var g,h=e;h.hasOwnProperty("path")||(h.path=[]);var i=h.path;if(h.hasOwnProperty("end")||(h.end=1),h.hasOwnProperty("start")||(h.start=d&&d.hasOwnProperty("end")&&d.path===i?d.end:0),h.hasOwnProperty("_segments")&&h._length)return e;var j=i.length,k=10;if(!(j>=6&&(j-2)%4==0))throw"invalid 'path' data, please see documentation for valid paths";h._segments=[],h._length=0;for(var l=2;j>l;l+=4){for(var m,n,o=i[l-2],p=i[l-1],q=i[l+0],r=i[l+1],s=i[l+2],t=i[l+3],u=o,v=p,w=0,x=[],y=1;k>=y;y++){var z=y/k,A=1-z;m=A*A*o+2*A*z*q+z*z*s,n=A*A*p+2*A*z*r+z*z*t,w+=x[x.push(Math.sqrt((g=m-u)*g+(g=n-v)*g))-1],u=m,v=n}h._segments.push(w),h._segments.push(x),h._length+=w}g=h.orient,h.orient=!0;var B={};return a.calc(h,h.start,B),b.__rotPathS=Number(B.rotation.toFixed(5)),a.calc(h,h.end,B),b.__rotPathE=Number(B.rotation.toFixed(5)),h.orient=!1,a.calc(h,h.end,f),h.orient=g,h.orient?(b.__guideData=h,a.testRotData(b,f),e):e},a.testRotData=function(a,b){if(void 0===a.__rotGlobalS||void 0===a.__rotGlobalE){if(a.__needsRot)return;void 0!==a._curQueueProps.rotation?a.__rotGlobalS=a.__rotGlobalE=a._curQueueProps.rotation:a.__rotGlobalS=a.__rotGlobalE=b.rotation=a.target.rotation||0}if(void 0!==a.__guideData){var c=a.__guideData,d=a.__rotGlobalE-a.__rotGlobalS,e=a.__rotPathE-a.__rotPathS,f=d-e;if("auto"==c.orient)f>180?f-=360:-180>f&&(f+=360);else if("cw"==c.orient){for(;0>f;)f+=360;0==f&&d>0&&180!=d&&(f+=360)}else if("ccw"==c.orient){for(f=d-(e>180?360-e:e);f>0;)f-=360;0==f&&0>d&&-180!=d&&(f-=360)}c.rotDelta=f,c.rotOffS=a.__rotGlobalS-a.__rotPathS,a.__rotGlobalS=a.__rotGlobalE=a.__guideData=a.__needsRot=void 0}},a.tween=function(b,c,d,e,f,g,h,i){var j=f.guide;if(void 0==j||j===e.guide)return d;if(j.lastRatio!=g){var k=(j.end-j.start)*(h?j.end:g)+j.start;switch(a.calc(j,k,b.target),j.orient){case"cw":case"ccw":case"auto":b.target.rotation+=j.rotOffS+j.rotDelta*g;break;case"fixed":default:b.target.rotation+=j.rotOffS}j.lastRatio=g}return"rotation"!=c||j.orient&&"false"!=j.orient?b.target[c]:d},a.calc=function(a,b,c){if(void 0==a._segments)throw"Missing critical pre-calculated information, please file a bug";void 0==c&&(c={x:0,y:0,rotation:0});for(var d=a._segments,e=a.path,f=a._length*b,g=d.length-2,h=0;f>d[h]&&g>h;)f-=d[h],h+=2;var i=d[h+1],j=0;for(g=i.length-1;f>i[j]&&g>j;)f-=i[j],j++;var k=j/++g+f/(g*i[j]);h=2*h+2;var l=1-k;return c.x=l*l*e[h-2]+2*l*k*e[h+0]+k*k*e[h+2],c.y=l*l*e[h-1]+2*l*k*e[h+1]+k*k*e[h+3],a.orient&&(c.rotation=57.2957795*Math.atan2((e[h+1]-e[h-1])*l+(e[h+3]-e[h+1])*k,(e[h+0]-e[h-2])*l+(e[h+2]-e[h+0])*k)),c},createjs.MotionGuidePlugin=a}(),this.createjs=this.createjs||{},function(){"use strict";var a=createjs.TweenJS=createjs.TweenJS||{};a.version="0.6.2",a.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}();
/*! jQuery v1.11.1 -css,-css/addGetHookIf,-css/curCSS,-css/defaultDisplay,-css/hiddenVisibleSelectors,-css/support,-css/swap,-css/var/cssExpand,-css/var/isHidden,-css/var/rmargin,-css/var/rnumnonpx,-effects,-effects/Tween,-effects/animatedSelector,-effects/support,-dimensions,-offset,-deprecated,-event-alias,-wrap | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.1 -css,-css/addGetHookIf,-css/curCSS,-css/defaultDisplay,-css/hiddenVisibleSelectors,-css/support,-css/swap,-css/var/cssExpand,-css/var/isHidden,-css/var/rmargin,-css/var/rnumnonpx,-effects,-effects/Tween,-effects/animatedSelector,-effects/support,-dimensions,-offset,-deprecated,-event-alias,-wrap",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b=a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+-new Date,v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&&(l=!0),0},C="undefined",D=1<<31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=N.replace("w","w#"),P="\\["+M+"*("+N+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+M+"*\\]",Q=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",R=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),S=new RegExp("^"+M+"*,"+M+"*"),T=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),V=new RegExp(Q),W=new RegExp("^"+O+"$"),X={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],!a||"string"!=typeof a)return d;if(1!==(k=b.nodeType)&&9!==k)return[];if(p&&!e){if(f=_.exec(a))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return I.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return I.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+qb(o[l]);w=ab.test(a)&&ob(b.parentNode)||b,x=o.join(",")}if(x)try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function gb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function hb(a){return a[u]=!0,a}function ib(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function jb(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function kb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function nb(a){return hb(function(b){return b=+b,hb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function ob(a){return a&&typeof a.getElementsByTagName!==C&&a}c=fb.support={},f=fb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&&9===e.nodeType&&e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){m()},!1):g.attachEvent&&g.attachEvent("onunload",function(){m()})),c.attributes=ib(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&ib(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==C&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&&(ib(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>",a.querySelectorAll("[msallowclip^='']").length&&q.push("[*^$]="+M+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+M+"*(?:value|"+L+")"),a.querySelectorAll(":checked").length||q.push(":checked")}),ib(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+M+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ib(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",Q)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0;if(f===g)return kb(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n},fb.matches=function(a,b){return fb(a,null,null,b)},fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fb(b,n,null,[a]).length>0},fb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+M+")"+a+"("+M+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?hb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length>0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:hb(function(a){return W.test(a||"")||fb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0>c?c+b:c]}),even:nb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:nb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:nb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:nb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=lb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=mb(b);function pb(){}pb.prototype=d.filters=d.pseudos,d.setFilters=new pb,g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fb.error(a):z(a,i).slice(0)};function qb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function rb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function sb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++)fb(a,b[d],c);return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function vb(a,b,c,d,e,f){return d&&!d[u]&&(d=vb(d)),e&&!e[u]&&(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ub(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>i;i++)if(c=d.relative[a[i].type])m=[rb(sb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return vb(i>1&&sb(m),i>1&&qb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&wb(a.slice(i,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))}m.push(c)}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=G.call(i));s=ub(s)}I.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&fb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?hb(f):f}return h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xb(e,d)),f.selector=a}return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qb(j),!a)return I.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&ob(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ib(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||jb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ib(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||jb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ib(function(a){return null==a.getAttribute("disabled")})||jb(L,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fb}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++)if(m.contains(d[b],this))return!0}));for(b=0;e>b;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H)if(H=m.Deferred(),"complete"===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1);else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}return H.promise(b)};var K="undefined",L;for(L in m(k))break;k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c
}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},U=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var V=/^(?:input|select|textarea)$/i,W=/^key/,X=/^(?:mouse|pointer|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Z=/^([^.]*)(?:\.(.+)|)$/;function $(){return!0}function _(){return!1}function ab(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--)f=Z.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=Z.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--)g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!Y.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,Y.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped())b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=X.test(e)?this.mouseHooks:W.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ab()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===ab()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?$:_):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:_,isPropagationStopped:_,isImmediatePropagationStopped:_,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=$,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=$,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=$,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return V.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;V.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!V.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=_;else if(!d)return this;return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=_),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function bb(a){var b=cb.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var cb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",db=/ jQuery\d+="(?:null|\d+)"/g,eb=new RegExp("<(?:"+cb+")[\\s/>]","i"),fb=/^\s+/,gb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,hb=/<([\w:]+)/,ib=/<tbody/i,jb=/<|&#?\w+;/,kb=/<(?:script|style|link)/i,lb=/checked\s*(?:[^=]|=\s*.checked.)/i,mb=/^$|\/(?:java|ecma)script/i,nb=/^true\/(.*)/,ob=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,pb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},qb=bb(y),rb=qb.appendChild(y.createElement("div"));pb.optgroup=pb.option,pb.tbody=pb.tfoot=pb.colgroup=pb.caption=pb.thead,pb.th=pb.td;function sb(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,sb(d,b));return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function tb(a){U.test(a.type)&&(a.defaultChecked=a.checked)}function ub(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function vb(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function wb(a){var b=nb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function xb(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}function yb(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}}function zb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(vb(b).text=a.text,wb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&U.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!eb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(rb.innerHTML=a.outerHTML,rb.removeChild(f=rb.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(d=sb(f),h=sb(a),g=0;null!=(e=h[g]);++g)d[g]&&zb(e,d[g]);if(b)if(c)for(h=h||sb(a),d=d||sb(f),g=0;null!=(e=h[g]);g++)yb(e,d[g]);else yb(a,f);return d=sb(f,"script"),d.length>0&&xb(d,!i&&sb(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=bb(b),p=[],q=0;n>q;q++)if(f=a[q],f||0===f)if("object"===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(jb.test(f)){h=h||o.appendChild(b.createElement("div")),i=(hb.exec(f)||["",""])[1].toLowerCase(),l=pb[i]||pb._default,h.innerHTML=l[1]+f.replace(gb,"<$1></$2>")+l[2],e=l[0];while(e--)h=h.lastChild;if(!k.leadingWhitespace&&fb.test(f)&&p.push(b.createTextNode(fb.exec(f)[0])),!k.tbody){f="table"!==i||ib.test(f)?"<table>"!==l[1]||ib.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),k.appendChecked||m.grep(sb(p,"input"),tb),q=0;while(f=p[q++])if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=sb(o.appendChild(f),"script"),g&&xb(h),c)){e=0;while(f=h[e++])mb.test(f.type||"")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}),m.fn.extend({text:function(a){return T(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ub(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ub(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(sb(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&xb(sb(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(sb(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return T(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(db,""):void 0;if(!("string"!=typeof a||kb.test(a)||!k.htmlSerialize&&eb.test(a)||!k.leadingWhitespace&&fb.test(a)||pb[(hb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(gb,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(m.cleanData(sb(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(sb(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&lb.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(sb(i,"script"),vb),f=g.length;l>j;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,sb(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,wb),j=0;f>j;j++)d=g[j],mb.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(ob,"")));i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}}),m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var Ab=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(Ab,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Bb,Cb,Db=m.expr.attrHandle,Eb=/^(?:checked|selected)$/i,Fb=k.getSetAttribute,Gb=k.input;m.fn.extend({attr:function(a,b){return T(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?Cb:Bb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?Gb&&Fb||!Eb.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(Fb?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Cb={set:function(a,b,c){return b===!1?m.removeAttr(a,c):Gb&&Fb||!Eb.test(c)?a.setAttribute(!Fb&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=Db[b]||m.find.attr;Db[b]=Gb&&Fb||!Eb.test(b)?function(a,b,d){var e,f;return d||(f=Db[b],Db[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,Db[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),Gb&&Fb||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void(a.defaultValue=b):Bb&&Bb.set(a,b,c)}}),Fb||(Bb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},Db.id=Db.name=Db.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:Bb.set},m.attrHooks.contenteditable={set:function(a,b,c){Bb.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var Hb=/^(?:input|select|textarea|button|object)$/i,Ib=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return T(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):Hb.test(a.nodeName)||Ib.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var Jb=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Jb," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=m.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Jb," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?m.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Jb," ").indexOf(b)>=0)return!0;return!1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Kb=m.now(),Lb=/\?/,Mb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=m.trim(b+"");
return e&&!m.trim(e.replace(Mb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var Nb,Ob,Pb=/#.*$/,Qb=/([?&])_=[^&]*/,Rb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Sb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Tb=/^(?:GET|HEAD)$/,Ub=/^\/\//,Vb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Wb={},Xb={},Yb="*/".concat("*");try{Ob=location.href}catch(Zb){Ob=y.createElement("a"),Ob.href="",Ob=Ob.href}Nb=Vb.exec(Ob.toLowerCase())||[];function $b(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function _b(a,b,c,d){var e={},f=a===Xb;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function ac(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function bc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function cc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ob,type:"GET",isLocal:Sb.test(Nb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Yb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?ac(ac(a,m.ajaxSettings),b):ac(m.ajaxSettings,a)},ajaxPrefilter:$b(Wb),ajaxTransport:$b(Xb),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Rb.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||Ob)+"").replace(Pb,"").replace(Ub,Nb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Vb.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===Nb[1]&&c[2]===Nb[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(Nb[3]||("http:"===Nb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),_b(Wb,k,b,v),2===t)return v;h=k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Tb.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(Lb.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Qb.test(e)?e.replace(Qb,"$1_="+Kb++):e+(Lb.test(e)?"&":"?")+"_="+Kb++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Yb+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=_b(Xb,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=bc(k,v,c)),u=cc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};var dc=/%20/g,ec=/\[\]$/,fc=/\r?\n/g,gc=/^(?:submit|button|image|reset|file)$/i,hc=/^(?:input|select|textarea|keygen)/i;function ic(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||ec.test(a)?d(a,e):ic(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==m.type(b))d(a,b);else for(e in b)ic(a+"["+e+"]",b[e],c,d)}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)ic(c,a[c],b,e);return d.join("&").replace(dc,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&hc.test(this.nodeName)&&!gc.test(a)&&(this.checked||!U.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(fc,"\r\n")}}):{name:b.name,value:c.replace(fc,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&mc()||nc()}:mc;var jc=0,kc={},lc=m.ajaxSettings.xhr();a.ActiveXObject&&m(a).on("unload",function(){for(var a in kc)kc[a](void 0,!0)}),k.cors=!!lc&&"withCredentials"in lc,lc=k.ajax=!!lc,lc&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++jc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete kc[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=kc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function mc(){try{return new a.XMLHttpRequest}catch(b){}}function nc(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var oc=[],pc=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=oc.pop()||m.expando+"_"+Kb++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(pc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&pc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(pc,"$1"+e):b.jsonp!==!1&&(b.url+=(Lb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,oc.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var qc=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&qc)return qc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var rc=a.jQuery,sc=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=sc),b&&a.jQuery===m&&(a.jQuery=rc),m},typeof b===K&&(a.jQuery=a.$=m),m});
//# sourceMappingURL=jquery.min.map



function extend(Child,Parent)
{var F=function(){};F.prototype=Parent.prototype;Child.prototype=new F();Child.prototype.constructor=Child;Child.superclass=Parent.prototype;}
function array_diff(a1,a2){var result=[];for(var i=0;i<a1.length;i++){if(a2.indexOf(a1[i])===-1){result.push(a1[i]);}}
return result;}
function array_min(numArray){return Math.min.apply(null,numArray);}
function array_max(numArray){return Math.max.apply(null,numArray);}
function number_format(number,decimals,dec_point,thousands_sep){number=(number+'').replace(/[^0-9+\-Ee.]/g,'');var n=!isFinite(+number)?0:+number,prec=!isFinite(+decimals)?0:Math.abs(decimals),sep=(typeof thousands_sep==='undefined')?',':thousands_sep,dec=(typeof dec_point==='undefined')?'.':dec_point,s='',toFixedFix=function(n,prec){var k=Math.pow(10,prec);return''+(Math.round(n*k)/k).toFixed(prec);};s=(prec?toFixedFix(n,prec):''+Math.round(n)).split('.');if(s[0].length>3){s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,sep);}
if((s[1]||'').length<prec){s[1]=s[1]||'';s[1]+=new Array(prec-s[1].length+1).join('0');}
return s.join(dec);}
function sort_unique(arr){return arr.sort().filter(function(el,i,a){return(i==a.indexOf(el));});}
function concat_unique(array1,array2){return array1.concat(array2.filter(function(item){return array1.indexOf(item)<0;}));}
function sort_number(list){var _sort=function(a,b){return a-b;};list.sort(_sort);return list;}
function find_near_number(find,list)
{var _cl=null,_cr=null,_cc;for(var i=0;i<list.length;i++){_cc=list[i];if(_cc<find&&(_cl===null||_cl<_cc)){_cl=_cc;}else if(_cc>find&&(_cr===null||_cr>_cc)){_cr=_cc;}}
return[_cl,_cr];}
function find_max(list){var _m=0;for(var i=0,l=list.length;i<l;i++){if(list[i]>_m){_m=list[i];}}
return _m;}
function array_range(from,to,step)
{var _r=[];var _len=getRound((to-from)/step);for(var _i=0;_i<_len;_i++){_r.push(from+(_i*step));}
return _r;}
function ObjectToArray(object)
{var _ar=[];var _key=Object.keys(object);for(var _i=0,_l=_key.length;_i<_l;_i++){_ar.push(object[_key[_i]]);}
return _ar;}
function getRandomInt(min,max)
{return parseInt(Math.random()*(max-min+1))+min;}
function getRound(numeric)
{return~~(0.5+numeric);}
function getClone(object)
{return JSON.parse(JSON.stringify(object));}
function instanceOf(object,constructor)
{var o=object;while(o.__proto__!=null){if(o.__proto__===constructor.prototype)return true;o=o.__proto__;}
return false;}
String.prototype.format=function(){var args=arguments;if(args&&args[0]instanceof Array){args=args[0];}
return this.replace(/{(\d+)}/g,function(match,number){return typeof args[number]!='undefined'?args[number]:match;});};if(typeof Object.assign!='function'){(function(){Object.assign=function(target){'use strict';if(target===undefined||target===null){throw new TypeError('Cannot convert undefined or null to object');}
var output=Object(target);for(var index=1;index<arguments.length;index++){var source=arguments[index];if(source!==undefined&&source!==null){for(var nextKey in source){if(Object.prototype.hasOwnProperty.call(source,nextKey)){output[nextKey]=source[nextKey];}}}}
return output;};})();}
function toTranslite(text)
{return(text+"").replace(/([-])|([\s_-])|([^a-z\d])/gi,function(all,ch,space,words,i){if(space||words){return space?'-':'';}
var code=ch.charCodeAt(0),index=code==1025||code==1105?0:code>1071?code-1071:code-1039,t=['yo','a','b','v','g','d','e','zh','z','i','y','k','l','m','n','o','p','r','s','t','u','f','h','c','ch','sh','shch','','y','','e','yu','ya'];return t[index];});}
function getIframeWindow(iframe_object){var doc;if(iframe_object.contentWindow){return iframe_object.contentWindow;}
if(iframe_object.window){return iframe_object.window;}
if(!doc&&iframe_object.contentDocument){doc=iframe_object.contentDocument;}
if(!doc&&iframe_object.document){doc=iframe_object.document;}
if(doc&&doc.defaultView){return doc.defaultView;}
if(doc&&doc.parentWindow){return doc.parentWindow;}
return undefined;}
function b64d(data){var b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var o1,o2,o3,h1,h2,h3,h4,bits,i=0,enc='';do{h1=b64.indexOf(data.charAt(i++));h2=b64.indexOf(data.charAt(i++));h3=b64.indexOf(data.charAt(i++));h4=b64.indexOf(data.charAt(i++));bits=h1<<18|h2<<12|h3<<6|h4;o1=bits>>16&0xff;o2=bits>>8&0xff;o3=bits&0xff;if(h3==64)enc+=String.fromCharCode(o1);else if(h4==64)enc+=String.fromCharCode(o1,o2);else enc+=String.fromCharCode(o1,o2,o3);}while(i<data.length);return enc;}
function delayPromise(duration){return function(){return new Promise(function(resolve,reject){setTimeout(function(){resolve();},duration)});};}
var _canvasType=null;function webgl_detect(return_context)
{if(!!window.WebGLRenderingContext){var canvas=document.createElement("canvas"),names=["webgl","experimental-webgl","webkit-3d","moz-webgl"],context=false;for(var i=0;i<4;i++){try{context=canvas.getContext(names[i]);if(context&&typeof context.getParameter=="function"){if(return_context){_canvasType=names[i];return true;}
return true;}}catch(e){}}}
return false;}
var __RunApplication={list:[],run:function()
{document.getElementById('wrapper').innerHTML="";document.getElementsByTagName("html")[0].className=__RunPartialApplication.type;if(this.list instanceof Array&&this.list.length>0){for(var i=0;i<this.list.length;i++){setTimeout((function(window,event,i){try{window[event[i]].run();if(typeof window[event[i]].completeRun=="function"){window[event[i]].completeRun();}}catch(e){$_log.error(e,window[event[i]],event[i]);}}(window,this.list,i)),1);if(this.list.length-1==i){$_view_canvas.initMainCanvas();$_signal.goTo("preloader.startLoading");}}}}};!function(e){if("function"==typeof define&&define.amd)define(e);else if("object"==typeof exports)module.exports=e();else{var n=window.Cookies,t=window.Cookies=e();t.noConflict=function(){return window.Cookies=n,t}}}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var t=arguments[e];for(var o in t)n[o]=t[o]}return n}function n(t){function o(n,r,i){var c;if(arguments.length>1){if(i=e({path:"/"},o.defaults,i),"number"==typeof i.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}try{c=JSON.stringify(r),/^[\{\[]/.test(c)&&(r=c)}catch(a){}return r=encodeURIComponent(String(r)),r=r.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)),n=n.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),n=n.replace(/[\(\)]/g,escape),document.cookie=[n,"=",r,i.expires&&"; expires="+i.expires.toUTCString(),i.path&&"; path="+i.path,i.domain&&"; domain="+i.domain,i.secure?"; secure":""].join("")}n||(c={});for(var p=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,d=0;d<p.length;d++){var f=p[d].split("="),l=f[0].replace(u,decodeURIComponent),m=f.slice(1).join("=");'"'===m.charAt(0)&&(m=m.slice(1,-1));try{if(m=t&&t(m,l)||m.replace(u,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(a){}if(n===l){c=m;break}n||(c[l]=m)}catch(a){}}return c}return o.get=o.set=o,o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(n,t){o(n,"",e(t,{expires:-1}))},o.withConverter=n,o}return n()});var HHSShifter=function(injections)
{this._id_key='hhs_shifter_key';this._id_block='hhs_shifter_block';this._id_popup='hhs_shifter_popup';this.trace=null;this._traceDOMActive=false;this.traceDOM=null;this.getCheats=null;this.addCheats=null;this._activeTraceLog=false;this.counters={};this._rulesCheats={"comb":5,"board":15};var _listCookie={"comb":{"name":"Need Row (s1,s2,...s5 or line_id:s1,s2,..s5)","type":"text","cookie":true,cheat:true},"board":{"name":"Need Bar (s1,s2,...s15) [priority][spin, freespin, bonus]","type":"text","cookie":true,cheat:true},"bonus_choise":{"name":"Bonus choise rip/life/n (   TB)","type":"text","cookie":true,cheat:true},"final_multiplier":{"name":"Bonus multiplier last round","type":"text","cookie":true,cheat:true},"_trace":{"name":"Trace domain (node server)","type":"text","varName":"$_shifter.trace.path","init":true,"prompt":true},"_trace_connect":{"name":"Connect to trace after reload","type":"boolean","funcName":"$_shifter._reconnectTrace()","init":true,"afterInit":null},"_trace_to_dom":{"name":"Save log DOM","type":"boolean","funcName":"$_shifter._saveLogToDOM()","init":true},"_h":{"name":"Title popups","type":"titles"},"sBP":{"name":"Show bonus popup","type":"button","execFunc":"$_shifter.closeShifter(); setTimeout(function(){$_signal.exec(\"popup.popups.bonusStart\");}, 500);"},"sFSSP":{"name":"Show FS Start popup","type":"button","execFunc":"$_shifter.closeShifter(); setTimeout(function(){$_signal.exec(\"popup.popups.freeSpinStart\", 15);}, 500);"},"sFSAP":{"name":"Show FS Add popup","type":"button","execFunc":"$_shifter.closeShifter(); setTimeout(function(){$_signal.exec(\"popup.popups.freeSpinAdd\", 15);}, 500);"},"sFSEP+":{"name":"Show FS End & win popup","type":"button","execFunc":"$_shifter.closeShifter(); setTimeout(function(){$_signal.exec(\"popup.popups.freeSpinFinish\", 600);}, 500);"},"sFSEP-":{"name":"Show FS End & no win popup","type":"button","execFunc":"$_shifter.closeShifter(); setTimeout(function(){$_signal.exec(\"popup.popups.freeSpinFinish\", 0);}, 500);"},"timeLoading-":{"name":"Show time loading","type":"button","execFunc":"$_shifter.openTimeLoad();"}};this._readyShifts={"comb":[{"name":"FreeSpins","data":"1,13,13,13"},{"name":"Bonus","data":"1,14,1,14"},{"name":"Big Win","data":"9,9,9,9"}],"board":[{"name":"All win","data":"1,1,1,1,1,1,1,1,1,1,1,1,1,1,1"},{"name":"No win","data":"1,2,3,4,5,6,7,1,2,3,4,5,6,7,1"}]};this._noEmptyCoo=false;this._listCookies={};this.titleGame=null;this.template={};this._lastName=null;this._lastDataText=[];this._memoryName="_shifter";var _scrollTop=0;var _subscriteToSpin=false;var _queueCounter={};var _queueNames=[];var _interfalFocus=null;var memory=$_services.getService("MemoryService");this.init=function(data)
{for(var _k in data){this[_k]=data[_k];}
if(memory.has(this._memoryName,MemoryService.MEMORY_LOCAL_STORAGE)){this._listCookies=memory.get(this._memoryName,MemoryService.MEMORY_LOCAL_STORAGE);}
for(var _key in _listCookie){if(memory.get(_key,MemoryService.MEMORY_COOKIES_STORAGE)){this._noEmptyCoo=true;if(typeof _listCookie[_key].cookie!='undefined'&&_listCookie[_key].cookie===true&&!this._listCookies[_key]){this._listCookies[_key]=memory.get(_key,MemoryService.MEMORY_COOKIES_STORAGE);}
if(this.checkQueue(this._listCookies[_key],_key)){this.subscribeToSpin();this.setToCookieQueue(_key);}}else if(this._listCookies[_key]&&_listCookie[_key].cookie===true){if(this.checkQueue(this._listCookies[_key],_key)){this.subscribeToSpin();this.setToCookieQueue(_key);}else{this.setMemory(_key,this._listCookies[_key]);}}
if(typeof _listCookie[_key].init!='undefined'&&_listCookie[_key].init===true&&this._listCookies[_key]){if(typeof _listCookie[_key].varName!='undefined'){eval('window.'+_listCookie[_key].varName+'="'+this._listCookies[_key]+'";');}
if(typeof _listCookie[_key].funcName!='undefined'){setTimeout(function(){eval('window.'+_listCookie[_key].funcName+';');},50);}
if(typeof _listCookie[_key].afterInit!='undefined'){this._listCookies[_key]=_listCookie[_key].afterInit;}}}
if(this._noEmptyCoo===true){memory.set(this._memoryName,this._listCookies,MemoryService.MEMORY_LOCAL_STORAGE);}
this.template.appendHtml(document.body,this.template.render('init',{_id:this._id_key}));};this.open=function()
{this.template.initCss();if(document.getElementById(this._id_block)===null){this.template.appendHtml(document.body,this.template.render('main',{_id:this._id_block,_title:this.titleGame,_close:'$_shifter.closeShifter();',_list:_listCookie,_trace_key:'$_shifter.openTrace();',_data:this._listCookies,_change:'$(\'\')'}));}else{document.getElementById(this._id_block).style.display="block";}
window.scrollTo(0,0);$_event_blocked.setEvent(0);$_view_canvas._freezeTicker=true;};this.openChange=function(name)
{this._lastName=name;if(typeof _listCookie[name].prompt!='undefined'&&_listCookie[name].prompt===true){var _valuePrompt=prompt(_listCookie[name].name);this._listCookies[name]=_valuePrompt;var el=document.getElementById("__shifter_"+name+" div");el.outerHTML=_valuePrompt;memory.set(this._memoryName,this._listCookies,MemoryService.MEMORY_LOCAL_STORAGE);}else{this.template.appendHtml(document.body,this.template.render('popupData',{_id:this._id_popup,_name:_listCookie[name].name,_shifts:typeof this._readyShifts[name]!="undefined"?this._readyShifts[name]:[],_value:typeof this._listCookies[name]=='undefined'?'':this._listCookies[name],_close:'$_shifter.closeChange();'}));window.scrollTo(0,0);}};this.addShifts=function(id){var _el=document.getElementById("_shif_value");if(this._readyShifts[this._lastName][id]){if(!_el.value){_el.value=this._readyShifts[this._lastName][id].data;}else{_el.value=_el.value+"/"+this._readyShifts[this._lastName][id].data;}}};this.closeShifter=function()
{if(_interfalFocus!==null){clearInterval(_interfalFocus);_interfalFocus=null;}
$_event_blocked.setEvent(1);document.getElementById(this._id_block).style.display="none";$_view_canvas._freezeTicker=false;createjs.Ticker.paused=false;};this.changeBoolean=function(name,object)
{var _typeData=typeof _listCookie[name].cookie=='undefined'&&typeof _listCookie[name].varName!='undefined';if(typeof this._listCookies[name]=='undefined'||this._listCookies[name]===null||this._listCookies[name]==""){if(_typeData){this._saveVariable(name);}else{this.setMemory(name,'1');}
this.template.addClass('_active_',object);}else{if(_typeData){this._removeVariable(name);}else{this.template.removeClass('_active_',object);}
this.setMemory(name,null);}
memory.set(this._memoryName,this._listCookies,MemoryService.MEMORY_LOCAL_STORAGE);};this.openButton=function(name,object){if(typeof _listCookie[name].funcName=='undefined'&&typeof _listCookie[name].execFunc=='undefined'){return;}
this.template.addClass('_active_',object);if(_listCookie[name].execFunc!==undefined){eval(_listCookie[name].execFunc);}else{var variable=_listCookie[name].funcName.split(".");window[variable[0]][variable[1]]();}
setTimeout(function(){this.template.removeClass('_active_',object);}.bind(this),200);};this.saveText=function()
{var _old=this._lastDataText.join("");var _val=document.getElementById("_shif_value").value;if(_val!==_old){var _r=_val.split(',');var _n=[];for(var _i=0;_i<_r.length;_i++){if(_i>0){_n.push(',');}
_n.push(_r[_i]);}
this._lastDataText=_n;}
this._listCookies[this._lastName]=this._lastDataText.join("");if(this.checkQueue(this._listCookies[this._lastName],this._lastName)){_queueCounter[this._lastName]=0;this.setToCookieQueue(this._lastName);}else{this.setMemory(this._lastName,this._lastDataText.join(""));}
this.closeChange();memory.set(this._memoryName,this._listCookies,MemoryService.MEMORY_LOCAL_STORAGE);var last=$("#__shifter_"+this._lastName);if(this._lastDataText.length>0){last.html(this.template.render('issetData.text',{_name:this._lastName,value:this._lastDataText.join("")}));}else{last.html(this.template.render('emptyData.text',{_name:this._lastName}));}
this.counters={};};this.removeText=function()
{this._lastDataText=[];document.getElementById("_shif_value").value="";this.setMemory(this._lastName,null);this.closeChange();memory.set(this._memoryName,this._listCookies,MemoryService.MEMORY_LOCAL_STORAGE);$("#__shifter_"+this._lastName).html(this.template.render('emptyData.text',{_name:this._lastName}));this.counters={};};this.closeChange=function()
{this.template.remove(this._id_popup);};this.setNumber=function(num)
{if(num==-1){this._lastDataText.pop();}else{this._lastDataText.push(num);}
document.getElementById("_shif_value").value=this._lastDataText.join('');};this._saveVariable=function(name)
{var _el=_listCookie[name].varName.split('.');var _var=null;switch(_el.length){case 3:_var=window[_el[0]][_el[1]][_el[2]];break;case 2:_var=window[_el[0]][_el[1]];break;case 1:_var=window[_el[0]];break;default:$_log.error('Data not save!');return null;}
this._listCookies[name]=_var;memory.set(this._memoryName,this._listCookies,MemoryService.MEMORY_LOCAL_STORAGE);$("#__shifter_"+name).html(this.template.render('issetData.boolean',{_name:name}));};this._removeVariable=function(name)
{this._listCookies[name]=null;memory.set(this._memoryName,this._listCookies,MemoryService.MEMORY_LOCAL_STORAGE);$("#__shifter_"+name).html(this.template.render('emptyData.boolean',{_name:name}));};this.setMemory=function(name,value,saveLocal)
{name=$.trim(name);var _d=decodeURIComponent(value);memory.set(name,_d,MemoryService.MEMORY_COOKIES_STORAGE);if(!value){memory.set(name,"",MemoryService.MEMORY_COOKIES_STORAGE);this._listCookies[name]="";memory.set(this._memoryName,this._listCookies,MemoryService.MEMORY_LOCAL_STORAGE);}else if(memory.get(name,MemoryService.MEMORY_COOKIES_STORAGE)==_d){if(saveLocal!==false){this._listCookies[name]=value;memory.set(this._memoryName,this._listCookies,MemoryService.MEMORY_LOCAL_STORAGE);}}else{alert('Data not save!');}};this.checkQueue=function(text,key)
{if(!text){return false;}
var _res=text.indexOf('/')!=-1;if(_res===false){return false;}
if(typeof _queueCounter[key]=='undefined'){_queueCounter[key]=0;}
if(_queueNames.indexOf(key)==-1){_queueNames.push(key);}
return _res;};this.setToCookieQueue=function(key)
{var _list=this._listCookies[key];if(this.checkQueue(_list,key)){var _r=_list.split("/");this.setMemory(key,_r[_queueCounter[key]],false);if(_queueCounter[key]<_r.length-1){_queueCounter[key]++;}else{_queueCounter[key]=0;}}};this.subscribeToSpin=function()
{if(_subscriteToSpin===true){return null;}
_subscriteToSpin=true;$_event.setSubscriber("spinResult","$_shifter");};this.spinResultEvent=function()
{if(_queueNames.length==0){return null;}
for(var _i=0;_i<_queueNames.length;_i++){this.setToCookieQueue(_queueNames[_i]);}};this.openTrace=function()
{if(this._traceDOMActive===true){this.traceDOM.open();return false;}
if(this._activeTraceLog===false){var _answer=confirm("You want to broadcast logs?");if(_answer===true){alert("Broadcast log to server");this.trace.close();this.trace.transmit();}else if(confirm("Do you want to receive logs from the server?")){alert("Listen logs from devices");this.trace.close();this.trace.receive();}else{this.trace.close();return null;}
this._activeTraceLog=true;this.trace.connect();}else{alert("Broadcast is closed");this.trace.close();this._activeTraceLog=false;}};this._reconnectTrace=function()
{this.startLoadingEvent();};this.startLoadingEvent=function()
{$_log._traceStart=true;if(this._traceDOMActive===true){this.traceDOM.init();}else{this._activeTraceLog=true;this.trace.transmit();this.trace.connect();}};this.getProtocolCheats=function(){var data=memory.get(this._memoryName,MemoryService.MEMORY_LOCAL_STORAGE);if(data==null){return undefined;}
var cheats={};var saveCheats={};for(var key in _listCookie){if(_listCookie[key].cheat!==undefined&&_listCookie[key].cheat===true){if(data[key]){var ch=data[key].split("/");if(ch.length==0){continue;}
var el=ch.shift();saveCheats[key]=ch.join("/");if(this._rulesCheats[key]!=null){var rules=el.split(":");var elRule=rules[rules.length-1];var elements=elRule.split(",");var diff=this._rulesCheats[key]-elements.length;for(var i=0;i<diff;i++){elements.push(getRandomInt(1,8));}
elements.splice(this._rulesCheats[key]);if(rules.length>1){el=[rules[0],elements.join(",")].join(":");}else{el=elements.join(",");}}
cheats[key]=el;}}}
memory.set(this._memoryName,saveCheats,MemoryService.MEMORY_LOCAL_STORAGE);return Object.keys(cheats).length>0?cheats:undefined;};this._saveLogToDOM=function()
{this._traceDOMActive=true;this._reconnectTrace();};this.luckyGetCheats=function(callback){alert(1);this._transfer=new TransferJSONP({"actionCurlUrl":$_args.actionCurlUrl,noStatus:true});console.log('!!! this._transfer',this._transfer);this._transfer.callback(function(data){console.log('!!! shifter callback',data);});this._transfer.send(this.getCheats.format($_args.alias),"",TransferInterface.TYPE_GET);};this._loadingTimes={};this._loadingTimeMin=null;this._loadingTimeMax=0;this.setLoadingStart=function(_name,_size,_streamNumber){var time=+new Date();if(this._loadingTimeMin==null){this._loadingTimeMin=time;}
this._loadingTimes[_name]={"name":_name,"size":_size,"stream":_streamNumber,"start":time};};this.setLoadingEnd=function(_name){var time=+new Date();if(this._loadingTimes[_name]!==undefined){this._loadingTimes[_name]["end"]=time;if(this._loadingTimeMax<time){this._loadingTimeMax=time;}}};this.openTimeLoad=function(){this.template.appendHtml(document.body,this.template.render('timeLoading',{_min:this._loadingTimeMin,_max:this._loadingTimeMax,_list:this._loadingTimes,_update:"$_shifter._updateTimes();",_time:this._loadingTimeMax-this._loadingTimeMin,_close:'$_shifter.closeChange();'}));window.scrollTo(0,0);};this._updateTimes=function(){if(this._timesInt===undefined){this._timesInt=setInterval(function(){$("#hhs_shifter_popup").remove();this.template.appendHtml(document.body,this.template.render('timeLoading',{_min:this._loadingTimeMin,_max:this._loadingTimeMax,_list:this._loadingTimes,_update:"$_shifter._updateTimes();",_time:this._loadingTimeMax-this._loadingTimeMin,_close:'$_shifter.closeChange();'}));}.bind(this),5*100);}else{clearInterval(this._timesInt);this._timesInt=undefined;}};this.init(injections);};var HHSShifterTemplates=function()
{var _cssIsset=false;var _css="<style type='text/css'>\
        #hhs_shifter_block, #hhs_shifter_popup{font-size: 16px;}\
        #hhs_shifter_block ._check_ { background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABDCAYAAAALU4KYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAEKtJREFUeNrtnFtsXNd1hr+19j5nhhzedKMtiZJlOZKsuHHkG3yJY8Vo0jR10eahBdoCbdE+pHCbAn3pWx/60re8FG2Ctkhf+hCgCAoHaHpxGyBGkdqOY8txIsVWoostWbauvJPDmXP2Xn3YZ4ZDihKpJJRYgBsgMZwZnr33f9b612WvdWRyfOpcFLbW81h6zZhtR6QsEAQRA4yNMMSMIEoWA0E8rWiYONQKAIIZuo7zmxmqinOOPM8py9Kb2bgXbKgv940T56f566/9N2cmChZMEFXEQNgYIwiIZXiazMach0ZKfu2R3ey+e5Tcg4oR1nm1MUZarRZ5nnP48GHMrPQqRtlu8+d/8wLfvtDAj+4DFZQIpmyUIURMjBAdW2SOTz2Y8emjj9IuAq0yEEzIZP2kD0BVqdfrnDhxglOnTnHo0CG8z3Pee/8SJ6f7GNl/P14irixAHCbcmgpbd7dL3pLOL5PuZ1b9Tp/Jmi4tRJql596Bks8+tI9WEZm4No44RxCHs7gu4Em1vhgjCwsLHDhwgNOnTxNjxMcELfXGMG3vyCJo5jHxy1DpgCOICWAkpXHVJGBimBhEBwIOkAilRsQcEJIkodU1lKCGmCHXqd+yeU0QiQQB75WgnnKhxGU1RMADhls3CRQRnHOEECjLknq9ngAUQBRqTqn5HE+oRNYQ0ZtIRGfLEXCoKEjEohHU4bQkWkGQfpyUeBOcBdqWgYBJC9STWcQFw0RXMSKJUXypOLdAiAWZq6FKd523g6876pxkSfCdmZ33ZFmtAjCuCKCYYIBpxEwQ8ZQEmrOzFK02Tj21Rj+NumKhjqknto35ZqDMc/rqObm10VgnmNKcmyWr1XF5HaG4KQRiQhQjF8W7HMGh4hDRroqtG/9W1+9YYlXtSqU3MzDIfEaW5XgrsUp95DrHwDASiN5F5mZmyOYu8Owex8HROtOtNt979yInr+2kftddODNG/CUeb1xkuq2cLPaR1QcxWgwzz+HaB1yUIc6yn8zcqhIYxUAdmc/S6jSpVe8mb4tBE+lKogdJSPqM3Oc4cxXrGywDUIiAYpozNzfJ/f0TfOkPHuOBA2Pd75QLM/zDN4/xt69fYm5gD0f338Pf/86TtFpz/OHfHee1qQGiDPDxA0N89bee4MUfXOVPvzFJlmfXce1ySkz8mnwxxJBKGu4EgJ3hO1ztXU6W1VArka51tOucCROhCJEdfW2+8ruPcu+ubbxwbJZvvjPP6FDGHz0zyB//xieZth/w5eMRc54YjVptkD/7pVG+8M9TtGo70eommQhZnpFnq7tMJooExTsPFlF1qIYlErHeKiwiSwE0MxAhyzxl5lGTCsCkrkscSTWceYpijs8/NMC9u7bxHydm+Mv/mqPISsLZyIWZNl/97VF+/5nd/Nu7E5RaB2Ch3eSxw/fymw+8xT/+qIX3DSAAGbnL8H4VFZZkaNQpXjyIoiqo6h0D0MzwIsmaeufxLkNFUGRF988k4kxZ6Gvw8Ee2AMZLp0q0nrG91iA25njniueHF5o8snuI++4ugWQpv3Omzehwxhc/vZdvnT5PqSOAwwvkeU6WreaCxLQk9Tg6HHh7VXi59FUcWL3IMrKshhPXZT5bwZuN0ejznl39GcSCycLR3+eo4wgyRPCB2dkCqLNtsMZ0SP84vRB54WTgy7++jeefuMY3z18BBjGn+DwnXwbg9XMnH1MtwwWHENHbYIFvxH2LKlwt1TlHlme4jgqvcAGNSisLZMGYKQ00MhIn0HwnmQdvOa25aww6ACWSk0syPIN15ZULwounCz7/1Biz//MewQpMhNzleC/L2HaZ/IkgBm0cuShRqDjQr7sKX6fKMXTVWalCKaeKF/ACTpKLoMKSH5xQ1wDR8eaHHqjxqT0tZt87wbWZec5/eJb7ih/x4N4+Ls8ap6fr1DIBAiqRQdfmn94smQj9/N7R/TjxKRRyhhNZ8rN8bhVwQqKYKiJMAOpt/1lqhSuPwXuHKWi0RQ/iOk8i4kRpeHjpTORXDsLnnryXuHCcfz/2HYZHa3zxVx/B5/3865tNpudz8m2d+LRGn1MuTilff6vNnzyRAYq4ZvLn1G4qgYahksyOk+SNishtd2NEBIvLjAgkCYxiqFbSVoXv1wX0JvRlkal5+NK35/nC0zWee/Yhnnv2AcDTDMLX3ij4xknF1Y1a5tJ1VMEbQy7y4unIk/cID+8UojhyFbxycwAtuVZeO2DJEj/wdvJgXOJIW0QRvFOiRJQqMWAREXedFDhSRDBUV96dyfmrF1sc3FGwbSjHQuDs1QXenfDUM6PmjLNTjr/4z4KZltHIPCoQo/KVl0t2DywwuZDRyGTVODYJWOIcQUAk3ewl+K0fmIsujKaEinRj4WSa1SmZpiWYgai7YWbOIRjGYBYI5jh+GeKldvpMPP11qTZjtErlxBVwCjVXib2DqZbjWlNRgdytfRO5RDIVhIhzjrIsqxu+vumEjguzyIHSSWcJURSnCpLIvJuNWcOFVSAFEdK9cOf/qfgqz6UrwQiogScimSyGaKvuQDGLKBFHAq3XkY7RUHXrqr5dy6uLYHox8JQ4K1GnaCxu7UZWFtEqXy053JbSW0C0mIDtoVTpSLlUoK4BPyMiGKVTojqarSaqrptMUIX1OhWR7tYM7z3z84F2u51UOFrJ8EAfO2rjnJ6eYnhoiBitSpzGtexsMRHdQ65mi6a846J1FmKLvjEi2s3+3FTSEYyI4Si0n++ffo+xvfvo729gZl0Dt87nCoBx8uRJarVaemtyamJSXX349AezfP21qzRjhmQOMSWwcYaLRukMsxwfS0bKMzy8o8nuu3YQDSKuiq3XQ3c7HAizs7NEM44cOQIwJeOTVycxHc59RgwFC2Xl+NpGOdBcLu4ewRPFiFYioZ2SvKJVum39D5b6+vowM2KMU75KHVCWBVE8mVdUBLEULm0cGAU1QAqCtFNMjMdMe4zX+gEoHVMvyfp2M9JiVUpQIs5COuOwkCjbNg6AIiUh1kA9WsWiUULyTA1kHQmnY+hEJMFTGUYzw9MRe+u8SpnoxeT9BlFeE5ACTDDTzllppbay5Phx3bIwlUAtTajeACTZcAwoi/IgK5wRrmcsbDfzDjbHzzQ2AdwEcBPATQA3AdwcmwBuArgJ4CaAm2MTwE0ANwHcBHBz3NLoVmd1qtBvZ7VTZ169AxUGP82o0viUZUkIYRFAp45ms8mVq1coy3KVSqdV2hFWPBNdXveSzkJDGZifn2dqeoqFhQU6h/GLB+UbY4iksr48zxkcHOTAgY8wMjKSDvWnpqYmF+Zbw9///pvs3L2Ter1OlmXEGG8A3nJJCSuwgiwDL14ndSJCu9Wi2Wzy+hvHuHjxUo8UbpwevSR5SfpCCDSb86gqzz//PENDQ1MyMzMzeeb02WEVYdfYLsbHx7uHJuu2IKoyNVWGhoYoy5KXXnqp27LQadxZrj4rqf9Po4Y3u8ZK83RubKfN4a233uKZZ57h6NGjU77DQY1GowveSqWsP3cEJbVOTUxMMDIyQl9fveq/+Nn4dDUwfloJVK0OkbxnbGysO1+3TwSzJUZkPQ9pjMUqBjMjxECW5dRqte6m1zJ1+q50eXPtNSk95ytL3rEb8ni3nM176vVaVyp976Zc1YHTK7brLISdAhm89wwMDGAW1lhpFSu+VUQiRln17clKsyRYbLG+LzU6xtS8Y4qKEmM7VaWZrmgEO55KX1//4rFmR8oEWVLxue6WrUfMUqOPp7+/jxjDDVxUW2KA1HUqBVPNTAgFRK14Kl2vt0qss8cQIlEi3mnVPdrpIk3VXyGUK9ivxbWkdfZ3i5p8747ulC9mBnmeMTDQoCxLVqyOrf7MnGOhucCVq9eYmZvHOWXbtm1s3bodYgAC8805xq+Np/vTUzoXDUa2bkNiYHJyAotJetNngjjH1pER8twt5eIeqfbed0s7egBM91LdnQFQJOK9o9FoUIYKQLseQOc8H7z/Pm+8/jrXxidQ9ZiVqMs5dPCjPPTIg9TryszMJN999buYQRGKrgQXEX75uecIC3O88r8vY2TEosQkEszwWT+f+9xn2To4TAixR/UX0cyyjEajn3a7WASwQzkuFdndCQjJ8xqNgQGKot3R76Xf8I6Za5f57isvM9+Cpz5xlLE9O2kvzPH6997gxA/fol6v8fTRJ+nvu4IQ2Xb3bo4c+RjEMnW7B9i7Zzfnzp4imrJn33189P77iKEAUSLKjtHt9PXVllnwpQDW+vooyrAslENQdXckAjAznPPU6rWkBSuYYM2VN189xfTUHI88+Qme+uRTWCjxzti6ZYR/+fo3+MlPTvHI4w9Tr+dEM4aGR3j4yJGuYx4RyrLNB+eUECLbR0d5qPu5UMRAu71wXVVGb61ulmXUajlzc93amEXK0R4rfDvHYtQji6S4zL+L7RZXLl/FZ/3s27cXYouyjMQobNm6lV07Rzl5+gLXrl2jP0t9dJOT43znlZdRi4RoDG/ZyuHDB6t2XcelDz/k5VdfxUIgxshdu3axe2wXFsONQ9HKmRZ6AayWvu4O9FrNs63wZmkUrTbqNfULWwSJBJILUq/lmAXarQX6M49zwuTkBK+99j0kBsoysv/AQQ4/cH/XHbly+TJXr3yIWKTdbvPo40+yZ88YcdVKL0FSL0ivFZY7IoG9DnWnXni5E28YWZbR3+inuDTO9OwMe9zdUDSRHMqiYHpqGuc8g4ODWJynKANj+8b49GeeRWJqVFTnsZD8zKIseODwx3j66ceJoSRG8HlOCOWqHminuH0ZB3LHAFz1PTPIlL379/POybOcOH6CPXv2MjLQIEqb4z/6MecuXGLrXbvZtn0H4x+cJTW3OwYHhxArU+hohloqh4sGPs8YGhqkLNs96arV9p/4Titt3RASuBbaKAvj0KFDnDt7hnfefocXZufZuXuU9vwcp06dgTznsScepd5fJ0QjhpAkqyxQicRomArmUttuevpGIMRIDHHNzkcnLpYKqw0hgWsB0MzIazV+8TOfYfv2u3j75I95++0TOPHs2rOHhx97jHvuGSOWAecyRrZvZXCogYgRY0DEJ3qI6fkQO0a3MTDQj1m8Zc9NpOfBE7Ozs5NnTp0d3rJ1C9t3bKsigRunilZLn9oaUrC9UaogNJtN3jv3Hr/w4AMURXED2o5ES89LUDVazXmazRb4jEZjiEyFENpEFEcgueMOVz0QyqpwTaocphkEUdwtZm+995w//z5Tk9Pcf+jQVHKkJYLYknbOG0mirIKYrJ6QxqRKu1qHS1JyQIiYheru6rJLOFRTgXci/H6Ga42UrrVIGQyqJrSIQztxtjl6cxNGelyLCLhu04qsgfd6jiBEV+DASoWd06oYfY3ujNz6dxKAK+TuLDXzpZsXV+Sf3tfBVt+z3YDHbj131PFZ02NheorME3BXrlxhbGysygrf0CH7uZyJLI1AHOffP493Oc5luLiBHhm3Al9775mYmKCep4SCTExMTBZFMXzs2DF27Rpjx44dPZFBXAEcWSEvd7PvXH++URXYI6pMz85w/IfHOXjgICMjw9WjJWxZXm9jDFVlfHycK5cvceTjR8iybEomJiYmVXW42Wxy8eKlZVnZdZLARQtStb/6SnVjz+wbB0DryVgB7BjdQV96+NiUTExMnAO2qmrZ+zyAG6f0f152uJenjP9PI4SAmXlg/P8Ac6Ld3JdXaskAAAAASUVORK5CYII='); }\
        #hhs_shifter_block ._keys_, #hhs_shifter_popup ._keys_ { background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcwAAABaCAMAAAACTZZeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAASZQTFRFAAAAMzMz////MzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzNTU1PDw8QD8/QUFBRkZGSEhITExMT09PWVhYW1tbYmJiZWVlcHBwcnFxfHx8f35+hoWFiIeHi4qKj46OmJeXoJ+fpaOjqaiorKqqsbCws7Gxvry8v729wb+/ysnJzcvL1NLS19XV2dfX29nZ4N7e5OLi6efn7uzs8O7u8/Hx+vj4/Pr6JvgGyAAAADV0Uk5TAAAAAwwQEhgbICQwMzxATlBdYGlscHWAio+QlpmfoKKvsLG0v8DDzM/Q0tXb3+Dn7e/w8/xV6p1lAAAOWElEQVR42u2dbZuzRhWACTpWxE4RRZqtWZNKNKsmligaNa5NY3RNt67R6KqxUf7/n3DO8A7nAGFJr+dZZz7kIjlkBrg5LzOcGTRdlVdTNHUJXhNMjQ39oFL8IROc62T1Qp0S6k3CrjK987HWn0gX6UUN9VJ1DJPN8L1m4hLVya4kfMMOp6v0ooZ6qDqGOaR2Guq1sisJ37DD6Sy9qKGXVx3DJFXZ12tlVxK+YYfTWXpRQy+vOoZJ76TXyq4k7CZjVzvWztKLGnpx1a8JJn8LYa73+33++2a/3yiYbyzMx+Pxnm5oE4Zh/vs+DPc9wvQsPsKvnu+ammZ6+DXwHYMWQrWcO4RwxKE4BLCxZegzTDbmvPjHAkzfZrrhEi16lqZZM0I4tyvCl8A8huGmV5iffNYW5pxrmubiMB1NFg89tFGdUFxbQ9c5cfUceRAchelzkKEw3fjoOQbTFyjFdwdtcSwPlc3wu5JJ4bwTzPvNJiEnttbCjG6ew/Bh0xvMX/z+X+E/2sL0NE7C9Kx5MDc0C78GrhAyQhgBo2Byfeh5HgrMN3VjNCcMhfiTN9b1EQZzqBviBstFg7kWBS5H1Ewcq60ZvhDaHWCuTwJNeAKrujvD5iPACXO8XgjzV59+LvZvDTPwAhJmpA+aRhsNTsGcCZNHwjT0OeUXXd3wa32mC9AQmDa05ulZzbkWPU3zpSnBSAdMG0phB5hPEbljxAjKvgbmSuz+/BAJQX/Dw7oe5m///F9Z2ed/KpY/1ARA9TAdzSRgzjyXNLOmPqZhCp21Rz7aJNNti+V9eOlwhDUdoTCFxg7ndsF2p8KhJOXlDrZI2qsI28FcC61crU7gIwWb4/YxDM81PvM5Bi5gbqON86oG5id/C4ny164whYlyCZjgasY4L1e3AhLmXB6DgZlZLz5AKjgqKGYxAJKOOKfWuRZnGiif0zvMe4FjK7zkZi2whsLYyk8K5g4s8iNY42B1hs0TcCRggqsMe4dpafgFgmvJGRFUzHTm0zDB94lLbyJNCqdni7i0YC1JxSwGQFxnjAqARCxrithbm/cLE7iF58Mus7LAkYJ5kPYYdBK4CqXcwQ84zF//Mwz7h2nncVV8ps81AxOaOuPcEB9z0tu6KLChjGBmuj7GD6egmCWfafqgnR7ejWKayTUW9Azz/hj7zDYwjxKbDIAEwfPx+BxvYpr589/9vXeYRZYIEk2bIcL0WZtH/tMrCHO/zqUdxmEKxXQJmLqU6Jm80qKhoWrra9qoEh3lOx/H45Humqx3QuHCNSDabaCs6mBuMpiJ+6R95sd/6RdmiWXR8/mR/ULNLHQihK7g0ZG8apbO8ADIlcYWN7MumG8KpiMHnymYc0tjuL/gGocT4QSucl8iJ32QIA7wKbslImBdS2hbAuYug3nay1Ibzf7ms//0F82a0bgAqnwCtLCkGn63x1ee8JmOtME551foLuq2w4gAqKSYBZjCwtquMO+oYR9zrpH+QlhYEHuXwxRhz/lxL4KZdfAI0c3hGD5JaKcjDvMprg5ioVWbfuYv//jvi/qZNTBjlmgQCBZWXCA3uBymLePOMW4MXFYIZouyomJi0Sw+yAPHas8pfzFi4kRGAQ3zQJnZx8jsCUaruN9xkvqaoso3BL8fHrJodr99PN03jgCB87wE5szzcZjSWoqCXwM/L0Fgzr05NRha+WdQqJYYASrWWBlo9/ODSpX4uW6gXYj9oAbmjvSZO+FQjw/p5uEBIG6ejsd1taHVKetn7sLkNmgxNvvxp+qpSU9PTUQAtOrnERjEvqfdSVrtLZA9P637fmry9sJ86x5Or9a57c3Lq1ZpI8GrSxtRCV2vKKFLpVq+olRLlQT9ipKgVXmDyoCWYOX/b3qCrqYnKJ/5lk5PGHKtVPgwCR9JWQth2VS0EXaVtRB2OpF20tq5WZWGasxspeoGu5zunfQzhxpShlHHjpY1CrG2m4VdZY3CjifSTloPs9xQLcxS1U2z+JK9kxEgjh2sGQ250LJGIdZ2s7CrrFHY8UTaSZtgFhtqgFmouhGmWRzO09ASXT1a1iTEG28UdpU1CbueSCKt8KGlGM18Q3Fkariumw9NuevyQaXqRphaB5iGfGZJXAPGuXkVmJx3gmlm/6vANCBhiYRZOct2MNGOw+BmOjUHAwomPBbM7+0GgdsfTGMkn89iMLmMrDyGXoMojWBuUjC93PBhSeglmUIYMDlRgCMwzVz6EFKpBY/HfBuFyeTD0yEB0/IrZ/kSmFNx+C+FWajwvQ8GLWG68cN2DKafPopHroGdPP3HYVr5gf2ScJY+warCHOVFBRmvhcmDSqXZsc5yz9OrdyVylq1hCmvAE4Mp9FuYUX4XBA7vDeaXv/nj4Id9wBz6Q+7KVCjkGjAhtP00UCjxilICCJiiQeE5XIbAhHHmkY2aWQb/cYsanf1xBJCziL1wrOK+m8F0o9KNl+VRjKzSibSEaSzgLBfCqg7sJWzeDOLUi55gvvP+R2L/1jDNkUHCZEZ0V3MybphRMMcBDZNlc4DKwAxI3+SM9qd2lihdrNSDHDFLJoNVYI5l5pmHnwjklckZCsPLYd5G5KYRI6n8NTCZ2P3OiWCC/gYTox7m17/7M1nZR98plm/VBEAkTFnmaWJXGabjejJTEYEpruqYhClP3LMxYMMkK4eCOS+a4EwIiufOgGgVpidhuqmdLQh5lNKVXoQLYIpbb8HYAnykYDO1boJgWeMz7xI/MRjEM3SWrAbme9+nRn++1xWmUIU5EQTGiYoITGFkfUbCjL3tCAHmZfmzKMycYpbVPfKLYywAErfIzABL2jNM4W2X1gAifkjNFsZWflIw4bQXN2CNB2wJmwvgSMAEVxn0DdP0IakSh+lHY4QITLBrOq2ZwvXN8Wh2Hns3ItLNK2apUjOO1jDNTLPgLRzmuCNM4BYsJ3ZmZYEjBXMi7THo5MCWSmnDDzjMr/6obly2I0zTT2fVYj4TMhuHVZhmMf8R7Wd6hag0kfkw3w9kNgozr5ilSucwIdtLZiWVolnLLyQCX6SZ5nQ6pWCa09hntoE5BWxRACQILqfTu3gT08wvfeMHfcMssMQCILt4DeIWeFDfJYy9o4uaWVMqNg4zr5ilSqUdyEx7+Vg5hOWovzDk7056omWYPK0T65oY9gTCfdjJlnP0WR1MnsFM3CftM9/9sFeYwHLG07GT0t3uGjJJfFSFmXYiXLQXYQlTyP2CRcwFQGPZrUHNrJ0qHgrTlCaBGAFyA8pfiDvEhkR4+2KYjtS1CXzKbslgwAwZAFkETDuDuZDXyK2NZr/2wU97i2bTuXxY3KCN0qkaxHAe6TPjTOYZ1jURTfo+FQDNU41FuyYBpDJjXZN4FinhL+J4bK6RMCd0NLu8cUUwYwxuILqZTINbCXMxxWHexjChSdamn/mVb//kkn5mDUwe1MGMLpBvaxfDjANWtPth+YUnrwVZUTFLlcYTEzyGwQTSvkv5C3lb+iYN06bM7E10KoIRi/sdi8HAiVJ6KzDh94mTRbOudbMwG0eAwHleAtNxLRRmZC1FwfuZEJTajB5od1yH6EXYUCcxMMAc17VwmZn/V9URW/layy7BtRj91EScicOogXYRADHSZ9oiOpo68qrD5sQBfeO306lRhckWWT8zWQ3jts3Y7LvvXwBTPQIjH4E1SGuyrqoNydh3YS/kCJAFZJe3RgRTe+lTExM7Vh5dPVrWKESzHBqFXWWNwo4ncpGUhFlsKI6PksI4tnO8dyNMXpyeoNJGXpw20gQTa6hh505pI2jCklmT0GXW5UGZdelVbYRdZS2EnU7kIinBB2+oYed2CV3mUE1PUNMTVBK0mp6gyhf39gRVFExV3kiY7WzzS+w6beVV6Rlm26jpJREXFX+p0jPMYdCptO1mlftRhakuqvQM0+8Gs+0ACDnCocoVYJYg3cMSfm0XLJEPMXOsTHjA3sTTpMbEVekbZmEpxmaYRYWMEiKalFPBVDBVUTAVTAXzbYa5fjweD9sMJizI+BRR3R2Ox0e5uXpIl24swDRuptOJlcGEdInbiKo9mU5v5CZzosQKBfPaMLfnZL3UCOY+XT812dykS6k+r0owrWWSzRTBdNPspmSTp4lOd0zBvDJMWMM2PGWrxMPK/mf4bQei8+NRrvd/jHfaF2FChlmwyHK4Ie9+Cb/ZkHy2vJnKbPxpvJOrYF4Z5oOgtI7WGJcw4WUNq5X4fAaR0E/B8H4dxpyfizAdQcmIMoAlTJhKwZj4vINkQ6GfgqFpBDHnOwXzyjCPcpX4e3iDo4QZyqXi5SriG1jadruKiJ83m22yUnkKcypzuE1YX0HCDGQit8zx5ZB4ZsE4gsC65ByUVsG8PsxdPpqN1hZfJXYXvOc6/9qGMkw7H81GSdossbvgPY3cpAoF8/owH0ow7+U7AcI1rDkevX8leqHKMXm7Rx6mU4JpiggXptFARnA0Oyqa7gRFwbwyzIN8MUBmZs9SU6VFhbHaFSwLv869tqEAU3jHSd7MLqWmyumHMFbLIGnbyCZVKJhXhgmvpNqvj2kA9AQLwsNS8Id4HXh4AR0o6mETbB7vizBhwqhrTNMA6BbStSFRexJlaUMAxEFRJ3zAb0wF89r9zOQlgOsI5vocf7+XtvZ0ll2TfZj1PvP9zGSKvhHBNJbxd1Pa2sVSdk0Sp3mrYF4b5kr6xfM2GTS4PyXfo1etQM8leRXL+aEEk0m/uLSSQQNzkXyPJkJBz2UQT5RaOgrm1YfzgvuHveyAJM8zN/t9/CKr1TZ96fx6t98mjztzw3kD03FlByR5nsld14onUljgS6PF4mzXEmIF8/owLy4RTPPyTAOuYF4NpkobeUUwv+CELlMldF0Rpkq1fEUwVRL0K4KpioKpioKpioKpioKpYKrylpb/AQZKPKKDfK0eAAAAAElFTkSuQmCC'); }\
        #hhs_shifter_block ._key_up_ {padding: 10px; position: relative; color: #000; border: 1px solid #ccc; border-radius: 5px;}\
        #hhs_shifter_block{width: 100%; height: 100%; position: absolute; top: 0; left: 0; background: #efefef; overflow: hidden; overflow-y: scroll; z-index: 5000010;}\
        #hhs_shifter_block h4, #hhs_shifter_popup h4{color: #000; text-align: center; border-bottom: 1px solid #ccc; position: relative; font-size: 1.2rem;}\
        #hhs_shifter_block ._close_, #hhs_shifter_popup ._close_{position: absolute; top: 1.5rem; right: 0.2rem; width: 3.9rem; height:1.9rem; background-size: 700% 300%; background-position: 15% 92%; z-index: 1000}\
        #hhs_shifter_popup ._list_{padding-top: 1rem; width: 100%; height: 100%; overflow-y:scroll;}\
        #hhs_shifter_block table tr td:first-child {color: rgba(29, 27, 92, 0.87); padding: 0.1rem 0.1rem 0.1rem 0.2rem; border-bottom: 1px solid #ccc;}\
        #hhs_shifter_block table tr td:last-child {color: rgba(29, 27, 92, 0.87); padding: 0.1rem; border-bottom: 1px solid #ccc;}\
        #hhs_shifter_block ._check_._ch_{display: inline-block; margin-top:0.2rem; width: 2.6rem; height: 0.9rem; background-size: 100% 260%; background-position :0 -60%;}\
        #hhs_shifter_block ._check_._ch_._active_{background-position: 0 0;}\
        \
        #hhs_shifter_popup{width: 100%; height: 100%; overflow:hidden; position: absolute; top: 0; left: 0; padding: 0; background: #efefef; z-index: 5000020;}\
        #_shif_value{width: 80%; display: block; padding: 4px; font-size: 0.8rem; color: #000; border: 1px solid #000; margin: 10px auto; border-radius: 3px; box-shadow: 2px 1px 1px #999;}\
        \
        #hhs_shifter_popup ._i_key{width: 2.2rem; height: 2.2rem; margin: 2px 7px; float: left; background-size: 1600% 310%;}\
        #hhs_shifter_popup ._clear_{width: 100%; clear:both; height: 0.3rem;}\
        #hhs_shifter_popup ._i_key._n1{background-position: 0 0;}\
        #hhs_shifter_popup ._i_key._n2{background-position: -100.2% 0;}\
        #hhs_shifter_popup ._i_key._n3{background-position: -93.4% 0;}\
        #hhs_shifter_popup ._i_key._n4{background-position: -86.8% 0;}\
        #hhs_shifter_popup ._i_key._n5{background-position: -80.0% 0;}\
        #hhs_shifter_popup ._i_key._n6{background-position: -73.6% 0;}\
        #hhs_shifter_popup ._i_key._n7{background-position: -67.1% 0;}\
        #hhs_shifter_popup ._i_key._n8{background-position: -60.2% 0;}\
        #hhs_shifter_popup ._i_key._n9{background-position: -53.7% 0;}\
        #hhs_shifter_popup ._i_key._n0{background-position: -46.8% 0;}\
        \
        #hhs_shifter_popup ._i_key._n_bp{background-position: -12.2% 0; width: 2.8rem; background-size: 1000% 310%;}\
        #hhs_shifter_popup ._i_key._n_k{background-position: -39.8% 0;}\
        #hhs_shifter_popup ._i_key._n_set{background-position: -34.5% 0; width: 2.8rem; background-size: 1000% 310%;}\
        #hhs_shifter_popup ._i_key._n_del{background-position: -23.5% 0; width: 2.8rem; background-size: 1000% 310%;}\
        #hhs_shifter_block #_shifter_trace_console{display:block; width: 100%; height: 30%; position: fixed; bottom: 0; left: 0; border-top: 1px solid #000; }\
        #hhs_shifter_block #_shifter_trace_console #_trace_console{display:block; width: 100%; height: 100%;  background: #fff; color: #000; font-size: 1rem; line-height: 12px; padding: 5px}\
        #hhs_shifter_block ._shifter._trace_dom{display:block; width: 100%; height: 100%;  background: #fff; color: #000; font-size: 1rem; line-height: 12px; padding: 5px; position: absolute; overflow-y: scroll; top: 0; left: 0; z-index: 10000}\
        #hhs_shifter_block #list_dom_log{display:block; width: 100%; height: 100%;  background: #fff; color: #000; font-size: 1rem; line-height: 12px; padding: 5px; }\
        #hhs_shifter_popup ._e_ {width: 99%; clear: both; border-bottom: 1px solid #ccc; padding: 1px;}\
        #hhs_shifter_popup ._e_t {width: 20%; float: left; border-right: 1px solid  #ccc; color: #000;}\
        #hhs_shifter_popup ._e_p {width: 5%; float: left; color: red; border-right: 1px solid  #ccc; color: #000;}\
        #hhs_shifter_popup ._e_l {width: 74%; float: left; height: 12px; position: relative;}\
        #hhs_shifter_popup ._e_l ._i_ {position: absolute; background-color: red; height: 12px; top: 1px; left: 0; width: 2px;}\
        </style>";var _templates={'init':'<a id="{{=it._id }}" oncontextmenu="return false" style="cursor: pointer; display:block; z-index: 5000000; background: red; width: 50px; height: 50px; position: absolute; bottom: 1rem; left: 1rem; opacity: 0.1;" {{=HelperKeyEvent.check("clickEvent")}}="$_shifter.open();"></a>','main':'<div id="{{=it._id }}">\
                    <h4>\
                        Shifter for &laquo;{{=it._title }}&raquo;\
                        (<a href="#" onclick="{{=it._trace_key }} return false" style="display: inline-block" class="allowMultiClick">Trace</a>)\
                        <a href="#" class="_close_ _keys_ allowMultiClick" onclick="{{=it._close }} return false" style=""></a>\
                    </h4>\
                    <div class="_list_"><table width="100%" class="_scroll" border="0" cellspacing="0" cellpadding="0">\
                        {{ for(var key in it._list) { }}\
                            <tr>\
                                <td width="50%"><strong>{{=it._list[key].name }}</strong></td>\
                                <td width="50%" id="__shifter_{{=key }}">\
                                    {{? !it._data[key] || (it._data[key] && it._data[key].length == 0) }}\
                                        {{=it._r(\'emptyData.\' + it._list[key].type, {_name: key})}}\
                                    {{?}}\
                                    \
                                    {{? it._data[key] }}\
                                        {{=it._r(\'issetData.\' + it._list[key].type, {_name: key, value: it._data[key]})}}\
                                    {{?}}\
                                    \
                                </td>\
                            </tr>\
                        {{ } }}\
                    </table></div>\
                </div>','emptyData':{'text':'<div style="color: gray; display: inline-block" class="allowMultiClick" onclick="$_shifter.openChange(\'{{=it._name}}\'); return false">empty</div>','boolean':'<div class="_check_ _ch_ allowMultiClick" onclick="$_shifter.changeBoolean(\'{{=it._name }}\', this); return false" ontouchstart="$_shifter.changeBoolean(\'{{=it._name }}\', this); return false"></div>','button':'<div class="_check_ _ch_ allowMultiClick" onclick="$_shifter.openButton(\'{{=it._name }}\', this); return false" ontouchstart="$_shifter.openButton(\'{{=it._name }}\', this); return false"></div>','titles':'===================='},'issetData':{'text':'<div style="color: red; display: inline-block" class="allowMultiClick" onclick="$_shifter.openChange(\'{{=it._name}}\'); return false" ontouchstart="$_shifter.openChange(\'{{=it._name}}\'); return false">{{=it.value}}</div>','boolean':'<div class="_check_ _ch_ _active_ allowMultiClick" onclick="$_shifter.changeBoolean(\'{{=it._name }}\', this); return false" ontouchstart="$_shifter.changeBoolean(\'{{=it._name }}\', this); return false"></div>','button':'<div class="_check_ _ch_ _active_ allowMultiClick" onclick="$_shifter.openButton(\'{{=it._name }}\', this); return false" ontouchstart="$_shifter.openButton(\'{{=it._name }}\', this); return false"></div>','titles':'===================='},'keys':'<a href="#" style="color: blue; text-decoration: underline; float: right; margin-right: 10%" class="allowMultiClick" onclick="$_shifter.openChange(\'{{=it.name}}\'); return false">Change</a>','popupData':'<div id="{{=it._id }}">\
                          <h4>\
                              Change setting :<br /> &laquo;{{=it._name }}&raquo;\
                              <a href="#" class="_close_ _keys_ allowMultiClick" onclick="{{=it._close }} return false"></a>\
                          </h4>\
                          <input type="text" id="_shif_value" value="{{=it._value}}">\
                          <div>\
                               <div style="width: 40%; float: left;"> \
                                    <div class="_keys_ _i_key _n1 allowMultiClick" onclick="$_shifter.setNumber(1); return false"></div>\
                                    <div class="_keys_ _i_key _n2 allowMultiClick" onclick="$_shifter.setNumber(2); return false"></div>\
                                    <div class="_keys_ _i_key _n3 allowMultiClick" onclick="$_shifter.setNumber(3); return false"></div>\
                                    <div class="_keys_ _i_key _n_bp allowMultiClick" onclick="$_shifter.setNumber(-1); return false"></div>\
                                    <div class="_clear_"></div>\
                                    <div class="_keys_ _i_key _n4 allowMultiClick" onclick="$_shifter.setNumber(4); return false"></div>\
                                    <div class="_keys_ _i_key _n5 allowMultiClick" onclick="$_shifter.setNumber(5); return false"></div>\
                                    <div class="_keys_ _i_key _n6 allowMultiClick" onclick="$_shifter.setNumber(6); return false"></div>\
                                    <div class="_keys_ _i_key _n_k allowMultiClick" onclick="$_shifter.setNumber(\',\'); return false"></div>\
                                    <div class="_clear_"></div>\
                                    <div class="_keys_ _i_key _n7 allowMultiClick" onclick="$_shifter.setNumber(7); return false"></div>\
                                    <div class="_keys_ _i_key _n8 allowMultiClick" onclick="$_shifter.setNumber(8); return false"></div>\
                                    <div class="_keys_ _i_key _n9 allowMultiClick" onclick="$_shifter.setNumber(9); return false"></div>\
                                    <div class="_keys_ _i_key _n0 allowMultiClick" onclick="$_shifter.setNumber(0); return false"></div>\
                               \
                               </div>\
                               <div style="width: 30%; float: left">\
                               {{? it._shifts.length > 0 }}\
                               <ul>\
                               {{ for(var key in it._shifts) { }}\
                               <li><a href="#" onclick="$_shifter.addShifts({{=key}}); return false">{{=it._shifts[key].name}}</a></li>\
                               {{ } }}\
                               {{?}}\
                               </div>\
                               <div style="width: 30%; float: left;"> \
                                    <div class="_keys_ _i_key _n_set allowMultiClick" onclick="$_shifter.saveText(); return false"></div>\
                                    <div class="_keys_ _i_key _n_del allowMultiClick" onclick="$_shifter.removeText(); return false"></div>\
                               </div>\
                          </div>\
                     </div>','traceConsole':'<div class="_shifter _trace" id="_shifter_trace_console"><div id="_trace_console" contenteditable="true"></div></div>','traceDOMConsole':'<div class="_shifter _trace_dom _scroll" id="_shifter_trace_dom">\
                                <a href="#" class="_close_ _keys_ allowMultiClick" onclick="{{=it._close }} return false" style=""></a>\
                                <div id="list_dom_log">\
                                {{ for(var key in it._list) { }}\
                                    <p>{{=JSON.stringify(it._list[key]) }}</p>\
                                {{ } }}\
                                </div>\
                            </div>','timeLoading':'<div id=\"hhs_shifter_popup\">\
                            <h4>\
                                Time loading \
                                <a href="#" class="_close_ _keys_ allowMultiClick" onclick="{{=it._close }} return false"></a>\
                            </h4>\
                            <div style="width: 100%; height: 95%; overflow-y: scroll" id="_time_list">\
                            <a href="#" class=" _key_up_" onclick="{{=it._update }} return false">Update 5 sec</a>\
                                {{ for(var key in it._list) { var _e = it._list[key]; }}\
                                <div class="_e_">\
                                    <div class="_e_t">\
                                        <strong>{{=_e.name}}</strong>\
                                    </div>\
                                    <div class="_e_p">#st - {{=_e.stream}}</div>\
                                    <div class="_e_l">\
                                        <div class="_i_" style="left: {{=((_e.start - it._min) * 100)/it._time}}%; width: {{=((_e.end - _e.start) * 100)/it._time}}%"></div>\
                                    </div>\
                                </div>\
                                {{ } }}\
                            </div>\
                        </div>'};this.initCss=function()
{if(_cssIsset===false){_cssIsset=true;$('body').append(_css);}};this.render=function(name,objectData)
{if(!doT){$_log.error('Not found doT template pattern!');return;}
if(!objectData){objectData={};}
objectData._r=this.render;var _templ=null;var _l_=name.split('.');if(_l_.length>1){_templ=_templates[_l_[0]][_l_[1]];}else{_templ=_templates[_l_[0]]}
if(typeof _templ=='undefined'){$_log.error('Not found template name in HHS Shifter:'+name);return;}
var tempFn=doT.template(_templ);return tempFn(objectData);};this.appendHtml=function(el,str){var div=document.createElement('div');div.innerHTML=str;while(div.children.length>0){el.appendChild(div.children[0]);}};this.innerHtml=function(elem,str){elem.innerHTML=str;};this.addClass=function(className,object){var list=object.className.split(" ");if(list.indexOf(className)==-1){list.push(className);}
object.className=list.join(" ");};this.remove=function(elID){var el=document.getElementById(elID);el.parentNode.removeChild(el);};this.removeClass=function(className,object){var list=object.className.split(" ");var newList=[];for(var i=0,l=list.length;i<l;i++){if(list[i]!=className){newList.push(list[i]);}}
object.className=newList.join(" ");};};var HHSShifterTraceLog=function()
{this.port=5001;this.path="http://"+(location.origin.replace("http://","").split(":")[0]);this._ws=null;var _enableSocket=false;var _traceToProtocol=false;var _traceToConsole=false;var _traceFunction=null;this._controllTrace={"refresh;":"window.location.reload();"};this.init=function(data)
{for(var _key in data){this[_key]=data[_key];}};this.connect=function()
{var host=this.path.replace(/^http/,'ws')+":"+this.port;try{if(typeof MozWebSocket=='undefined'){this._ws=new WebSocket(host);}else{this._ws=new MozWebSocket(host);}
this._ws.onmessage=$_shifter.trace._writeToConsole;this._ws.onclose=$_shifter.trace._writeClose;this._ws.onerror=$_shifter.trace._writeError;this._ws.onopen=$_shifter.trace._writeOpen;}catch(e){alert("Current browser not support WebSocket!!");console.log('ERROR WEBSOCKET',e);}};this.close=function()
{$_log.traceLog=null;_traceFunction=null;_traceToProtocol=false;_traceToConsole=false;};this.transmit=function()
{_traceToProtocol=true;if(_traceFunction==null){_traceFunction=true;$_log.traceLog=$_shifter.trace._sendToProtocol;window.console.error=function(e){$_shifter.trace._sendToProtocol('error',{message:e.message,name:e.name,filename:e.fileName,line:e.lineNumber,column:e.columnNumber,stack:e.stack});};window.console.log=function(){$_shifter.trace._sendToProtocol('log',arguments);};}};this.receive=function()
{_traceToConsole=true;$('#'+$_shifter._id_block).append($_shifter.template.render('traceConsole'));console.clear();var _input=$('#_trace_console');var _controllKeys=Object.keys(this._controllTrace);var _textLast=_input.text();var _send=false;_input.bind("keydown",function(e){if(e.ctrlKey&&e.keyCode==13){_textLast=_input.text();if(_controllKeys.indexOf($.trim(_textLast))!=-1){$_shifter.trace._ws.send($_shifter.trace._JSONStringify(["control",$.trim(_textLast)]));}else{$_shifter.trace._ws.send($_shifter.trace._JSONStringify(["console",_textLast]));}
_input.text("");_send=true;}else if(e.keyCode==38&&_input.text()==""){_input.text(_textLast);}else{_send=false;}})};this._JSONStringify=function(obj)
{return JSON.stringify(obj,function(key,value){return(typeof value==='function')?value.toString():value;});};this._JSONParse=function(str)
{return JSON.parse(str,function(key,value){if(typeof value!='string')return value;return(value.substring(0,8)=='function')?eval('('+value+')'):value;});};this._writeToConsole=function(e)
{var data=$_shifter.trace._JSONParse(e.data);if(_traceToConsole===true&&data[0]=="log"){if(typeof data[2]=='string'||(typeof data[2]=='object'&&!(data[2]instanceof Array))){console[data[1]](data[2]);}else{console[data[1]].apply(console,data[2]);}}
if(_traceToConsole===false&&data[0]=="control"){eval($_shifter.trace._controllTrace[data[1]]);if(data[1]=="refresh;"){$_shifter._listCookies["_trace_connect"]="1";ModelMemory.set($_shifter._memoryName,JSON.stringify($_shifter._listCookies),ModelMemory.LOCAL_STORAGE);}}
if(_traceToConsole===false&&data[0]=="console"){try{eval(data[1]);}catch(e){$_shifter.trace._sendToProtocol("error",{message:e.message,name:e.name,filename:e.fileName,line:e.lineNumber,column:e.columnNumber,stack:e.stack});}}};this._writeClose=function(e)
{_enableSocket=false;console.log("TRACE CLOSE"+(e.reason?":     "+e.reason:""));setTimeout(function(){this.connect();}.bind(this),50);};this._writeOpen=function(e)
{_enableSocket=true;console.log("TRACE OPEN"+(e.reason?":     "+e.reason:""));};this._writeError=function(e)
{console.error("TRACE ERROR"+(e.error?":     "+e.error:""));};this._sendToProtocol=function(type,list)
{if(_traceToProtocol===true){try{$_shifter.trace._ws.send($_shifter.trace._JSONStringify(["log",type,list]));}catch(e){$_log.error("Sent to protocol ERROR",e);}}};};var HHSShifterDOMTraceLog=function()
{var _activeTraceLogDOM=false;var _listTraceLogDOM=[];this.init=function()
{_activeTraceLogDOM=true;$_log._traceStart=true;$_log.traceLog=_saveTraceLogToDOM;window.console.error=function(e){_saveTraceLogToDOM('error',{message:e.message,name:e.name,filename:e.fileName,line:e.lineNumber,column:e.columnNumber,stack:e.stack});};window.console.log=function(){_saveTraceLogToDOM('log',arguments);};};var _saveTraceLogToDOM=function()
{_listTraceLogDOM.unshift(arguments);_listTraceLogDOM.splice(300);};this.open=function()
{$('#'+$_shifter._id_block).append($_shifter.template.render('traceDOMConsole',{_close:"$('#_shifter_trace_dom').remove();",_list:_listTraceLogDOM}));};};(function(self){'use strict';if(self.fetch){return}
function normalizeName(name){if(typeof name!=='string'){name=String(name)}
if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(name)){throw new TypeError('Invalid character in header field name')}
return name.toLowerCase()}
function normalizeValue(value){if(typeof value!=='string'){value=String(value)}
return value}
function Headers(headers){this.map={};if(headers instanceof Headers){headers.forEach(function(value,name){this.append(name,value)},this)}else if(headers){Object.getOwnPropertyNames(headers).forEach(function(name){this.append(name,headers[name])},this)}}
Headers.prototype.append=function(name,value){name=normalizeName(name);value=normalizeValue(value);var list=this.map[name];if(!list){list=[];this.map[name]=list}
list.push(value)};Headers.prototype['delete']=function(name){delete this.map[normalizeName(name)]};Headers.prototype.get=function(name){var values=this.map[normalizeName(name)];return values?values[0]:null};Headers.prototype.getAll=function(name){return this.map[normalizeName(name)]||[]};Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))};Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=[normalizeValue(value)]};Headers.prototype.forEach=function(callback,thisArg){Object.getOwnPropertyNames(this.map).forEach(function(name){this.map[name].forEach(function(value){callback.call(thisArg,value,name,this)},this)},this)};function consumed(body){if(body.bodyUsed){return Promise.reject(new TypeError('Already read'))}
body.bodyUsed=true}
function fileReaderReady(reader){return new Promise(function(resolve,reject){reader.onload=function(){resolve(reader.result)};reader.onerror=function(){reject(reader.error)}})}
function readBlobAsArrayBuffer(blob){var reader=new FileReader();reader.readAsArrayBuffer(blob);return fileReaderReady(reader)}
function readBlobAsText(blob){var reader=new FileReader();reader.readAsText(blob);return fileReaderReady(reader)}
var support={blob:'FileReader'in self&&'Blob'in self&&(function(){try{new Blob();return true}catch(e){return false}})(),formData:'FormData'in self,arrayBuffer:'ArrayBuffer'in self};function Body(){this.bodyUsed=false;this._initBody=function(body){this._bodyInit=body;if(typeof body==='string'){this._bodyText=body}else if(support.blob&&Blob.prototype.isPrototypeOf(body)){this._bodyBlob=body}else if(support.formData&&FormData.prototype.isPrototypeOf(body)){this._bodyFormData=body}else if(!body){this._bodyText=''}else if(support.arrayBuffer&&ArrayBuffer.prototype.isPrototypeOf(body)){}else{throw new Error('unsupported BodyInit type')}
if(!this.headers.get('content-type')){if(typeof body==='string'){this.headers.set('content-type','text/plain;charset=UTF-8')}else if(this._bodyBlob&&this._bodyBlob.type){this.headers.set('content-type',this._bodyBlob.type)}}};if(support.blob){this.blob=function(){var rejected=consumed(this);if(rejected){return rejected}
if(this._bodyBlob){return Promise.resolve(this._bodyBlob)}else if(this._bodyFormData){throw new Error('could not read FormData body as blob')}else{return Promise.resolve(new Blob([this._bodyText]))}};this.arrayBuffer=function(){return this.blob().then(readBlobAsArrayBuffer)};this.text=function(){var rejected=consumed(this);if(rejected){return rejected}
if(this._bodyBlob){return readBlobAsText(this._bodyBlob)}else if(this._bodyFormData){throw new Error('could not read FormData body as text')}else{return Promise.resolve(this._bodyText)}}}else{this.text=function(){var rejected=consumed(this);return rejected?rejected:Promise.resolve(this._bodyText)}}
if(support.formData){this.formData=function(){return this.text().then(decode)}}
this.json=function(){return this.text().then(JSON.parse)};return this}
var methods=['DELETE','GET','HEAD','OPTIONS','POST','PUT'];function normalizeMethod(method){var upcased=method.toUpperCase();return(methods.indexOf(upcased)>-1)?upcased:method}
function Request(input,options){options=options||{};var body=options.body;if(Request.prototype.isPrototypeOf(input)){if(input.bodyUsed){throw new TypeError('Already read')}
this.url=input.url;this.credentials=input.credentials;if(!options.headers){this.headers=new Headers(input.headers)}
this.method=input.method;this.mode=input.mode;if(!body){body=input._bodyInit;input.bodyUsed=true}}else{this.url=input}
this.credentials=options.credentials||this.credentials||'omit';if(options.headers||!this.headers){this.headers=new Headers(options.headers)}
this.method=normalizeMethod(options.method||this.method||'GET');this.mode=options.mode||this.mode||null;this.referrer=null;if((this.method==='GET'||this.method==='HEAD')&&body){throw new TypeError('Body not allowed for GET or HEAD requests')}
this._initBody(body)}
Request.prototype.clone=function(){return new Request(this)};function decode(body){var form=new FormData();body.trim().split('&').forEach(function(bytes){if(bytes){var split=bytes.split('=');var name=split.shift().replace(/\+/g,' ');var value=split.join('=').replace(/\+/g,' ');form.append(decodeURIComponent(name),decodeURIComponent(value))}});return form}
function headers(xhr){var head=new Headers();var pairs=xhr.getAllResponseHeaders().trim().split('\n');pairs.forEach(function(header){var split=header.trim().split(':');var key=split.shift().trim();var value=split.join(':').trim();head.append(key,value)});return head}
Body.call(Request.prototype);function Response(bodyInit,options){if(!options){options={}}
this.type='default';this.status=options.status;this.ok=this.status>=200&&this.status<300;this.statusText=options.statusText;this.headers=options.headers instanceof Headers?options.headers:new Headers(options.headers);this.url=options.url||'';this._initBody(bodyInit)}
Body.call(Response.prototype);Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})};Response.error=function(){var response=new Response(null,{status:0,statusText:''});response.type='error';return response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(redirectStatuses.indexOf(status)===-1){throw new RangeError('Invalid status code')}
return new Response(null,{status:status,headers:{location:url}})};self.Headers=Headers;self.Request=Request;self.Response=Response;self.fetch=function(input,init){return new Promise(function(resolve,reject){var request;if(Request.prototype.isPrototypeOf(input)&&!init){request=input}else{request=new Request(input,init)}
var xhr=new XMLHttpRequest();function responseURL(){if('responseURL'in xhr){return xhr.responseURL}
if(/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())){return xhr.getResponseHeader('X-Request-URL')}
return;}
xhr.onload=function(){var status=(xhr.status===1223)?204:xhr.status;if(status<100||status>599){reject(new TypeError('Network request failed'));return}
var options={status:status,statusText:xhr.statusText,headers:headers(xhr),url:responseURL()};var body='response'in xhr?xhr.response:xhr.responseText;resolve(new Response(body,options))};xhr.onerror=function(){reject(new TypeError('Network request failed'))};xhr.open(request.method,request.url,true);if(request.credentials==='include'){xhr.withCredentials=true}
if('responseType'in xhr&&support.blob){xhr.responseType='blob'}
request.headers.forEach(function(value,name){xhr.setRequestHeader(name,value)});xhr.send(typeof request._bodyInit==='undefined'?null:request._bodyInit)})};self.fetch.polyfill=true})(typeof self!=='undefined'?self:this);(function(){function p(b,a,d){return("string"===typeof a?a:a.toString()).replace(b.define||h,function(a,c,e,g){0===c.indexOf("def.")&&(c=c.substring(4));c in d||(":"===e?(b.defineParams&&g.replace(b.defineParams,function(a,b,l){d[c]={arg:b,text:l}}),c in d||(d[c]=g)):(new Function("def","def['"+c+"']="+g))(d));return""}).replace(b.use||h,function(a,c){b.useParams&&(c=c.replace(b.useParams,function(a,b,c,l){if(d[c]&&d[c].arg&&l)return a=(c+":"+l).replace(/'|\\/g,"_"),d.__exp=d.__exp||{},d.__exp[a]=d[c].text.replace(new RegExp("(^|[^\\w$])"+d[c].arg+"([^\\w$])","g"),"$1"+l+"$2"),b+"def.__exp['"+a+"']"}));var e=(new Function("def","return "+c))(d);return e?p(b,e,d):e})}function k(b){return b.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var f={version:"1.0.3",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0},m;f.encodeHTMLSource=function(b){var a={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},d=b?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(b){return b?b.toString().replace(d,function(b){return a[b]||b}):""}};m=function(){return this||(0,eval)("this")}();"undefined"!==typeof module&&module.exports?module.exports=f:"function"===typeof define&&define.amd?define(function(){return f}):m.doT=f;var r={start:"'+(",end:")+'",startencode:"'+encodeHTML("},s={start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("},h=/$^/;f.template=function(b,a,d){a=a||f.templateSettings;var n=a.append?r:s,c,e=0,g;b=a.use||a.define?p(a,b,d||{}):b;b=("var out='"+(a.strip?b.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):b).replace(/'|\\/g,"\\$&").replace(a.interpolate||h,function(b,a){return n.start+k(a)+n.end}).replace(a.encode||h,function(b,a){c=!0;return n.startencode+k(a)+n.end}).replace(a.conditional||h,function(b,a,c){return a?c?"';}else if("+k(c)+"){out+='":"';}else{out+='":c?"';if("+k(c)+"){out+='":"';}out+='"}).replace(a.iterate||h,function(b,a,c,d){if(!a)return"';} } out+='";e+=1;g=d||"i"+e;a=k(a);return"';var arr"+
e+"="+a+";if(arr"+e+"){var "+c+","+g+"=-1,l"+e+"=arr"+e+".length-1;while("+g+"<l"+e+"){"+c+"=arr"+e+"["+g+"+=1];out+='"}).replace(a.evaluate||h,function(a,b){return"';"+k(b)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"");c&&(a.selfcontained||!m||m._encodeHTML||(m._encodeHTML=f.encodeHTMLSource(a.doNotSkipEncoded)),b="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+f.encodeHTMLSource.toString()+"("+(a.doNotSkipEncoded||"")+"));"+b);try{return new Function(a.varname,b)}catch(q){throw"undefined"!==typeof console&&console.log("Could not create a template function: "+b),q;}};f.compile=function(b,a){return f.template(b,null,a)}})();(function(window,undefined){Proton.POOL_MAX=1000;Proton.TIME_STEP=60;Proton.MEASURE=100;Proton.EULER='euler';Proton.RK2='runge-kutta2';Proton.RK4='runge-kutta4';Proton.VERLET='verlet';Proton.PARTICLE_CREATED='partilcleCreated';Proton.PARTICLE_UPDATE='partilcleUpdate';Proton.PARTICLE_SLEEP='particleSleep';Proton.PARTICLE_DEAD='partilcleDead';Proton.PROTON_UPDATE='protonUpdate';Proton.PROTON_UPDATE_AFTER='protonUpdateAfter';Proton.EMITTER_ADDED='emitterAdded';Proton.EMITTER_REMOVED='emitterRemoved';Proton.amendChangeTabsBug=true;Proton.TextureBuffer={};Proton.TextureCanvasBuffer={};function Proton(proParticleCount,integrationType){this.proParticleCount=Proton.Util.initValue(proParticleCount,Proton.POOL_MAX);this.integrationType=Proton.Util.initValue(integrationType,Proton.EULER);this.emitters=[];this.renderers=[];this.time=0;this.oldTime=0;Proton.pool=new Proton.ParticlePool(this.proParticleCount);Proton.integrator=new Proton.NumericalIntegration(this.integrationType);}
Proton.prototype={addRender:function(render){render.proton=this;this.renderers.push(render.proton);},addEmitter:function(emitter){this.emitters.push(emitter);emitter.parent=this;this.dispatchEvent(new Proton.Event({type:Proton.EMITTER_ADDED,emitter:emitter}));},removeEmitter:function(emitter){var index=this.emitters.indexOf(emitter);this.emitters.splice(index,1);emitter.parent=null;this.dispatchEvent(new Proton.Event({type:Proton.EMITTER_REMOVED,emitter:emitter}));},update:function(){this.dispatchEvent(new Proton.Event({type:Proton.PROTON_UPDATE}));if(!this.oldTime)
this.oldTime=new Date().getTime();var time=new Date().getTime();this.elapsed=(time-this.oldTime)/1000;if(Proton.amendChangeTabsBug)
this.amendChangeTabsBug();this.oldTime=time;if(this.elapsed>0){for(var i=0;i<this.emitters.length;i++){this.emitters[i].update(this.elapsed);}}
this.dispatchEvent(new Proton.Event({type:Proton.PROTON_UPDATE_AFTER}));},amendChangeTabsBug:function(){if(this.elapsed>.5){this.oldTime=new Date().getTime();this.elapsed=0;}},getCount:function(){var total=0;var length=this.emitters.length;for(var i=0;i<length;i++){total+=this.emitters[i].particles.length;}
return total;},destroy:function(){var length=this.emitters.length;for(var i=0;i<length;i++){this.emitters[i].destroy();delete this.emitters[i];}
this.emitters=[];this.time=0;this.oldTime=0;Proton.pool.release();}};window.Proton=Proton;function EventDispatcher(){this.initialize();};var p=EventDispatcher.prototype;EventDispatcher.initialize=function(target){target.addEventListener=p.addEventListener;target.removeEventListener=p.removeEventListener;target.removeAllEventListeners=p.removeAllEventListeners;target.hasEventListener=p.hasEventListener;target.dispatchEvent=p.dispatchEvent;};p._listeners=null;p.initialize=function(){};p.addEventListener=function(type,listener){var listeners=this._listeners;if(!listeners){listeners=this._listeners={};}else{this.removeEventListener(type,listener);}
var arr=listeners[type];if(!arr){arr=listeners[type]=[];}
arr.push(listener);return listener;};p.removeEventListener=function(type,listener){var listeners=this._listeners;if(!listeners){return;}
var arr=listeners[type];if(!arr){return;}
for(var i=0,l=arr.length;i<l;i++){if(arr[i]==listener){if(l==1){delete(listeners[type]);}
else{arr.splice(i,1);}
break;}}};p.removeAllEventListeners=function(type){if(!type){this._listeners=null;}else if(this._listeners){delete(this._listeners[type]);}};p.dispatchEvent=function(eventObj){var ret=false,listeners=this._listeners;if(eventObj&&listeners){var arr=listeners[eventObj.type];if(!arr)
return ret;arr=arr.slice();for(var i=0,l=arr.length;i<l;i++){var o=arr[i];ret=ret||o(eventObj);}}
return!!ret;};p.hasEventListener=function(type){var listeners=this._listeners;return!!(listeners&&listeners[type]);};Proton.EventDispatcher=EventDispatcher;Proton.EventDispatcher.initialize(Proton.prototype);function Event(pObj){this.type=pObj['type'];this.particle=pObj['particle'];this.emitter=pObj['emitter'];}
Event.PARTICLE_CREATED=Proton.PARTICLE_CREATED;Event.PARTICLE_UPDATA=Proton.PARTICLE_UPDATA;Event.PARTICLE_SLEEP=Proton.PARTICLE_SLEEP;Event.PARTICLE_DEAD=Proton.PARTICLE_DEAD;Proton.Event=Event;var Util=Util||{initValue:function(value,defaults){var value=(value!=null&&value!=undefined)?value:defaults;return value;},isArray:function(value){return typeof value==='object'&&value.hasOwnProperty('length');},destroyArray:function(array){array.length=0;},destroyObject:function(obj){for(var o in obj)
delete obj[o];},getVector2D:function(postionOrX,y){if(typeof(postionOrX)=='object'){return postionOrX;}else{var vector2d=new Proton.Vector2D(postionOrX,y);return vector2d;}},judgeVector2D:function(pOBJ){var result='';if(pOBJ.hasOwnProperty('x')||pOBJ.hasOwnProperty('y')||pOBJ.hasOwnProperty('p')||pOBJ.hasOwnProperty('position'))
result+='p';if(pOBJ.hasOwnProperty('vx')||pOBJ.hasOwnProperty('vx')||pOBJ.hasOwnProperty('v')||pOBJ.hasOwnProperty('velocity'))
result+='v';if(pOBJ.hasOwnProperty('ax')||pOBJ.hasOwnProperty('ax')||pOBJ.hasOwnProperty('a')||pOBJ.hasOwnProperty('accelerate'))
result+='a';return result;},setVector2DByObject:function(target,pOBJ){if(pOBJ.hasOwnProperty('x'))
target.p.x=pOBJ['x'];if(pOBJ.hasOwnProperty('y'))
target.p.y=pOBJ['y'];if(pOBJ.hasOwnProperty('vx'))
target.v.x=pOBJ['vx'];if(pOBJ.hasOwnProperty('vy'))
target.v.y=pOBJ['vy'];if(pOBJ.hasOwnProperty('ax'))
target.a.x=pOBJ['ax'];if(pOBJ.hasOwnProperty('ay'))
target.a.y=pOBJ['ay'];if(pOBJ.hasOwnProperty('p'))
particle.p.copy(pOBJ['p']);if(pOBJ.hasOwnProperty('v'))
particle.v.copy(pOBJ['v']);if(pOBJ.hasOwnProperty('a'))
particle.a.copy(pOBJ['a']);if(pOBJ.hasOwnProperty('position'))
particle.p.copy(pOBJ['position']);if(pOBJ.hasOwnProperty('velocity'))
particle.v.copy(pOBJ['velocity']);if(pOBJ.hasOwnProperty('accelerate'))
particle.a.copy(pOBJ['accelerate']);},addPrototypeByObject:function(target,prototypeObject,filters){for(var singlePrototype in prototypeObject){if(filters){if(filters.indexOf(singlePrototype)<0)
target[singlePrototype]=Proton.Util.getSpanValue(prototypeObject[singlePrototype]);}else{target[singlePrototype]=Proton.Util.getSpanValue(prototypeObject[singlePrototype]);}}
return target;},setPrototypeByObject:function(target,prototypeObject,filters){for(var singlePrototype in prototypeObject){if(target.hasOwnProperty(singlePrototype)){if(filters){if(filters.indexOf(singlePrototype)<0)
target[singlePrototype]=Proton.Util.getSpanValue(prototypeObject[singlePrototype]);}else{target[singlePrototype]=Proton.Util.getSpanValue(prototypeObject[singlePrototype]);}}}
return target;},setSpanValue:function(a,b,c){if(a instanceof Proton.Span){return a;}else{if(!b){return new Proton.Span(a);}else{if(!c)
return new Proton.Span(a,b);else
return new Proton.Span(a,b,c);}}},getSpanValue:function(pan){if(pan instanceof Proton.Span)
return pan.getValue();else
return pan;},inherits:function(subClass,superClass){subClass._super_=superClass;if(Object['create']){subClass.prototype=Object.create(superClass.prototype,{constructor:{value:subClass}});}else{var F=function(){};F.prototype=superClass.prototype;subClass.prototype=new F();subClass.prototype.constructor=subClass;}},getImageData:function(context,image,rect){context.drawImage(image,rect.x,rect.y);var imagedata=context.getImageData(rect.x,rect.y,rect.width,rect.height);context.clearRect(rect.x,rect.y,rect.width,rect.height);return imagedata;},getImage:function(img,particle,drawCanvas,fun){if(typeof(img)=='string'){this.loadAndSetImage(img,particle,drawCanvas,fun);}else if(typeof(img)=='object'){this.loadAndSetImage(img.src,particle,drawCanvas,fun);}else if(img instanceof Image){this.loadedImage(img.src,particle,drawCanvas,fun,img);}},loadedImage:function(src,particle,drawCanvas,fun,target){particle.target=target;particle.transform.src=src;if(!Proton.TextureBuffer[src])
Proton.TextureBuffer[src]=particle.target;if(drawCanvas){if(Proton.TextureCanvasBuffer[src]){particle.transform.canvas=Proton.TextureCanvasBuffer[src];}else{var _width=Proton.WebGLUtil.nhpot(particle.target.width);var _height=Proton.WebGLUtil.nhpot(particle.target.height);particle.transform.canvas=Proton.DomUtil.createCanvas('canvas'+src,_width,_height);var context=particle.transform.canvas.getContext('2d');context.drawImage(particle.target,0,0,particle.target.width,particle.target.height);Proton.TextureCanvasBuffer[src]=particle.transform.canvas;}}
if(fun)
fun(particle);},loadAndSetImage:function(src,particle,drawCanvas,fun){if(Proton.TextureBuffer[src]){this.loadedImage(src,particle,drawCanvas,fun,Proton.TextureBuffer[src]);}else{var self=this;var myImage=new Image();myImage.onload=function(e){self.loadedImage(src,particle,drawCanvas,fun,e.target);}
myImage.src=src;}},hexToRGB:function(h){var hex16=(h.charAt(0)=="#")?h.substring(1,7):h;var r=parseInt(hex16.substring(0,2),16);var g=parseInt(hex16.substring(2,4),16);var b=parseInt(hex16.substring(4,6),16);return{r:r,g:g,b:b}},rgbToHex:function(rbg){return'rgb('+rbg.r+', '+rbg.g+', '+rbg.b+')';}};Proton.Util=Util;var WebGLUtil=WebGLUtil||{ipot:function(length){return(length&(length-1))==0;},nhpot:function(length){--length;for(var i=1;i<32;i<<=1){length=length|length>>i;}
return length+1;},makeTranslation:function(tx,ty){return[1,0,0,0,1,0,tx,ty,1];},makeRotation:function(angleInRadians){var c=Math.cos(angleInRadians);var s=Math.sin(angleInRadians);return[c,-s,0,s,c,0,0,0,1];},makeScale:function(sx,sy){return[sx,0,0,0,sy,0,0,0,1];},matrixMultiply:function(a,b){var a00=a[0*3+0];var a01=a[0*3+1];var a02=a[0*3+2];var a10=a[1*3+0];var a11=a[1*3+1];var a12=a[1*3+2];var a20=a[2*3+0];var a21=a[2*3+1];var a22=a[2*3+2];var b00=b[0*3+0];var b01=b[0*3+1];var b02=b[0*3+2];var b10=b[1*3+0];var b11=b[1*3+1];var b12=b[1*3+2];var b20=b[2*3+0];var b21=b[2*3+1];var b22=b[2*3+2];return[a00*b00+a01*b10+a02*b20,a00*b01+a01*b11+a02*b21,a00*b02+a01*b12+a02*b22,a10*b00+a11*b10+a12*b20,a10*b01+a11*b11+a12*b21,a10*b02+a11*b12+a12*b22,a20*b00+a21*b10+a22*b20,a20*b01+a21*b11+a22*b21,a20*b02+a21*b12+a22*b22];}}
Proton.WebGLUtil=WebGLUtil;var DomUtil=DomUtil||{createCanvas:function($id,$width,$height,$position){var element=document.createElement("canvas");var position=$position?$position:'absolute';element.id=$id;element.width=$width;element.height=$height;element.style.position=position;element.style.opacity=0;this.transformDom(element,-500,-500,0,0);return element;},transformDom:function($div,$x,$y,$scale,$rotate){$div.style.WebkitTransform='translate('+$x+'px, '+$y+'px) '+'scale('+$scale+') '+'rotate('+$rotate+'deg)';$div.style.MozTransform='translate('+$x+'px, '+$y+'px) '+'scale('+$scale+') '+'rotate('+$rotate+'deg)';$div.style.OTransform='translate('+$x+'px, '+$y+'px) '+'scale('+$scale+') '+'rotate('+$rotate+'deg)';$div.style.msTransform='translate('+$x+'px, '+$y+'px) '+'scale('+$scale+') '+'rotate('+$rotate+'deg)';$div.style.transform='translate('+$x+'px, '+$y+'px) '+'scale('+$scale+') '+'rotate('+$rotate+'deg)';}}
Proton.DomUtil=DomUtil;function MStack(){this.mats=[];this.size=0;for(var i=0;i<20;i++)
this.mats.push(Proton.Mat3.create([0,0,0,0,0,0,0,0,0]));}
MStack.prototype.set=function(m,i){if(i==0)
Proton.Mat3.set(m,this.mats[0]);else
Proton.Mat3.multiply(this.mats[i-1],m,this.mats[i]);this.size=Math.max(this.size,i+1);}
MStack.prototype.push=function(m){if(this.size==0)
Proton.Mat3.set(m,this.mats[0]);else
Proton.Mat3.multiply(this.mats[this.size-1],m,this.mats[this.size]);this.size++;}
MStack.prototype.pop=function(){if(this.size>0)
this.size--;}
MStack.prototype.top=function(){return(this.mats[this.size-1]);}
Proton.MStack=MStack;Particle.ID=0;function Particle(pOBJ){this.id='particle_'+Particle.ID++;this.reset(true);Proton.Util.setPrototypeByObject(this,pOBJ);}
Particle.prototype={getDirection:function(){return Math.atan2(this.v.x,-this.v.y)*(180/Math.PI);},reset:function(init){this.life=Infinity;this.age=0;this.energy=1;this.dead=false;this.sleep=false;this.target=null;this.sprite=null;this.parent=null;this.mass=1;this.radius=10;this.alpha=1;this.scale=1;this.rotation=0;this.color=null;this.easing=Proton.ease.setEasingByName(Proton.easeLinear);if(init){this.transform={}
this.p=new Proton.Vector2D();this.v=new Proton.Vector2D();this.a=new Proton.Vector2D();this.old={p:new Proton.Vector2D(),v:new Proton.Vector2D(),a:new Proton.Vector2D()};this.behaviours=[];}else{Proton.Util.destroyObject(this.transform);this.p.set(0,0);this.v.set(0,0);this.a.set(0,0);this.old.p.set(0,0);this.old.v.set(0,0);this.old.a.set(0,0);this.removeAllBehaviours();}
this.transform.rgb={r:255,g:255,b:255}
return this;},update:function(time,index){if(!this.sleep){this.age+=time;var length=this.behaviours.length,i;for(i=0;i<length;i++){if(this.behaviours[i])
this.behaviours[i].applyBehaviour(this,time,index)}}else{}
if(this.age>=this.life){this.destroy();}else{var scale=this.easing(this.age/this.life);this.energy=Math.max(1-scale,0);}},addBehaviour:function(behaviour){this.behaviours.push(behaviour);if(behaviour.hasOwnProperty('parents'))
behaviour.parents.push(this);behaviour.initialize(this);},addBehaviours:function(behaviours){var length=behaviours.length,i;for(i=0;i<length;i++){this.addBehaviour(behaviours[i]);}},removeBehaviour:function(behaviour){var index=this.behaviours.indexOf(behaviour);if(index>-1){var behaviour=this.behaviours.splice(index,1);behaviour.parents=null;}},removeAllBehaviours:function(){Proton.Util.destroyArray(this.behaviours);},destroy:function(){this.removeAllBehaviours();this.energy=0;this.dead=true;this.parent=null;}};Proton.Particle=Particle;function ParticlePool(num,releaseTime){this.proParticleCount=Proton.Util.initValue(num,0);this.releaseTime=Proton.Util.initValue(releaseTime,-1);this.poolList=[];this.timeoutID=0;for(var i=0;i<this.proParticleCount;i++){this.add();}
if(this.releaseTime>0)
this.timeoutID=setTimeout(this.release,this.releaseTime/1000);}
ParticlePool.prototype={create:function(newTypeParticleClass){if(newTypeParticleClass)
return new newTypeParticle;else
return new Proton.Particle;},getCount:function(){return this.poolList.length;},add:function(){return this.poolList.push(this.create());},get:function(){if(this.poolList.length===0){return this.create();}else{return this.poolList.pop().reset();}},set:function(particle){if(this.poolList.length<Proton.POOL_MAX)
return this.poolList.push(particle);},release:function(){for(var i=0;i<this.poolList.length;i++){if(this.poolList[i]['destroy'])
this.poolList[i].destroy();delete this.poolList[i];}
this.poolList=[];}}
Proton.ParticlePool=ParticlePool;var MathUtils={randomAToB:function(a,b,INT){if(!INT)
return a+Math.random()*(b-a);else
return Math.floor(Math.random()*(b-a))+a;},randomFloating:function(center,f,INT){return MathUtils.randomAToB(center-f,center+f,INT);},randomZone:function(display){},degreeTransform:function(a){return a*Math.PI/180;},toColor16:function getRGB(num){return"#"+num.toString(16);},randomColor:function(){return'#'+('00000'+(Math.random()*0x1000000<<0).toString(16)).slice(-6);}}
Proton.MathUtils=MathUtils;var NumericalIntegration=function(type){this.type=Proton.Util.initValue(type,Proton.EULER);}
NumericalIntegration.prototype={integrate:function(particles,time,damping){this.eulerIntegrate(particles,time,damping);},eulerIntegrate:function(particle,time,damping){if(!particle.sleep){particle.old.p.copy(particle.p);particle.old.v.copy(particle.v);particle.a.multiplyScalar(1/particle.mass);particle.v.add(particle.a.multiplyScalar(time));particle.p.add(particle.old.v.multiplyScalar(time));if(damping)
particle.v.multiplyScalar(damping);particle.a.clear();}}}
Proton.NumericalIntegration=NumericalIntegration;var Vector2D=function(x,y){this.x=x||0;this.y=y||0;}
Vector2D.prototype={set:function(x,y){this.x=x;this.y=y;return this;},setX:function(x){this.x=x;return this;},setY:function(y){this.y=y;return this;},setComponent:function(index,value){switch(index){case 0:this.x=value;break;case 1:this.y=value;break;default:throw new Error("index is out of range: "+index);}},getGradient:function(){if(this.x!=0)
return Math.atan2(this.y,this.x);else if(this.y>0)
return Math.PI/2;else if(this.y<0)
return-Math.PI/2;},getComponent:function(index){switch(index){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+index);}},copy:function(v){this.x=v.x;this.y=v.y;return this;},add:function(v,w){if(w!==undefined){return this.addVectors(v,w);}
this.x+=v.x;this.y+=v.y;return this;},addXY:function(a,b){this.x+=a;this.y+=b;return this;},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this;},addScalar:function(s){this.x+=s;this.y+=s;return this;},sub:function(v,w){if(w!==undefined){return this.subVectors(v,w);}
this.x-=v.x;this.y-=v.y;return this;},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this;},multiplyScalar:function(s){this.x*=s;this.y*=s;return this;},divideScalar:function(s){if(s!==0){this.x/=s;this.y/=s;}else{this.set(0,0);}
return this;},min:function(v){if(this.x>v.x){this.x=v.x;}
if(this.y>v.y){this.y=v.y;}
return this;},max:function(v){if(this.x<v.x){this.x=v.x;}
if(this.y<v.y){this.y=v.y;}
return this;},clamp:function(min,max){if(this.x<min.x){this.x=min.x;}else if(this.x>max.x){this.x=max.x;}
if(this.y<min.y){this.y=min.y;}else if(this.y>max.y){this.y=max.y;}
return this;},negate:function(){return this.multiplyScalar(-1);},dot:function(v){return this.x*v.x+this.y*v.y;},lengthSq:function(){return this.x*this.x+this.y*this.y;},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y);},normalize:function(){return this.divideScalar(this.length());},distanceTo:function(v){return Math.sqrt(this.distanceToSquared(v));},rotate:function(tha){var x=this.x;var y=this.y;this.x=x*Math.cos(tha)+y*Math.sin(tha);this.y=-x*Math.sin(tha)+y*Math.cos(tha);return this;},distanceToSquared:function(v){var dx=this.x-v.x,dy=this.y-v.y;return dx*dx+dy*dy;},setLength:function(l){var oldLength=this.length();if(oldLength!==0&&l!==oldLength){this.multiplyScalar(l/oldLength);}
return this;},lerp:function(v,alpha){this.x+=(v.x-this.x)*alpha;this.y+=(v.y-this.y)*alpha;return this;},equals:function(v){return((v.x===this.x)&&(v.y===this.y));},toArray:function(){return[this.x,this.y];},clear:function(){this.x=0.0;this.y=0.0;return this;},clone:function(){return new Proton.Vector2D(this.x,this.y);}};Proton.Vector2D=Vector2D;var Polar2D=function(r,tha){this.r=Math.abs(r)||0;this.tha=tha||0;}
Polar2D.prototype={set:function(r,tha){this.r=r;this.tha=tha;return this;},setR:function(r){this.r=r;return this;},setTha:function(tha){this.tha=tha;return this;},copy:function(p){this.r=p.r;this.tha=p.tha;return this;},toVector:function(){return new Proton.Vector2D(this.getX(),this.getY());},getX:function(){return this.r*Math.sin(this.tha);},getY:function(){return-this.r*Math.cos(this.tha);},normalize:function(){this.r=1;return this;},equals:function(v){return((v.r===this.r)&&(v.tha===this.tha));},toArray:function(){return[this.r,this.tha];},clear:function(){this.r=0.0;this.tha=0.0;return this;},clone:function(){return new Proton.Polar2D(this.r,this.tha);}};Proton.Polar2D=Polar2D;function Span(a,b,center){this.isArray=false;if(Proton.Util.isArray(a)){this.isArray=true;this.a=a;}else{this.a=Proton.Util.initValue(a,1);this.b=Proton.Util.initValue(b,this.a);this.center=Proton.Util.initValue(center,false);}}
Span.prototype={getValue:function(INT){if(this.isArray){return this.a[Math.floor(this.a.length*Math.random())];}else{if(!this.center)
return Proton.MathUtils.randomAToB(this.a,this.b,INT);else
return Proton.MathUtils.randomFloating(this.a,this.b,INT);}}}
Proton.Span=Span;Proton.getSpan=function(a,b,center){return new Proton.Span(a,b,center);}
function ColorSpan(color){if(Proton.Util.isArray(color)){this.colorArr=color;}else{this.colorArr=[color];}}
Proton.Util.inherits(ColorSpan,Proton.Span);ColorSpan.prototype.getValue=function(){var color=this.colorArr[Math.floor(this.colorArr.length*Math.random())];if(color=='random'||color=='Random')
return Proton.MathUtils.randomColor();else
return color;}
Proton.ColorSpan=ColorSpan;function Rectangle(x,y,w,h){this.x=x;this.y=y;this.width=w;this.height=h;this.bottom=this.y+this.height;this.right=this.x+this.width;}
Rectangle.prototype={contains:function(x,y){if(x<=this.right&&x>=this.x&&y<=this.bottom&&y>=this.y)
return true
else
return false}}
Proton.Rectangle=Rectangle;var Mat3=Mat3||{create:function(mat3){var mat=new Float32Array(9);if(mat3)
this.set(mat3,mat);return mat;},set:function(mat1,mat2){for(var i=0;i<9;i++)
mat2[i]=mat1[i];return mat2;},multiply:function(mat,mat2,mat3){var a00=mat[0],a01=mat[1],a02=mat[2],a10=mat[3],a11=mat[4],a20=mat[6],a21=mat[7],b00=mat2[0],b01=mat2[1],b02=mat2[2],b10=mat2[3],b11=mat2[4],b20=mat2[6],b21=mat2[7];mat3[0]=b00*a00+b01*a10;mat3[1]=b00*a01+b01*a11;mat3[2]=a02*b02;mat3[3]=b10*a00+b11*a10;mat3[4]=b10*a01+b11*a11;mat3[6]=b20*a00+b21*a10+a20;mat3[7]=b20*a01+b21*a11+a21;return mat3;},inverse:function(mat,mat3){var a00=mat[0],a01=mat[1],a10=mat[3],a11=mat[4],a20=mat[6],a21=mat[7],b01=a11,b11=-a10,b21=a21*a10-a11*a20,d=a00*b01+a01*b11,id;id=1/d;mat3[0]=b01*id;mat3[1]=(-a01)*id;mat3[3]=b11*id;mat3[4]=a00*id;mat3[6]=b21*id;mat3[7]=(-a21*a00+a01*a20)*id;return mat3;},multiplyVec2:function(m,vec,mat3){var x=vec[0],y=vec[1];mat3[0]=x*m[0]+y*m[3]+m[6];mat3[1]=x*m[1]+y*m[4]+m[7];return mat3;}}
Proton.Mat3=Mat3;Behaviour.id=0;function Behaviour(life,easing){this.id='Behaviour_'+Behaviour.id++;this.life=Proton.Util.initValue(life,Infinity);this.easing=Proton.ease.setEasingByName(easing);this.age=0;this.energy=1;this.dead=false;this.parents=[];this.name='Behaviour';}
Behaviour.prototype={reset:function(life,easing){this.life=Proton.Util.initValue(life,Infinity);this.easing=Proton.Util.initValue(easing,Proton.ease.setEasingByName(Proton.easeLinear));},normalizeForce:function(force){return force.multiplyScalar(Proton.MEASURE);},normalizeValue:function(value){return value*Proton.MEASURE;},initialize:function(particle){},applyBehaviour:function(particle,time,index){this.age+=time;if(this.age>=this.life||this.dead){this.energy=0;this.dead=true;this.destroy();}else{var scale=this.easing(particle.age/particle.life);this.energy=Math.max(1-scale,0);}},destroy:function(){var index;var length=this.parents.length,i;for(i=0;i<length;i++){this.parents[i].removeBehaviour(this);}
this.parents=[];}};Proton.Behaviour=Behaviour;function Rate(numpan,timepan){this.numPan=Proton.Util.initValue(numpan,1);this.timePan=Proton.Util.initValue(timepan,1);this.numPan=Proton.Util.setSpanValue(this.numPan);this.timePan=Proton.Util.setSpanValue(this.timePan);this.startTime=0;this.nextTime=0;this.init();}
Rate.prototype={init:function(){this.startTime=0;this.nextTime=this.timePan.getValue();},getValue:function(time){this.startTime+=time;if(this.startTime>=this.nextTime){this.startTime=0;this.nextTime=this.timePan.getValue();if(this.numPan.b==1){if(this.numPan.getValue(false)>0.5)
return 1;else
return 0;}else{return this.numPan.getValue(true);}}
return 0;}}
Proton.Rate=Rate;function Initialize(){}
Initialize.prototype.reset=function(){}
Initialize.prototype.init=function(emitter,particle){if(particle){this.initialize(particle);}else{this.initialize(emitter);}};Initialize.prototype.initialize=function(target){};Proton.Initialize=Initialize;var InitializeUtil={initialize:function(emitter,particle,initializes){var length=initializes.length,i;for(i=0;i<length;i++){if(initializes[i]instanceof Proton.Initialize)
initializes[i].init(emitter,particle);else
Proton.InitializeUtil.init(emitter,particle,initializes[i]);}
Proton.InitializeUtil.bindEmitter(emitter,particle);},init:function(emitter,particle,initialize){Proton.Util.setPrototypeByObject(particle,initialize);Proton.Util.setVector2DByObject(particle,initialize);},bindEmitter:function(emitter,particle){if(emitter.bindEmitter){particle.p.add(emitter.p);particle.v.add(emitter.v);particle.a.add(emitter.a);particle.v.rotate(Proton.MathUtils.degreeTransform(emitter.rotation));}}}
Proton.InitializeUtil=InitializeUtil;function Life(a,b,c){Life._super_.call(this);this.lifePan=Proton.Util.setSpanValue(a,b,c);}
Proton.Util.inherits(Life,Proton.Initialize);Life.prototype.initialize=function(target){if(this.lifePan.a==Infinity)
target.life=Infinity;else
target.life=this.lifePan.getValue();};Proton.Life=Life;function Position(zone){Position._super_.call(this);this.zone=Proton.Util.initValue(zone,new Proton.PointZone());}
Proton.Util.inherits(Position,Proton.Initialize);Position.prototype.reset=function(zone){this.zone=Proton.Util.initValue(zone,new Proton.PointZone());};Position.prototype.initialize=function(target){this.zone.getPosition();target.p.x=this.zone.vector.x;target.p.y=this.zone.vector.y;};Proton.Position=Position;Proton.P=Position;function Velocity(rpan,thapan,type){Velocity._super_.call(this);this.rPan=Proton.Util.setSpanValue(rpan);this.thaPan=Proton.Util.setSpanValue(thapan);this.type=Proton.Util.initValue(type,'vector');}
Proton.Util.inherits(Velocity,Proton.Initialize);Velocity.prototype.reset=function(rpan,thapan,type){this.rPan=Proton.Util.setSpanValue(rpan);this.thaPan=Proton.Util.setSpanValue(thapan);this.type=Proton.Util.initValue(type,'vector');};Velocity.prototype.normalizeVelocity=function(vr){return vr*Proton.MEASURE;}
Velocity.prototype.initialize=function(target){if(this.type=='p'||this.type=='P'||this.type=='polar'){var polar2d=new Proton.Polar2D(this.normalizeVelocity(this.rPan.getValue()),this.thaPan.getValue()*Math.PI/180);target.v.x=polar2d.getX();target.v.y=polar2d.getY();}else{target.v.x=this.normalizeVelocity(this.rPan.getValue());target.v.y=this.normalizeVelocity(this.thaPan.getValue());}};Proton.Velocity=Velocity;Proton.V=Velocity;function Mass(a,b,c){Mass._super_.call(this);this.massPan=Proton.Util.setSpanValue(a,b,c);}
Proton.Util.inherits(Mass,Proton.Initialize);Mass.prototype.initialize=function(target){target.mass=this.massPan.getValue();};Proton.Mass=Mass;function Radius(a,b,c){Radius._super_.call(this);this.radius=Proton.Util.setSpanValue(a,b,c);}
Proton.Util.inherits(Radius,Proton.Initialize);Radius.prototype.reset=function(a,b,c){this.radius=Proton.Util.setSpanValue(a,b,c);};Radius.prototype.initialize=function(particle){particle.radius=this.radius.getValue();particle.transform.oldRadius=particle.radius;};Proton.Radius=Radius;function ImageTarget(image,w,h){ImageTarget._super_.call(this);this.image=this.setSpanValue(image);this.w=Proton.Util.initValue(w,20);this.h=Proton.Util.initValue(h,this.w);}
Proton.Util.inherits(ImageTarget,Proton.Initialize);ImageTarget.prototype.initialize=function(particle){var imagetarget=this.image.getValue();if(typeof(imagetarget)=='string'){particle.target={width:this.w,height:this.h,src:imagetarget}}else{particle.target=imagetarget;particle.target.gotoAndStop(particle.target.spriteSheet.animations[0]);particle.target.currentAnimationFrame=Math.floor(Math.random()*particle.target.spriteSheet._frames.length-1);particle.target.play();}};ImageTarget.prototype.setSpanValue=function(color){if(color instanceof Proton.ColorSpan){return color;}else{return new Proton.ColorSpan(color);}};Proton.ImageTarget=ImageTarget;function Force(fx,fy,life,easing){Force._super_.call(this,life,easing);this.force=this.normalizeForce(new Proton.Vector2D(fx,fy));this.name="Force";}
Proton.Util.inherits(Force,Proton.Behaviour);Force.prototype.reset=function(fx,fy,life,easing){this.force=this.normalizeForce(new Proton.Vector2D(fx,fy));if(life)
Force._super_.prototype.reset.call(this,life,easing);}
Force.prototype.applyBehaviour=function(particle,time,index){Force._super_.prototype.applyBehaviour.call(this,particle,time,index);particle.a.add(this.force);};Proton.Force=Force;Proton.F=Force;function Attraction(targetPosition,force,radius,life,easing){Attraction._super_.call(this,life,easing);this.targetPosition=Proton.Util.initValue(targetPosition,new Proton.Vector2D);this.radius=Proton.Util.initValue(radius,1000);this.force=Proton.Util.initValue(this.normalizeValue(force),100);this.radiusSq=this.radius*this.radius
this.attractionForce=new Proton.Vector2D();this.lengthSq=0;this.name="Attraction";}
Proton.Util.inherits(Attraction,Proton.Behaviour);Attraction.prototype.reset=function(targetPosition,force,radius,life,easing){this.targetPosition=Proton.Util.initValue(targetPosition,new Proton.Vector2D);this.radius=Proton.Util.initValue(radius,1000);this.force=Proton.Util.initValue(this.normalizeValue(force),100);this.radiusSq=this.radius*this.radius
this.attractionForce=new Proton.Vector2D();this.lengthSq=0;if(life)
Attraction._super_.prototype.reset.call(this,life,easing);}
Attraction.prototype.applyBehaviour=function(particle,time,index){Attraction._super_.prototype.applyBehaviour.call(this,particle,time,index);this.attractionForce.copy(this.targetPosition);this.attractionForce.sub(particle.p);this.lengthSq=this.attractionForce.lengthSq();if(this.lengthSq>0.000004&&this.lengthSq<this.radiusSq){this.attractionForce.normalize();this.attractionForce.multiplyScalar(1-this.lengthSq/this.radiusSq);this.attractionForce.multiplyScalar(this.force);particle.a.add(this.attractionForce);}};Proton.Attraction=Attraction;function RandomDrift(driftX,driftY,delay,life,easing){RandomDrift._super_.call(this,life,easing);this.reset(driftX,driftY,delay);this.time=0;this.name="RandomDrift";}
Proton.Util.inherits(RandomDrift,Proton.Behaviour);RandomDrift.prototype.reset=function(driftX,driftY,delay,life,easing){this.panFoce=new Proton.Vector2D(driftX,driftY);this.panFoce=this.normalizeForce(this.panFoce);this.delay=delay;if(life)
RandomDrift._super_.prototype.reset.call(this,life,easing);}
RandomDrift.prototype.applyBehaviour=function(particle,time,index){RandomDrift._super_.prototype.applyBehaviour.call(this,particle,time,index);this.time+=time;if(this.time>=this.delay){particle.a.addXY(Proton.MathUtils.randomAToB(-this.panFoce.x,this.panFoce.x),Proton.MathUtils.randomAToB(-this.panFoce.y,this.panFoce.y));this.time=0;};};Proton.RandomDrift=RandomDrift;function Repulsion(targetPosition,force,radius,life,easing){Repulsion._super_.call(this,targetPosition,force,radius,life,easing);this.force*=-1;this.name="Repulsion";}
Proton.Util.inherits(Repulsion,Proton.Attraction);Repulsion.prototype.reset=function(targetPosition,force,radius,life,easing){Repulsion._super_.prototype.reset.call(this,targetPosition,force,radius,life,easing);this.force*=-1;}
Proton.Repulsion=Repulsion;function Gravity(g,life,easing){Gravity._super_.call(this,0,g,life,easing);this.name="Gravity";}
Proton.Util.inherits(Gravity,Proton.Force);Gravity.prototype.reset=function(g,life,easing){Gravity._super_.prototype.reset.call(this,0,g,life,easing);}
Proton.Gravity=Gravity;Proton.G=Gravity;function Collision(emitter,mass,callback,life,easing){Collision._super_.call(this,life,easing);this.reset(emitter,mass,callback);this.name="Collision";}
Proton.Util.inherits(Collision,Proton.Behaviour);Collision.prototype.reset=function(emitter,mass,callback,life,easing){this.emitter=Proton.Util.initValue(emitter,null);this.mass=Proton.Util.initValue(mass,true);this.callback=Proton.Util.initValue(callback,null);this.collisionPool=[];this.delta=new Proton.Vector2D();if(life)
Collision._super_.prototype.reset.call(this,life,easing);}
Collision.prototype.applyBehaviour=function(particle,time,index){var newPool=this.emitter?this.emitter.particles.slice(index):this.pool.slice(index);var otherParticle;var lengthSq;var overlap;var averageMass1,averageMass2;var length=newPool.length;for(var i=0;i<length;i++){otherParticle=newPool[i];if(otherParticle!==particle){this.delta.copy(otherParticle.p);this.delta.sub(particle.p);lengthSq=this.delta.lengthSq();distance=particle.radius+otherParticle.radius;if(lengthSq<=distance*distance){overlap=distance-Math.sqrt(lengthSq);overlap+=0.5;totalMass=particle.mass+otherParticle.mass;averageMass1=this.mass?otherParticle.mass/totalMass:0.5;averageMass2=this.mass?particle.mass/totalMass:0.5;particle.p.add(this.delta.clone().normalize().multiplyScalar(overlap*-averageMass1));otherParticle.p.add(this.delta.normalize().multiplyScalar(overlap*averageMass2));if(this.callback)
this.callback(particle,otherParticle);}}}};Proton.Collision=Collision;function CrossZone(zone,crossType,life,easing){CrossZone._super_.call(this,life,easing);this.reset(zone,crossType);this.name="CrossZone";}
Proton.Util.inherits(CrossZone,Proton.Behaviour);CrossZone.prototype.reset=function(zone,crossType,life,easing){this.zone=zone;this.zone.crossType=Proton.Util.initValue(crossType,"dead");if(life)
CrossZone._super_.prototype.reset.call(this,life,easing);}
CrossZone.prototype.applyBehaviour=function(particle,time,index){CrossZone._super_.prototype.applyBehaviour.call(this,particle,time,index);this.zone.crossing(particle);};Proton.CrossZone=CrossZone;function Alpha(a,b,life,easing){Alpha._super_.call(this,life,easing);this.reset(a,b);this.name="Alpha";}
Proton.Util.inherits(Alpha,Proton.Behaviour);Alpha.prototype.reset=function(a,b,life,easing){if(b==null||b==undefined)
this.same=true;else
this.same=false;this.a=Proton.Util.setSpanValue(Proton.Util.initValue(a,1));this.b=Proton.Util.setSpanValue(b);if(life)
Alpha._super_.prototype.reset.call(this,life,easing);}
Alpha.prototype.initialize=function(particle){particle.transform.alphaA=this.a.getValue();if(this.same)
particle.transform.alphaB=particle.transform.alphaA;else
particle.transform.alphaB=this.b.getValue();};Alpha.prototype.applyBehaviour=function(particle,time,index){Alpha._super_.prototype.applyBehaviour.call(this,particle,time,index);particle.alpha=particle.transform.alphaB+(particle.transform.alphaA-particle.transform.alphaB)*this.energy;if(particle.alpha<0.001)
particle.alpha=0;};Proton.Alpha=Alpha;function Scale(a,b,life,easing){Scale._super_.call(this,life,easing);this.reset(a,b);this.name="Scale";}
Proton.Util.inherits(Scale,Proton.Behaviour);Scale.prototype.reset=function(a,b,life,easing){if(b==null||b==undefined)
this.same=true;else
this.same=false;this.a=Proton.Util.setSpanValue(Proton.Util.initValue(a,1));this.b=Proton.Util.setSpanValue(b);if(life)
Scale._super_.prototype.reset.call(this,life,easing);}
Scale.prototype.initialize=function(particle){particle.transform.scaleA=this.a.getValue();particle.transform.oldRadius=particle.radius;if(this.same)
particle.transform.scaleB=particle.transform.scaleA;else
particle.transform.scaleB=this.b.getValue();};Scale.prototype.applyBehaviour=function(particle,time,index){Scale._super_.prototype.applyBehaviour.call(this,particle,time,index);particle.scale=particle.transform.scaleB+(particle.transform.scaleA-particle.transform.scaleB)*this.energy;if(particle.scale<0.0001)
particle.scale=0;particle.radius=particle.transform.oldRadius*particle.scale;};Proton.Scale=Scale;function Rotate(a,b,style,life,easing){Rotate._super_.call(this,life,easing);this.reset(a,b,style);this.name="Rotate";}
Proton.Util.inherits(Rotate,Proton.Behaviour);Rotate.prototype.reset=function(a,b,style,life,easing){if(b==null||b==undefined)
this.same=true;else
this.same=false;this.a=Proton.Util.setSpanValue(Proton.Util.initValue(a,"Velocity"));this.b=Proton.Util.setSpanValue(Proton.Util.initValue(b,0));this.style=Proton.Util.initValue(style,'to');if(life)
Rotate._super_.prototype.reset.call(this,life,easing);}
Rotate.prototype.initialize=function(particle){particle.rotation=this.a.getValue();particle.transform.rotationA=this.a.getValue();if(!this.same)
particle.transform.rotationB=this.b.getValue();};Rotate.prototype.applyBehaviour=function(particle,time,index){Rotate._super_.prototype.applyBehaviour.call(this,particle,time,index);if(!this.same){if(this.style=='to'||this.style=='TO'||this.style=='_'){particle.rotation+=particle.transform.rotationB+(particle.transform.rotationA-particle.transform.rotationB)*this.energy}else{particle.rotation+=particle.transform.rotationB;}}else if(this.a.a=="V"||this.a.a=="Velocity"||this.a.a=="v"){particle.rotation=particle.getDirection();}};Proton.Rotate=Rotate;function Color(color1,color2,life,easing){Color._super_.call(this,life,easing);this.reset(color1,color2);this.name="Color";}
Proton.Util.inherits(Color,Proton.Behaviour);Color.prototype.reset=function(color1,color2,life,easing){this.color1=this.setSpanValue(color1);this.color2=this.setSpanValue(color2);if(life)
Color._super_.prototype.reset.call(this,life,easing);}
Color.prototype.initialize=function(particle){particle.color=this.color1.getValue();particle.transform.beginRGB=Proton.Util.hexToRGB(particle.color);if(this.color2)
particle.transform.endRGB=Proton.Util.hexToRGB(this.color2.getValue());};Color.prototype.applyBehaviour=function(particle,time,index){if(this.color2){Color._super_.prototype.applyBehaviour.call(this,particle,time,index);particle.transform.rgb.r=particle.transform.endRGB.r+(particle.transform.beginRGB.r-particle.transform.endRGB.r)*this.energy;particle.transform.rgb.g=particle.transform.endRGB.g+(particle.transform.beginRGB.g-particle.transform.endRGB.g)*this.energy;particle.transform.rgb.b=particle.transform.endRGB.b+(particle.transform.beginRGB.b-particle.transform.endRGB.b)*this.energy;particle.transform.rgb.r=parseInt(particle.transform.rgb.r,10);particle.transform.rgb.g=parseInt(particle.transform.rgb.g,10);particle.transform.rgb.b=parseInt(particle.transform.rgb.b,10);}else{particle.transform.rgb.r=particle.transform.beginRGB.r;particle.transform.rgb.g=particle.transform.beginRGB.g;particle.transform.rgb.b=particle.transform.beginRGB.b;}};Color.prototype.setSpanValue=function(color){if(color){if(color instanceof Proton.ColorSpan){return color;}else{return new Proton.ColorSpan(color);}}else{return null;}}
Proton.Color=Color;function GravityWell(centerPoint,force,life,easing){GravityWell._super_.call(this,life,easing);this.distanceVec=new Proton.Vector2D();this.centerPoint=Proton.Util.initValue(centerPoint,new Proton.Vector2D);this.force=Proton.Util.initValue(this.normalizeValue(force),100);this.name="GravityWell";}
Proton.Util.inherits(GravityWell,Proton.Behaviour);GravityWell.prototype.reset=function(centerPoint,force,life,easing){this.distanceVec=new Proton.Vector2D();this.centerPoint=Proton.Util.initValue(centerPoint,new Proton.Vector2D);this.force=Proton.Util.initValue(this.normalizeValue(force),100);if(life)
GravityWell._super_.prototype.reset.call(this,life,easing);};GravityWell.prototype.initialize=function(particle){};GravityWell.prototype.applyBehaviour=function(particle,time,index){this.distanceVec.set(this.centerPoint.x-particle.p.x,this.centerPoint.y-particle.p.y);var distanceSq=this.distanceVec.lengthSq();if(distanceSq!=0){var distance=this.distanceVec.length();var factor=(this.force*time)/(distanceSq*distance);particle.v.x+=factor*this.distanceVec.x;particle.v.y+=factor*this.distanceVec.y;}}
Proton.GravityWell=GravityWell;Emitter.ID=0;function Emitter(pObj){this.initializes=[];this.particles=[];this.behaviours=[];this.emitTime=0;this.emitTotalTimes=-1;this.damping=.006;this.bindEmitter=true;this.rate=new Proton.Rate(1,.1);Emitter._super_.call(this,pObj);this.id='emitter_'+Emitter.ID++;};Proton.Util.inherits(Emitter,Proton.Particle);Proton.EventDispatcher.initialize(Emitter.prototype);Emitter.prototype.emit=function(emitTime,life){this.emitTime=0;this.emitTotalTimes=Proton.Util.initValue(emitTime,Infinity);if(life==true||life=='life'||life=='destroy'){if(emitTime=='once')
this.life=1;else
this.life=this.emitTotalTimes;}else if(!isNaN(life)){this.life=life;}
this.rate.init();};Emitter.prototype.stopEmit=function(){this.emitTotalTimes=-1;this.emitTime=0;};Emitter.prototype.removeAllParticles=function(){for(var i=0;i<this.particles.length;i++)
this.particles[i].dead=true;};Emitter.prototype.createParticle=function(initialize,behaviour){var particle=Proton.pool.get();this.setupParticle(particle,initialize,behaviour);this.dispatchEvent(new Proton.Event({type:Proton.PARTICLE_CREATED,particle:particle}));return particle;};Emitter.prototype.addSelfInitialize=function(pObj){if(pObj['init']){pObj.init(this);}else{this.initAll();}};Emitter.prototype.addInitialize=function(){var length=arguments.length,i;for(i=0;i<length;i++){this.initializes.push(arguments[i]);}};Emitter.prototype.removeInitialize=function(initializer){var index=this.initializes.indexOf(initializer);if(index>-1){this.initializes.splice(index,1);}};Emitter.prototype.removeInitializers=function(){Proton.Util.destroyArray(this.initializes);};Emitter.prototype.addBehaviour=function(){var length=arguments.length,i;for(i=0;i<length;i++){this.behaviours.push(arguments[i]);if(arguments[i].hasOwnProperty("parents"))
arguments[i].parents.push(this);}};Emitter.prototype.removeBehaviour=function(behaviour){var index=this.behaviours.indexOf(behaviour);if(index>-1)
this.behaviours.splice(index,1);};Emitter.prototype.removeAllBehaviours=function(){Proton.Util.destroyArray(this.behaviours);};Emitter.prototype.integrate=function(time){var damping=1-this.damping;Proton.integrator.integrate(this,time,damping);var length=this.particles.length,i;for(i=0;i<length;i++){var particle=this.particles[i];particle.update(time,i);Proton.integrator.integrate(particle,time,damping);this.dispatchEvent(new Proton.Event({type:Proton.PARTICLE_UPDATE,particle:particle}));}};Emitter.prototype.emitting=function(time){if(this.emitTotalTimes=='once'){var length=this.rate.getValue(99999),i;for(i=0;i<length;i++){this.createParticle();}
this.emitTotalTimes='none';}else if(!isNaN(this.emitTotalTimes)){this.emitTime+=time;if(this.emitTime<this.emitTotalTimes){var length=this.rate.getValue(time),i;for(i=0;i<length;i++){this.createParticle();}}}}
Emitter.prototype.update=function(time){this.age+=time;if(this.age>=this.life||this.dead){this.destroy();}
this.emitting(time);this.integrate(time);var particle;var length=this.particles.length,k;for(k=length-1;k>=0;k--){particle=this.particles[k];if(particle.dead){Proton.pool.set(particle);this.particles.splice(k,1);this.dispatchEvent(new Proton.Event({type:Proton.PARTICLE_DEAD,particle:particle}));}}};Emitter.prototype.setupParticle=function(particle,initialize,behaviour){var initializes=this.initializes;var behaviours=this.behaviours;if(initialize){if(initialize instanceof Array)
initializes=initialize;else
initializes=[initialize];}
if(behaviour){if(behaviour instanceof Array)
behaviours=behaviour;else
behaviours=[behaviour];}
Proton.InitializeUtil.initialize(this,particle,initializes);particle.addBehaviours(behaviours);particle.parent=this;this.particles.push(particle);};Emitter.prototype.destroy=function(){this.dead=true;this.emitTotalTimes=-1;if(this.particles.length==0){this.removeInitializers();this.removeAllBehaviours();if(this.parent)
this.parent.removeEmitter(this);}}
Proton.Emitter=Emitter;function BehaviourEmitter(pObj){this.selfBehaviours=[];BehaviourEmitter._super_.call(this,pObj);};Proton.Util.inherits(BehaviourEmitter,Proton.Emitter);BehaviourEmitter.prototype.addSelfBehaviour=function(){var length=arguments.length,i;for(i=0;i<length;i++){this.selfBehaviours.push(arguments[i]);}};BehaviourEmitter.prototype.removeSelfBehaviour=function(behaviour){var index=this.selfBehaviours.indexOf(behaviour);if(index>-1)
this.selfBehaviours.splice(index,1);};BehaviourEmitter.prototype.update=function(time){BehaviourEmitter._super_.prototype.update.call(this,time);if(!this.sleep){var length=this.selfBehaviours.length,i;for(i=0;i<length;i++){this.selfBehaviours[i].applyBehaviour(this,time,i)}}}
Proton.BehaviourEmitter=BehaviourEmitter;function FollowEmitter(mouseTarget,ease,pObj){this.mouseTarget=Proton.Util.initValue(mouseTarget,window);this.ease=Proton.Util.initValue(ease,.7);this._allowEmitting=false;this.initEventHandler();FollowEmitter._super_.call(this,pObj);};Proton.Util.inherits(FollowEmitter,Proton.Emitter);FollowEmitter.prototype.initEventHandler=function(){var self=this;this.mousemoveHandler=function(e){self.mousemove.call(self,e);};this.mousedownHandler=function(e){self.mousedown.call(self,e);};this.mouseupHandler=function(e){self.mouseup.call(self,e);};this.mouseTarget.addEventListener('mousemove',this.mousemoveHandler,false);}
FollowEmitter.prototype.emit=function(){this._allowEmitting=true;}
FollowEmitter.prototype.stopEmit=function(){this._allowEmitting=false;}
FollowEmitter.prototype.mousemove=function(e){if(e.layerX||e.layerX==0){this.p.x+=(e.layerX-this.p.x)*this.ease;this.p.y+=(e.layerY-this.p.y)*this.ease;}else if(e.offsetX||e.offsetX==0){this.p.x+=(e.offsetX-this.p.x)*this.ease;this.p.y+=(e.offsetY-this.p.y)*this.ease;}
if(this._allowEmitting)
FollowEmitter._super_.prototype.emit.call(this,'once');};FollowEmitter.prototype.destroy=function(){FollowEmitter._super_.prototype.destroy.call(this);this.mouseTarget.removeEventListener('mousemove',this.mousemoveHandler,false);}
Proton.FollowEmitter=FollowEmitter;var ease=ease||{easeLinear:function(value){return value;},easeInQuad:function(value){return Math.pow(value,2);},easeOutQuad:function(value){return-(Math.pow((value-1),2)-1);},easeInOutQuad:function(value){if((value/=0.5)<1)
return 0.5*Math.pow(value,2);return-0.5*((value-=2)*value-2);},easeInCubic:function(value){return Math.pow(value,3);},easeOutCubic:function(value){return(Math.pow((value-1),3)+1);},easeInOutCubic:function(value){if((value/=0.5)<1)
return 0.5*Math.pow(value,3);return 0.5*(Math.pow((value-2),3)+2);},easeInQuart:function(value){return Math.pow(value,4);},easeOutQuart:function(value){return-(Math.pow((value-1),4)-1);},easeInOutQuart:function(value){if((value/=0.5)<1)
return 0.5*Math.pow(value,4);return-0.5*((value-=2)*Math.pow(value,3)-2);},easeInSine:function(value){return-Math.cos(value*(Math.PI/2))+1;},easeOutSine:function(value){return Math.sin(value*(Math.PI/2));},easeInOutSine:function(value){return(-0.5*(Math.cos(Math.PI*value)-1));},easeInExpo:function(value){return(value===0)?0:Math.pow(2,10*(value-1));},easeOutExpo:function(value){return(value===1)?1:-Math.pow(2,-10*value)+1;},easeInOutExpo:function(value){if(value===0)
return 0;if(value===1)
return 1;if((value/=0.5)<1)
return 0.5*Math.pow(2,10*(value-1));return 0.5*(-Math.pow(2,-10*--value)+2);},easeInCirc:function(value){return-(Math.sqrt(1-(value*value))-1);},easeOutCirc:function(value){return Math.sqrt(1-Math.pow((value-1),2));},easeInOutCirc:function(value){if((value/=0.5)<1)
return-0.5*(Math.sqrt(1-value*value)-1);return 0.5*(Math.sqrt(1-(value-=2)*value)+1);},easeInBack:function(value){var s=1.70158;return(value)*value*((s+1)*value-s);},easeOutBack:function(value){var s=1.70158;return(value=value-1)*value*((s+1)*value+s)+1;},easeInOutBack:function(value){var s=1.70158;if((value/=0.5)<1)
return 0.5*(value*value*(((s*=(1.525))+1)*value-s));return 0.5*((value-=2)*value*(((s*=(1.525))+1)*value+s)+2);},setEasingByName:function(name){switch(name){case'easeLinear':return Proton.ease.easeLinear;break;case'easeInQuad':return Proton.ease.easeInQuad;break;case'easeOutQuad':return Proton.ease.easeOutQuad;break;case'easeInOutQuad':return Proton.ease.easeInOutQuad;break;case'easeInCubic':return Proton.ease.easeInCubic;break;case'easeOutCubic':return Proton.ease.easeOutCubic;break;case'easeInOutCubic':return Proton.ease.easeInOutCubic;break;case'easeInQuart':return Proton.ease.easeInQuart;break;case'easeOutQuart':return Proton.ease.easeOutQuart;break;case'easeInOutQuart':return Proton.ease.easeInOutQuart;break;case'easeInSine':return Proton.ease.easeInSine;break;case'easeOutSine':return Proton.ease.easeOutSine;break;case'easeInOutSine':return Proton.ease.easeInOutSine;break;case'easeInExpo':return Proton.ease.easeInExpo;break;case'easeOutExpo':return Proton.ease.easeOutExpo;break;case'easeInOutExpo':return Proton.ease.easeInOutExpo;break;case'easeInCirc':return Proton.ease.easeInCirc;break;case'easeOutCirc':return Proton.ease.easeOutCirc;break;case'easeInOutCirc':return Proton.ease.easeInOutCirc;break;case'easeInBack':return Proton.ease.easeInBack;break;case'easeOutBack':return Proton.ease.easeOutBack;break;case'easeInOutBack':return Proton.ease.easeInOutBack;break;default:return Proton.ease.easeLinear;break;}}}
Proton.ease=ease;Proton.easeLinear='easeLinear';Proton.easeInQuad='easeInQuad';Proton.easeOutQuad='easeOutQuad';Proton.easeInOutQuad='easeInOutQuad';Proton.easeInCubic='easeInCubic';Proton.easeOutCubic='easeOutCubic';Proton.easeInOutCubic='easeInOutCubic';Proton.easeInQuart='easeInQuart';Proton.easeOutQuart='easeOutQuart';Proton.easeInOutQuart='easeInOutQuart';Proton.easeInSine='easeInSine';Proton.easeOutSine='easeOutSine';Proton.easeInOutSine='easeInOutSine';Proton.easeInExpo='easeInExpo';Proton.easeOutExpo='easeOutExpo';Proton.easeInOutExpo='easeInOutExpo';Proton.easeInCirc='easeInCirc';Proton.easeOutCirc='easeOutCirc';Proton.easeInOutCirc='easeInOutCirc';Proton.easeInBack='easeInBack';Proton.easeOutBack='easeOutBack';Proton.easeInOutBack='easeInOutBack';function Renderer(type,proton,element){this.element=element;this.type=Proton.Util.initValue(type,'canvas');this.proton=proton;this.renderer=this.getRenderer();}
Renderer.prototype={start:function(){this.addEventHandler();this.renderer.start();},stop:function(){this.renderer.stop();},resize:function(width,height){this.renderer.resize(width,height);},setStroke:function(color,thinkness){if(this.renderer.hasOwnProperty('stroke'))
this.renderer.setStroke(color,thinkness);else
alert('Sorry this renderer do not suppest stroke method!');},createImageData:function(data){if(this.renderer instanceof Proton.PixelRender)
this.renderer.createImageData(data);},setMaxRadius:function(radius){if(this.renderer instanceof Proton.WebGLRender)
this.renderer.setMaxRadius(radius);},blendEquation:function(A){if(this.renderer instanceof Proton.WebGLRender)
this.renderer.blendEquation(A);},blendFunc:function(A,B){if(this.renderer instanceof Proton.WebGLRender)
this.renderer.blendFunc(A,B);},setType:function(type){this.type=type;this.renderer=this.getRenderer();},getRenderer:function(){switch(this.type){case'pixi':return new Proton.PixiRender(this.proton,this.element);break;case'dom':return new Proton.DomRender(this.proton,this.element);break;case'canvas':return new Proton.CanvasRender(this.proton,this.element);break;case'webgl':return new Proton.WebGLRender(this.proton,this.element);break;case'easel':return new Proton.EaselRender(this.proton,this.element);break;case'easeljs':return new Proton.EaselRender(this.proton,this.element);break;case'pixel':return new Proton.PixelRender(this.proton,this.element);break;default:return new Proton.BaseRender(this.proton,this.element);}},render:function(callback){this.renderer.render(callback);},addEventHandler:function(){if(this.onProtonUpdate)
this.renderer.onProtonUpdate=this.onProtonUpdate;if(this.onParticleCreated)
this.renderer.onParticleCreated=this.onParticleCreated;if(this.onParticleUpdate)
this.renderer.onParticleUpdate=this.onParticleUpdate;if(this.onParticleDead)
this.renderer.onParticleDead=this.onParticleDead;}}
Proton.Renderer=Renderer;function BaseRender(proton,element,stroke){this.proton=proton;this.element=element;this.stroke=stroke;}
BaseRender.prototype={start:function(){var self=this;this.proton.addEventListener(Proton.PROTON_UPDATE,function(e){self.onProtonUpdate.call(self);});this.proton.addEventListener(Proton.PROTON_UPDATE_AFTER,function(e){self.onProtonUpdateAfter.call(self);});this.proton.addEventListener(Proton.EMITTER_ADDED,function(e){self.onEmitterAdded.call(self,e.emitter);});this.proton.addEventListener(Proton.EMITTER_REMOVED,function(e){self.onEmitterRemoved.call(self,e.emitter);});var length=this.proton.emitters.length,i;for(i=0;i<length;i++){var emitter=this.proton.emitters[i];this.addEmitterListener(emitter);}},resize:function(width,height){},addEmitterListener:function(emitter){var self=this;emitter.addEventListener(Proton.PARTICLE_CREATED,function(e){self.onParticleCreated.call(self,e.particle);});emitter.addEventListener(Proton.PARTICLE_UPDATE,function(e){self.onParticleUpdate.call(self,e.particle);});emitter.addEventListener(Proton.PARTICLE_DEAD,function(e){self.onParticleDead.call(self,e.particle);});},stop:function(){var length=this.proton.emitters.length,i;this.proton.removeAllEventListeners();for(i=0;i<length;i++){var emitter=this.proton.emitters[i];emitter.removeAllEventListeners();}},onEmitterAdded:function(emitter){this.addEmitterListener(emitter);},onEmitterRemoved:function(emitter){emitter.removeAllEventListeners();},onProtonUpdate:function(){},onProtonUpdateAfter:function(){},onParticleCreated:function(particle){},onParticleUpdate:function(particle){},onParticleDead:function(particle){}}
Proton.BaseRender=BaseRender;function DomRender(proton,element){DomRender._super_.call(this,proton,element);this.stroke=null;}
Proton.Util.inherits(DomRender,Proton.BaseRender);DomRender.prototype.start=function(){DomRender._super_.prototype.start.call(this);}
DomRender.prototype.setStroke=function(color,thinkness){color=Proton.Util.initValue(color,'#000000');thinkness=Proton.Util.initValue(thinkness,1);this.stroke={color:color,thinkness:thinkness};}
DomRender.prototype.onProtonUpdate=function(){}
DomRender.prototype.onParticleCreated=function(particle){if(particle.target){var self=this;Proton.Util.getImage(particle.target,particle,false,function(particle){self.setImgInDIV.call(self,particle);});}else{particle.transform.canvas=Proton.DomUtil.createCanvas(particle.id+'_canvas',particle.radius+1,particle.radius+1,'absolute');particle.transform.bakOldRadius=particle.radius;if(this.stroke){particle.transform.canvas.width=2*particle.radius+this.stroke.thinkness*2;particle.transform.canvas.height=2*particle.radius+this.stroke.thinkness*2;}else{particle.transform.canvas.width=2*particle.radius+1;particle.transform.canvas.height=2*particle.radius+1;}
particle.transform.context=particle.transform.canvas.getContext('2d');particle.transform.context.fillStyle=particle.color;particle.transform.context.beginPath();particle.transform.context.arc(particle.radius,particle.radius,particle.radius,0,Math.PI*2,true);if(this.stroke){particle.transform.context.strokeStyle=this.stroke.color;particle.transform.context.lineWidth=this.stroke.thinkness;particle.transform.context.stroke();}
particle.transform.context.closePath();particle.transform.context.fill();this.element.appendChild(particle.transform.canvas);}}
DomRender.prototype.onParticleUpdate=function(particle){if(particle.target){if(particle.target instanceof Image){particle.transform.canvas.style.opacity=particle.alpha;Proton.DomUtil.transformDom(particle.transform.canvas,particle.p.x-particle.target.width/2,particle.p.y-particle.target.height/2,particle.scale,particle.rotation);}}else{particle.transform.canvas.style.opacity=particle.alpha;if(particle.transform['oldRadius'])
Proton.DomUtil.transformDom(particle.transform.canvas,particle.p.x-particle.transform.oldRadius,particle.p.y-particle.transform.oldRadius,particle.scale,particle.rotation);else
Proton.DomUtil.transformDom(particle.transform.canvas,particle.p.x-particle.transform.bakOldRadius,particle.p.y-particle.transform.bakOldRadius,particle.scale,particle.rotation);}}
DomRender.prototype.onParticleDead=function(particle){if(particle.transform.canvas)
this.element.removeChild(particle.transform.canvas);}
DomRender.prototype.setImgInDIV=function(particle){particle.transform.canvas=Proton.DomUtil.createCanvas(particle.id+'_canvas',particle.target.width+1,particle.target.height+1,'absolute',particle.p.x-particle.radius,particle.p.y-particle.radius);particle.transform.context=particle.transform.canvas.getContext('2d');particle.transform.context.drawImage(particle.target,0,0,particle.target.width,particle.target.height);this.element.appendChild(particle.transform.canvas);}
Proton.DomRender=DomRender;function EaselRender(proton,element,stroke){EaselRender._super_.call(this,proton,element);this.stroke=stroke;}
Proton.Util.inherits(EaselRender,Proton.BaseRender);EaselRender.prototype.resize=function(width,height){}
EaselRender.prototype.start=function(){EaselRender._super_.prototype.start.call(this);};EaselRender.prototype.onProtonUpdate=function(){}
EaselRender.prototype.onParticleCreated=function(particle){if(particle.target){particle.target=particle.target.clone();if(!particle.target.parent){if(!!particle.target['image']){particle.target.regX=particle.target.image.width/2;particle.target.regY=particle.target.image.height/2;}
this.element.addChild(particle.target);}}else{var graphics=new createjs.Graphics();if(this.stroke){if(this.stroke==true){graphics.beginStroke('#000000');}else if(this.stroke instanceof String){graphics.beginStroke(this.stroke);}}
graphics.beginFill(particle.color).drawCircle(0,0,particle.radius);var shape=new createjs.Shape(graphics);particle.target=shape;this.element.addChild(particle.target);}}
EaselRender.prototype.onParticleUpdate=function(particle){if(particle.target){particle.target.x=particle.p.x;particle.target.y=particle.p.y;particle.target.alpha=particle.alpha;particle.target.scaleX=particle.target.scaleY=particle.scale;particle.target.rotation=particle.rotation;}}
EaselRender.prototype.onParticleDead=function(particle){if(particle.target){if(particle.target.parent)
particle.target.parent.removeChild(particle.target);}}
Proton.EaselRender=EaselRender;function CanvasRender(proton,element){CanvasRender._super_.call(this,proton,element);this.stroke=null;this.context=this.element.getContext("2d");this.bufferCache={};}
Proton.Util.inherits(CanvasRender,Proton.BaseRender);CanvasRender.prototype.resize=function(width,height){this.element.width=width;this.element.height=height;}
CanvasRender.prototype.start=function(){CanvasRender._super_.prototype.start.call(this);}
CanvasRender.prototype.setStroke=function(color,thinkness){color=Proton.Util.initValue(color,'#000000');thinkness=Proton.Util.initValue(thinkness,1);this.stroke={color:color,thinkness:thinkness};}
CanvasRender.prototype.onProtonUpdate=function(){this.context.clearRect(0,0,this.element.width,this.element.height);}
CanvasRender.prototype.onParticleCreated=function(particle){if(particle.target)
Proton.Util.getImage(particle.target,particle,false);else
particle.color=particle.color?particle.color:'#ff0000';}
CanvasRender.prototype.onParticleUpdate=function(particle){if(particle.target){if(particle.target instanceof Image){var w=particle.target.width*particle.scale|0;var h=particle.target.height*particle.scale|0;var x=particle.p.x-w/2;var y=particle.p.y-h/2;if(!!particle.color){if(!particle.transform["buffer"])
particle.transform.buffer=this.getBuffer(particle.target);var bufferContext=particle.transform.buffer.getContext('2d');bufferContext.clearRect(0,0,particle.transform.buffer.width,particle.transform.buffer.height);bufferContext.globalAlpha=particle.alpha;bufferContext.drawImage(particle.target,0,0);bufferContext.globalCompositeOperation="source-atop";bufferContext.fillStyle=Proton.Util.rgbToHex(particle.transform.rgb);bufferContext.fillRect(0,0,particle.transform.buffer.width,particle.transform.buffer.height);bufferContext.globalCompositeOperation="source-over";bufferContext.globalAlpha=1;this.context.drawImage(particle.transform.buffer,0,0,particle.transform.buffer.width,particle.transform.buffer.height,x,y,w,h);}else{this.context.save();this.context.globalAlpha=particle.alpha;this.context.translate(particle.p.x,particle.p.y);this.context.rotate(Proton.MathUtils.degreeTransform(particle.rotation));this.context.translate(-particle.p.x,-particle.p.y);this.context.drawImage(particle.target,0,0,particle.target.width,particle.target.height,x,y,w,h);this.context.globalAlpha=1;this.context.restore();}}}else{if(particle.transform["rgb"])
this.context.fillStyle='rgba('+particle.transform.rgb.r+','+particle.transform.rgb.g+','+particle.transform.rgb.b+','+particle.alpha+')';else
this.context.fillStyle=particle.color;this.context.beginPath();this.context.arc(particle.p.x,particle.p.y,particle.radius,0,Math.PI*2,true);if(this.stroke){this.context.strokeStyle=this.stroke.color;this.context.lineWidth=this.stroke.thinkness;this.context.stroke();}
this.context.closePath();this.context.fill();}}
CanvasRender.prototype.onParticleDead=function(particle){}
CanvasRender.prototype.getBuffer=function(image){if(image instanceof Image){var size=image.width+'_'+image.height;var canvas=this.bufferCache[size];if(!canvas){canvas=document.createElement('canvas');canvas.width=image.width;canvas.height=image.height;this.bufferCache[size]=canvas;}
return canvas;}}
Proton.CanvasRender=CanvasRender;function PixelRender(proton,element,rectangle){PixelRender._super_.call(this,proton,element);this.context=this.element.getContext('2d');this.imageData=null;this.rectangle=null;this.rectangle=rectangle;this.createImageData(rectangle);}
Proton.Util.inherits(PixelRender,Proton.BaseRender);PixelRender.prototype.resize=function(width,height){this.element.width=width;this.element.height=height;}
PixelRender.prototype.createImageData=function(rectangle){if(!rectangle)
this.rectangle=new Proton.Rectangle(0,0,this.element.width,this.element.height);else
this.rectangle=rectangle;this.imageData=this.context.createImageData(this.rectangle.width,this.rectangle.height);this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y);}
PixelRender.prototype.start=function(){PixelRender._super_.prototype.start.call(this);};PixelRender.prototype.onProtonUpdate=function(){this.context.clearRect(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height);this.imageData=this.context.getImageData(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height);}
PixelRender.prototype.onProtonUpdateAfter=function(){this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y);}
PixelRender.prototype.onParticleCreated=function(particle){}
PixelRender.prototype.onParticleUpdate=function(particle){if(this.imageData){this.setPixel(this.imageData,Math.floor(particle.p.x-this.rectangle.x),Math.floor(particle.p.y-this.rectangle.y),particle);}}
PixelRender.prototype.setPixel=function(imagedata,x,y,particle){var rgb=particle.transform.rgb;if((x<0)||(x>this.element.width)||(y<0)||(y>this.elementwidth))
return;var i=((y>>0)*imagedata.width+(x>>0))*4;imagedata.data[i]=rgb.r;imagedata.data[i+1]=rgb.g;imagedata.data[i+2]=rgb.b;imagedata.data[i+3]=particle.alpha*255;}
PixelRender.prototype.onParticleDead=function(particle){}
Proton.PixelRender=PixelRender;function WebGLRender(proton,element){WebGLRender._super_.call(this,proton,element);this.gl=this.element.getContext('experimental-webgl',{antialias:true,stencil:false,depth:false});if(!this.gl)
alert("Sorry your browser do not suppest WebGL!");this.initVar();this.setMaxRadius();this.initShaders();this.initBuffers();this.gl.blendEquation(this.gl.FUNC_ADD);this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA);this.gl.enable(this.gl.BLEND);}
Proton.Util.inherits(WebGLRender,Proton.BaseRender);WebGLRender.prototype.resize=function(width,height){this.umat[4]=-2;this.umat[7]=1;this.smat[0]=1/width;this.smat[4]=1/height;this.mstack.set(this.umat,0);this.mstack.set(this.smat,1);this.gl.viewport(0,0,width,height);this.element.width=width;this.element.height=height;}
WebGLRender.prototype.setMaxRadius=function(radius){this.circleCanvasURL=this.createCircle(radius);}
WebGLRender.prototype.getVertexShader=function(){var vsSource=["uniform vec2 viewport;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 tMat;","varying vec2 vTextureCoord;","varying float alpha;","void main() {","vec3 v = tMat * vec3(aVertexPosition, 1.0);","gl_Position = vec4(v.x, v.y, 0, 1);","vTextureCoord = aTextureCoord;","alpha = tMat[0][2];","}"].join("\n");return vsSource;}
WebGLRender.prototype.getFragmentShader=function(){var fsSource=["precision mediump float;","varying vec2 vTextureCoord;","varying float alpha;","uniform sampler2D uSampler;","uniform vec4 color;","uniform bool useTexture;","uniform vec3 uColor;","void main() {","vec4 textureColor = texture2D(uSampler, vTextureCoord);","gl_FragColor = textureColor * vec4(uColor, 1.0);","gl_FragColor.w *= alpha;","}"].join("\n");return fsSource;}
WebGLRender.prototype.initVar=function(){this.mstack=new Proton.MStack();this.umat=Proton.Mat3.create([2,0,1,0,-2,0,-1,1,1]);this.smat=Proton.Mat3.create([1/100,0,1,0,1/100,0,0,0,1]);this.texturebuffers={};}
WebGLRender.prototype.start=function(){WebGLRender._super_.prototype.start.call(this);this.resize(this.element.width,this.element.height);}
WebGLRender.prototype.blendEquation=function(A){this.gl.blendEquation(this.gl[A]);}
WebGLRender.prototype.blendFunc=function(A,B){this.gl.blendFunc(this.gl[A],this.gl[B]);}
WebGLRender.prototype.getShader=function(gl,str,fs){var shader;if(fs)
shader=gl.createShader(gl.FRAGMENT_SHADER);else
shader=gl.createShader(gl.VERTEX_SHADER);gl.shaderSource(shader,str);gl.compileShader(shader);if(!gl.getShaderParameter(shader,gl.COMPILE_STATUS)){alert(gl.getShaderInfoLog(shader));return null;}
return shader;}
WebGLRender.prototype.initShaders=function(){var fragmentShader=this.getShader(this.gl,this.getFragmentShader(),true);var vertexShader=this.getShader(this.gl,this.getVertexShader(),false);this.sprogram=this.gl.createProgram();this.gl.attachShader(this.sprogram,vertexShader);this.gl.attachShader(this.sprogram,fragmentShader);this.gl.linkProgram(this.sprogram);if(!this.gl.getProgramParameter(this.sprogram,this.gl.LINK_STATUS))
alert("Could not initialise shaders");this.gl.useProgram(this.sprogram);this.sprogram.vpa=this.gl.getAttribLocation(this.sprogram,"aVertexPosition");this.sprogram.tca=this.gl.getAttribLocation(this.sprogram,"aTextureCoord");this.gl.enableVertexAttribArray(this.sprogram.tca);this.gl.enableVertexAttribArray(this.sprogram.vpa);this.sprogram.tMatUniform=this.gl.getUniformLocation(this.sprogram,"tMat");this.sprogram.samplerUniform=this.gl.getUniformLocation(this.sprogram,"uSampler");this.sprogram.useTex=this.gl.getUniformLocation(this.sprogram,"useTexture");this.sprogram.color=this.gl.getUniformLocation(this.sprogram,"uColor");this.gl.uniform1i(this.sprogram.useTex,1);};WebGLRender.prototype.initBuffers=function(){this.unitIBuffer=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer);var vs=[0,3,1,0,2,3];this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(vs),this.gl.STATIC_DRAW);var ids=[];for(var i=0;i<100;i++)
ids.push(i);idx=new Uint16Array(ids);this.unitI33=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitI33);this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,idx,this.gl.STATIC_DRAW);ids=[];for(i=0;i<100;i++)
ids.push(i,i+1,i+2);idx=new Uint16Array(ids);this.stripBuffer=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.stripBuffer);this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,idx,this.gl.STATIC_DRAW);};WebGLRender.prototype.createCircle=function(raidus){this.circleCanvasRadius=Proton.WebGLUtil.nhpot(Proton.Util.initValue(raidus,32));var canvas=Proton.DomUtil.createCanvas('circle_canvas',this.circleCanvasRadius*2,this.circleCanvasRadius*2);var context=canvas.getContext('2d');context.beginPath();context.arc(this.circleCanvasRadius,this.circleCanvasRadius,this.circleCanvasRadius,0,Math.PI*2,true);context.closePath();context.fillStyle='#FFF';context.fill();return canvas.toDataURL();};WebGLRender.prototype.setImgInCanvas=function(particle){var _w=particle.target.width;var _h=particle.target.height;var _width=Proton.WebGLUtil.nhpot(particle.target.width);var _height=Proton.WebGLUtil.nhpot(particle.target.height);var _scaleX=particle.target.width/_width;var _scaleY=particle.target.height/_height;if(!this.texturebuffers[particle.transform.src])
this.texturebuffers[particle.transform.src]=[this.gl.createTexture(),this.gl.createBuffer(),this.gl.createBuffer()];particle.transform.texture=this.texturebuffers[particle.transform.src][0];particle.transform.vcBuffer=this.texturebuffers[particle.transform.src][1];particle.transform.tcBuffer=this.texturebuffers[particle.transform.src][2];this.gl.bindBuffer(this.gl.ARRAY_BUFFER,particle.transform.tcBuffer);this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0.0,0.0,_scaleX,0.0,0.0,_scaleY,_scaleY,_scaleY]),this.gl.STATIC_DRAW);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,particle.transform.vcBuffer);this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0.0,0.0,_w,0.0,0.0,_h,_w,_h]),this.gl.STATIC_DRAW);var context=particle.transform.canvas.getContext('2d');var data=context.getImageData(0,0,_width,_height);this.gl.bindTexture(this.gl.TEXTURE_2D,particle.transform.texture);this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,data);this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR);this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_NEAREST);this.gl.generateMipmap(this.gl.TEXTURE_2D);particle.transform.textureLoaded=true;particle.transform.textureWidth=_w;particle.transform.textureHeight=_h;}
WebGLRender.prototype.setStroke=function(color,thinkness){}
WebGLRender.prototype.onProtonUpdate=function(){}
WebGLRender.prototype.onParticleCreated=function(particle){var self=this;particle.transform.textureLoaded=false;particle.transform.tmat=Proton.Mat3.create();particle.transform.tmat[8]=1;particle.transform.imat=Proton.Mat3.create();particle.transform.imat[8]=1;if(particle.target){Proton.Util.getImage(particle.target,particle,true,function(particle){self.setImgInCanvas.call(self,particle);particle.transform.oldScale=1;});}else{Proton.Util.getImage(this.circleCanvasURL,particle,true,function(particle){self.setImgInCanvas.call(self,particle);particle.transform.oldScale=particle.radius/self.circleCanvasRadius;});}}
WebGLRender.prototype.onParticleUpdate=function(particle){if(particle.transform.textureLoaded){this.updateMatrix(particle);this.gl.uniform3f(this.sprogram.color,particle.transform.rgb.r/255,particle.transform.rgb.g/255,particle.transform.rgb.b/255);this.gl.uniformMatrix3fv(this.sprogram.tMatUniform,false,this.mstack.top());this.gl.bindBuffer(this.gl.ARRAY_BUFFER,particle.transform.vcBuffer);this.gl.vertexAttribPointer(this.sprogram.vpa,2,this.gl.FLOAT,false,0,0);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,particle.transform.tcBuffer);this.gl.vertexAttribPointer(this.sprogram.tca,2,this.gl.FLOAT,false,0,0);this.gl.bindTexture(this.gl.TEXTURE_2D,particle.transform.texture);this.gl.uniform1i(this.sprogram.samplerUniform,0);this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer);this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0);this.mstack.pop();}}
WebGLRender.prototype.onParticleDead=function(particle){}
WebGLRender.prototype.updateMatrix=function(particle){var moveOriginMatrix=Proton.WebGLUtil.makeTranslation(-particle.transform.textureWidth/2,-particle.transform.textureHeight/2);var translationMatrix=Proton.WebGLUtil.makeTranslation(particle.p.x,particle.p.y);var angel=particle.rotation*(Math.PI/180);var rotationMatrix=Proton.WebGLUtil.makeRotation(angel);var scale=particle.scale*particle.transform.oldScale;var scaleMatrix=Proton.WebGLUtil.makeScale(scale,scale);var matrix=Proton.WebGLUtil.matrixMultiply(moveOriginMatrix,scaleMatrix);matrix=Proton.WebGLUtil.matrixMultiply(matrix,rotationMatrix);matrix=Proton.WebGLUtil.matrixMultiply(matrix,translationMatrix);Proton.Mat3.inverse(matrix,particle.transform.imat);matrix[2]=particle.alpha;this.mstack.push(matrix);}
Proton.WebGLRender=WebGLRender;function Zone(){this.vector=new Proton.Vector2D(0,0);this.random=0;this.crossType="dead";this.alert=true;}
Zone.prototype={getPosition:function(){},crossing:function(particle){}};Proton.Zone=Zone;function LineZone(x1,y1,x2,y2,direction){LineZone._super_.call(this);if(x2-x1>=0){this.x1=x1;this.y1=y1;this.x2=x2;this.y2=y2;}else{this.x1=x2;this.y1=y2;this.x2=x1;this.y2=y1;}
this.dx=this.x2-this.x1;this.dy=this.y2-this.y1;this.minx=Math.min(this.x1,this.x2);this.miny=Math.min(this.y1,this.y2);this.maxx=Math.max(this.x1,this.x2);this.maxy=Math.max(this.y1,this.y2);this.dot=this.x2*this.y1-this.x1*this.y2;this.xxyy=this.dx*this.dx+this.dy*this.dy;this.gradient=this.getGradient();this.length=this.getLength();this.direction=Proton.Util.initValue(direction,'>');}
Proton.Util.inherits(LineZone,Proton.Zone);LineZone.prototype.getPosition=function(){this.random=Math.random();this.vector.x=this.x1+this.random*this.length*Math.cos(this.gradient);this.vector.y=this.y1+this.random*this.length*Math.sin(this.gradient);return this.vector;}
LineZone.prototype.getDirection=function(x,y){var A=this.dy;var B=-this.dx;var C=this.dot;var D=B==0?1:B;if((A*x+B*y+C)*D>0)
return true
else
return false;}
LineZone.prototype.getDistance=function(x,y){var A=this.dy;var B=-this.dx;var C=this.dot;var D=(A*x+B*y+C);return D/Math.sqrt(this.xxyy);}
LineZone.prototype.getSymmetric=function(v){var tha2=v.getGradient();var tha1=this.getGradient();var tha=2*(tha1-tha2);var oldx=v.x;var oldy=v.y;v.x=oldx*Math.cos(tha)-oldy*Math.sin(tha);v.y=oldx*Math.sin(tha)+oldy*Math.cos(tha);return v;}
LineZone.prototype.getGradient=function(){return Math.atan2(this.dy,this.dx);}
LineZone.prototype.getRange=function(particle,fun){var angle=Math.abs(this.getGradient());if(angle<=Math.PI/4){if(particle.p.x<this.maxx&&particle.p.x>this.minx){fun();}}else{if(particle.p.y<this.maxy&&particle.p.y>this.miny){fun();}}}
LineZone.prototype.getLength=function(){return Math.sqrt(this.dx*this.dx+this.dy*this.dy)}
LineZone.prototype.crossing=function(particle){var self=this;if(this.crossType=="dead"){if(this.direction==">"||this.direction=="R"||this.direction=="right"||this.direction=="down"){this.getRange(particle,function(){if(self.getDirection(particle.p.x,particle.p.y))
particle.dead=true;})}else{this.getRange(particle,function(){if(!self.getDirection(particle.p.x,particle.p.y))
particle.dead=true;})}}else if(this.crossType=="bound"){this.getRange(particle,function(){if(self.getDistance(particle.p.x,particle.p.y)<=particle.radius){if(self.dx==0){particle.v.x*=-1;}else if(self.dy==0){particle.v.y*=-1;}else{self.getSymmetric(particle.v);}}});}else if(this.crossType=="cross"){if(this.alert){alert('Sorry lineZone does not support cross method');this.alert=false;}}}
Proton.LineZone=LineZone;function CircleZone(x,y,radius){CircleZone._super_.call(this);this.x=x;this.y=y;this.radius=radius;this.angle=0;this.center={x:this.x,y:this.y};}
Proton.Util.inherits(CircleZone,Proton.Zone);CircleZone.prototype.getPosition=function(){this.random=Math.random();this.angle=Math.PI*2*Math.random();this.vector.x=this.x+this.random*this.radius*Math.cos(this.angle);this.vector.y=this.y+this.random*this.radius*Math.sin(this.angle);return this.vector;}
CircleZone.prototype.setCenter=function(x,y){this.center.x=x;this.center.y=y;}
CircleZone.prototype.crossing=function(particle){var d=particle.p.distanceTo(this.center);if(this.crossType=="dead"){if(d-particle.radius>this.radius)
particle.dead=true;}else if(this.crossType=="bound"){if(d+particle.radius>=this.radius)
this.getSymmetric(particle);}else if(this.crossType=="cross"){if(this.alert){alert('Sorry CircleZone does not support cross method');this.alert=false;}}}
CircleZone.prototype.getSymmetric=function(particle){var tha2=particle.v.getGradient();var tha1=this.getGradient(particle);var tha=2*(tha1-tha2);var oldx=particle.v.x;var oldy=particle.v.y;particle.v.x=oldx*Math.cos(tha)-oldy*Math.sin(tha);particle.v.y=oldx*Math.sin(tha)+oldy*Math.cos(tha);}
CircleZone.prototype.getGradient=function(particle){return-Math.PI/2+Math.atan2(particle.p.y-this.center.y,particle.p.x-this.center.x);}
Proton.CircleZone=CircleZone;function PointZone(x,y){PointZone._super_.call(this);this.x=x;this.y=y;}
Proton.Util.inherits(PointZone,Proton.Zone);PointZone.prototype.getPosition=function(){this.vector.x=this.x;this.vector.y=this.y;return this.vector;}
PointZone.prototype.crossing=function(particle){if(this.alert){alert('Sorry PointZone does not support crossing method');this.alert=false;}}
Proton.PointZone=PointZone;function RectZone(x,y,width,height){RectZone._super_.call(this);this.x=x;this.y=y;this.width=width;this.height=height;}
Proton.Util.inherits(RectZone,Proton.Zone);RectZone.prototype.getPosition=function(){this.vector.x=this.x+Math.random()*this.width;this.vector.y=this.y+Math.random()*this.height;return this.vector;}
RectZone.prototype.crossing=function(particle){if(this.crossType=="dead"){if(particle.p.x+particle.radius<this.x)
particle.dead=true;else if(particle.p.x-particle.radius>this.x+this.width)
particle.dead=true;if(particle.p.y+particle.radius<this.y)
particle.dead=true;else if(particle.p.y-particle.radius>this.y+this.height)
particle.dead=true;}else if(this.crossType=="bound"){if(particle.p.x-particle.radius<this.x){particle.p.x=this.x+particle.radius;particle.v.x*=-1;}else if(particle.p.x+particle.radius>this.x+this.width){particle.p.x=this.x+this.width-particle.radius;particle.v.x*=-1;}
if(particle.p.y-particle.radius<this.y){particle.p.y=this.y+particle.radius;particle.v.y*=-1;}else if(particle.p.y+particle.radius>this.y+this.height){particle.p.y=this.y+this.height-particle.radius;particle.v.y*=-1;}}else if(this.crossType=="cross"){if(particle.p.x+particle.radius<this.x&&particle.v.x<=0)
particle.p.x=this.x+this.width+particle.radius;else if(particle.p.x-particle.radius>this.x+this.width&&particle.v.x>=0)
particle.p.x=this.x-particle.radius;if(particle.p.y+particle.radius<this.y&&particle.v.y<=0)
particle.p.y=this.y+this.height+particle.radius;else if(particle.p.y-particle.radius>this.y+this.height&&particle.v.y>=0)
particle.p.y=this.y-particle.radius;}}
Proton.RectZone=RectZone;function ImageZone(imageData,x,y,d){ImageZone._super_.call(this);this.reset(imageData,x,y,d);}
Proton.Util.inherits(ImageZone,Proton.Zone);ImageZone.prototype.reset=function(imageData,x,y,d){this.imageData=imageData;this.x=Proton.Util.initValue(x,0);this.y=Proton.Util.initValue(y,0);this.d=Proton.Util.initValue(d,2);this.vectors=[];this.setVectors();}
ImageZone.prototype.setVectors=function(){var i,j;var length1=this.imageData.width;var length2=this.imageData.height;for(i=0;i<length1;i+=this.d){for(j=0;j<length2;j+=this.d){var index=((j>>0)*length1+(i>>0))*4;if(this.imageData.data[index+3]>0){this.vectors.push({x:i+this.x,y:j+this.y});}}}
return this.vector;}
ImageZone.prototype.getBound=function(x,y){var index=((y>>0)*this.imageData.width+(x>>0))*4;if(this.imageData.data[index+3]>0)
return true;else
return false;}
ImageZone.prototype.getPosition=function(){return this.vector.copy(this.vectors[Math.floor(Math.random()*this.vectors.length)]);}
ImageZone.prototype.getColor=function(x,y){x-=this.x;y-=this.y;var i=((y>>0)*this.imageData.width+(x>>0))*4;return{r:this.imageData.data[i],g:this.imageData.data[i+1],b:this.imageData.data[i+2],a:this.imageData.data[i+3]};}
ImageZone.prototype.crossing=function(particle){if(this.crossType=="dead"){if(this.getBound(particle.p.x-this.x,particle.p.y-this.y))
particle.dead=true;else
particle.dead=false;}else if(this.crossType=="bound"){if(!this.getBound(particle.p.x-this.x,particle.p.y-this.y))
particle.v.negate();}}
Proton.ImageZone=ImageZone;var log=function(){if(window.console&&window.console.log){var arg=arguments;if(typeof arguments[0]=='string'){if(arguments[0].indexOf('+')==0){var n=parseInt(arguments[0]);if(log.once<n){delete arg[0];console.log(arg);log.once++;}}else{console.log(arg);}}else{console.log(arg);}}}
log.once=0;Proton.log=log;var Debug=Debug||{addEventListener:function(proton,fun){proton.addEventListener(Proton.PROTON_UPDATE,function(e){fun();});},setStyle:function(c){var color=c||'#ff0000';var rgb=Proton.Util.hexToRGB(color);var style='rgba('+rgb.r+','+rgb.g+','+rgb.b+','+0.5+')';return style;},drawZone:function(proton,canvas,zone,clear){var context=canvas.getContext('2d');var style=this.setStyle();this.addEventListener(proton,function(){if(clear)
context.clearRect(0,0,canvas.width,canvas.height);if(zone instanceof Proton.PointZone){context.beginPath();context.fillStyle=style;context.arc(zone.x,zone.y,10,0,Math.PI*2,true);context.fill();context.closePath();}else if(zone instanceof Proton.LineZone){context.beginPath();context.strokeStyle=style;context.moveTo(zone.x1,zone.y1);context.lineTo(zone.x2,zone.y2);context.stroke();context.closePath();}else if(zone instanceof Proton.RectZone){context.beginPath();context.strokeStyle=style;context.drawRect(zone.x,zone.y,zone.width,zone.height);context.stroke();context.closePath();}else if(zone instanceof Proton.CircleZone){context.beginPath();context.strokeStyle=style;context.arc(zone.x,zone.y,zone.radius,0,Math.PI*2,true);context.stroke();context.closePath();}});},drawEmitter:function(proton,canvas,emitter,clear){var context=canvas.getContext('2d');var style=this.setStyle();this.addEventListener(proton,function(){if(clear)
context.clearRect(0,0,canvas.width,canvas.height);context.beginPath();context.fillStyle=style;context.arc(emitter.p.x,emitter.p.y,10,0,Math.PI*2,true);context.fill();context.closePath();});},test:{},setTest:function(id,value){this.test[id]=value;},getTest:function(id){if(this.test.hasOwnProperty(id))
return this.test[id];else
return false;}}
Proton.Debug=Debug;})(window);(function(){var lastTime=0;var vendors=['ms','moz','webkit','o'];for(var x=0;x<vendors.length&&!window.requestAnimationFrame;++x){window.requestAnimationFrame=window[vendors[x]+'RequestAnimationFrame'];window.cancelAnimationFrame=window[vendors[x]+'CancelAnimationFrame']||window[vendors[x]+'CancelRequestAnimationFrame'];}
if(!window.requestAnimationFrame)
window.requestAnimationFrame=function(callback,element){var currTime=new Date().getTime();var timeToCall=Math.max(0,16-(currTime-lastTime));var id=window.setTimeout(function(){callback(currTime+timeToCall);},timeToCall);lastTime=currTime+timeToCall;return id;};if(!window.cancelAnimationFrame)
window.cancelAnimationFrame=function(id){clearTimeout(id);};}());var HelpersCheckBrowser=new function()
{var t=true;var _cache=null;var _detect=function()
{var ua=typeof navigator!=='undefined'?navigator.userAgent:'';function getFirstMatch(regex){var match=ua.match(regex);return(match&&match.length>1&&match[1])||'';}
function getSecondMatch(regex){var match=ua.match(regex);return(match&&match.length>1&&match[2])||'';}
var iosdevice=getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase(),likeAndroid=/like android/i.test(ua),android=!likeAndroid&&/android/i.test(ua),chromeBook=/CrOS/.test(ua),edgeVersion=getFirstMatch(/edge\/(\d+(\.\d+)?)/i),versionIdentifier=getFirstMatch(/version\/(\d+(\.\d+)?)/i),tablet=/tablet/i.test(ua),mobile=!tablet&&/[^-]mobi/i.test(ua),result;if(/opera|opr/i.test(ua)){result={name:'Opera',opera:t,version:versionIdentifier||getFirstMatch(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}}
else if(/yabrowser/i.test(ua)){result={name:'Yandex Browser',yandexbrowser:t,version:versionIdentifier||getFirstMatch(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}}
else if(/windows phone/i.test(ua)){result={name:'Windows Phone',windowsphone:t};if(edgeVersion){result.msedge=t;result.version=edgeVersion}
else{result.msie=t;result.version=getFirstMatch(/iemobile\/(\d+(\.\d+)?)/i)}}
else if(/msie|trident/i.test(ua)){result={name:'Internet Explorer',msie:t,version:getFirstMatch(/(?:msie |rv:)(\d+(\.\d+)?)/i)}}else if(chromeBook){result={name:'Chrome',chromeBook:t,chrome:t,version:getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}}else if(/chrome.+? edge/i.test(ua)){result={name:'Microsoft Edge',msedge:t,version:edgeVersion}}
else if(/chrome|crios|crmo/i.test(ua)){result={name:'Chrome',chrome:t,version:getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}}
else if(iosdevice){result={name:iosdevice=='iphone'?'iPhone':iosdevice=='ipad'?'iPad':'iPod'};if(versionIdentifier){result.version=versionIdentifier}}
else if(/sailfish/i.test(ua)){result={name:'Sailfish',sailfish:t,version:getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}}
else if(/seamonkey\//i.test(ua)){result={name:'SeaMonkey',seamonkey:t,version:getFirstMatch(/seamonkey\/(\d+(\.\d+)?)/i)}}
else if(/firefox|iceweasel/i.test(ua)){result={name:'Firefox',firefox:t,version:getFirstMatch(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)};if(/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(ua)){result.firefoxos=t}}
else if(/silk/i.test(ua)){result={name:'Amazon Silk',silk:t,version:getFirstMatch(/silk\/(\d+(\.\d+)?)/i)}}
else if(android){result={name:'Android',version:versionIdentifier}}
else if(/phantom/i.test(ua)){result={name:'PhantomJS',phantom:t,version:getFirstMatch(/phantomjs\/(\d+(\.\d+)?)/i)}}
else if(/blackberry|\bbb\d+/i.test(ua)||/rim\stablet/i.test(ua)){result={name:'BlackBerry',blackberry:t,version:versionIdentifier||getFirstMatch(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}}
else if(/(web|hpw)os/i.test(ua)){result={name:'WebOS',webos:t,version:versionIdentifier||getFirstMatch(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)};/touchpad\//i.test(ua)&&(result.touchpad=t)}
else if(/bada/i.test(ua)){result={name:'Bada',bada:t,version:getFirstMatch(/dolfin\/(\d+(\.\d+)?)/i)};}
else if(/tizen/i.test(ua)){result={name:'Tizen',tizen:t,version:getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||versionIdentifier};}
else if(/safari/i.test(ua)){result={name:'Safari',safari:t,version:versionIdentifier}}
else{result={name:getFirstMatch(/^(.*)\/(.*) /),version:getSecondMatch(/^(.*)\/(.*) /)};}
if(!result.msedge&&/(apple)?webkit/i.test(ua)){result.name=result.name||"Webkit";result.webkit=t;if(!result.version&&versionIdentifier){result.version=versionIdentifier}}else if(!result.opera&&/gecko\//i.test(ua)){result.name=result.name||"Gecko";result.gecko=t;result.version=result.version||getFirstMatch(/gecko\/(\d+(\.\d+)?)/i)}
if(!result.msedge&&(android||result.silk)){result.android=t}else if(iosdevice){result[iosdevice]=t;result.ios=t}
var osVersion='';if(result.windowsphone){osVersion=getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i);}else if(iosdevice){osVersion=getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i);osVersion=osVersion.replace(/[_\s]/g,'.');}else if(android){osVersion=getFirstMatch(/android[ \/-](\d+(\.\d+)*)/i);}else if(result.webos){osVersion=getFirstMatch(/(?:web|hpw)os\/(\d+(\.\d+)*)/i);}else if(result.blackberry){osVersion=getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i);}else if(result.bada){osVersion=getFirstMatch(/bada\/(\d+(\.\d+)*)/i);}else if(result.tizen){osVersion=getFirstMatch(/tizen[\/\s](\d+(\.\d+)*)/i);}
if(osVersion){result.osversion=osVersion;}
var osMajorVersion=osVersion.split('.')[0];if(tablet||iosdevice=='ipad'||(android&&(osMajorVersion==3||(osMajorVersion==4&&!mobile)))||result.silk){result.tablet=t}else if(mobile||iosdevice=='iphone'||iosdevice=='ipod'||android||result.blackberry||result.webos||result.bada){result.mobile=t}
if(result.msedge||(result.msie&&result.version>=10)||(result.yandexbrowser&&result.version>=15)||(result.chrome&&result.version>=20)||(result.firefox&&result.version>=20.0)||(result.safari&&result.version>=6)||(result.opera&&result.version>=10.0)||(result.ios&&result.osversion&&result.osversion.split(".")[0]>=6)||(result.blackberry&&result.version>=10.1)){result.a=t;}
else if((result.msie&&result.version<10)||(result.chrome&&result.version<20)||(result.firefox&&result.version<20.0)||(result.safari&&result.version<6)||(result.opera&&result.version<10.0)||(result.ios&&result.osversion&&result.osversion.split(".")[0]<6)){result.c=t}else result.x=t;return result};this.detect=function()
{if(_cache===null){_cache=_detect();}
return _cache;}};var HelperKeyEvent=new function()
{var isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent);var _listMainEvent={"startEvent":["ontouchstart","onmousedown"],"clickEvent":["ontouchstart","onclick"],"moveEvent":["ontouchmove","onmousemove"],"endEvent":["ontouchend","onmouseup"],"activeEvent":["ontouchstart","onmousedown"],"unActiveEvent":["ontouchend","onmouseup"],"hoverEvent":["ontouchstart","onmouseover"],"unHoverEvent":["ontouchstart","onmouseleave"]};var _cache={};this.check=function(nameEvent,returnShortName)
{if(typeof _cache[nameEvent]!='undefined'){return returnShortName?_cache[nameEvent].slice(2):_cache[nameEvent];}
var _keys=Object.keys(_listMainEvent);if(_keys.indexOf(nameEvent)==-1){$_log.error("Can not found a type of key event!",nameEvent);return null;}
if(isMobile===false){_cache[nameEvent]=_listMainEvent[nameEvent][1];}else{for(var i=0;i<_listMainEvent[nameEvent].length;i++){if((_listMainEvent[nameEvent][i]in window)===true){_cache[nameEvent]=_listMainEvent[nameEvent][i];break;}}}
return returnShortName?_cache[nameEvent].slice(2):_cache[nameEvent];};this.showCache=function()
{return _cache;};};var CanvasParser=function(){this.init=function(data)
{for(var key in data){this[key]=data[key];}};};(function(){window.visibly={q:document,p:undefined,prefixes:["webkit","ms","o","moz","khtml"],props:["VisibilityState","visibilitychange","Hidden"],m:["focus","blur"],visibleCallbacks:[],hiddenCallbacks:[],genericCallbacks:[],_callbacks:[],cachedPrefix:"",fn:null,onVisible:function(_callback){if(typeof _callback=="function"){this.visibleCallbacks.push(_callback)}},onHidden:function(_callback){if(typeof _callback=="function"){this.hiddenCallbacks.push(_callback)}},getPrefix:function(){if(!this.cachedPrefix){for(var l=0,b;b=this.prefixes[l++];){if(b+this.props[2]in this.q){this.cachedPrefix=b;return this.cachedPrefix}}}},visibilityState:function(){return this._getProp(0)},hidden:function(){return this._getProp(2)},visibilitychange:function(fn){if(typeof fn=="function"){this.genericCallbacks.push(fn)}var n=this.genericCallbacks.length;if(n){if(this.cachedPrefix){while(n--){this.genericCallbacks[n].call(this,this.visibilityState())}}else{while(n--){this.genericCallbacks[n].call(this,arguments[0])}}}},isSupported:function(index){return this._getPropName(2)in this.q},_getPropName:function(index){return this.cachedPrefix==""?this.props[index].substring(0,1).toLowerCase()+this.props[index].substring(1):this.cachedPrefix+this.props[index]},_getProp:function(index){return this.q[this._getPropName(index)]},_execute:function(index){if(index){this._callbacks=index==1?this.visibleCallbacks:this.hiddenCallbacks;var n=this._callbacks.length;while(n--){this._callbacks[n]()}}},_visible:function(){window.visibly._execute(1);window.visibly.visibilitychange.call(window.visibly,"visible")},_hidden:function(){window.visibly._execute(2);window.visibly.visibilitychange.call(window.visibly,"hidden")},_nativeSwitch:function(){this[this._getProp(2)?"_hidden":"_visible"]()},_listen:function(){try{if(!this.isSupported()){if(this.q.addEventListener){window.addEventListener(this.m[0],this._visible,1);window.addEventListener(this.m[1],this._hidden,1)}else{if(this.q.attachEvent){this.q.attachEvent("onfocusin",this._visible);this.q.attachEvent("onfocusout",this._hidden)}}}else{this.q.addEventListener(this._getPropName(1),function(){window.visibly._nativeSwitch.apply(window.visibly,arguments)},1)}}catch(e){}},init:function(){this.getPrefix();this._listen()}};this.visibly.init()})();(typeof Crypto=="undefined"||!Crypto.util)&&function(){var m=window.Crypto={},o=m.util={rotl:function(h,g){return h<<g|h>>>32-g},rotr:function(h,g){return h<<32-g|h>>>g},endian:function(h){if(h.constructor==Number)return o.rotl(h,8)&16711935|o.rotl(h,24)&4278255360;for(var g=0;g<h.length;g++)h[g]=o.endian(h[g]);return h},randomBytes:function(h){for(var g=[];h>0;h--)g.push(Math.floor(Math.random()*256));return g},bytesToWords:function(h){for(var g=[],i=0,a=0;i<h.length;i++,a+=8)g[a>>>5]|=(h[i]&255)<<24-a%32;return g},wordsToBytes:function(h){for(var g=[],i=0;i<h.length*32;i+=8)g.push(h[i>>>5]>>>24-i%32&255);return g},bytesToHex:function(h){for(var g=[],i=0;i<h.length;i++)g.push((h[i]>>>4).toString(16)),g.push((h[i]&15).toString(16));return g.join("")},hexToBytes:function(h){for(var g=[],i=0;i<h.length;i+=2)g.push(parseInt(h.substr(i,2),16));return g},bytesToBase64:function(h){if(typeof btoa=="function")return btoa(n.bytesToString(h));for(var g=[],i=0;i<h.length;i+=3)for(var a=h[i]<<16|h[i+1]<<8|h[i+2],b=0;b<4;b++)i*8+b*6<=h.length*8?g.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>6*(3-b)&63)):g.push("=");return g.join("")},base64ToBytes:function(h){if(typeof atob=="function")return n.stringToBytes(atob(h));for(var h=h.replace(/[^A-Z0-9+\/]/ig,""),g=[],i=0,a=0;i<h.length;a=++i%4)a!=0&&g.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(h.charAt(i-1))&Math.pow(2,-2*a+8)-1)<<a*2|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(h.charAt(i))>>>6-a*2);return g}},m=m.charenc={};m.UTF8={stringToBytes:function(h){return n.stringToBytes(unescape(encodeURIComponent(h)))},bytesToString:function(h){return decodeURIComponent(escape(n.bytesToString(h)))}};var n=m.Binary={stringToBytes:function(h){for(var g=[],i=0;i<h.length;i++)g.push(h.charCodeAt(i)&255);return g},bytesToString:function(h){for(var g=[],i=0;i<h.length;i++)g.push(String.fromCharCode(h[i]));return g.join("")}}}();(function(){var m=Crypto,o=m.util,n=m.charenc,h=n.UTF8,g=n.Binary,i=m.MD5=function(a,b){var h=o.wordsToBytes(i._md5(a));return b&&b.asBytes?h:b&&b.asString?g.bytesToString(h):o.bytesToHex(h)};i._md5=function(a){a.constructor==String&&(a=h.stringToBytes(a));for(var b=o.bytesToWords(a),g=a.length*8,a=1732584193,d=-271733879,e=-1732584194,c=271733878,f=0;f<b.length;f++)b[f]=(b[f]<<8|b[f]>>>24)&16711935|(b[f]<<24|b[f]>>>8)&4278255360;b[g>>>5]|=128<<g%32;b[(g+64>>>9<<4)+14]=g;for(var g=i._ff,j=i._gg,k=i._hh,l=i._ii,f=0;f<b.length;f+=16)var m=a,n=d,p=e,q=c,a=g(a,d,e,c,b[f+0],7,-680876936),c=g(c,a,d,e,b[f+1],12,-389564586),e=g(e,c,a,d,b[f+2],17,606105819),d=g(d,e,c,a,b[f+3],22,-1044525330),a=g(a,d,e,c,b[f+4],7,-176418897),c=g(c,a,d,e,b[f+5],12,1200080426),e=g(e,c,a,d,b[f+6],17,-1473231341),d=g(d,e,c,a,b[f+7],22,-45705983),a=g(a,d,e,c,b[f+8],7,1770035416),c=g(c,a,d,e,b[f+9],12,-1958414417),e=g(e,c,a,d,b[f+10],17,-42063),d=g(d,e,c,a,b[f+11],22,-1990404162),a=g(a,d,e,c,b[f+12],7,1804603682),c=g(c,a,d,e,b[f+13],12,-40341101),e=g(e,c,a,d,b[f+14],17,-1502002290),d=g(d,e,c,a,b[f+15],22,1236535329),a=j(a,d,e,c,b[f+1],5,-165796510),c=j(c,a,d,e,b[f+6],9,-1069501632),e=j(e,c,a,d,b[f+11],14,643717713),d=j(d,e,c,a,b[f+0],20,-373897302),a=j(a,d,e,c,b[f+5],5,-701558691),c=j(c,a,d,e,b[f+10],9,38016083),e=j(e,c,a,d,b[f+15],14,-660478335),d=j(d,e,c,a,b[f+4],20,-405537848),a=j(a,d,e,c,b[f+9],5,568446438),c=j(c,a,d,e,b[f+14],9,-1019803690),e=j(e,c,a,d,b[f+3],14,-187363961),d=j(d,e,c,a,b[f+8],20,1163531501),a=j(a,d,e,c,b[f+13],5,-1444681467),c=j(c,a,d,e,b[f+2],9,-51403784),e=j(e,c,a,d,b[f+7],14,1735328473),d=j(d,e,c,a,b[f+12],20,-1926607734),a=k(a,d,e,c,b[f+5],4,-378558),c=k(c,a,d,e,b[f+8],11,-2022574463),e=k(e,c,a,d,b[f+11],16,1839030562),d=k(d,e,c,a,b[f+14],23,-35309556),a=k(a,d,e,c,b[f+1],4,-1530992060),c=k(c,a,d,e,b[f+4],11,1272893353),e=k(e,c,a,d,b[f+7],16,-155497632),d=k(d,e,c,a,b[f+10],23,-1094730640),a=k(a,d,e,c,b[f+13],4,681279174),c=k(c,a,d,e,b[f+0],11,-358537222),e=k(e,c,a,d,b[f+3],16,-722521979),d=k(d,e,c,a,b[f+6],23,76029189),a=k(a,d,e,c,b[f+9],4,-640364487),c=k(c,a,d,e,b[f+12],11,-421815835),e=k(e,c,a,d,b[f+15],16,530742520),d=k(d,e,c,a,b[f+2],23,-995338651),a=l(a,d,e,c,b[f+0],6,-198630844),c=l(c,a,d,e,b[f+7],10,1126891415),e=l(e,c,a,d,b[f+14],15,-1416354905),d=l(d,e,c,a,b[f+5],21,-57434055),a=l(a,d,e,c,b[f+12],6,1700485571),c=l(c,a,d,e,b[f+3],10,-1894986606),e=l(e,c,a,d,b[f+10],15,-1051523),d=l(d,e,c,a,b[f+1],21,-2054922799),a=l(a,d,e,c,b[f+8],6,1873313359),c=l(c,a,d,e,b[f+15],10,-30611744),e=l(e,c,a,d,b[f+6],15,-1560198380),d=l(d,e,c,a,b[f+13],21,1309151649),a=l(a,d,e,c,b[f+4],6,-145523070),c=l(c,a,d,e,b[f+11],10,-1120210379),e=l(e,c,a,d,b[f+2],15,718787259),d=l(d,e,c,a,b[f+9],21,-343485551),a=a+m>>>0,d=d+n>>>0,e=e+p>>>0,c=c+q>>>0;return o.endian([a,d,e,c])};i._ff=function(a,b,g,d,e,c,f){a=a+(b&g|~b&d)+(e>>>0)+f;return(a<<c|a>>>32-c)+b};i._gg=function(a,b,g,d,e,c,f){a=a+(b&d|g&~d)+(e>>>0)+f;return(a<<c|a>>>32-c)+b};i._hh=function(a,b,g,d,e,c,f){a=a+(b^g^d)+(e>>>0)+f;return(a<<c|a>>>32-c)+b};i._ii=function(a,b,g,d,e,c,f){a=a+(g^(b|~d))+(e>>>0)+f;return(a<<c|a>>>32-c)+b};i._blocksize=16;i._digestsize=16})();(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])
return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports;}
__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0);})
([function(module,exports,__webpack_require__){module.exports=__webpack_require__(1);},function(module,exports,__webpack_require__){"use strict";var _eventHandleListenerEs=__webpack_require__(2);var _eventHandleListenerEs2=_interopRequireDefault(_eventHandleListenerEs);var _eventBlockedListenerEs=__webpack_require__(3);var _eventBlockedListenerEs2=_interopRequireDefault(_eventBlockedListenerEs);var _componentInstanceCacheEs=__webpack_require__(4);var _componentInstanceCacheEs2=_interopRequireDefault(_componentInstanceCacheEs);var _componentInterfaceEs=__webpack_require__(5);var _componentInterfaceEs2=_interopRequireDefault(_componentInterfaceEs);var _ControllerEs=__webpack_require__(6);var _ControllerEs2=_interopRequireDefault(_ControllerEs);var _EventsEs=__webpack_require__(7);var _EventsEs2=_interopRequireDefault(_EventsEs);var _logsEs=__webpack_require__(8);var _logsEs2=_interopRequireDefault(_logsEs);var _BetSelectorEs=__webpack_require__(9);var _BetSelectorEs2=_interopRequireDefault(_BetSelectorEs);var _BitmapEs=__webpack_require__(12);var _BitmapEs2=_interopRequireDefault(_BitmapEs);var _BitmapTextEs=__webpack_require__(15);var _BitmapTextEs2=_interopRequireDefault(_BitmapTextEs);var _ButtonEs=__webpack_require__(17);var _ButtonEs2=_interopRequireDefault(_ButtonEs);var _CheckboxEs=__webpack_require__(19);var _CheckboxEs2=_interopRequireDefault(_CheckboxEs);var _CheckboxContainerEs=__webpack_require__(20);var _CheckboxContainerEs2=_interopRequireDefault(_CheckboxContainerEs);var _ContainerEs=__webpack_require__(11);var _ContainerEs2=_interopRequireDefault(_ContainerEs);var _FullscreenEs=__webpack_require__(21);var _FullscreenEs2=_interopRequireDefault(_FullscreenEs);var _PopupEs=__webpack_require__(22);var _PopupEs2=_interopRequireDefault(_PopupEs);var _ReelEs=__webpack_require__(23);var _ReelEs2=_interopRequireDefault(_ReelEs);var _ReelElementEs=__webpack_require__(24);var _ReelElementEs2=_interopRequireDefault(_ReelElementEs);var _RichTextEs=__webpack_require__(30);var _RichTextEs2=_interopRequireDefault(_RichTextEs);var _ScrollableEs=__webpack_require__(10);var _ScrollableEs2=_interopRequireDefault(_ScrollableEs);var _ScrollerEs=__webpack_require__(31);var _ScrollerEs2=_interopRequireDefault(_ScrollerEs);var _ShapeEs=__webpack_require__(14);var _ShapeEs2=_interopRequireDefault(_ShapeEs);var _SlotMachineEs=__webpack_require__(33);var _SlotMachineEs2=_interopRequireDefault(_SlotMachineEs);var _SpriteEs=__webpack_require__(18);var _SpriteEs2=_interopRequireDefault(_SpriteEs);var _SpriteSheetEs=__webpack_require__(16);var _SpriteSheetEs2=_interopRequireDefault(_SpriteSheetEs);var _StageEs=__webpack_require__(38);var _StageEs2=_interopRequireDefault(_StageEs);var _TextEs=__webpack_require__(13);var _TextEs2=_interopRequireDefault(_TextEs);var _ViewEs=__webpack_require__(39);var _ViewEs2=_interopRequireDefault(_ViewEs);var _LabelEs=__webpack_require__(27);var _LabelEs2=_interopRequireDefault(_LabelEs);var _SliderEs=__webpack_require__(40);var _SliderEs2=_interopRequireDefault(_SliderEs);var _SwiperEs=__webpack_require__(41);var _SwiperEs2=_interopRequireDefault(_SwiperEs);var _SwitcherEs=__webpack_require__(44);var _SwitcherEs2=_interopRequireDefault(_SwitcherEs);var _ProtonEmitterEs=__webpack_require__(29);var _ProtonEmitterEs2=_interopRequireDefault(_ProtonEmitterEs);var _TranslationsEs=__webpack_require__(46);var _TranslationsEs2=_interopRequireDefault(_TranslationsEs);var _serviceInterfaceEs=__webpack_require__(35);var _serviceInterfaceEs2=_interopRequireDefault(_serviceInterfaceEs);var _slotMachineServiceEs=__webpack_require__(34);var _slotMachineServiceEs2=_interopRequireDefault(_slotMachineServiceEs);var _protocolServiceEs=__webpack_require__(37);var _protocolServiceEs2=_interopRequireDefault(_protocolServiceEs);var _memoryServiceEs=__webpack_require__(36);var _memoryServiceEs2=_interopRequireDefault(_memoryServiceEs);var _betServiceEs=__webpack_require__(47);var _betServiceEs2=_interopRequireDefault(_betServiceEs);var _linesServiceEs=__webpack_require__(48);var _linesServiceEs2=_interopRequireDefault(_linesServiceEs);var _soundServiceEs=__webpack_require__(49);var _soundServiceEs2=_interopRequireDefault(_soundServiceEs);var _gameSettingsServiceEs=__webpack_require__(50);var _gameSettingsServiceEs2=_interopRequireDefault(_gameSettingsServiceEs);var _bonusServiceEs=__webpack_require__(51);var _bonusServiceEs2=_interopRequireDefault(_bonusServiceEs);var _autoPlayServiceEs=__webpack_require__(52);var _autoPlayServiceEs2=_interopRequireDefault(_autoPlayServiceEs);var _freeSpinServiceEs=__webpack_require__(53);var _freeSpinServiceEs2=_interopRequireDefault(_freeSpinServiceEs);var _gameActionServiceEs=__webpack_require__(54);var _gameActionServiceEs2=_interopRequireDefault(_gameActionServiceEs);var _payTableServiceEs=__webpack_require__(55);var _payTableServiceEs2=_interopRequireDefault(_payTableServiceEs);var _popupServiceEs=__webpack_require__(56);var _popupServiceEs2=_interopRequireDefault(_popupServiceEs);var _serviceFabricEs=__webpack_require__(57);var _serviceFabricEs2=_interopRequireDefault(_serviceFabricEs);var _tickerTapeServiceEs=__webpack_require__(58);var _tickerTapeServiceEs2=_interopRequireDefault(_tickerTapeServiceEs);var _flagServiceEs=__webpack_require__(59);var _flagServiceEs2=_interopRequireDefault(_flagServiceEs);var _historyRouterEs=__webpack_require__(60);var _historyRouterEs2=_interopRequireDefault(_historyRouterEs);var _signalInitializationInterfaceEs=__webpack_require__(61);var _signalInitializationInterfaceEs2=_interopRequireDefault(_signalInitializationInterfaceEs);var _signalRouterInterfaceEs=__webpack_require__(62);var _signalRouterInterfaceEs2=_interopRequireDefault(_signalRouterInterfaceEs);var _signalReduceInterfaceEs=__webpack_require__(63);var _signalReduceInterfaceEs2=_interopRequireDefault(_signalReduceInterfaceEs);var _signalInitializationEs=__webpack_require__(64);var _signalInitializationEs2=_interopRequireDefault(_signalInitializationEs);var _signalReducerEs=__webpack_require__(65);var _signalReducerEs2=_interopRequireDefault(_signalReducerEs);var _signalRouterEs=__webpack_require__(66);var _signalRouterEs2=_interopRequireDefault(_signalRouterEs);var _conditionInterfaceEs=__webpack_require__(67);var _conditionInterfaceEs2=_interopRequireDefault(_conditionInterfaceEs);var _reelsConditionsEs=__webpack_require__(68);var _reelsConditionsEs2=_interopRequireDefault(_reelsConditionsEs);var _reelsAnimationConditionsEs=__webpack_require__(69);var _reelsAnimationConditionsEs2=_interopRequireDefault(_reelsAnimationConditionsEs);var _startConditionsEs=__webpack_require__(70);var _startConditionsEs2=_interopRequireDefault(_startConditionsEs);var _audioConditionsEs=__webpack_require__(71);var _audioConditionsEs2=_interopRequireDefault(_audioConditionsEs);var _transferInterfaceEs=__webpack_require__(72);var _transferInterfaceEs2=_interopRequireDefault(_transferInterfaceEs);var _transferFetchEs=__webpack_require__(73);var _transferFetchEs2=_interopRequireDefault(_transferFetchEs);var _transferJSONPEs=__webpack_require__(74);var _transferJSONPEs2=_interopRequireDefault(_transferJSONPEs);var _stateMachineEs=__webpack_require__(75);var _stateMachineEs2=_interopRequireDefault(_stateMachineEs);var _requiredEs=__webpack_require__(78);var _requiredEs2=_interopRequireDefault(_requiredEs);var _loaderRequiredEs=__webpack_require__(79);var _loaderRequiredEs2=_interopRequireDefault(_loaderRequiredEs);var _controllerRequiredEs=__webpack_require__(80);var _controllerRequiredEs2=_interopRequireDefault(_controllerRequiredEs);var _ViewMainCanvasEs=__webpack_require__(81);var _ViewMainCanvasEs2=_interopRequireDefault(_ViewMainCanvasEs);var _ViewCanvasHandlerEs=__webpack_require__(82);var _ViewCanvasHandlerEs2=_interopRequireDefault(_ViewCanvasHandlerEs);var _backgroundEventEs=__webpack_require__(83);var _backgroundEventEs2=_interopRequireDefault(_backgroundEventEs);var _backgroundHandlerEs=__webpack_require__(84);var _backgroundHandlerEs2=_interopRequireDefault(_backgroundHandlerEs);var _PopupControllerEs=__webpack_require__(86);var _PopupControllerEs2=_interopRequireDefault(_PopupControllerEs);var _PopupInitEventEs=__webpack_require__(87);var _PopupInitEventEs2=_interopRequireDefault(_PopupInitEventEs);var _PopupViewHandlerEs=__webpack_require__(88);var _PopupViewHandlerEs2=_interopRequireDefault(_PopupViewHandlerEs);var _protocolLuckyControllerEs=__webpack_require__(89);var _protocolLuckyControllerEs2=_interopRequireDefault(_protocolLuckyControllerEs);var _protocolLuckyEventEs=__webpack_require__(92);var _protocolLuckyEventEs2=_interopRequireDefault(_protocolLuckyEventEs);var _connectEs=__webpack_require__(90);var _connectEs2=_interopRequireDefault(_connectEs);var _startStateEs=__webpack_require__(93);var _startStateEs2=_interopRequireDefault(_startStateEs);var _freeBetsStateComponentEs=__webpack_require__(94);var _freeBetsStateComponentEs2=_interopRequireDefault(_freeBetsStateComponentEs);var _bonusGameControllerEs=__webpack_require__(95);var _bonusGameControllerEs2=_interopRequireDefault(_bonusGameControllerEs);var _bonusGameEventEs=__webpack_require__(96);var _bonusGameEventEs2=_interopRequireDefault(_bonusGameEventEs);var _bonusGameViewHandlerEs=__webpack_require__(97);var _bonusGameViewHandlerEs2=_interopRequireDefault(_bonusGameViewHandlerEs);var _bonusIntroStateEs=__webpack_require__(118);var _bonusIntroStateEs2=_interopRequireDefault(_bonusIntroStateEs);var _bonusIdleStateEs=__webpack_require__(119);var _bonusIdleStateEs2=_interopRequireDefault(_bonusIdleStateEs);var _bonusResultStateEs=__webpack_require__(120);var _bonusResultStateEs2=_interopRequireDefault(_bonusResultStateEs);var _bonusOutroStateEs=__webpack_require__(121);var _bonusOutroStateEs2=_interopRequireDefault(_bonusOutroStateEs);var _FreespinsControllerEs=__webpack_require__(122);var _FreespinsControllerEs2=_interopRequireDefault(_FreespinsControllerEs);var _FreespinsEventEs=__webpack_require__(123);var _FreespinsEventEs2=_interopRequireDefault(_FreespinsEventEs);var _FreespinsViewHandlerEs=__webpack_require__(124);var _FreespinsViewHandlerEs2=_interopRequireDefault(_FreespinsViewHandlerEs);var _freeSpinIntroStateEs=__webpack_require__(134);var _freeSpinIntroStateEs2=_interopRequireDefault(_freeSpinIntroStateEs);var _freeSpinAddedStateEs=__webpack_require__(135);var _freeSpinAddedStateEs2=_interopRequireDefault(_freeSpinAddedStateEs);var _freeSpinSpinninsStateEs=__webpack_require__(136);var _freeSpinSpinninsStateEs2=_interopRequireDefault(_freeSpinSpinninsStateEs);var _freeSpinResultStateEs=__webpack_require__(137);var _freeSpinResultStateEs2=_interopRequireDefault(_freeSpinResultStateEs);var _freeSpinOutroStateEs=__webpack_require__(138);var _freeSpinOutroStateEs2=_interopRequireDefault(_freeSpinOutroStateEs);var _WinControllerEs=__webpack_require__(139);var _WinControllerEs2=_interopRequireDefault(_WinControllerEs);var _WinCommonEventEs=__webpack_require__(140);var _WinCommonEventEs2=_interopRequireDefault(_WinCommonEventEs);var _winCommonViewHandlerEs=__webpack_require__(141);var _winCommonViewHandlerEs2=_interopRequireDefault(_winCommonViewHandlerEs);var _audioControllerEs=__webpack_require__(142);var _audioControllerEs2=_interopRequireDefault(_audioControllerEs);var _audioEventsEs=__webpack_require__(145);var _audioEventsEs2=_interopRequireDefault(_audioEventsEs);var _controlCommonControllerEs=__webpack_require__(146);var _controlCommonControllerEs2=_interopRequireDefault(_controlCommonControllerEs);var _preloaderControllerEs=__webpack_require__(148);var _preloaderControllerEs2=_interopRequireDefault(_preloaderControllerEs);var _preloaderInitEventEs=__webpack_require__(149);var _preloaderInitEventEs2=_interopRequireDefault(_preloaderInitEventEs);var _preloaderCommonViewHandlerEs=__webpack_require__(150);var _preloaderCommonViewHandlerEs2=_interopRequireDefault(_preloaderCommonViewHandlerEs);var _stateLoadingEs=__webpack_require__(152);var _stateLoadingEs2=_interopRequireDefault(_stateLoadingEs);var _initReelsEs=__webpack_require__(153);var _initReelsEs2=_interopRequireDefault(_initReelsEs);var _reelHandlerEs=__webpack_require__(154);var _reelHandlerEs2=_interopRequireDefault(_reelHandlerEs);var _linesEventEs=__webpack_require__(155);var _linesEventEs2=_interopRequireDefault(_linesEventEs);var _linesViewHandlerEs=__webpack_require__(156);var _linesViewHandlerEs2=_interopRequireDefault(_linesViewHandlerEs);var _spinIntroStateEs=__webpack_require__(157);var _spinIntroStateEs2=_interopRequireDefault(_spinIntroStateEs);var _spinIdleStateEs=__webpack_require__(158);var _spinIdleStateEs2=_interopRequireDefault(_spinIdleStateEs);var _spinSpinningStateEs=__webpack_require__(159);var _spinSpinningStateEs2=_interopRequireDefault(_spinSpinningStateEs);var _spinResultStateEs=__webpack_require__(160);var _spinResultStateEs2=_interopRequireDefault(_spinResultStateEs);var _spinOutroStateEs=__webpack_require__(161);var _spinOutroStateEs2=_interopRequireDefault(_spinOutroStateEs);var _routerStateEs=__webpack_require__(162);var _routerStateEs2=_interopRequireDefault(_routerStateEs);var _controlDesktopControllerEs=__webpack_require__(164);var _controlDesktopControllerEs2=_interopRequireDefault(_controlDesktopControllerEs);var _controlDesktopEventEs=__webpack_require__(165);var _controlDesktopEventEs2=_interopRequireDefault(_controlDesktopEventEs);var _controlDesktopViewHandlerEs=__webpack_require__(166);var _controlDesktopViewHandlerEs2=_interopRequireDefault(_controlDesktopViewHandlerEs);var _desktopReelHandlerEs=__webpack_require__(170);var _desktopReelHandlerEs2=_interopRequireDefault(_desktopReelHandlerEs);var _SettingsDesktopControllerEs=__webpack_require__(175);var _SettingsDesktopControllerEs2=_interopRequireDefault(_SettingsDesktopControllerEs);var _SettingsDesktopEventEs=__webpack_require__(176);var _SettingsDesktopEventEs2=_interopRequireDefault(_SettingsDesktopEventEs);var _SettingsDesktopViewHandlerEs=__webpack_require__(177);var _SettingsDesktopViewHandlerEs2=_interopRequireDefault(_SettingsDesktopViewHandlerEs);var _desktopLinesViewHandlerEs=__webpack_require__(180);var _desktopLinesViewHandlerEs2=_interopRequireDefault(_desktopLinesViewHandlerEs);var _desktopBonusGameViewHandlerEs=__webpack_require__(182);var _desktopBonusGameViewHandlerEs2=_interopRequireDefault(_desktopBonusGameViewHandlerEs);var _PreloaderDesktopViewHandlerEs=__webpack_require__(184);var _PreloaderDesktopViewHandlerEs2=_interopRequireDefault(_PreloaderDesktopViewHandlerEs);var _PaytableDesktopControllerEs=__webpack_require__(186);var _PaytableDesktopControllerEs2=_interopRequireDefault(_PaytableDesktopControllerEs);var _PaytableDesktopEventEs=__webpack_require__(187);var _PaytableDesktopEventEs2=_interopRequireDefault(_PaytableDesktopEventEs);var _PaytableDesktopViewHandlerEs=__webpack_require__(188);var _PaytableDesktopViewHandlerEs2=_interopRequireDefault(_PaytableDesktopViewHandlerEs);var _WinDesktopEventEs=__webpack_require__(198);var _WinDesktopEventEs2=_interopRequireDefault(_WinDesktopEventEs);var _winDesktopViewHandlerEs=__webpack_require__(199);var _winDesktopViewHandlerEs2=_interopRequireDefault(_winDesktopViewHandlerEs);var _DesktopPopupViewHandlerEs=__webpack_require__(204);var _DesktopPopupViewHandlerEs2=_interopRequireDefault(_DesktopPopupViewHandlerEs);var _backgroundMobileHandlerEs=__webpack_require__(209);var _backgroundMobileHandlerEs2=_interopRequireDefault(_backgroundMobileHandlerEs);var _controlMobileControllerEs=__webpack_require__(211);var _controlMobileControllerEs2=_interopRequireDefault(_controlMobileControllerEs);var _controlMobileEventEs=__webpack_require__(212);var _controlMobileEventEs2=_interopRequireDefault(_controlMobileEventEs);var _controlMobileViewHandlerEs=__webpack_require__(213);var _controlMobileViewHandlerEs2=_interopRequireDefault(_controlMobileViewHandlerEs);var _mobileReelHandlerEs=__webpack_require__(234);var _mobileReelHandlerEs2=_interopRequireDefault(_mobileReelHandlerEs);var _mobileLinesViewHandlerEs=__webpack_require__(239);var _mobileLinesViewHandlerEs2=_interopRequireDefault(_mobileLinesViewHandlerEs);var _mobileBonusGameViewHandlerEs=__webpack_require__(241);var _mobileBonusGameViewHandlerEs2=_interopRequireDefault(_mobileBonusGameViewHandlerEs);var _FreespinsMobileViewHandlerEs=__webpack_require__(251);var _FreespinsMobileViewHandlerEs2=_interopRequireDefault(_FreespinsMobileViewHandlerEs);var _settingsMobileControllerEs=__webpack_require__(261);var _settingsMobileControllerEs2=_interopRequireDefault(_settingsMobileControllerEs);var _settingsMobileEventEs=__webpack_require__(262);var _settingsMobileEventEs2=_interopRequireDefault(_settingsMobileEventEs);var _settingsMobileViewHandlerEs=__webpack_require__(263);var _settingsMobileViewHandlerEs2=_interopRequireDefault(_settingsMobileViewHandlerEs);var _WinMobileEventEs=__webpack_require__(268);var _WinMobileEventEs2=_interopRequireDefault(_WinMobileEventEs);var _winMobileViewHandlerEs=__webpack_require__(269);var _winMobileViewHandlerEs2=_interopRequireDefault(_winMobileViewHandlerEs);var _MobilePopupViewHandlerEs=__webpack_require__(273);var _MobilePopupViewHandlerEs2=_interopRequireDefault(_MobilePopupViewHandlerEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
window.EventHandleListener=_eventHandleListenerEs2.default;window.EventBlockedListener=_eventBlockedListenerEs2.default;window.ComponentInstanceCache=_componentInstanceCacheEs2.default;window.ComponentInterface=_componentInterfaceEs2.default;window.Controller=_ControllerEs2.default;window.Events=_EventsEs2.default;window.LogApplication=_logsEs2.default;window.BetSelector=_BetSelectorEs2.default;window.Bitmap=_BitmapEs2.default;window.BitmapText=_BitmapTextEs2.default;window.Button=_ButtonEs2.default;window.Checkbox=_CheckboxEs2.default;window.CheckboxContainer=_CheckboxContainerEs2.default;window.Container=_ContainerEs2.default;window.Fullscreen=_FullscreenEs2.default;window.Popup=_PopupEs2.default;window.Reel=_ReelEs2.default;window.ReelElement=_ReelElementEs2.default;window.RichText=_RichTextEs2.default;window.Scrollable=_ScrollableEs2.default;window.Scroller=_ScrollerEs2.default;window.Shape=_ShapeEs2.default;window.SlotMachine=_SlotMachineEs2.default;window.Sprite=_SpriteEs2.default;window.SpriteSheet=_SpriteSheetEs2.default;window.Stage=_StageEs2.default;window.Text=_TextEs2.default;window.View=_ViewEs2.default;window.Label=_LabelEs2.default;window.Slider=_SliderEs2.default;window.Swiper=_SwiperEs2.default;window.Switcher=_SwitcherEs2.default;window.ProtonEmitter=_ProtonEmitterEs2.default;window.Translations=_TranslationsEs2.default;window.ServiceInterface=_serviceInterfaceEs2.default;window.SlotMachineService=_slotMachineServiceEs2.default;window.ProtocolService=_protocolServiceEs2.default;window.MemoryService=_memoryServiceEs2.default;window.BetService=_betServiceEs2.default;window.LinesService=_linesServiceEs2.default;window.SoundService=_soundServiceEs2.default;window.GameSettingsService=_gameSettingsServiceEs2.default;window.BonusService=_bonusServiceEs2.default;window.AutoPlayService=_autoPlayServiceEs2.default;window.FreeSpinService=_freeSpinServiceEs2.default;window.GameActionService=_gameActionServiceEs2.default;window.PayTableService=_payTableServiceEs2.default;window.PopupService=_popupServiceEs2.default;window.ServiceFabric=_serviceFabricEs2.default;window.TickerTapeService=_tickerTapeServiceEs2.default;window.FlagsService=_flagServiceEs2.default;window.HistoryRouter=_historyRouterEs2.default;window.SignalInitializationInterface=_signalInitializationInterfaceEs2.default;window.SignalRouterInterface=_signalRouterInterfaceEs2.default;window.SignalReduceInterface=_signalReduceInterfaceEs2.default;window.SignalInitialization=_signalInitializationEs2.default;window.SignalReducer=_signalReducerEs2.default;window.SignalRouter=_signalRouterEs2.default;window.ConditionInterface=_conditionInterfaceEs2.default;window.ReelsConditions=_reelsConditionsEs2.default;window.ReelsAnimationConditions=_reelsAnimationConditionsEs2.default;window.StartConditions=_startConditionsEs2.default;window.AudioConditions=_audioConditionsEs2.default;window.TransferInterface=_transferInterfaceEs2.default;window.TransferFetch=_transferFetchEs2.default;window.TransferJSONP=_transferJSONPEs2.default;window.StateMachine=_stateMachineEs2.default;window.Required=_requiredEs2.default;window.LoaderRequired=_loaderRequiredEs2.default;window.ControllerRequired=_controllerRequiredEs2.default;window.ViewMainCanvas=_ViewMainCanvasEs2.default;window.ViewCanvasHandler=_ViewCanvasHandlerEs2.default;window.BackgroundEvent=_backgroundEventEs2.default;window.BackgroundHandler=_backgroundHandlerEs2.default;window.PopupController=_PopupControllerEs2.default;window.PopupInitEvent=_PopupInitEventEs2.default;window.PopupViewHandler=_PopupViewHandlerEs2.default;window.ProtocolLuckyController=_protocolLuckyControllerEs2.default;window.ProtocolLuckyEvent=_protocolLuckyEventEs2.default;window.ProtocolConnect=_connectEs2.default;window.StartState=_startStateEs2.default;window.FreeBetsStateComponent=_freeBetsStateComponentEs2.default;window.BonusGameController=_bonusGameControllerEs2.default;window.BonusGameEvent=_bonusGameEventEs2.default;window.BonusGameViewHandler=_bonusGameViewHandlerEs2.default;window.BonusIntroState=_bonusIntroStateEs2.default;window.BonusIdleState=_bonusIdleStateEs2.default;window.BonusResultState=_bonusResultStateEs2.default;window.BonusOutroState=_bonusOutroStateEs2.default;window.FreespinsController=_FreespinsControllerEs2.default;window.FreespinsEvent=_FreespinsEventEs2.default;window.FreespinsViewHandler=_FreespinsViewHandlerEs2.default;window.FreeSpinIntroState=_freeSpinIntroStateEs2.default;window.FreeSpinAddedState=_freeSpinAddedStateEs2.default;window.FreeSpinSpinninsState=_freeSpinSpinninsStateEs2.default;window.FreeSpinResultState=_freeSpinResultStateEs2.default;window.FreeSpinOutroState=_freeSpinOutroStateEs2.default;window.WinController=_WinControllerEs2.default;window.WinCommonEvent=_WinCommonEventEs2.default;window.WinCommonViewHandler=_winCommonViewHandlerEs2.default;window.AudioController=_audioControllerEs2.default;window.AudioEvents=_audioEventsEs2.default;window.ControlCommonController=_controlCommonControllerEs2.default;window.PreloaderController=_preloaderControllerEs2.default;window.PreloaderInitEvent=_preloaderInitEventEs2.default;window.PreloaderCommonViewHandler=_preloaderCommonViewHandlerEs2.default;window.StateLoading=_stateLoadingEs2.default;window.InitReels=_initReelsEs2.default;window.ReelHandler=_reelHandlerEs2.default;window.LinesEvent=_linesEventEs2.default;window.LinesViewHandler=_linesViewHandlerEs2.default;window.SpinIntroState=_spinIntroStateEs2.default;window.SpinIdleState=_spinIdleStateEs2.default;window.SpinSpinningState=_spinSpinningStateEs2.default;window.SpinResultState=_spinResultStateEs2.default;window.SpinOutroState=_spinOutroStateEs2.default;window.RouterState=_routerStateEs2.default;window.ControlDesktopController=_controlDesktopControllerEs2.default;window.ControlDesktopEvent=_controlDesktopEventEs2.default;window.ControlDesktopViewHandler=_controlDesktopViewHandlerEs2.default;window.DesktopReelHandler=_desktopReelHandlerEs2.default;window.SettingsDesktopController=_SettingsDesktopControllerEs2.default;window.SettingsDesktopEvent=_SettingsDesktopEventEs2.default;window.SettingsDesktopViewHandler=_SettingsDesktopViewHandlerEs2.default;window.DesktopLinesViewHandler=_desktopLinesViewHandlerEs2.default;window.DesktopBonusGameViewHandler=_desktopBonusGameViewHandlerEs2.default;window.PreloaderDesktopViewHandler=_PreloaderDesktopViewHandlerEs2.default;window.PaytableDesktopController=_PaytableDesktopControllerEs2.default;window.PaytableDesktopEvent=_PaytableDesktopEventEs2.default;window.PaytableDesktopViewHandler=_PaytableDesktopViewHandlerEs2.default;window.WinDesktopEvent=_WinDesktopEventEs2.default;window.winDesktopViewHandler=_winDesktopViewHandlerEs2.default;window.DesktopPopupViewHandler=_DesktopPopupViewHandlerEs2.default;window.BackgroundMobileHandler=_backgroundMobileHandlerEs2.default;window.ControlMobileController=_controlMobileControllerEs2.default;window.ControlMobileEvent=_controlMobileEventEs2.default;window.ControlMobileViewHandler=_controlMobileViewHandlerEs2.default;window.MobileReelHandler=_mobileReelHandlerEs2.default;window.MobileLinesViewHandler=_mobileLinesViewHandlerEs2.default;window.MobileBonusGameViewHandler=_mobileBonusGameViewHandlerEs2.default;window.FreespinsMobileViewHandler=_FreespinsMobileViewHandlerEs2.default;window.SettingsMobileController=_settingsMobileControllerEs2.default;window.SettingsMobileEvent=_settingsMobileEventEs2.default;window.SettingsMobileViewHandler=_settingsMobileViewHandlerEs2.default;window.WinMobileEvent=_WinMobileEventEs2.default;window.winMobileViewHandler=_winMobileViewHandlerEs2.default;window.MobilePopupViewHandler=_MobilePopupViewHandlerEs2.default;},function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var EventHandleListener=function(){function EventHandleListener(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,EventHandleListener);this.stateEvents=[];this.events={};this._stop=false;this.postLog=null;this.init(data);}
_createClass(EventHandleListener,[{key:'init',value:function init(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];for(var _key in data){this[_key]=data[_key];}}},{key:'setSubscriber',value:function setSubscriber(name,instanceName){var keys=Object.keys(this.events);if(keys.indexOf(name)==-1){this.events[name]=[instanceName];}else if(this.events[name].indexOf(instanceName)==-1){this.events[name].push(instanceName);}}},{key:'setStateSubscriber',value:function setStateSubscriber(name){if(this.stateEvents.indexOf(name)==-1){this.stateEvents.push(name);}}},{key:'stopEvent',value:function stopEvent(){this._stop=true;}},{key:'startEvent',value:function startEvent(){this._stop=false;}},{key:'getEvents',value:function getEvents(){return this.events;}},{key:'unsetSubscriber',value:function unsetSubscriber(name,instanceName){var keys=Object.keys(this.events);var k=keys.indexOf(name);if(k!=-1){var ks=this.events[name].indexOf(instanceName);if(ks!=-1){var na=[];for(var i=0;i<this.events[name].length;i++){if(this.events[name][i]!=instanceName){na.push(this.events[name][i]);}}
this.events[name]=na;}}}},{key:'setEvent',value:function setEvent(name){var _this=this;for(var _len2=arguments.length,_data=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){_data[_key2-1]=arguments[_key2];}
if(this._stop===true){return null;}
if(this.stateEvents.indexOf(name)!=-1){$_stateMachine.setEvent(name);}
if(typeof this.postLog=='function'){this.postLog.apply(this,[name].concat(_data));}
var keys=Object.keys(this.events);$_log.warning('EVENT: ',name,':',_data);var _len=0;if(keys.indexOf(name)!=-1&&(_len=this.events[name].length)>0){var _loop=function _loop(i){if(typeof window[_this.events[name][i]]=="undefined"){$_log.error('No found class "'+_this.events[name][i]+'" for Event -> name "'+name+'"');return'continue';}
if(typeof window[_this.events[name][i]][name+'Event']=="undefined"){$_log.error('No found class method "'+name+'Event" in class "'+_this.events[name][i]+'"');return'continue';}
try{setTimeout(function(e){try{$_log.write('-> EVENT  "'+name+'" send to:  "'+_this.events[name][i]+' :: '+name+'Event"');window[_this.events[name][i]][name+'Event'].apply(window[_this.events[name][i]],_data);}catch(e){$_log.error(e);}},25);}catch(e){}};for(var i=0;i<_len;i++){var _ret=_loop(i);if(_ret==='continue')continue;}}}}]);return EventHandleListener;}();exports.default=EventHandleListener;},function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var EventBlockedListener=function(){function EventBlockedListener(){_classCallCheck(this,EventBlockedListener);this._listeners={};this._lastEvent={};}
_createClass(EventBlockedListener,[{key:'addListeners',value:function addListeners(name,callbackBlock,callbackResume,objectClass){if(typeof this._listeners[name]=='undefined'){this._listeners[name]={block:callbackBlock,resume:callbackResume,owner:objectClass};}}},{key:'removeListeners',value:function removeListeners(name){if(typeof this._listeners[name]!='undefined'){var _n={};for(var _k in this._listeners){if(_k!=name){_n[_k]=this._listeners[_k];}}
this._listeners=_n;}}},{key:'setEvent',value:function setEvent(type){var _list=Object.keys(this._listeners);if(_list.length==0){return null;}
for(var _i=0,_l=_list.length;_i<_l;_i++){if(typeof this._lastEvent[_list[_i]]!='undefined'&&this._lastEvent[_list[_i]]==type){return null;}
this._lastEvent[_list[_i]]=type;var _el=_listeners[_list[_i]];try{switch(type){case 1:if(typeof _el.resume=='function'){_el.resume(_el.owner?_el.owner:null);}
break;case 0:default:if(typeof _el.block=='function'){_el.block(_el.owner?_el.owner:null);}}}catch(e){$_log.error("Can not explain: ",e);}}}}]);return EventBlockedListener;}();exports.default=EventBlockedListener;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var ComponentInstanceCache=function(){function ComponentInstanceCache(){_classCallCheck(this,ComponentInstanceCache);this._instanceNameSpaces={};}
_createClass(ComponentInstanceCache,[{key:"setAll",value:function setAll(){var list=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this._instanceNameSpaces=list;}},{key:"_getCurrentPartial",value:function _getCurrentPartial(){return __RunPartialApplication.type;}},{key:"get",value:function get(){var nameClass=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var alias=arguments.length<=1||arguments[1]===undefined?null:arguments[1];var partial=arguments.length<=2||arguments[2]===undefined?"common":arguments[2];var _key=nameClass+"_"+alias+"_"+partial;if(this._instanceNameSpaces[_key]!=undefined){return this._instanceNameSpaces[_key];}
_key=nameClass+"_"+alias+"_common";if(this._instanceNameSpaces[_key]!=undefined){return this._instanceNameSpaces[_key];}
return null;}},{key:"getInstance",value:function getInstance(){var nameClass=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var alias=arguments.length<=1||arguments[1]===undefined?null:arguments[1];var partial=arguments.length<=2||arguments[2]===undefined?this._getCurrentPartial():arguments[2];var name=this.get(nameClass,alias,partial);if(_typeof(window[name])=="object"){return window[name];}
return null;}},{key:"getComponentInstances",value:function getComponentInstances(){var alias=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var instanceOf=arguments.length<=1||arguments[1]===undefined?null:arguments[1];var partial=arguments.length<=2||arguments[2]===undefined?this._getCurrentPartial():arguments[2];var exists=[],existElCount={};var keys=Object.keys(this._instanceNameSpaces);for(var i=0,l=keys.length;i<l;i++){if(keys[i].indexOf("_"+alias+"_")>=0){var _keys$i$split=keys[i].split("_");var _keys$i$split2=_slicedToArray(_keys$i$split,3);var className=_keys$i$split2[0];var _alias=_keys$i$split2[1];var _part=_keys$i$split2[2];if(["common",partial].indexOf(_part)>=0){exists.push(keys[i]);}}}
if(exists.length==0){return{};}
var instances={};for(var j=0,jl=exists.length;j<jl;j++){var el=this._instanceNameSpaces[exists[j]];if(_typeof(window[el])=="object"){if(instanceOf!==null&&!(window[el]instanceof instanceOf)){continue;}
instances[el]=window[el];}}
return instances;}}]);return ComponentInstanceCache;}();exports.default=ComponentInstanceCache;},function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var ComponentInterface=function(){function ComponentInterface(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,ComponentInterface);this.instanceName=null;this.alias=null;this.typePart="common";this.init(data);}
_createClass(ComponentInterface,[{key:'init',value:function init(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];for(var key in data){this.set(key,data[key]);}}},{key:'set',value:function set(key){var data=arguments.length<=1||arguments[1]===undefined?null:arguments[1];this[key]=data;}},{key:'get',value:function get(key){if(typeof this[key]=='undefined'){return null;}
return this[key];}},{key:'getInst',value:function getInst(nameClass){if(typeof this['get'+nameClass]=='function'){return this['get'+nameClass]();}
return null;}},{key:'getInstCross',value:function getInstCross(nameClass){var alias=arguments.length<=1||arguments[1]===undefined?this.alias:arguments[1];var _find=$_component_instances.get(nameClass,alias,this.typePart);if(_find===null){return null;}
return window[_find];}},{key:'getFlag',value:function getFlag(name){return HelperFlags.get(name,this.alias);}},{key:'setFlag',value:function setFlag(name){var value=arguments.length<=1||arguments[1]===undefined?null:arguments[1];return HelperFlags.set(name,value,this.alias);}},{key:'getFlagCross',value:function getFlagCross(name){var alias=arguments.length<=1||arguments[1]===undefined?this.alias:arguments[1];return HelperFlags.get(name,alias);}},{key:'setFlagCross',value:function setFlagCross(name,value){var alias=arguments.length<=2||arguments[2]===undefined?this.alias:arguments[2];return HelperFlags.set(name,value,alias);}},{key:'getFlagGlobal',value:function getFlagGlobal(name){return HelperFlags.get(name,HelperFlags.GLOBAL);}},{key:'setFlagGlobal',value:function setFlagGlobal(name){var value=arguments.length<=1||arguments[1]===undefined?null:arguments[1];return HelperFlags.set(name,value,HelperFlags.GLOBAL);}},{key:'getService',value:function getService(){var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if($_services.hasService(name)===false){if($_services.createService(name)===true){return $_services.getService(name);}}else{return $_services.getService(name);}
return null;}},{key:'getHandler',value:function getHandler(){var alias=arguments.length<=0||arguments[0]===undefined?this.alias:arguments[0];var instances=$_component_instances.getComponentInstances(alias);if(!instances||instances.length===0){return null;}
if(instances.length>1){$_log.warn("WARNING: Using getHandler() while number of handlers > 1. May be incorrect result");return null;}
var handlers=[];for(var h in instances){if(h.indexOf("_h_")>-1){handlers.push({name:h,instance:instances[h]});}}
if(handlers.length>1){for(var _h in handlers){if(handlers[_h].name.indexOf(__RunPartialApplication.type)>=0){return handlers[_h].instance;}}
for(var _h2 in handlers){if(handlers[_h2].name.indexOf("common")>=0){return handlers[_h2].instance;}}}else{return handlers[0].instance;}}},{key:'getController',value:function getController(){var alias=arguments.length<=0||arguments[0]===undefined?this.alias:arguments[0];var instances=$_component_instances.getComponentInstances(alias);if(!instances||instances.length===0){return null;}
if(instances.length>1){$_log.warn("WARNING: Using getController() while number of handlers > 1. May be incorrect result");return null;}
var handlers=[];for(var h in instances){if(h.indexOf("_c_")>-1){handlers.push({name:h,instance:instances[h]});}}
if(handlers.length>1){for(var _h3 in handlers){if(handlers[_h3].name.indexOf(__RunPartialApplication.type)>=0){return handlers[_h3].instance;}}
for(var _h4 in handlers){if(handlers[_h4].name.indexOf("common")>=0){return handlers[_h4].instance;}}}else{return handlers[0].instance;}}},{key:'getEvent',value:function getEvent(){var alias=arguments.length<=0||arguments[0]===undefined?this.alias:arguments[0];var instances=$_component_instances.getComponentInstances(alias);if(!instances||instances.length===0){return null;}
if(instances.length>1){$_log.warn("WARNING: Using getEvent() while number of handlers > 1. May be incorrect result");return null;}
var handlers=[];for(var h in instances){if(h.indexOf("_e_")>-1){handlers.push({name:h,instance:instances[h]});}}
if(handlers.length>1){for(var _h5 in handlers){if(handlers[_h5].name.indexOf(__RunPartialApplication.type)>=0){return handlers[_h5].instance;}}
for(var _h6 in handlers){if(handlers[_h6].name.indexOf("common")>=0){return handlers[_h6].instance;}}}else{return handlers[0].instance;}}},{key:'getState',value:function getState(){var stateName=arguments.length<=0||arguments[0]===undefined?$_stateMachine.currentState:arguments[0];return $_stateMachine.getState(stateName);}},{key:'getStateComponent',value:function getStateComponent(){var stateComponentName=arguments.length<=0||arguments[0]===undefined?null:arguments[0];return $_stateMachine.getStateComponent(stateComponentName);}}]);return ComponentInterface;}();exports.default=ComponentInterface;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _componentInterface=__webpack_require__(5);var _componentInterface2=_interopRequireDefault(_componentInterface);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Controller=function(_ComponentInterface){_inherits(Controller,_ComponentInterface);function Controller(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,Controller);return _possibleConstructorReturn(this,(Controller.__proto__||Object.getPrototypeOf(Controller)).call(this,data));}
_createClass(Controller,[{key:"run",value:function run(){}},{key:"indexAction",value:function indexAction(){}}]);return Controller;}(_componentInterface2.default);exports.default=Controller;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _componentInterface=__webpack_require__(5);var _componentInterface2=_interopRequireDefault(_componentInterface);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Events=function(_ComponentInterface){_inherits(Events,_ComponentInterface);function Events(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,Events);return _possibleConstructorReturn(this,(Events.__proto__||Object.getPrototypeOf(Events)).call(this,data));}
_createClass(Events,[{key:"run",value:function run(){}},{key:"setEvent",value:function setEvent(name){var data=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];try{$_event.setEvent(name,data);}catch(e){$_log.error(e);}}},{key:"setSubscriber",value:function setSubscriber(name){try{$_event.setSubscriber(name,this.instanceName);}catch(e){$_log.error(e);}}},{key:"unsetSubscriber",value:function unsetSubscriber(name){try{$_event.unsetSubscriber(name,this.instanceName);}catch(e){$_log.error(e);}}}]);return Events;}(_componentInterface2.default);exports.default=Events;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var LogApplication=function(){function LogApplication(){_classCallCheck(this,LogApplication);this._dev=false;this.time=null;this.traceLog=null;this._traceStart=false;}
_createClass(LogApplication,[{key:"getTime",value:function getTime(){var t=new Date().getTime();if(this.time===null){this.time=t;}
return t-this.time;}},{key:"getTimeLog",value:function getTimeLog(t){var c=20;var r="";if(t<1000){r=t+"ms";}else if(t>1000&&t<1000*60){r=(t/1000).toFixed(2)+"sec";}else if(t>1000*60&&t<1000*60*60){r=(t/1000/60).toFixed(2)+"min";}else{r=(t/1000/60/60).toFixed(2)+"hour";}
if(r.length>c){return r;}
var _c=c-r.length;var _r="";for(var i=0;i<_c;i++){_r+=" ";}
return r+_r;}},{key:"logWrite",value:function logWrite(method,args){if(this._dev===false){return null;}
var list=[this.getTimeLog(this.getTime())].concat(_toConsumableArray(args));if(list instanceof Array){try{console[method].apply(console,list);args=null;}catch(e){$_log.error(e);}}}},{key:"log",value:function log(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}
this.logWrite('log',args);}},{key:"error",value:function error(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}
this.logWrite('error',args);}},{key:"warning",value:function warning(){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3];}
this.logWrite('warn',args);}},{key:"write",value:function write(){for(var _len4=arguments.length,args=Array(_len4),_key4=0;_key4<_len4;_key4++){args[_key4]=arguments[_key4];}
this.logWrite('info',args);}},{key:"dev",set:function set(value){this._dev=value;if(value===false){this.original=window.console;window.console={};}},get:function get(){return this._dev;}}]);return LogApplication;}();exports.default=LogApplication;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _Scrollable=__webpack_require__(10);var _Scrollable2=_interopRequireDefault(_Scrollable);var _Container2=__webpack_require__(11);var _Container3=_interopRequireDefault(_Container2);var _Bitmap=__webpack_require__(12);var _Bitmap2=_interopRequireDefault(_Bitmap);var _Text=__webpack_require__(13);var _Text2=_interopRequireDefault(_Text);var _Shape=__webpack_require__(14);var _Shape2=_interopRequireDefault(_Shape);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BetSelector=function(_Container){_inherits(BetSelector,_Container);function BetSelector(config,values){_classCallCheck(this,BetSelector);var _this=_possibleConstructorReturn(this,(BetSelector.__proto__||Object.getPrototypeOf(BetSelector)).call(this));var background=new _Bitmap2.default(config.images.background);_this.addChild(background);var height=(values.length+2)*70+20;var content=new _Container3.default();for(var i=0;i<values.length;i++){var text=new _Text2.default(values[i],"30px Arial","#FFF");text.x=40;text.y=60+(i+1)*70;text.textBaseline="alphabetic";content.addChild(text);}
var layer=new _Shape2.default();layer.graphics.beginFill("#000");layer.alpha=0.01;layer.graphics.drawRect(0,0,config.width,height);layer.graphics.endFill();content.addChild(layer);content.width=config.width;content.height=height;var scrollable=new _Scrollable2.default(config,content);scrollable.y=10;scrollable.height=scrollable.height;_this.addChild(scrollable);return _this;}
return BetSelector;}(_Container3.default);exports.default=BetSelector;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Container2=__webpack_require__(11);var _Container3=_interopRequireDefault(_Container2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Scrollable=function(_Container){_inherits(Scrollable,_Container);function Scrollable(config,content){_classCallCheck(this,Scrollable);var _this=_possibleConstructorReturn(this,(Scrollable.__proto__||Object.getPrototypeOf(Scrollable)).call(this,config));_this.content=content||null;_this.mask=undefined;_this.enabled=true;_this._useMask=true;_this.SCROLL_AUTO="auto";_this.SCROLL_VERTICAL="vertical";_this.SCROLL_HORIZONTAL="horizontal";_this.scrolldirection=_this.SCROLL_VERTICAL;_this.scrolldelta=10;_this.width=config.width;_this.height=config.height;_this.updateMask();return _this;}
_createClass(Scrollable,[{key:"layoutHorizontalAlign",value:function layoutHorizontalAlign(){return false;}},{key:"upright",value:function upright(){return this.content.height<=this.height&&this.content.width>this.width;}},{key:"_scrollContent",value:function _scrollContent(x,y){var scroll_auto=this.scrolldirection==this.SCROLL_AUTO;var scroll=this.SCROLL_VERTICAL;if(this.scrolldirection==this.SCROLL_HORIZONTAL||scroll_auto&&(this.layoutHorizontalAlign()||this.upright())){scroll=this.SCROLL_HORIZONTAL;}
if(scroll==this.SCROLL_HORIZONTAL){if(this.content.width>this.width){x=Math.min(x,0);if(this.content.width){x=Math.max(x,-(this.content.width-this.width));}
this.content.x=x;}}
if(scroll==this.SCROLL_VERTICAL){if(this.content.height>this.height){y=Math.min(y,0);if(this.content.height&&this.content.y<0){y=Math.max(y,-(this.content.height-this.height));}
this.content.y=y;}}}},{key:"handleWheel",value:function handleWheel(event){this._scrollContent(this.content.x+event.delta*this.scrolldelta,this.content.y+event.delta*this.scrolldelta);}},{key:"handleMove",value:function handleMove(event){if(!this._start){this._start=[event.stageX-this.content.x,event.stageY-this.content.y];}
this._scrollContent(event.stageX-this._start[0],event.stageY-this._start[1]);}},{key:"handleUp",value:function handleUp(event){this._start=null;}},{key:"updateMask",value:function updateMask(){if(this.height&&this.width&&this._useMask){if(this.mask===undefined){this.mask=new createjs.Shape();}
this.drawMask();}else{if(this.mask){this.mask.graphics.clear();}
this.mask=undefined;}}},{key:"drawMask",value:function drawMask(){this.mask.graphics.clear().beginFill("#fff").drawRect(this.x,this.y,this.width,this.height).endFill();}},{key:"height",get:function get(){if(!this._height){return this._content.height;}
return this._height;},set:function set(height){this._height=height;this.updateMask();}},{key:"width",get:function get(){if(!this._width){return this._content.width;}
return this._width;},set:function set(width){this._width=width;this.updateMask();}},{key:"enabled",get:function get(){return this._enabled;},set:function set(value){if(value){this.on("pressmove",this.handleMove,this);this.on("pressup",this.handleUp,this);this.on("mousewheel",this.handleWheel,this);}else if(this.hasEventListener("pressmove")){this.off("pressmove",this.handleMove,this);this.off("pressup",this.handleUp,this);this.off("mousewheel",this.handleWheel,this);}
this._enabled=value;}},{key:"content",get:function get(){return this._content;},set:function set(content){if(this._content){this.removeChild(this._content);}
if(content){this.addChild(content);this._content=content;}}}]);return Scrollable;}(_Container3.default);exports.default=Scrollable;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Container=function(_createjs$Container){_inherits(Container,_createjs$Container);function Container(config){_classCallCheck(this,Container);var _this=_possibleConstructorReturn(this,(Container.__proto__||Object.getPrototypeOf(Container)).call(this));config=config||{};_this.left=config.left||0;_this.top=config.top||0;_this.relative={width:{},height:{},left:{},right:{},top:{},bottom:{},align:{},verticalAlign:{}};if(config.width)_this.width=config.width;if(config.height)_this.height=config.height;if(config.backgroundColor!==undefined){_this.setBacgkroundColor(config.backgroundColor);}
if(config.backgroundClickable){_this.enableClickableBackground();}
if(config.overflow==="hidden"){_this.enableOverflowHidden();}
if(config.mouseChildren!==undefined){_this.mouseChildren=config.mouseChildren;}
return _this;}
_createClass(Container,[{key:"addChild",value:function addChild(child){_get(Container.prototype.__proto__||Object.getPrototypeOf(Container.prototype),"addChild",this).call(this,child);if(this.backgroundColorFill){this.backgroundColorFill.scaleX=this.width;}
if(this.backgroundClickable){this.setClickableBackground();}
if(this.overflowHidden){this.setOverflowHidden();}}},{key:"setBacgkroundColor",value:function setBacgkroundColor(color){if(!this.backgroundColorFill){this.backgroundColorFill=new createjs.Shape();}
var b=this.backgroundColorFill.graphics;b.beginFill(color).drawRect(0,0,1,1);this.addChildAt(this.backgroundColorFill,0);this.backgroundColorFill.scaleX=this.width;this.backgroundColorFill.scaleY=this.height;}},{key:"enableOverflowHidden",value:function enableOverflowHidden(){this.overflowHidden=true;this.setOverflowHidden();}},{key:"disableOverflowHidden",value:function disableOverflowHidden(){this.overflowHidden=false;this.mask=null;}},{key:"setOverflowHidden",value:function setOverflowHidden(){if(this.width&&this.height){var maskShape=new Shape();maskShape.graphics.drawRect(this.x,this.y,this.width,this.height);this.mask=maskShape;}}},{key:"enableClickableBackground",value:function enableClickableBackground(){this.backgroundClickable=true;this.setClickableBackground();}},{key:"disableClickableBackground",value:function disableClickableBackground(){this.backgroundClickable=false;this.hitArea=null;}},{key:"setClickableBackground",value:function setClickableBackground(){if(this.width&&this.height){var hitArea=new createjs.Shape();var g=hitArea.graphics;g.beginFill("#000").drawRect(0,0,this.width,this.height).endFill();this.hitArea=hitArea;}}},{key:"setChildAlign",value:function setChildAlign(align,child){if(this.getChildByName(child.name)===null){$_log.warning("child not found",child.name,this.name);}
var width=this.width;var childWidth=child.width||(child.getBounds()!==null?child.getBounds().width:0);if(width===undefined||childWidth===undefined){return false;}
if(child.name&&(align==="left"||align==="center"||align==="right")){if(this.relative.left[child.name]){delete this.relative.left[child.name];}
if(this.relative.right[child.name]){delete this.relative.right[child.name];}}
if(align==="left"){child.x=0;return true;}
if(align==="center"){child.x=width/2-childWidth/2;if(child.name){this.relative.align[child.name]=align;}
return true;}else if(align==="right"){child.x=width-childWidth;if(child.name){this.relative.align[child.name]=align;}
return true;}
return false;}},{key:"setChildVerticalAlign",value:function setChildVerticalAlign(align,child){if(this.getChildByName(child.name)===null){$_log.warning("child not found",child.name,this.name);}
var height=this.height;var childHeight=void 0;if(child.height===undefined){var b=child.getBounds();if(b===null){return false;}
childHeight=b.height;}else{childHeight=child.height;}
if(height===undefined||childHeight===undefined){return false;}
if(child.name&&(align==="top"||align==="middle"||align==="bottom")){if(this.relative.top[child.name]){delete this.relative.top[child.name];}
if(this.relative.bottom[child.name]){delete this.relative.bottom[child.name];}}
if(align==="top"){child.y=0;return true;}
if(align==="middle"){child.y=height/2-childHeight/2;if(child.name){this.relative.verticalAlign[child.name]=align;}
return true;}else if(align==="bottom"){child.y=height-childHeight;if(child.name){this.relative.verticalAlign[child.name]=align;}
return true;}else return false;}},{key:"setChildLeft",value:function setChildLeft(child,left){if(this.getChildByName(child.name)===null){$_log.warning("child not found",child.name,this.name);}
if(typeof left==="string"&&left.indexOf("%")>-1){if(child.name){this.relative.left[child.name]=left;}
var leftPercent=parseFloat(left)/100;if(this.width===undefined){return false;}
left=this.width*leftPercent;}else{if(this.relative.left[child.name]){delete this.relative.left[child.name];}}
if(child.name){if(this.relative.right[child.name]){delete this.relative.right[child.name];}
if(this.relative.align[child.name]){delete this.relative.align[child.name];}}
child.x=left;return true;}},{key:"setChildRight",value:function setChildRight(child,right){if(this.getChildByName(child.name)===null){$_log.warning("child not found",child.name,this.name);}
if(typeof right==="string"&&right.indexOf("%")>-1){var rightPercent=parseFloat(right)/100;if(this.width===undefined){return false;}
right=this.width*rightPercent;}
if(child.name){this.relative.right[child.name]=right;if(this.relative.left[child.name]){delete this.relative.left[child.name];}
if(this.relative.align[child.name]){delete this.relative.align[child.name];}}
var childWidth=child.width||(child.getBounds()===null?0:child.getBounds().width);child.x=this.width-childWidth-right;return true;}},{key:"setChildTop",value:function setChildTop(child,top){if(this.getChildByName(child.name)===null){$_log.warning("child not found",child.name,this.name);}
if(typeof top==="string"&&top.indexOf("%")>-1){if(child.name){this.relative.top[child.name]=top;}
var topPercent=parseFloat(top)/100;if(this.height===undefined){return false;}
top=this.height*topPercent;}else{if(child.name){if(this.relative.top[child.name]){delete this.relative.top[child.name];}}}
if(child.name){if(this.relative.bottom[child.name]){delete this.relative.bottom[child.name];}
if(this.relative.verticalAlign[child.name]){delete this.relative.verticalAlign[child.name];}}
child.y=top;return true;}},{key:"setChildBottom",value:function setChildBottom(child,bottom){if(this.getChildByName(child.name)===null){$_log.warning("child not found",child.name,this.name);}
if(typeof bottom==="string"&&bottom.indexOf("%")>-1){var bottomPercent=parseFloat(bottom)/100;if(this.height===undefined){return false;}
bottom=this.height*bottomPercent;}
if(child.name){this.relative.bottom[child.name]=bottom;if(this.relative.top[child.name]){delete this.relative.top[child.name];}
if(this.relative.verticalAlign[child.name]){delete this.relative.verticalAlign[child.name];}}
var childHeight=child.height||(child.getBounds()===null?0:child.getBounds().height);child.y=this.height-childHeight-bottom;return true;}},{key:"setChildWidth",value:function setChildWidth(child,width){if(this.getChildByName(child.name)===null){$_log.warning("child not found",child.name,this.name);}
if(typeof width==="string"&&width.indexOf("%")>-1){if(child.name){this.relative.width[child.name]=width;}
var widthPercent=parseFloat(width)/100;if(this.width===undefined){return false;}
width=this.width*widthPercent;}else{if(child.name){if(this.relative.width[child.name]){delete this.relative.width[child.name];}}}
child.width=width;return true;}},{key:"setChildHeight",value:function setChildHeight(child,height){if(this.getChildByName(child.name)===null){$_log.warning("child not found",child.name,this.name);}
if(typeof height==="string"&&height.indexOf("%")>-1){if(child.name){this.relative.height[child.name]=height;}
var heightPercent=parseFloat(height)/100;if(this.height===undefined){return false;}
height=this.height*heightPercent;}else{if(child.name){if(this.relative.height[child.name]){delete this.relative.height[child.name];}}}
child.height=height;return true;}},{key:"_setWidth",value:function _setWidth(width){this._width=width;for(var child in this.relative.width){var childInstance=this.getChildByName(child);if(childInstance){this.setChildWidth(childInstance,this.relative.width[child]);}else{delete this.relative.width[child];}}
for(var _child in this.relative.align){var _childInstance=this.getChildByName(_child);if(_childInstance){this.setChildAlign(this.relative.align[_child],_childInstance);}else{delete this.relative.align[_child];}}
for(var _child2 in this.relative.right){var _childInstance2=this.getChildByName(_child2);if(_childInstance2){this.setChildRight(_childInstance2,this.relative.right[_child2]);}else{delete this.relative.right[_child2];}}
for(var _child3 in this.relative.left){var _childInstance3=this.getChildByName(_child3);if(_childInstance3){this.setChildLeft(_childInstance3,this.relative.left[_child3]);}else{delete this.relative.left[_child3];}}
if(this.backgroundColorFill){this.backgroundColorFill.scaleX=width;}
if(this.backgroundClickable){this.setClickableBackground();}
if(this.overflowHidden){this.setOverflowHidden();}}},{key:"_setHeight",value:function _setHeight(height){this._height=height;for(var child in this.relative.height){var childInstance=this.getChildByName(child);if(childInstance){this.setChildHeight(childInstance,this.relative.height[child]);}else{delete this.relative.height[child];}}
for(var _child4 in this.relative.bottom){var _childInstance4=this.getChildByName(_child4);if(_childInstance4){this.setChildBottom(_childInstance4,this.relative.bottom[_child4]);}else{delete this.relative.bottom[_child4];}}
for(var _child5 in this.relative.verticalAlign){var _childInstance5=this.getChildByName(_child5);if(_childInstance5){this.setChildVerticalAlign(this.relative.verticalAlign[_child5],_childInstance5);}else{delete this.relative.verticalAlign[_child5];}}
if(this.backgroundColorFill){this.backgroundColorFill.scaleY=height;}
if(this.backgroundClickable){this.setClickableBackground();}
if(this.overflowHidden){this.setOverflowHidden();}}},{key:"x",set:function set(value){this._x=value;if(this.overflowHidden){this.setOverflowHidden();}},get:function get(){return this._x;}},{key:"y",set:function set(value){this._y=value;if(this.overflowHidden){this.setOverflowHidden();}},get:function get(){return this._y;}},{key:"left",set:function set(left){this.x=left;},get:function get(){return this.x;}},{key:"top",set:function set(top){this.y=top;},get:function get(){return this.y;}},{key:"width",set:function set(width){this._setWidth(width);},get:function get(){if(this._width!==undefined){return this._width;}
var b=this.getBounds();if(b!==null){return b.width;}else{return undefined;}}},{key:"height",set:function set(height){this._setHeight(height);},get:function get(){if(this._height!==undefined){return this._height;}
var b=this.getBounds();if(b!==null){return b.height;}else{return undefined;}}}]);return Container;}(createjs.Container);exports.default=Container;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Bitmap=function(_createjs$Bitmap){_inherits(Bitmap,_createjs$Bitmap);function Bitmap(config){var alias=arguments.length<=1||arguments[1]===undefined?null:arguments[1];_classCallCheck(this,Bitmap);var src=config.src||config;if(!(src instanceof HTMLImageElement||src instanceof HTMLCanvasElement)){if(alias===null){$_log.error("Not found \"alias\" parameter for new Bitmap! Src => \""+src+"\"");return _possibleConstructorReturn(_this);}
if(config.alias!==undefined){alias=config.alias;}
var imageAlias=src;src=$_required.getImageRawData(src,alias);if(src===null){$_log.error("Image with alias = "+imageAlias+" for component "+alias+" not found");return _possibleConstructorReturn(_this);}}
var _this=_possibleConstructorReturn(this,(Bitmap.__proto__||Object.getPrototypeOf(Bitmap)).call(this,src));_this.componentAlias=alias;if(_this.image===null){$_log.error("Cannot create Bitmap with alias = "+src);return _possibleConstructorReturn(_this);}
_this.left=config.left||0;_this.top=config.top||0;if(config.width!==undefined)_this.width=config.width;if(config.height!==undefined)_this.height=config.height;if(config.scaleX!==undefined)_this.scaleX=config.scaleX;if(config.scaleY!==undefined)_this.scaleY=config.scaleY;if(config.rotation!==undefined){_this.rotation=config.rotation;}
return _this;}
_createClass(Bitmap,[{key:"setImage",value:function setImage(imageAlias){var componentAlias=arguments.length<=1||arguments[1]===undefined?this.componentAlias:arguments[1];if(!imageAlias){return;}
this.image=$_required.getImageRawData(imageAlias,componentAlias);}},{key:"width",set:function set(width){var _this2=this;if(width===""){this.scaleX=1;return;}
if(this.image){this.scaleX=width/this.image.width;}else{this.image.onload=function(){_this2.width=width;};}},get:function get(){return this.image.width*this.scaleX;}},{key:"height",set:function set(height){var _this3=this;if(height===""){this.scaleY=1;return;}
if(this.image){this.scaleY=height/this.image.height;}else{this.image.onload=function(){_this3.height=height;};}},get:function get(){return this.image.height*this.scaleY;}},{key:"left",set:function set(left){this.x=left;},get:function get(){return this.x;}},{key:"top",set:function set(top){this.y=top;},get:function get(){return this.y;}}]);return Bitmap;}(createjs.Bitmap);exports.default=Bitmap;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Text=function(_createjs$Text){_inherits(Text,_createjs$Text);function Text(config){_classCallCheck(this,Text);config=config||{};var textConfig=$_t.get(config.text);if(textConfig instanceof Object){var keys=Object.keys(textConfig);for(var i=0,l=keys.length;i<l;i++){var name=keys[i];config[name]=textConfig[name];}}else{config.text=textConfig;}
var _config=config;var _config$text=_config.text;var text=_config$text===undefined?"":_config$text;var _config$font=_config.font;var font=_config$font===undefined?"12pt Arial":_config$font;var _config$fontFamily=_config.fontFamily;var fontFamily=_config$fontFamily===undefined?"Arial":_config$fontFamily;var textAlign=_config.textAlign;var textBaseline=_config.textBaseline;var lineHeight=_config.lineHeight;var lineWidth=_config.lineWidth;var outline=_config.outline;var _config$color=_config.color;var color=_config$color===undefined?"#000000":_config$color;var _config$fontSize=_config.fontSize;var fontSize=_config$fontSize===undefined?"12pt":_config$fontSize;var _config$fontStyle=_config.fontStyle;var fontStyle=_config$fontStyle===undefined?"":_config$fontStyle;var _config$lineJoin=_config.lineJoin;var lineJoin=_config$lineJoin===undefined?"round":_config$lineJoin;var miterLimit=_config.miterLimit;var circleText=_config.circleText;var stroke=_config.stroke;if(config.font===undefined){font=fontStyle+" "+fontSize+" "+fontFamily;}
if(config.fontTransform!=undefined){switch(config.fontTransform){case"uppercase":config.text=config.text.toUpperCase();break;default:}}
var _this=_possibleConstructorReturn(this,(Text.__proto__||Object.getPrototypeOf(Text)).call(this,text,font,color));_this.lineJoin=lineJoin;if(miterLimit!==undefined){_this.miterLimit=miterLimit;}
if(textAlign!==undefined){_this.textAlign=textAlign;}
if(textBaseline!==undefined){_this.textBaseline=textBaseline;}
if(lineHeight!==undefined){_this.lineHeight=lineHeight;}
if(lineWidth!==undefined){_this.lineWidth=lineWidth;}
if(lineWidth!==undefined){_this.lineWidth=lineWidth;}
if(outline!==undefined){_this.outline=outline;}
if(circleText){_this.circleText={diameter:100,startAngle:0,align:"center",clockwise:1,textInside:false,inwardFacing:true,kerning:0,inverse:false};Object.assign(_this.circleText,circleText);}
_this.stroke=stroke;return _this;}
_createClass(Text,[{key:"setText",value:function setText(text){var textConfig=$_t.get(text);if(textConfig instanceof Object){text=textConfig.text;}else{text=textConfig;}
this.text=text;}},{key:"draw",value:function draw(ctx,ignoreCache){if(this.DisplayObject_draw(ctx,ignoreCache)){return true;}
if(this.stroke){ctx.save();ctx.strokeStyle=this.stroke.color||"#000";ctx.lineWidth=this.stroke.outline*1;ctx.miterLimit=this.stroke.miterLimit;ctx.lineJoin=this.stroke.lineJoin||"round";ctx.globalAlpha=this.stroke.alpha;var outline=this.outline;this.outline=this.stroke.outline+1;this.strokeOffsetX=this.stroke.offsetX;this.strokeOffsetY=this.stroke.offsetY;this._drawText(this._prepContext(ctx));delete this.strokeOffsetX;delete this.strokeOffsetY;this.outline=outline;ctx.restore();}
var col=this.color||"#000";if(this.outline){ctx.strokeStyle=col;ctx.lineWidth=this.outline*1;ctx.miterLimit=this.miterLimit;ctx.lineJoin=this.lineJoin;}else{ctx.fillStyle=col;}
this._drawText(this._prepContext(ctx));return true;}},{key:"_drawTextOverCircle",value:function _drawTextOverCircle(ctx,text,diameter,startAngle,align,clockwise,textInside,inwardFacing,kerning,inverse){var textHeight=0;align=align.toLowerCase();startAngle=startAngle*(Math.PI/180);ctx.translate(0,diameter/2);startAngle+=Math.PI*!inwardFacing;ctx.textBaseline='middle';ctx.textAlign='center';if(align=="center"){for(var j=0;j<text.length;j++){var charWid=ctx.measureText(text[j]).width;startAngle+=(charWid+(j==text.length-1?0:kerning))/(diameter/2-textHeight)/2*-clockwise;}}
ctx.rotate(startAngle);if(inverse){for(var j=0;j<text.length;j++){var charWid=ctx.measureText(text[j]).width;ctx.rotate(charWid/2/(diameter/2-textHeight)*clockwise);this.__drawTextLine(ctx,text[j],(inwardFacing?1:-1)*(0-diameter/2+textHeight/2));ctx.rotate((charWid/2+kerning)/(diameter/2-textHeight)*clockwise);}}else{for(var j=0;j<text.length;j++){var charWid=ctx.measureText(text[j]).width;ctx.rotate(charWid/2/(diameter/2-textHeight)*clockwise);this.__drawTextLine(ctx,text[j],(inwardFacing?1:-1)*(0-diameter/2+textHeight/2));ctx.rotate((charWid/2+kerning)/(diameter/2-textHeight)*clockwise);}}}},{key:"_drawTextLine",value:function _drawTextLine(ctx,text,y){var x=arguments.length<=3||arguments[3]===undefined?0:arguments[3];if(this.circleText){this._drawTextOverCircle(ctx,text,this.circleText.diameter,this.circleText.startAngle,this.circleText.align,this.circleText.clockwise,this.circleText.textInside,this.circleText.inwardFacing,this.circleText.kerning,this.circleText.inverse);}else{this.__drawTextLine(ctx,text,y,x);}}},{key:"__drawTextLine",value:function __drawTextLine(ctx,text,y){var x=arguments.length<=3||arguments[3]===undefined?0:arguments[3];if(this.outline){if(this.strokeOffsetX){for(var i=0;i<this.stroke.offsetX;i++){ctx.strokeText(text,i,y,this.maxWidth||0xFFFF);}}else if(this.strokeOffsetY){for(var _i=0;_i<this.stroke.offsetY;_i++){ctx.strokeText(text,x,y+_i,this.maxWidth||0xFFFF);}}else{ctx.strokeText(text,x,y,this.maxWidth||0xFFFF);}}else{ctx.fillText(text,x,y,this.maxWidth||0xFFFF);}}},{key:"_drawText",value:function _drawText(ctx,o,lines){var paint=!!ctx;if(!paint){ctx=Text._workingContext;ctx.save();this._prepContext(ctx);}
var lineHeight=this.lineHeight||this.getMeasuredLineHeight();var maxW=0,count=0;var hardLines=String(this.text).split(/(?:\r\n|\r|\n)/);for(var i=0,l=hardLines.length;i<l;i++){var str=hardLines[i];var w=null;if(this.lineWidth!=null&&(w=ctx.measureText(str).width)>this.lineWidth){var words=str.split(/(\s)/);str=words[0];w=ctx.measureText(str).width;for(var j=1,jl=words.length;j<jl;j+=2){var wordW=ctx.measureText(words[j]+words[j+1]).width;if(w+wordW>this.lineWidth){if(paint){this._drawTextLine(ctx,str,count*lineHeight);}
if(lines){lines.push(str);}
if(w>maxW){maxW=w;}
str=words[j+1];w=ctx.measureText(str).width;count++;}else{str+=words[j]+words[j+1];w+=wordW;}}}
if(paint){this._drawTextLine(ctx,str,count*lineHeight);}
if(lines){lines.push(str);}
if(o&&w==null){w=ctx.measureText(str).width;}
if(w>maxW){maxW=w;}
count++;}
if(o){o.width=maxW;o.height=count*lineHeight;}
if(!paint){ctx.restore();}
return o;}}]);return Text;}(createjs.Text);exports.default=Text;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Shape=function(_createjs$Shape){_inherits(Shape,_createjs$Shape);function Shape(){_classCallCheck(this,Shape);return _possibleConstructorReturn(this,(Shape.__proto__||Object.getPrototypeOf(Shape)).apply(this,arguments));}
return Shape;}(createjs.Shape);exports.default=Shape;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _SpriteSheet=__webpack_require__(16);var _SpriteSheet2=_interopRequireDefault(_SpriteSheet);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BitmapText=function(_createjs$BitmapText){_inherits(BitmapText,_createjs$BitmapText);function BitmapText(config){var alias=arguments.length<=1||arguments[1]===undefined?null:arguments[1];_classCallCheck(this,BitmapText);if(config.alias!==undefined){alias=config.alias;}
var spriteSheet=void 0;if(config.spriteSheet instanceof _SpriteSheet2.default){spriteSheet=config.spriteSheet;}else{spriteSheet=new _SpriteSheet2.default(config.spriteSheet,alias);}
var _this=_possibleConstructorReturn(this,(BitmapText.__proto__||Object.getPrototypeOf(BitmapText)).call(this,config.text,spriteSheet));if(config.lineHeight!==undefined){_this.lineHeight=config.lineHeight;}
if(config.scaleX!==undefined){_this.scaleX=config.scaleX;}
if(config.scaleY!==undefined){_this.scaleY=config.scaleY;}
return _this;}
_createClass(BitmapText,[{key:"setText",value:function setText(text){this.text=text;}},{key:"left",set:function set(left){this.x=left;},get:function get(){return this.x;}},{key:"top",set:function set(top){this.y=top;},get:function get(){return this.y;}}]);return BitmapText;}(createjs.BitmapText);exports.default=BitmapText;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var SpriteSheet=function(_createjs$SpriteSheet){_inherits(SpriteSheet,_createjs$SpriteSheet);function SpriteSheet(_config){var alias=arguments.length<=1||arguments[1]===undefined?null:arguments[1];_classCallCheck(this,SpriteSheet);var config=Object.assign({},_config);var src=config.images;if(typeof src==="string"){if(alias===null){$_log.error("Not found \"alias\" parameter for new SpriteSheet! Src => \""+src+"\"");return _possibleConstructorReturn(_this);}
src=$_required.getImageRawData(src,alias);if(!src){$_log.error("Not found image for new SpriteSheet! alias => \""+alias+"\" image_alias => \""+config.images+"\"");return _possibleConstructorReturn(_this);}
config.images=[src];}else if(src instanceof HTMLImageElement||src instanceof HTMLCanvasElement){config.images=[src];}else if(src instanceof Array){if(alias===null){$_log.error("Not found \"alias\" parameter for new SpriteSheet! Src => \""+src+"\"");return _possibleConstructorReturn(_this);}
var images=[];for(var i=0;i<src.length;i++){if(typeof src[i]==="string"){var img=$_required.getImageRawData(src[i],alias);if(!img){$_log.error("Not found image for new SpriteSheet! alias => \""+alias+"\" image_alias => \""+config.images+"\", "+src[i]+" ");continue;}
images.push(img);}else if(src[i]instanceof HTMLImageElement||src[i]instanceof HTMLCanvasElement){images.push(src[i]);}}
config.images=images;}
return _possibleConstructorReturn(this,(SpriteSheet.__proto__||Object.getPrototypeOf(SpriteSheet)).call(this,config));}
return SpriteSheet;}(createjs.SpriteSheet);exports.default=SpriteSheet;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Sprite2=__webpack_require__(18);var _Sprite3=_interopRequireDefault(_Sprite2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Button=function(_Sprite){_inherits(Button,_Sprite);function Button(config){var alias=arguments.length<=1||arguments[1]===undefined?null:arguments[1];_classCallCheck(this,Button);var _this=_possibleConstructorReturn(this,(Button.__proto__||Object.getPrototypeOf(Button)).call(this,config,alias));_this.addEventListener("rollover",function(){if(!_this.mouseEnabled){return;}
_this.mouseOn=true;if(_this.mouseDown){_this.gotoAndStop("clicked");}else{_this.gotoAndStop("hover");}
if(_this.stage){_this.stage.requestUpdateTarget(_this);}});_this.addEventListener("rollout",function(){if(!_this.mouseEnabled){return;}
_this.mouseOn=false;if(_this.mouseDown){_this.gotoAndStop("clicked");}else{_this.gotoAndStop("normal");}
if(_this.stage){_this.stage.requestUpdateTarget(_this);}});_this.addEventListener("mousedown",function(){_this.gotoAndStop("clicked");_this.mouseDown=true;});_this.addEventListener("pressup",function(){if(!_this.mouseEnabled){return;}
if(_this.mouseOn){_this.gotoAndStop("hover");}else{_this.gotoAndStop("normal");}
_this.mouseDown=false;});_this.gotoAndStop("normal");_this.cursor="pointer";return _this;}
_createClass(Button,[{key:"disable",value:function disable(){this.cursor=null;this.mouseEnabled=false;this.mouseDown=false;this.mouseOn=false;this.gotoAndStop("disabled");}},{key:"enable",value:function enable(){this.cursor="pointer";this.mouseEnabled=true;this.gotoAndStop("normal");}},{key:"on",value:function on(event,callback){if(typeof callback==="function"){this.addEventListener(event,callback);}}},{key:"disabled",set:function set(bool){if(bool){this.disable();}else{this.enable();}}}]);return Button;}(_Sprite3.default);exports.default=Button;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _SpriteSheet=__webpack_require__(16);var _SpriteSheet2=_interopRequireDefault(_SpriteSheet);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Sprite=function(_createjs$Sprite){_inherits(Sprite,_createjs$Sprite);function Sprite(config){var alias=arguments.length<=1||arguments[1]===undefined?null:arguments[1];_classCallCheck(this,Sprite);var spriteSheet=void 0;if(config.alias!==undefined){alias=config.alias;}
if(config.spriteSheet instanceof _SpriteSheet2.default){spriteSheet=config.spriteSheet;}else{spriteSheet=new _SpriteSheet2.default(config.spriteSheet,alias);}
var _this=_possibleConstructorReturn(this,(Sprite.__proto__||Object.getPrototypeOf(Sprite)).call(this,spriteSheet));_this.left=config.left||0;_this.top=config.top||0;_this.scaleX=config.scaleX||1;_this.scaleY=config.scaleY||1;_this.visible=config.visible!==undefined?config.visible:true;if(!(config.spriteSheet instanceof _SpriteSheet2.default)&&config.spriteSheet.frames.width){_this._imageWidth=config.spriteSheet.frames.width;_this._imageHeight=config.spriteSheet.frames.height;}
if(config.width!==undefined){_this.width=config.width;}
if(config.height!==undefined){_this.height=config.height;}
if(config.framerate!==undefined){_this.framerate=config.framerate;}
if(config.defaultAnimation!==undefined){if(config.startFrame!==undefined){_this.gotoAndStop(config.defaultAnimation);_this.currentAnimationFrame=config.startFrame;_this.play();}else{_this.gotoAndPlay(config.defaultAnimation);}}
if(config.backgroundClickable){var hitArea=new createjs.Shape();var g=hitArea.graphics;g.beginFill("#000").drawRect(0,0,_this.width,_this.height).endFill();_this.hitArea=hitArea;}
return _this;}
_createClass(Sprite,[{key:"left",set:function set(left){this.x=left;},get:function get(){return this.x;}},{key:"top",set:function set(top){this.y=top;},get:function get(){return this.y;}},{key:"width",set:function set(width){if(this._imageWidth){this.scaleX=width/this._imageWidth;}else{var frame=0;if(this.currentAnimation!==null){frame=this.spriteSheet.getAnimation(this.currentAnimation).frames[0];}
var rect=this.spriteSheet.getFrameBounds(frame);this.scaleX=width/(rect.width+rect.x*2);}},get:function get(){if(this._imageWidth){return this._imageWidth*this.scaleX;}else{var frame=0;if(this.currentAnimation!==null){frame=this.spriteSheet.getAnimation(this.currentAnimation).frames[0];}
var rect=this.spriteSheet.getFrameBounds(frame);return(rect.width+rect.x*2)*this.scaleX;}}},{key:"height",set:function set(height){if(this._imageHeight){this.scaleY=height/this._imageHeight;}else{var frame=0;if(this.currentAnimation!==null){frame=this.spriteSheet.getAnimation(this.currentAnimation).frames[0];}
var rect=this.spriteSheet.getFrameBounds(frame);this.scaleY=height/(rect.height+rect.y*2);}},get:function get(){if(this._imageHeight){return this._imageHeight*this.scaleY;}else{var frame=0;if(this.currentAnimation!==null){frame=this.spriteSheet.getAnimation(this.currentAnimation).frames[0];}
var rect=this.spriteSheet.getFrameBounds(frame);return(rect.height+rect.y*2)*this.scaleY;}}}]);return Sprite;}(createjs.Sprite);exports.default=Sprite;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Sprite2=__webpack_require__(18);var _Sprite3=_interopRequireDefault(_Sprite2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Checkbox=function(_Sprite){_inherits(Checkbox,_Sprite);function Checkbox(config){var alias=arguments.length<=1||arguments[1]===undefined?null:arguments[1];_classCallCheck(this,Checkbox);var _this=_possibleConstructorReturn(this,(Checkbox.__proto__||Object.getPrototypeOf(Checkbox)).call(this,config,alias));if(config.checked===true){_this.checked=true;}else{_this.checked=false;}
_this.addEventListener("click",function(){_this.checked=!_this.checked;});_this.cursor="pointer";return _this;}
_createClass(Checkbox,[{key:"checked",set:function set(checked){this._checked=checked;if(checked){this.gotoAndStop("clicked");}else{this.gotoAndStop("normal");}},get:function get(){return this._checked;}},{key:"disabled",set:function set(bool){}}]);return Checkbox;}(_Sprite3.default);exports.default=Checkbox;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Container2=__webpack_require__(11);var _Container3=_interopRequireDefault(_Container2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var CheckboxContainer=function(_Container){_inherits(CheckboxContainer,_Container);function CheckboxContainer(config,alias){_classCallCheck(this,CheckboxContainer);var _this=_possibleConstructorReturn(this,(CheckboxContainer.__proto__||Object.getPrototypeOf(CheckboxContainer)).call(this,config,alias));_this.cursor=config.cursor||"pointer";_this.mouseChildren=false;_this.enableClickableBackground();_this.addEventListener("click",function(){var checkbox=_this.getChildByName("checkBox");if(!checkbox){$_log.warn("checkBox not found");}else{checkbox.checked=!checkbox.checked;_this.dispatchEvent("change");}});return _this;}
_createClass(CheckboxContainer,[{key:"checked",get:function get(){var checkbox=this.getChildByName("checkBox");if(checkbox){return checkbox.checked;}else{$_log.warn("checkBox not found");return null;}},set:function set(checked){var checkbox=this.getChildByName("checkBox");if(checkbox){checkbox.checked=checked;}else{$_log.warn("checkBox not found");}}}]);return CheckboxContainer;}(_Container3.default);exports.default=CheckboxContainer;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var Fullscreen=function(){function Fullscreen(){_classCallCheck(this,Fullscreen);}
_createClass(Fullscreen,null,[{key:"isActive",value:function isActive(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;}},{key:"activate",value:function activate(){if(document.documentElement.requestFullscreen){document.documentElement.requestFullscreen();}else if(document.documentElement.msRequestFullscreen){document.documentElement.msRequestFullscreen();}else if(document.documentElement.mozRequestFullScreen){document.documentElement.mozRequestFullScreen();}else if(document.documentElement.webkitRequestFullscreen){document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);}}},{key:"disactivate",value:function disactivate(){if(document.exitFullscreen){document.exitFullscreen();}else if(document.msExitFullscreen){document.msExitFullscreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.webkitExitFullscreen){document.webkitExitFullscreen();}}},{key:"toggle",value:function toggle(){if(!Fullscreen.isActive()){Fullscreen.activate();}else{Fullscreen.disactivate();}}}]);return Fullscreen;}();exports.default=Fullscreen;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Shape=__webpack_require__(14);var _Shape2=_interopRequireDefault(_Shape);var _Bitmap=__webpack_require__(12);var _Bitmap2=_interopRequireDefault(_Bitmap);var _Button=__webpack_require__(17);var _Button2=_interopRequireDefault(_Button);var _Text=__webpack_require__(13);var _Text2=_interopRequireDefault(_Text);var _Container2=__webpack_require__(11);var _Container3=_interopRequireDefault(_Container2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Popup=function(_Container){_inherits(Popup,_Container);_createClass(Popup,null,[{key:"NO_BUTTON",get:function get(){return 1;}},{key:"CLOSE_BUTTON",get:function get(){return 2;}},{key:"OK_BUTTON",get:function get(){return 3;}}]);function Popup(config,alias){_classCallCheck(this,Popup);var _this=_possibleConstructorReturn(this,(Popup.__proto__||Object.getPrototypeOf(Popup)).call(this));_this.config=config;var background=new _Bitmap2.default(config.backgroundImage,alias);_this.addChild(background);if(config.title){var title=new _Text2.default(config.title);title.y=config.title.top;title.x=config.title.left;_this.addChild(title);_this.title=title;}
_this.messageContainer=new _Container3.default(config.messageContainer);_this.messageContainer.top=config.messageContainer.top;_this.messageContainer.width=_this.width;_this.messageContainer.height=_this.height-config.messageContainer.top;_this.addChild(_this.messageContainer);if(config.button){var buttonContainer=new _Container3.default();var button=new _Button2.default(config.button,alias);buttonContainer.addChild(button);_this.button=button;if(config.buttonContainer.right)_this.setChildRight(buttonContainer,config.buttonContainer.right);if(config.buttonContainer.left)_this.setChildLeft(buttonContainer,config.buttonContainer.left);if(config.buttonContainer.top)_this.setChildTop(buttonContainer,config.buttonContainer.top);if(config.buttonContainer.bottom)_this.setChildBottom(buttonContainer,config.buttonContainer.bottom);if(config.buttonContainer.align)_this.setChildAlign(config.buttonContainer.align,buttonContainer);if(config.buttonContainer.verticalAlign)_this.setChildVerticalAlign(config.buttonContainer.verticalAlign,buttonContainer);_this.addChild(buttonContainer);_this.buttonContainer=buttonContainer;var buttonTextConfig={text:"Ok"};if(config.buttonText){Object.assign(buttonTextConfig,config.buttonText);}
var buttonText=new _Text2.default(buttonTextConfig);if(config.buttonText.left)buttonContainer.setChildLeft(buttonText,config.buttonText.left);if(config.buttonText.align)buttonContainer.setChildAlign(config.buttonText.align,buttonText);if(config.buttonText.verticalAlign)buttonContainer.setChildVerticalAlign(config.buttonText.verticalAlign,buttonText);buttonContainer.addChild(buttonText);}
if(config.message){var message=new _Text2.default(config.message);config.message.padding=config.message.padding||0;message.lineWidth=background.width-config.message.padding;if(config.message.top)message.top=config.message.top;if(config.message.left)_this.messageContainer.setChildLeft(message,config.message.left);if(config.message.verticalAlign)_this.messageContainer.setChildVerticalAlign(config.message.verticalAlign,message);_this.messageContainer.addChild(message);_this.setMessage(message,Popup.OK_BUTTON);}
return _this;}
_createClass(Popup,[{key:"setMessage",value:function setMessage(message,type){var footerHeight=0;if(this.button!==undefined){if(type===Popup.NO_BUTTON){this.button.visible=false;footerHeight=0;}else{this.button.visible=true;footerHeight=this.button.height;}
if(type===Popup.OK_BUTTON){}else if(type===Popup.CLOSE_BUTTON){}}
this.messageContainer.height=this.height-footerHeight-this.messageContainer.top;if(this.config.message.verticalAlign)this.messageContainer.setChildVerticalAlign(this.config.message.verticalAlign,message);this.message=message;}},{key:"show",value:function show(message,type){this.setMessage(message,type);this.visible=true;}},{key:"hide",value:function hide(){this.visible=false;}},{key:"toggleVisibility",value:function toggleVisibility(){this.visible=!this.visible;}}]);return Popup;}(_Container3.default);exports.default=Popup;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Container2=__webpack_require__(11);var _Container3=_interopRequireDefault(_Container2);var _ReelElement=__webpack_require__(24);var _ReelElement2=_interopRequireDefault(_ReelElement);var _Shape=__webpack_require__(14);var _Shape2=_interopRequireDefault(_Shape);var _ReelsAnimationsCollection=__webpack_require__(45);var _ReelsAnimationsCollection2=_interopRequireDefault(_ReelsAnimationsCollection);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Reel=function(_Container){_inherits(Reel,_Container);_createClass(Reel,null,[{key:"STATE_STOP",get:function get(){return 1;}},{key:"STATE_STARTING",get:function get(){return 2;}},{key:"STATE_RUN",get:function get(){return 3;}},{key:"STATE_STOPPING",get:function get(){return 4;}},{key:"STATE_FINISHING",get:function get(){return 5;}},{key:"STATE_NEED_FINISH",get:function get(){return 6;}},{key:"STATE_NEED_START",get:function get(){return 7;}}]);function Reel(config){_classCallCheck(this,Reel);var _this=_possibleConstructorReturn(this,(Reel.__proto__||Object.getPrototypeOf(Reel)).call(this));_this.config=config;_this.stoppedRows=0;_this.values=[];_this.elements=[];_this.state=Reel.STATE_STOP;_this.quickMode=false;_this.intrigueMode=false;_this.bigWild=null;_this._slotMachine=$_services.getService("SlotMachineService");_this.init();_this.setAnimation(_this.config.animation);return _this;}
_createClass(Reel,[{key:"getPaused",value:function getPaused(){return this._slotMachine.getPaused();}},{key:"init",value:function init(){for(var i=0;i<this.config.numOfRows;i++){var el=this.createRandomElement();el.x=0;el.y=(i-1)*(this.config.rowHeight+this.config.distanceBetweenRows);this.addChild(el);this.elements.push(el);if(i>0&&i<this.config.numOfRows-1){el.cursor="pointer";}}
this.addEventListener("tick",this.reelTick.bind(this));}},{key:"setAnimation",value:function setAnimation(){var animationType=arguments.length<=0||arguments[0]===undefined?"standard":arguments[0];if(_ReelsAnimationsCollection2.default[animationType]!==undefined){this.mainLoop=_ReelsAnimationsCollection2.default[animationType].bind(this);this.animationType=animationType;}else{this.mainLoop=_ReelsAnimationsCollection2.default.standard.bind(this);this.animationType="standard";}}},{key:"nextElement",value:function nextElement(){var newEl=void 0;var type="def";if(this.state===Reel.STATE_RUN){type="blur";}
if(this.state===Reel.STATE_STOPPING){newEl=this.createElement(this.values[this.stoppedRows],type);if(this.stoppedRows>0&&this.stoppedRows<this.elements.length){newEl.cursor="pointer";}
this.stoppedRows++;if(this.stoppedRows>this.numChildren){this.state=Reel.STATE_NEED_FINISH;this.stoppedRows=0;}}else{newEl=this.createRandomElement(type);}
return newEl;}},{key:"reelTick",value:function reelTick(event){if(this.getPaused()){return;}
this.mainLoop(event);if(this.state===Reel.STATE_RUN&&this.needBlur){for(var i=0;i<this.elements.length;i++){this.elements[i].setSymbolType("blur");}
this.needBlur=false;this.needDefaultSymbols=true;}
if(this.needDefaultSymbols&&(this.state===Reel.STATE_NEED_FINISH||this.state===Reel.STATE_FINISHING||this.state===Reel.STATE_STOP)){for(var _i=0;_i<this.elements.length;_i++){this.elements[_i].setSymbolType("def");}
this.needDefaultSymbols=false;}}},{key:"getAllowedRandomSymbol",value:function getAllowedRandomSymbol(){var imgNum=void 0,allowedSymbols=[];var gameType="spins";if($_services.getService("ProtocolService").isAvailableFreeSpins()){gameType="freespins";}
if(this.config.allowedSymbols[gameType]){allowedSymbols=this.config.allowedSymbols[gameType];}else{for(var i=0;i<this.config.numOfSymbols;i++){allowedSymbols.push(i+1);}}
var index=Math.floor(Math.random()*allowedSymbols.length);imgNum=allowedSymbols[index];return imgNum;}},{key:"createRandomElement",value:function createRandomElement(type){var imgNum=this.getAllowedRandomSymbol();return this.createElement(imgNum,type);}},{key:"createElement",value:function createElement(num){var _this2=this;var type=arguments.length<=1||arguments[1]===undefined?this.config.defaultTypeOfSymbol:arguments[1];if(this.config.symbols[num]===undefined){$_log.error("There is no symbol="+num+". Using symbol = 1");num=1;}
if(this.config.symbols[num].types.indexOf(type)<0){$_log.error("There is no type="+type+" for symbol="+num+". Using default type");type=this.config.defaultTypeOfSymbol;}
var el=new _ReelElement2.default(num,type,this.config);el.width=this.config.width;el.height=this.config.rowHeight;el.enableClickableBackground();el.addEventListener("click",function(){if(!_this2.isRunning()&&_this2.bigWild===null&&Math.round(el.y)>=0&&Math.round(el.y)+el.height<=_this2.config.height){var reverse=false;if(_this2.parent.reels.length-1===_this2.number){reverse=true;}
$_event.setEvent("showMiniPaytable",{reelElement:el,reverse:reverse});}});return el;}},{key:"setSymbol",value:function setSymbol(row,symbol,symbolType){if(!this.bigWild){this.getElement(row).setSymbol(symbol,this.config.symbols[symbol],symbolType);}}},{key:"setSymbolType",value:function setSymbolType(row,symbolType){if(!this.bigWild){this.getElement(row).setSymbolType(symbolType);}}},{key:"setSpriteSheet",value:function setSpriteSheet(spriteSheet){this.config.spriteSheet=spriteSheet;for(var element in this.elements){this.elements[element].setSpriteSheet(spriteSheet);}
if(this.bigWild){this.bigWild.spriteSheet=spriteSheet;this.bigWild.gotoAndPlay("wild_cycle");if(this.config.bigWild.scale){this.bigWild.scaleX=this.bigWild.scaleY=this.config.bigWild.scale;}}}},{key:"showStaticBigWild",value:function showStaticBigWild(row){if(!this.config.bigWild.enable){return;}
if(this.bigWild){return;}
this.bigWild=new Sprite({spriteSheet:this.config.spriteSheet},this.config.alias);this.bigWild.stop();if(this.config.bigWild.framerate){this.bigWild.framerate=this.config.bigWild.framerate;}
if(this.config.bigWild.scale&&this.parent.fullAtlasLoaded){this.bigWild.scaleX=this.bigWild.scaleY=this.config.bigWild.scale;}else{this.bigWild.scaleX=this.bigWild.scaleY=1;}
var el=this.getElement(row);el.addChild(this.bigWild);this.bigWild.y=this.getElement(1).localToLocal(0,0,el).y;for(var i=1;i<this.elements.length-1;i++){this.getElement(i).getContent().visible=false;}
for(var _i2=0;_i2<this.elements.length;_i2++){this.elements[_i2].cursor="";}
this.bigWild.gotoAndPlay("wild_cycle");}},{key:"showBigWild",value:function showBigWild(row){var _this3=this;if(!this.config.bigWild.enable){return;}
if(this.bigWild){return;}
this.bigWild=new Sprite({spriteSheet:this.config.spriteSheet},this.config.alias);this.bigWild.stop();if(this.config.bigWild.framerate){this.bigWild.framerate=this.config.bigWild.framerate;}
if(this.config.bigWild.scale&&this.parent.fullAtlasLoaded){this.bigWild.scaleX=this.bigWild.scaleY=this.config.bigWild.scale;}else{this.bigWild.scaleX=this.bigWild.scaleY=1;}
var el=this.getElement(row);el.addChild(this.bigWild);var startPosition=(el.height-this.bigWild.height)/2;if(this.config.bigWild.topCorrection!==undefined){startPosition+=this.config.bigWild.topCorrection;}
var endPosition=this.getElement(1).localToLocal(0,0,el).y;var path=endPosition-startPosition;this.bigWild.y=startPosition;createjs.Tween.get(this.bigWild).to({y:endPosition*0.8},529*0.5).to({y:endPosition*0.9},185*0.5).to({y:endPosition},153*0.5);for(var i=1;i<this.elements.length-1;i++){this.getElement(i).getContent().visible=false;}
this.bigWild.gotoAndPlay("wild_center");for(var _i3=0;_i3<this.elements.length;_i3++){this.elements[_i3].cursor="";}
return new Promise(function(resolve,reject){var endHandler=function endHandler(){if(!_this3.bigWild||_this3.bigWild.currentAnimation!=="wild_center_3"){return;}
_this3.bigWild.removeEventListener("animationend",endHandler);resolve();};_this3.bigWild.addEventListener("animationend",endHandler);});}},{key:"stop",value:function stop(values){var _this4=this;if(this.state===Reel.STATE_STARTING){return new Promise(function(resolve,reject){setInterval(function(){if(_this4.state!==Reel.STATE_STARTING){resolve();}},50);}).then(function(){return _this4._stop(values);});}else{return this._stop(values);}}},{key:"_stop",value:function _stop(values){var _this5=this;return new Promise(function(resolve,reject){var first=_this5.getAllowedRandomSymbol();var last=_this5.getAllowedRandomSymbol();values=getClone(values);values=_this5.animationType==="reverse"?values:values.reverse();_this5.values=[first].concat(_toConsumableArray(values),[last]);_this5.state=Reel.STATE_STOPPING;var detectStopInterval=setInterval(function(){if(_this5.state===Reel.STATE_STOP){if(_this5.bigWild&&_this5.bigWild.parent.parent===null){_this5.bigWild=null;}
clearInterval(detectStopInterval);$_event.setEvent("reelStopped",_this5.number);resolve();}},50);});}},{key:"start",value:function start(){this.state=Reel.STATE_NEED_START;this.needBlur=true;for(var i=0;i<this.elements.length;i++){this.elements[i].cursor="";}}},{key:"getElement",value:function getElement(i){return this.elements[i];}},{key:"isRunning",value:function isRunning(){return this.state!==Reel.STATE_STOP;}},{key:"width",set:function set(width){this.config.width=width;for(var i=0;i<this.elements.length;i++){this.elements[i].width=width;}},get:function get(){return this.config.width;}},{key:"height",get:function get(){return this.config.height;}}]);return Reel;}(_Container3.default);exports.default=Reel;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Core=__webpack_require__(25);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var ReelElement=function(_Container){_inherits(ReelElement,_Container);function ReelElement(symbolNumber,symbolType,reelConfig){_classCallCheck(this,ReelElement);var _this=_possibleConstructorReturn(this,(ReelElement.__proto__||Object.getPrototypeOf(ReelElement)).call(this));symbolType=_this.correctSymbolType(symbolType);_this.symbolNumber=symbolNumber;_this.symbolType=symbolType;_this.imageAlias=_this.getImageAlias(symbolNumber,symbolType);_this.componentAlias=reelConfig.alias;_this.configOfSymbolTypes=reelConfig.symbolTypes;_this.configOfSymbol=reelConfig.symbols[symbolNumber];_this.spriteSheet=reelConfig.spriteSheet;_this.allowedSymbolTypes=reelConfig.allowedSymbolTypes;_this._addContent();return _this;}
_createClass(ReelElement,[{key:"_addContent",value:function _addContent(){var spriteConfig={spriteSheet:this.spriteSheet};this.content=new _Core.Sprite(spriteConfig,this.componentAlias);this.content.spriteSheet=this.spriteSheet;this.content.name="content";this.applyContentConfig();this.addChild(this.content);this.content.gotoAndPlay(this.imageAlias);this.setContentToCenter();}},{key:"setSpriteSheet",value:function setSpriteSheet(spriteSheet){this.content.dispatchEvent("animationend");this.content.stop();this.spriteSheet=spriteSheet;this.content.spriteSheet=spriteSheet;this.applyContentConfig();this.content.gotoAndStop(this.imageAlias);}},{key:"getSymbolName",value:function getSymbolName(){return this.configOfSymbol.name;}},{key:"isWild",value:function isWild(){return this.getSymbolName()==="wild";}},{key:"isScatter",value:function isScatter(){return this.getSymbolName()==="scatter";}},{key:"isBonus",value:function isBonus(){return this.getSymbolName()==="bonus";}},{key:"setSymbol",value:function setSymbol(symbolNumber,configOfSymbol){var symbolType=arguments.length<=2||arguments[2]===undefined?"def":arguments[2];symbolType=this.correctSymbolType(symbolType);if(symbolNumber!==undefined&&symbolNumber!==this.symbolNumber){this.imageAlias=this.getImageAlias(symbolNumber,symbolType);this.symbolNumber=symbolNumber;this.configOfSymbol=configOfSymbol;}
this.setSymbolType(symbolType);}},{key:"correctSymbolType",value:function correctSymbolType(symbolType){if(this.allowedSymbolTypes){var currentAction=$_services.getService("ProtocolService").getCurrentAction();if(this.allowedSymbolTypes[currentAction]){symbolType=this.allowedSymbolTypes[currentAction][symbolType];}else if(this.allowedSymbolTypes["default"]){symbolType=this.allowedSymbolTypes["default"][symbolType];}}
return symbolType;}},{key:"getImageAlias",value:function getImageAlias(symbolNumber,symbolType){return symbolType+"_"+symbolNumber;}},{key:"setSymbolType",value:function setSymbolType(symbolType){symbolType=this.correctSymbolType(symbolType);this.content.stop();this.symbolType=symbolType;this.imageAlias=this.getImageAlias(this.symbolNumber,symbolType);this.content.gotoAndPlay(this.imageAlias);this.applyContentConfig();this.setContentToCenter();}},{key:"applyContentConfig",value:function applyContentConfig(){if(this.configOfSymbolTypes[this.symbolType]===undefined){this.content.scaleX=this.content.scaleY=1;return;}
if(this.configOfSymbolTypes[this.symbolType].framerate!==undefined){this.content.framerate=this.configOfSymbolTypes[this.symbolType].framerate;}
if(this.configOfSymbolTypes[this.symbolType].scale!==undefined){this.content.scaleX=this.content.scaleY=this.configOfSymbolTypes[this.symbolType].scale;}else{this.content.scaleX=this.content.scaleY=1;}}},{key:"getContent",value:function getContent(){return this.content;}},{key:"setContentToCenter",value:function setContentToCenter(){var index=this.content.spriteSheet.getAnimation("def_"+this.symbolNumber).frames[0];var rect=this.content.spriteSheet.getFrameBounds(index);var scale=this.configOfSymbolTypes["def"].scale;this.content.x=(this._width-rect.width*scale)/2-rect.x*scale;this.content.y=(this._height-rect.height*scale)/2-rect.y*scale;if(this.configOfSymbol.topCorrection){this.content.y+=this.configOfSymbol.topCorrection;}
if(this.configOfSymbol.leftCorrection){this.content.x+=this.configOfSymbol.leftCorrection;}}},{key:"width",set:function set(width){this._width=width;this.setContentToCenter();},get:function get(){return this._width;}},{key:"height",set:function set(height){this._height=height;this.setContentToCenter();},get:function get(){return this._height;}}]);return ReelElement;}(_Core.Container);exports.default=ReelElement;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Switcher=exports.BitmapText=exports.Input=exports.Swiper=exports.Slider=exports.Label=exports.View=exports.Text=exports.Stage=exports.SpriteSheet=exports.Sprite=exports.SlotMachine=exports.Scroller=exports.Scrollable=exports.RichText=exports.ReelElement=exports.Reel=exports.ProtonEmitter=exports.Popup=exports.LineCarribeanManager=exports.LineCarribean=exports.Fullscreen=exports.Container=exports.CheckboxContainer=exports.Checkbox=exports.Button=exports.BetSelector=exports.Shape=exports.Bitmap=undefined;var _Bitmap=__webpack_require__(12);var _Bitmap2=_interopRequireDefault(_Bitmap);var _Shape=__webpack_require__(14);var _Shape2=_interopRequireDefault(_Shape);var _BetSelectorEs=__webpack_require__(9);var _BetSelectorEs2=_interopRequireDefault(_BetSelectorEs);var _ButtonEs=__webpack_require__(17);var _ButtonEs2=_interopRequireDefault(_ButtonEs);var _CheckboxEs=__webpack_require__(19);var _CheckboxEs2=_interopRequireDefault(_CheckboxEs);var _CheckboxContainerEs=__webpack_require__(20);var _CheckboxContainerEs2=_interopRequireDefault(_CheckboxContainerEs);var _ContainerEs=__webpack_require__(11);var _ContainerEs2=_interopRequireDefault(_ContainerEs);var _FullscreenEs=__webpack_require__(21);var _FullscreenEs2=_interopRequireDefault(_FullscreenEs);var _LineCarribeanEs=__webpack_require__(26);var _LineCarribeanEs2=_interopRequireDefault(_LineCarribeanEs);var _LineCarribeanManagerEs=__webpack_require__(28);var _LineCarribeanManagerEs2=_interopRequireDefault(_LineCarribeanManagerEs);var _PopupEs=__webpack_require__(22);var _PopupEs2=_interopRequireDefault(_PopupEs);var _ProtonEmitter=__webpack_require__(29);var _ProtonEmitter2=_interopRequireDefault(_ProtonEmitter);var _ReelEs=__webpack_require__(23);var _ReelEs2=_interopRequireDefault(_ReelEs);var _ReelElementEs=__webpack_require__(24);var _ReelElementEs2=_interopRequireDefault(_ReelElementEs);var _RichTextEs=__webpack_require__(30);var _RichTextEs2=_interopRequireDefault(_RichTextEs);var _ScrollableEs=__webpack_require__(10);var _ScrollableEs2=_interopRequireDefault(_ScrollableEs);var _ScrollerEs=__webpack_require__(31);var _ScrollerEs2=_interopRequireDefault(_ScrollerEs);var _SlotMachineEs=__webpack_require__(33);var _SlotMachineEs2=_interopRequireDefault(_SlotMachineEs);var _SpriteEs=__webpack_require__(18);var _SpriteEs2=_interopRequireDefault(_SpriteEs);var _SpriteSheetEs=__webpack_require__(16);var _SpriteSheetEs2=_interopRequireDefault(_SpriteSheetEs);var _StageEs=__webpack_require__(38);var _StageEs2=_interopRequireDefault(_StageEs);var _TextEs=__webpack_require__(13);var _TextEs2=_interopRequireDefault(_TextEs);var _ViewEs=__webpack_require__(39);var _ViewEs2=_interopRequireDefault(_ViewEs);var _LabelEs=__webpack_require__(27);var _LabelEs2=_interopRequireDefault(_LabelEs);var _SliderEs=__webpack_require__(40);var _SliderEs2=_interopRequireDefault(_SliderEs);var _SwiperEs=__webpack_require__(41);var _SwiperEs2=_interopRequireDefault(_SwiperEs);var _InputEs=__webpack_require__(42);var _InputEs2=_interopRequireDefault(_InputEs);var _BitmapText=__webpack_require__(15);var _BitmapText2=_interopRequireDefault(_BitmapText);var _Switcher=__webpack_require__(44);var _Switcher2=_interopRequireDefault(_Switcher);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
exports.Bitmap=_Bitmap2.default;exports.Shape=_Shape2.default;exports.BetSelector=_BetSelectorEs2.default;exports.Button=_ButtonEs2.default;exports.Checkbox=_CheckboxEs2.default;exports.CheckboxContainer=_CheckboxContainerEs2.default;exports.Container=_ContainerEs2.default;exports.Fullscreen=_FullscreenEs2.default;exports.LineCarribean=_LineCarribeanEs2.default;exports.LineCarribeanManager=_LineCarribeanManagerEs2.default;exports.Popup=_PopupEs2.default;exports.ProtonEmitter=_ProtonEmitter2.default;exports.Reel=_ReelEs2.default;exports.ReelElement=_ReelElementEs2.default;exports.RichText=_RichTextEs2.default;exports.Scrollable=_ScrollableEs2.default;exports.Scroller=_ScrollerEs2.default;exports.SlotMachine=_SlotMachineEs2.default;exports.Sprite=_SpriteEs2.default;exports.SpriteSheet=_SpriteSheetEs2.default;exports.Stage=_StageEs2.default;exports.Text=_TextEs2.default;exports.View=_ViewEs2.default;exports.Label=_LabelEs2.default;exports.Slider=_SliderEs2.default;exports.Swiper=_SwiperEs2.default;exports.Input=_InputEs2.default;exports.BitmapText=_BitmapText2.default;exports.Switcher=_Switcher2.default;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Container2=__webpack_require__(11);var _Container3=_interopRequireDefault(_Container2);var _Label=__webpack_require__(27);var _Label2=_interopRequireDefault(_Label);var _Bitmap=__webpack_require__(12);var _Bitmap2=_interopRequireDefault(_Bitmap);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var LineCarribean=function(_Container){_inherits(LineCarribean,_Container);function LineCarribean(config,alias){_classCallCheck(this,LineCarribean);var _this=_possibleConstructorReturn(this,(LineCarribean.__proto__||Object.getPrototypeOf(LineCarribean)).call(this,config));_this.config=config;_this.alias=alias;_this.x=0;_this.y=0;_this._disabled=false;_this.disabledMouseLabels=false;return _this;}
_createClass(LineCarribean,[{key:"init",value:function init(){this.config.backgroundTop=this.config.backgroundTop||0;var lineBitmap=new _Bitmap2.default(this.config.background,this.alias);lineBitmap.y=this.config.labelTop-this.config.backgroundTop;if(this.config.backgroundTopAbsolute!==undefined){var pt=this.globalToLocal(0,this.config.backgroundTopAbsolute);lineBitmap.y=pt.y;}
if(this.config.backgroundLeftAbsolute!==undefined){var _pt=this.globalToLocal(this.config.backgroundLeftAbsolute,0);lineBitmap.x=_pt.x;}
if(this.config.backgroundRightAbsolute!==undefined){var _pt2=this.globalToLocal(this.config.backgroundRightAbsolute,0);lineBitmap.x=_pt2.x-lineBitmap.width;}
this.addChild(lineBitmap);this.background=lineBitmap;if(this.config.background.scaleX)lineBitmap.scaleX=this.config.background.scaleX;if(this.config.background.scaleY)lineBitmap.scaleY=this.config.background.scaleY;if(this.config.background.width)this.setChildWidth(lineBitmap,this.config.background.width);if(this.config.background.height)this.setChildHeight(lineBitmap,this.config.background.height);if(this.config.labels){if(this.config.labels.left){this.leftLabel=this.createLabel(this.config.labels.left,this.alias);if(this.config.leftLabelTopAbsolute!==undefined){this.leftLabel.y=this.globalToLocal(0,this.config.leftLabelTopAbsolute).y;}else{this.leftLabel.y=this.config.labelTop;}}
if(this.config.labels.right){this.rightLabel=this.createLabel(this.config.labels.right,this.alias);if(this.config.rightLabelTopAbsolute!==undefined){this.rightLabel.y=this.globalToLocal(0,this.config.rightLabelTopAbsolute).y;}else{this.rightLabel.y=this.config.labelTop;}}}}},{key:"createLabel",value:function createLabel(config,alias){var label=new _Label2.default(config,alias);this.addChild(label);if(config.align!==undefined){this.setChildAlign(config.align,label);}
if(config.leftAbsolute!==undefined){label.x=this.globalToLocal(config.leftAbsolute,0).x;}
label.text=this.config.lineName;return label;}},{key:"showStandardLabel",value:function showStandardLabel(){if(this._disabled){if(this.leftLabel){this.leftLabel.showOff();}
if(this.rightLabel){this.rightLabel.showOff();}}else{if(this.leftLabel){this.leftLabel.showOn();}
if(this.rightLabel){this.rightLabel.showOn();}}}},{key:"showOverLabel",value:function showOverLabel(){if(this._disabled){if(this.leftLabel){this.leftLabel.showOverOff();}
if(this.rightLabel){this.rightLabel.showOverOff();}}else{if(this.leftLabel){this.leftLabel.showOverOn();}
if(this.rightLabel){this.rightLabel.showOverOn();}}}},{key:"showWinLabel",value:function showWinLabel(){if(this.leftLabel){this.leftLabel.showWin();}
if(this.rightLabel){this.rightLabel.showWin();}}},{key:"showLine",value:function showLine(){this.background.visible=true;}},{key:"hideLine",value:function hideLine(){this.background.visible=false;}},{key:"fadeLine",value:function fadeLine(){var _this2=this;return new Promise(function(resolve,reject){createjs.Tween.get(_this2.background,{ignoreGlobalPause:true}).to({alpha:0,visible:false},300).call(function(){_this2.background.visible=false;_this2.background.alpha=1;resolve();});});}},{key:"enableMouseOverForLabels",value:function enableMouseOverForLabels(){this.disabledMouseLabels=false;if(this.rightLabel){this.rightLabel.cursor="pointer";}
if(this.leftLabel){this.leftLabel.cursor="pointer";}}},{key:"disableMouseOverForLabels",value:function disableMouseOverForLabels(){this.disabledMouseLabels=true;if(this.rightLabel){this.rightLabel.cursor=null;}
if(this.leftLabel){this.leftLabel.cursor=null;}}},{key:"disabled",set:function set(bool){this._disabled=!!bool;this.showStandardLabel();},get:function get(){return this._disabled;}}]);return LineCarribean;}(_Container3.default);exports.default=LineCarribean;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Container2=__webpack_require__(11);var _Container3=_interopRequireDefault(_Container2);var _Bitmap=__webpack_require__(12);var _Bitmap2=_interopRequireDefault(_Bitmap);var _Shape=__webpack_require__(14);var _Shape2=_interopRequireDefault(_Shape);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Label=function(_Container){_inherits(Label,_Container);function Label(config,alias){_classCallCheck(this,Label);var _this=_possibleConstructorReturn(this,(Label.__proto__||Object.getPrototypeOf(Label)).call(this,config));var _config$text=config.text;var text=_config$text===undefined?"":_config$text;var _config$color=config.color;var color=_config$color===undefined?"#000":_config$color;var _config$textAlign=config.textAlign;var textAlign=_config$textAlign===undefined?"center":_config$textAlign;var _config$textBaseline=config.textBaseline;var textBaseline=_config$textBaseline===undefined?"middle":_config$textBaseline;var _config$fontStyle=config.fontStyle;var fontStyle=_config$fontStyle===undefined?"":_config$fontStyle;var _config$fontSize=config.fontSize;var fontSize=_config$fontSize===undefined?10:_config$fontSize;var _config$backgroundX=config.backgroundX;var backgroundX=_config$backgroundX===undefined?0:_config$backgroundX;var _config$backgroundY=config.backgroundY;var backgroundY=_config$backgroundY===undefined?0:_config$backgroundY;var backgroundImage=config.backgroundImage;var _config$fontFamily=config.fontFamily;var fontFamily=_config$fontFamily===undefined?"Arial":_config$fontFamily;if(backgroundImage){_this.bgOn=new _Bitmap2.default({src:backgroundImage.on},alias);_this.addChild(_this.bgOn);if(backgroundImage.on){_this.bgOff=new _Bitmap2.default({src:backgroundImage.off},alias);}else{_this.bgOff=_this.bgOn;}
_this.bgOff.visible=false;_this.addChild(_this.bgOff);if(backgroundImage.over_on){_this.bgOverOn=new _Bitmap2.default({src:backgroundImage.over_on},alias);}else{_this.bgOverOn=_this.bgOn;}
if(backgroundImage.over_off){_this.bgOverOff=new _Bitmap2.default({src:backgroundImage.over_off},alias);}else{_this.bgOverOff=_this.bgOverOn;}
_this.bgOverOff.visible=false;_this.addChild(_this.bgOverOff);_this.bgOverOn.visible=false;_this.addChild(_this.bgOverOn);if(backgroundImage.win){_this.bgWin=new _Bitmap2.default({src:backgroundImage.win},alias);_this.bgWin.visible=false;_this.addChild(_this.bgWin);}}
var font=void 0;if(config.font===undefined){font=fontStyle+" "+fontSize+" "+fontFamily;}else{font=config.font;}
var stroke=new Text();stroke.textAlign=textAlign;stroke.textBaseline=textBaseline;stroke.text=text;stroke.font=font;stroke.color=color;stroke.outline=4;stroke.visible=false;stroke.x=_this.bgOff.width/2;stroke.y=_this.bgOff.height/2;_this._stroke=stroke;_this.addChild(stroke);var textElement=new Text();textElement.textAlign=textAlign;textElement.textBaseline=textBaseline;textElement.text=text;textElement.font=font;textElement.color="#FFF";textElement.visible=false;textElement.x=_this.bgOff.width/2;textElement.y=_this.bgOff.height/2;_this._textElement=textElement;_this.addChild(textElement);_this.bgOverOff.regX=_this.bgOverOff.width/2;_this.bgOverOff.regY=_this.bgOverOff.height/2;_this.bgOverOff.x=_this.bgOff.width/2;_this.bgOverOff.y=_this.bgOff.height/2;_this.bgOverOn.regX=_this.bgOverOn.width/2;_this.bgOverOn.regY=_this.bgOverOn.height/2;_this.bgOverOn.x=_this.bgOn.width/2;_this.bgOverOn.y=_this.bgOn.height/2;if(_this.bgWin){_this.bgWin.regX=_this.bgWin.width/2;_this.bgWin.regY=_this.bgWin.height/2;_this.bgWin.x=_this.bgOn.width/2;_this.bgWin.y=_this.bgOn.height/2;}
return _this;}
_createClass(Label,[{key:"showText",value:function showText(){this._textElement.visible=true;this._stroke.visible=true;}},{key:"hideText",value:function hideText(){this._textElement.visible=false;this._stroke.visible=false;}},{key:"_showBigLabel",value:function _showBigLabel(target){var _this2=this;this._currentBig=target;target.scaleX=target.scaleY=0;target.rotation=0;target.visible=true;createjs.Tween.get(target,{override:true}).to({scaleX:1,scaleY:1,rotation:-135},200).call(function(){_this2.showText();_this2.stage.requestUpdate();});}},{key:"_hideBigLabel",value:function _hideBigLabel(){var _this3=this;this.hideText();if(!this._currentBig){return;}
createjs.Tween.get(this._currentBig,{override:true}).to({scaleX:0,scaleY:0,rotation:0},100).call(function(){_this3._currentBig.visible=false;_this3.hideText();_this3.stage.requestUpdate();delete _this3._currentBig;});if(this.bgWin){createjs.Tween.get(this.bgWin,{override:true}).to({scaleX:0,scaleY:0,rotation:-45,visible:false},100);}}},{key:"showOn",value:function showOn(){this._hideBigLabel();this.bgOff.visible=false;this.bgOn.visible=true;}},{key:"showOff",value:function showOff(){this._hideBigLabel();this.bgOff.visible=true;this.bgOn.visible=false;}},{key:"showOverOn",value:function showOverOn(){this._showBigLabel(this.bgOverOn);}},{key:"showOverOff",value:function showOverOff(){this._showBigLabel(this.bgOverOff);}},{key:"showWin",value:function showWin(){this.showOverOn();if(this.bgWin){this.bgWin.rotation=-45;createjs.Tween.get(this.bgWin,{override:true}).to({visible:true},0).to({scaleX:1,scaleY:1,rotation:-180},200);}}},{key:"text",set:function set(value){this._textElement.text=value;this._stroke.text=value;},get:function get(){return this._textElement.text;}},{key:"color",set:function set(value){this._textElement.color=value;},get:function get(){return this._textElement.color;}},{key:"font",set:function set(value){this._textElement.font=value;},get:function get(){return this._textElement.font;}},{key:"textAlign",set:function set(value){this._textElement.textAlign=value;},get:function get(){return this._textElement.textAlign;}}]);return Label;}(_Container3.default);exports.default=Label;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Container2=__webpack_require__(11);var _Container3=_interopRequireDefault(_Container2);var _LineCarribean=__webpack_require__(26);var _LineCarribean2=_interopRequireDefault(_LineCarribean);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var LineCarribeanManager=function(_Container){_inherits(LineCarribeanManager,_Container);function LineCarribeanManager(config,alias){_classCallCheck(this,LineCarribeanManager);var _this=_possibleConstructorReturn(this,(LineCarribeanManager.__proto__||Object.getPrototypeOf(LineCarribeanManager)).call(this,config));_this.lines=[];config.defaultLine=config.defaultLine||{};config.defaultLeftLine=config.defaultLeftLine||{};config.defaultRightLine=config.defaultRightLine||{};config.defaultDoubleLine=config.defaultDoubleLine||{};var row=[];for(var lineName in config.lines){var lineRow=config.lines[lineName].start.row;var linePosition=config.lines[lineName].start.position;if(row[lineRow]===undefined){row[lineRow]=[];}
if(row[lineRow][linePosition]===undefined){row[lineRow][linePosition]=[];}
row[lineRow][linePosition].push(lineName);}
var rowHeight=_this.height/(row.length-1);for(var _lineName in config.lines){var lineConfig=void 0;if(config.lines[_lineName].type==="left"){lineConfig=Object.assign({},config.defaultLine,config.defaultLeftLine,config.lines[_lineName]);}else if(config.lines[_lineName].type==="right"){lineConfig=Object.assign({},config.defaultLine,config.defaultRightLine,config.lines[_lineName]);}else if(config.lines[_lineName].type==="double"){lineConfig=Object.assign({},config.defaultLine,config.defaultDoubleLine,config.lines[_lineName]);}
lineConfig.background.src=config.imageAlias+"_"+_lineName;var _lineRow=config.lines[_lineName].start.row;var _linePosition=config.lines[_lineName].start.position;var rowPadding=config.rowPadding;lineConfig.labelTop=rowHeight*(_lineRow-1)+((rowHeight-rowPadding*2)/(row[_lineRow].length-1)*(_linePosition-1)+rowPadding);lineConfig.lineName=_lineName;var line=new _LineCarribean2.default(lineConfig,alias);line.name=_lineName;_this.addChild(line);line.init();_this.lines.push(line);}
if(config.debug){for(var i=0;i<_this.lines.length;i++){if(_this.lines[i].name==config.debug){_this.lines[i].visible=true;_this.lines[i].alpha=1;}else{_this.lines[i].visible=false;_this.lines[i].alpha=0;}}}
return _this;}
_createClass(LineCarribeanManager,[{key:"fadeLines",value:function fadeLines(){var promises=[];for(var i=0;i<this.lines.length;i++){promises.push(this.lines[i].fadeLine());this.lines[i].showStandardLabel();}
return Promise.all(promises);}},{key:"showLine",value:function showLine(lineNum){this.lines[lineNum-1].showLine();}},{key:"showWinLine",value:function showWinLine(lineNum){this.lines[lineNum-1].showLine();this.lines[lineNum-1].showWinLabel();}},{key:"hideLine",value:function hideLine(lineNum){try{this.lines[lineNum-1].hideLine();this.lines[lineNum-1].showStandardLabel();}catch(e){$_log.error(e,lineNum);}}},{key:"hideAllLines",value:function hideAllLines(){for(var i=0;i<this.lines.length;i++){this.lines[i].hideLine();this.lines[i].showStandardLabel();}}},{key:"disableMouseOverForLabels",value:function disableMouseOverForLabels(){for(var i=0;i<this.lines.length;i++){this.lines[i].disableMouseOverForLabels();}}},{key:"enableMouseOverForLabels",value:function enableMouseOverForLabels(){for(var i=0;i<this.lines.length;i++){this.lines[i].enableMouseOverForLabels();}}}]);return LineCarribeanManager;}(_Container3.default);exports.default=LineCarribeanManager;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Container2=__webpack_require__(11);var _Container3=_interopRequireDefault(_Container2);var _Sprite=__webpack_require__(18);var _Sprite2=_interopRequireDefault(_Sprite);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var ProtonEmitter=function(_Container){_inherits(ProtonEmitter,_Container);function ProtonEmitter(config,alias){_classCallCheck(this,ProtonEmitter);var _this=_possibleConstructorReturn(this,(ProtonEmitter.__proto__||Object.getPrototypeOf(ProtonEmitter)).call(this,config,alias));_this.emitterModel={"initializes":[{"Mass":["massPan"]},{"ImageTarget":["w","h"]},{"Life":["lifePan"]},{"Velocity":["rPan","thaPan","type"]}],"behaviours":[{"Alpha":["id","age","energy","dead","same","a","b"]},{"Attraction":["energy","dead","targetPosition","radius","force","radiusSq","attractionForce","lengthSq"]},{"Gravity":["force"]},{"RandomDrift":["id","age","energy","dead","panFoce","delay","time"]},{"Rotate":["a","b"]},{"Scale":["a","b"]}],"rate":{"Rate":["numPan","timePan"]}};_this._proton=_this._initProton();if(!(config.target instanceof _Sprite2.default)){if(config.targetConfig){config.target=new _Sprite2.default(config.targetConfig,alias);if(config.targetConfig.regX)config.target.regX=config.targetConfig.regX;if(config.targetConfig.regY)config.target.regY=config.targetConfig.regY;}else{$_log.error("Target not found for ProtonEmiitter. Component = "+alias);}}
_this._emitter=_this._initEmitter(config.target);var keys=Object.keys(_this.emitterModel);for(var i=0,l=keys.length;i<l;i++){_this._importModule(config.emitterConfig[keys[i]],keys[i]);}
_this._renderer=new Proton.Renderer('easel',_this._proton,_this);_this.addEventListener("added",function(){try{_this._renderer.start();_this._proton.addEmitter(_this._emitter);_this._tickHandler=_this._protonTickHandler.bind(_this);createjs.Ticker.addEventListener("tick",_this._tickHandler);}catch(e){$_log.error(e);}});_this.addEventListener("removed",function(){try{_this._emitter.stopEmit();_this._renderer.stop();_this._proton.removeEmitter(_this._emitter);createjs.Ticker.removeEventListener("tick",_this._tickHandler);}catch(e){$_log.error(e);}});return _this;}
_createClass(ProtonEmitter,[{key:"_protonTickHandler",value:function _protonTickHandler(event){if($_view_canvas._freezeTicker){return;}
this._proton.update();}},{key:"_initProton",value:function _initProton(){var proton=new Proton();return proton;}},{key:"addGravityBehaviour",value:function addGravityBehaviour(num){this._gravityBehavour=new Proton.Gravity(num);this._emitter.addBehaviour(this._gravityBehavour);}},{key:"removeGravityBehaviour",value:function removeGravityBehaviour(){if(this._gravityBehavour){this._emitter.removeBehaviour(this._gravityBehavour);delete this._gravityBehavour;}}},{key:"_initEmitter",value:function _initEmitter(target){var emitter=new Proton.Emitter();emitter.rate=new Proton.Rate(new Proton.Span(100,1000),new Proton.Span(0.01,0.1));emitter.addInitialize(new Proton.Mass(0));emitter.addInitialize(new Proton.ImageTarget(target));emitter.addInitialize(new Proton.Life(0,0));emitter.addInitialize(new Proton.Velocity(new Proton.Span(1,4),new Proton.Span(-360,360),'polar'));emitter.addBehaviour(new Proton.Alpha(1,1));emitter.addBehaviour(new Proton.Gravity(0));emitter.addBehaviour(new Proton.RandomDrift(0,0,0.00));emitter.addBehaviour(new Proton.Rotate(Proton.getSpan(0,0),Proton.getSpan(0,0),'add'));emitter.addBehaviour(new Proton.Scale(new Proton.Span(1,1),new Proton.Span(1,1)));return emitter;}},{key:"_importModule",value:function _importModule(list,type){var key;for(key in list){var object=this._findClassInArray(type,key);if(object==null){new Error("Not found Class in emitter",type,key);}
var model=this._findModel(type,key);this._setupProperties(object,model,list[key]);}}},{key:"_findClassInArray",value:function _findClassInArray(type,className){var list=this._emitter[type];if(this.emitterModel[type]instanceof Array){var instance=Proton[className];for(var i=0,l=list.length;i<l;i++){if(list[i]instanceof instance){return list[i];}}}else{return list;}
return null;}},{key:"_findModel",value:function _findModel(type,nameClass){var _typeModels=this.emitterModel[type];if(_typeModels instanceof Array){for(var i=0,l=_typeModels.length;i<l;i++){var el=_typeModels[i];if(Object.keys(el).indexOf(nameClass)!=-1){return el[nameClass];}}
return null;}
if(_typeModels instanceof Object){return _typeModels[nameClass];}}},{key:"_setupProperties",value:function _setupProperties(object,model,properties){for(var i=0,l=model.length;i<l;i++){try{if(_typeof(properties[model[i]])=="object"){for(var key in properties[model[i]]){object[model[i]][key]=properties[model[i]][key];}}else{object[model[i]]=properties[model[i]];}}catch(e){console.error(e);break;}}}},{key:"stop",value:function stop(){}},{key:"start",value:function start(){}},{key:"gravity",set:function set(gravity){this.removeGravityBehaviour();this.addGravityBehaviour(gravity);}},{key:"protonRenderer",get:function get(){return this._renderer;}},{key:"emitter",get:function get(){return this._emitter;}}]);return ProtonEmitter;}(_Container3.default);exports.default=ProtonEmitter;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Container=__webpack_require__(11);var _Container2=_interopRequireDefault(_Container);var _Text2=__webpack_require__(13);var _Text3=_interopRequireDefault(_Text2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var RichText=function(_Text){_inherits(RichText,_Text);function RichText(config,alias){_classCallCheck(this,RichText);var _this=_possibleConstructorReturn(this,(RichText.__proto__||Object.getPrototypeOf(RichText)).call(this,config,alias));var textConfig=$_t.get(config.text);if(textConfig instanceof Object){var keys=Object.keys(textConfig);for(var i=0,l=keys.length;i<l;i++){var name=keys[i];config[name]=textConfig[name];}}else{config.text=textConfig;}
_this._componentAlias=alias;_this.setConfigs(config.configs);return _this;}
_createClass(RichText,[{key:"setConfigs",value:function setConfigs(_configs){var _this2=this;var numOfTexts=this.text.split("|").length;var defaultConfig=Object.assign({},{font:"bold 20px Arial",color:"#FFFFFF"},_configs?_configs[0]:{});var configs=[];for(var i=0;i<numOfTexts;i++){configs[i]=Object.assign({},defaultConfig);}
var assignConfig=function assignConfig(key,c){if(key<0||key>=numOfTexts){$_log.error("not correct key "+key+" for RichText "+_this2.text+" in component "+_this2._componentAlias);}
configs[key]=Object.assign({},configs[key],c.config);};for(var _i=1;_i<_configs.length;_i++){var c=_configs[_i];if(c.keys===undefined){continue;}
if(Array.isArray(c.keys)){for(var j=0;j<c.keys.length;j++){var key=Number(c.keys[j]);assignConfig(key,c);}}else if(typeof c.keys==="string"){var _key2=Number(c.keys);assignConfig(_key2,c);}else if(typeof c.keys==="number"){var _key3=c.keys;assignConfig(_key3,c);}}
this.configs=configs;}},{key:"_drawText",value:function _drawText(ctx,o,lines){var paint=!!ctx;if(!paint){ctx=_Text3.default._workingContext;ctx.save();this._prepContext(ctx);}
var key=0;var lineHeight=this.lineHeight||this.getMeasuredLineHeight();var maxW=0,count=0;var hardLines=String(this.text).split(/(?:\r\n|\r|\n)/);var strLines=[];for(var i=0,l=hardLines.length;i<l;i++){var str=hardLines[i];var w=null;if(this.lineWidth!=null&&(w=ctx.measureText(str).width)>this.lineWidth){var words=str.split(/(\s)/);str=words[0];w=ctx.measureText(str).width;for(var j=1,jl=words.length;j<jl;j+=2){var wordW=ctx.measureText(words[j]+words[j+1]).width;if(w+wordW>this.lineWidth){strLines.push(str);if(w>maxW){maxW=w;}
str=words[j+1];w=ctx.measureText(str).width;}else{str+=words[j]+words[j+1];w+=wordW;}}
strLines.push(str);str="";for(var line in strLines){if(line!==strLines.length-1){str+=strLines[line]+"\r\n";}else{str+=strLines[line];}}}else{strLines.push(str);}}
for(var i=0,l=strLines.length;i<l;i++){var str=strLines[i];var w=null;var strs=str.split("|");if(strs.length>0){var positions=[];positions[0]=0;var _key=key;ctx.save();for(var s=1;s<strs.length;s++){positions[s]=ctx.measureText(strs[s-1]).width+positions[s-1];if(s!==0)key++;this.applyConfig(ctx,this.configs[key]);}
var lineWidth=positions[strs.length-1]+ctx.measureText(strs[strs.length-1]).width;key=_key;ctx.restore();if(this.textAlign==="center"){for(var _s=0;_s<strs.length;_s++){positions[_s]-=lineWidth/2;}}
for(var _s2=0;_s2<strs.length;_s2++){ctx.save();if(_s2!==0)key++;this.applyConfig(ctx,this.configs[key]);var outlineOffset=this.configs[key].stroke?this.configs[key].stroke.outline/2:0;if(this.configs[key].stroke){ctx.save();this.applyConfig(ctx,this.configs[key].stroke);this.outline=this.configs[key].stroke.outline+1;this.strokeOffsetX=this.configs[key].stroke.offsetX;this.strokeOffsetY=this.configs[key].stroke.offsetY;if(paint){this._drawTextLine(ctx,strs[_s2],(count+0)*lineHeight-outlineOffset,positions[_s2]);}
delete this.strokeOffsetX;delete this.strokeOffsetY;delete this.outline;ctx.restore();}
if(paint){this._drawTextLine(ctx,strs[_s2],(count+0)*lineHeight-outlineOffset,positions[_s2]);}
ctx.restore();}}else{if(paint){this._drawTextLine(ctx,str,count*lineHeight);}
if(lines){lines.push(str);}
if(o&&w==null){w=ctx.measureText(str).width;}
if(w>maxW){maxW=w;}}
count++;}
if(o){o.width=maxW;o.height=count*lineHeight;}
if(!paint){ctx.restore();}
return o;}},{key:"applyConfig",value:function applyConfig(ctx,config){if(config.font){this.font=config.font;ctx.font=config.font;}
ctx.textAlign="left";ctx.textBaseline="alphabetic";ctx.fillStyle=config.color;ctx.globalAlpha=config.alpha!==undefined?config.alpha:1;if(config.color!==undefined)ctx.strokeStyle=config.color;if(config.outline!==undefined)ctx.lineWidth=config.outline*1;if(config.miterLimit!==undefined)ctx.miterLimit=config.miterLimit;ctx.lineJoin=config.lineJoin||"round";ctx.globalAlpha=config.alpha!==undefined?config.alpha:1;}}]);return RichText;}(_Text3.default);exports.default=RichText;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};var _Container2=__webpack_require__(11);var _Container3=_interopRequireDefault(_Container2);var _ScrollerZynga=__webpack_require__(32);var _ScrollerZynga2=_interopRequireDefault(_ScrollerZynga);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var heightScale=1.03;var Scroller=function(_Container){_inherits(Scroller,_Container);function Scroller(config,alias){_classCallCheck(this,Scroller);var _this=_possibleConstructorReturn(this,(Scroller.__proto__||Object.getPrototypeOf(Scroller)).call(this,config));_this._scrollContainer=new _Container3.default();_this._scrollContainer.name="scrollContainer";_this.enableClickableBackground();_this.enableOverflowHidden();_get(Scroller.prototype.__proto__||Object.getPrototypeOf(Scroller.prototype),"addChild",_this).call(_this,_this._scrollContainer);_this.setChildWidth(_this._scrollContainer,"100%");_this.disabled=false;_this._scroller=new _ScrollerZynga2.default(_this._render.bind(_this),{zooming:false,scrollingX:config.scrollingX===undefined?true:config.scrollingX,scrollingY:config.scrollingY===undefined?true:config.scrollingY});_this._scrollingX=config.scrollingX;_this._scrollingY=config.scrollingY;_this._scroller.setPosition(_this.x,_this.y);_this._scroller.setDimensions(_this.width,_this.height,_this._scrollContainer.width,_this._scrollContainer.height*heightScale);_this.addEventListener("mousedown",function(e){if(_this.disabled){return;}
var touches=[{pageX:e.stageX,pageY:e.stageY}];_this._scroller.doTouchStart(touches,e.timeStamp);e.preventDefault();},false);_this.addEventListener("pressmove",function(e){if(_this.disabled){return;}
var touches=[{pageX:e.stageX,pageY:e.stageY}];_this._scroller.doTouchMove(touches,e.timeStamp,1);},false);_this.addEventListener("pressup",function(e){if(_this.disabled){return;}
_this._scroller.doTouchEnd(e.timeStamp);},false);if(config.scrollbar){if(config.scrollbar.backgroundImage){var offsetY=config.scrollbar.offsetY||0;var offsetX=config.scrollbar.offsetX||0;_this._scrollBarOffsetX=offsetX;_this._scrollbarBackground=new Bitmap(config.scrollbar.backgroundImage,alias);_this._scrollbarBackground.name="scrollBarBackground";_get(Scroller.prototype.__proto__||Object.getPrototypeOf(Scroller.prototype),"addChild",_this).call(_this,_this._scrollbarBackground);_this.setChildRight(_this._scrollbarBackground,offsetX);_this._scrollbarBackground.y=offsetY;_this._scrollbarBackground.height=_this.height-_this._scrollbarBackground.y;_this._scrollbarBackground.width=config.scrollbar.backgroundWidth||20;_this._scrollbar=new Bitmap(config.scrollbar.barImage,alias);_this._scrollbar.name="scrollBar";_get(Scroller.prototype.__proto__||Object.getPrototypeOf(Scroller.prototype),"addChild",_this).call(_this,_this._scrollbar);_this.setChildHeight(_this._scrollbar,_this._scrollbar.height/_this._scrollbarBackground.height*100+"%");_this._scrollbarBackground.width=config.scrollbar.barWidth||14;_this.setChildRight(_this._scrollbar,offsetX+(_this._scrollbarBackground.width-_this._scrollbar.width)/2);}}
return _this;}
_createClass(Scroller,[{key:"enableScrolling",value:function enableScrolling(){this.disabled=false;this._scroller.scrollingX=this._scrollingX;this._scroller.scrollingY=this._scrollingY;this.enableClickableBackground();if(this._scrollbarBackground){this._scrollbarBackground.visible=true;this._scrollbar.visible=true;}
this._scroller.setDimensions(this.width,this.height,this._scrollContainer.width,this._scrollContainer.height*heightScale);}},{key:"updateDimensions",value:function updateDimensions(){if(this._scroller){this._scroller.setDimensions(this.width,this.height,this._scrollContainer.width,this._scrollContainer.height*heightScale);}
if(this._scrollbarBackground){var height=this.height/(this._scrollContainer.height*heightScale);if(height>1){this.disableScrolling();}else{this.enableScrolling();}
this._scrollbarBackground.height=this.height-this._scrollbarBackground.y;this._scrollbar.height=this._scrollbarBackground.height*height;this.setChildRight(this._scrollbarBackground,this._scrollBarOffsetX);this.setChildRight(this._scrollbar,this._scrollBarOffsetX+(this._scrollbarBackground.width-this._scrollbar.width)/2);}}},{key:"disableScrolling",value:function disableScrolling(){this._scroller.scrollingX=false;this._scroller.scrollingY=false;this.disabled=true;this.disableClickableBackground();if(this._scrollbarBackground){this._scrollbarBackground.visible=false;this._scrollbar.visible=false;}}},{key:"_render",value:function _render(left,top,zoom){this._scrollContainer.x=-left;this._scrollContainer.y=-top;if(this._scrollbarBackground){var topPercent=top/(this._scrollContainer.height*heightScale);var topMax=1-this._scrollbar.height/this._scrollbarBackground.height;topPercent=Math.min(topMax,Math.max(0,topPercent));this._scrollbar.y=this._scrollbarBackground.y+this._scrollbarBackground.height*topPercent;}}},{key:"addChild",value:function addChild(child){var _this2=this;this._scrollContainer.addChild(child);setTimeout(function(){_this2._scroller.setDimensions(_this2.width,_this2.height,_this2._scrollContainer.width,_this2._scrollContainer.height*heightScale);if(_this2._scrollbarBackground){_this2.updateDimensions();}},300);}},{key:"getChildByName",value:function getChildByName(name){return this._scrollContainer.getChildByName(name);}},{key:"sortChildren",value:function sortChildren(fn){return this._scrollContainer.sortChildren(fn);}},{key:"_setHeight",value:function _setHeight(height){_get(Scroller.prototype.__proto__||Object.getPrototypeOf(Scroller.prototype),"_setHeight",this).call(this,height);this.updateDimensions();}},{key:"_setWidth",value:function _setWidth(width){_get(Scroller.prototype.__proto__||Object.getPrototypeOf(Scroller.prototype),"_setWidth",this).call(this,width);this.updateDimensions();}},{key:"setPosition",value:function setPosition(left,top){this._scroller.setPosition(left,top);}},{key:"scrollTo",value:function scrollTo(left,top){var animate=arguments.length<=2||arguments[2]===undefined?false:arguments[2];this._scroller.scrollTo(left,top,animate);}}]);return Scroller;}(_Container3.default);exports.default=Scroller;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});(function(global){var time=Date.now||function(){return+new Date();};var desiredFrames=60;var millisecondsPerSecond=1000;var running={};var counter=1;if(!global.core){global.core={effect:{}};}else if(!core.effect){core.effect={};}
core.effect.Animate={requestAnimationFrame:function(){var requestFrame=global.requestAnimationFrame||global.webkitRequestAnimationFrame||global.mozRequestAnimationFrame||global.oRequestAnimationFrame;var isNative=!!requestFrame;if(requestFrame&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(requestFrame.toString())){isNative=false;}
if(isNative){return function(callback,root){requestFrame(callback,root);};}
var TARGET_FPS=60;var requests={};var requestCount=0;var rafHandle=1;var intervalHandle=null;var lastActive=+new Date();return function(callback,root){var callbackHandle=rafHandle++;requests[callbackHandle]=callback;requestCount++;if(intervalHandle===null){intervalHandle=setInterval(function(){var time=+new Date();var currentRequests=requests;requests={};requestCount=0;for(var key in currentRequests){if(currentRequests.hasOwnProperty(key)){currentRequests[key](time);lastActive=time;}}
if(time-lastActive>2500){clearInterval(intervalHandle);intervalHandle=null;}},1000/TARGET_FPS);}
return callbackHandle;};}(),stop:function stop(id){var cleared=running[id]!=null;if(cleared){running[id]=null;}
return cleared;},isRunning:function isRunning(id){return running[id]!=null;},start:function start(stepCallback,verifyCallback,completedCallback,duration,easingMethod,root){var start=time();var lastFrame=start;var percent=0;var dropCounter=0;var id=counter++;if(!root){root=document.body;}
if(id%20===0){var newRunning={};for(var usedId in running){newRunning[usedId]=true;}
running=newRunning;}
var step=function step(virtual){var render=virtual!==true;var now=time();if(!running[id]||verifyCallback&&!verifyCallback(id)){running[id]=null;completedCallback&&completedCallback(desiredFrames-dropCounter/((now-start)/millisecondsPerSecond),id,false);return;}
if(render){var droppedFrames=Math.round((now-lastFrame)/(millisecondsPerSecond/desiredFrames))-1;for(var j=0;j<Math.min(droppedFrames,4);j++){step(true);dropCounter++;}}
if(duration){percent=(now-start)/duration;if(percent>1){percent=1;}}
var value=easingMethod?easingMethod(percent):percent;if((stepCallback(value,now,render)===false||percent===1)&&render){running[id]=null;completedCallback&&completedCallback(desiredFrames-dropCounter/((now-start)/millisecondsPerSecond),id,percent===1||duration==null);}else if(render){lastFrame=now;core.effect.Animate.requestAnimationFrame(step,root);}};running[id]=true;core.effect.Animate.requestAnimationFrame(step,root);return id;}};})(window);var ScrollerZynga;(function(){var NOOP=function NOOP(){};ScrollerZynga=function ScrollerZynga(callback,options){this.__callback=callback;this.options={scrollingX:true,scrollingY:true,animating:true,animationDuration:250,bouncing:true,locking:true,paging:false,snapping:false,zooming:false,minZoom:0.5,maxZoom:3,speedMultiplier:1,scrollingComplete:NOOP,penetrationDeceleration:0.03,penetrationAcceleration:0.08};for(var key in options){this.options[key]=options[key];}};var easeOutCubic=function easeOutCubic(pos){return Math.pow(pos-1,3)+1;};var easeInOutCubic=function easeInOutCubic(pos){if((pos/=0.5)<1){return 0.5*Math.pow(pos,3);}
return 0.5*(Math.pow(pos-2,3)+2);};var members={__isSingleTouch:false,__isTracking:false,__didDecelerationComplete:false,__isGesturing:false,__isDragging:false,__isDecelerating:false,__isAnimating:false,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:false,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function setDimensions(clientWidth,clientHeight,contentWidth,contentHeight){var self=this;if(clientWidth===+clientWidth){self.__clientWidth=clientWidth;}
if(clientHeight===+clientHeight){self.__clientHeight=clientHeight;}
if(contentWidth===+contentWidth){self.__contentWidth=contentWidth;}
if(contentHeight===+contentHeight){self.__contentHeight=contentHeight;}
self.__computeScrollMax();self.scrollTo(self.__scrollLeft,self.__scrollTop,true);},setPosition:function setPosition(left,top){var self=this;self.__clientLeft=left||0;self.__clientTop=top||0;},setSnapSize:function setSnapSize(width,height){var self=this;self.__snapWidth=width;self.__snapHeight=height;},activatePullToRefresh:function activatePullToRefresh(height,activateCallback,deactivateCallback,startCallback){var self=this;self.__refreshHeight=height;self.__refreshActivate=activateCallback;self.__refreshDeactivate=deactivateCallback;self.__refreshStart=startCallback;},triggerPullToRefresh:function triggerPullToRefresh(){this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,true);if(this.__refreshStart){this.__refreshStart();}},finishPullToRefresh:function finishPullToRefresh(){var self=this;self.__refreshActive=false;if(self.__refreshDeactivate){self.__refreshDeactivate();}
self.scrollTo(self.__scrollLeft,self.__scrollTop,true);},getValues:function getValues(){var self=this;return{left:self.__scrollLeft,top:self.__scrollTop,zoom:self.__zoomLevel};},getScrollMax:function getScrollMax(){var self=this;return{left:self.__maxScrollLeft,top:self.__maxScrollTop};},zoomTo:function zoomTo(level,animate,originLeft,originTop,callback){var self=this;if(!self.options.zooming){throw new Error("Zooming is not enabled!");}
if(callback){self.__zoomComplete=callback;}
if(self.__isDecelerating){core.effect.Animate.stop(self.__isDecelerating);self.__isDecelerating=false;}
var oldLevel=self.__zoomLevel;if(originLeft==null){originLeft=self.__clientWidth/2;}
if(originTop==null){originTop=self.__clientHeight/2;}
level=Math.max(Math.min(level,self.options.maxZoom),self.options.minZoom);self.__computeScrollMax(level);var left=(originLeft+self.__scrollLeft)*level/oldLevel-originLeft;var top=(originTop+self.__scrollTop)*level/oldLevel-originTop;if(left>self.__maxScrollLeft){left=self.__maxScrollLeft;}else if(left<0){left=0;}
if(top>self.__maxScrollTop){top=self.__maxScrollTop;}else if(top<0){top=0;}
self.__publish(left,top,level,animate);},zoomBy:function zoomBy(factor,animate,originLeft,originTop,callback){var self=this;self.zoomTo(self.__zoomLevel*factor,animate,originLeft,originTop,callback);},scrollTo:function scrollTo(left,top,animate,zoom){var self=this;if(self.__isDecelerating){core.effect.Animate.stop(self.__isDecelerating);self.__isDecelerating=false;}
if(zoom!=null&&zoom!==self.__zoomLevel){if(!self.options.zooming){throw new Error("Zooming is not enabled!");}
left*=zoom;top*=zoom;self.__computeScrollMax(zoom);}else{zoom=self.__zoomLevel;}
if(!self.options.scrollingX){left=self.__scrollLeft;}else{if(self.options.paging){left=Math.round(left/self.__clientWidth)*self.__clientWidth;}else if(self.options.snapping){left=Math.round(left/self.__snapWidth)*self.__snapWidth;}}
if(!self.options.scrollingY){top=self.__scrollTop;}else{if(self.options.paging){top=Math.round(top/self.__clientHeight)*self.__clientHeight;}else if(self.options.snapping){top=Math.round(top/self.__snapHeight)*self.__snapHeight;}}
left=Math.max(Math.min(self.__maxScrollLeft,left),0);top=Math.max(Math.min(self.__maxScrollTop,top),0);if(left===self.__scrollLeft&&top===self.__scrollTop){animate=false;}
if(!self.__isTracking){self.__publish(left,top,zoom,animate);}},scrollBy:function scrollBy(left,top,animate){var self=this;var startLeft=self.__isAnimating?self.__scheduledLeft:self.__scrollLeft;var startTop=self.__isAnimating?self.__scheduledTop:self.__scrollTop;self.scrollTo(startLeft+(left||0),startTop+(top||0),animate);},doMouseZoom:function doMouseZoom(wheelDelta,timeStamp,pageX,pageY){var self=this;var change=wheelDelta>0?0.97:1.03;return self.zoomTo(self.__zoomLevel*change,false,pageX-self.__clientLeft,pageY-self.__clientTop);},doTouchStart:function doTouchStart(touches,timeStamp){if(touches.length==null){throw new Error("Invalid touch list: "+touches);}
if(timeStamp instanceof Date){timeStamp=timeStamp.valueOf();}
if(typeof timeStamp!=="number"){throw new Error("Invalid timestamp value: "+timeStamp);}
var self=this;self.__interruptedAnimation=true;if(self.__isDecelerating){core.effect.Animate.stop(self.__isDecelerating);self.__isDecelerating=false;self.__interruptedAnimation=true;}
if(self.__isAnimating){core.effect.Animate.stop(self.__isAnimating);self.__isAnimating=false;self.__interruptedAnimation=true;}
var currentTouchLeft,currentTouchTop;var isSingleTouch=touches.length===1;if(isSingleTouch){currentTouchLeft=touches[0].pageX;currentTouchTop=touches[0].pageY;}else{currentTouchLeft=Math.abs(touches[0].pageX+touches[1].pageX)/2;currentTouchTop=Math.abs(touches[0].pageY+touches[1].pageY)/2;}
self.__initialTouchLeft=currentTouchLeft;self.__initialTouchTop=currentTouchTop;self.__zoomLevelStart=self.__zoomLevel;self.__lastTouchLeft=currentTouchLeft;self.__lastTouchTop=currentTouchTop;self.__lastTouchMove=timeStamp;self.__lastScale=1;self.__enableScrollX=!isSingleTouch&&self.options.scrollingX;self.__enableScrollY=!isSingleTouch&&self.options.scrollingY;self.__isTracking=true;self.__didDecelerationComplete=false;self.__isDragging=!isSingleTouch;self.__isSingleTouch=isSingleTouch;self.__positions=[];},doTouchMove:function doTouchMove(touches,timeStamp,scale){if(touches.length==null){throw new Error("Invalid touch list: "+touches);}
if(timeStamp instanceof Date){timeStamp=timeStamp.valueOf();}
if(typeof timeStamp!=="number"){throw new Error("Invalid timestamp value: "+timeStamp);}
var self=this;if(!self.__isTracking){return;}
var currentTouchLeft,currentTouchTop;if(touches.length===2){currentTouchLeft=Math.abs(touches[0].pageX+touches[1].pageX)/2;currentTouchTop=Math.abs(touches[0].pageY+touches[1].pageY)/2;}else{currentTouchLeft=touches[0].pageX;currentTouchTop=touches[0].pageY;}
var positions=self.__positions;if(self.__isDragging){var moveX=currentTouchLeft-self.__lastTouchLeft;var moveY=currentTouchTop-self.__lastTouchTop;var scrollLeft=self.__scrollLeft;var scrollTop=self.__scrollTop;var level=self.__zoomLevel;if(scale!=null&&self.options.zooming){var oldLevel=level;level=level/self.__lastScale*scale;level=Math.max(Math.min(level,self.options.maxZoom),self.options.minZoom);if(oldLevel!==level){var currentTouchLeftRel=currentTouchLeft-self.__clientLeft;var currentTouchTopRel=currentTouchTop-self.__clientTop;scrollLeft=(currentTouchLeftRel+scrollLeft)*level/oldLevel-currentTouchLeftRel;scrollTop=(currentTouchTopRel+scrollTop)*level/oldLevel-currentTouchTopRel;self.__computeScrollMax(level);}}
if(self.__enableScrollX){scrollLeft-=moveX*this.options.speedMultiplier;var maxScrollLeft=self.__maxScrollLeft;if(scrollLeft>maxScrollLeft||scrollLeft<0){if(self.options.bouncing){scrollLeft+=moveX/2*this.options.speedMultiplier;}else if(scrollLeft>maxScrollLeft){scrollLeft=maxScrollLeft;}else{scrollLeft=0;}}}
if(self.__enableScrollY){scrollTop-=moveY*this.options.speedMultiplier;var maxScrollTop=self.__maxScrollTop;if(scrollTop>maxScrollTop||scrollTop<0){if(self.options.bouncing){scrollTop+=moveY/2*this.options.speedMultiplier;if(!self.__enableScrollX&&self.__refreshHeight!=null){if(!self.__refreshActive&&scrollTop<=-self.__refreshHeight){self.__refreshActive=true;if(self.__refreshActivate){self.__refreshActivate();}}else if(self.__refreshActive&&scrollTop>-self.__refreshHeight){self.__refreshActive=false;if(self.__refreshDeactivate){self.__refreshDeactivate();}}}}else if(scrollTop>maxScrollTop){scrollTop=maxScrollTop;}else{scrollTop=0;}}}
if(positions.length>60){positions.splice(0,30);}
positions.push(scrollLeft,scrollTop,timeStamp);self.__publish(scrollLeft,scrollTop,level);}else{var minimumTrackingForScroll=self.options.locking?3:0;var minimumTrackingForDrag=5;var distanceX=Math.abs(currentTouchLeft-self.__initialTouchLeft);var distanceY=Math.abs(currentTouchTop-self.__initialTouchTop);self.__enableScrollX=self.options.scrollingX&&distanceX>=minimumTrackingForScroll;self.__enableScrollY=self.options.scrollingY&&distanceY>=minimumTrackingForScroll;positions.push(self.__scrollLeft,self.__scrollTop,timeStamp);self.__isDragging=(self.__enableScrollX||self.__enableScrollY)&&(distanceX>=minimumTrackingForDrag||distanceY>=minimumTrackingForDrag);if(self.__isDragging){self.__interruptedAnimation=false;}}
self.__lastTouchLeft=currentTouchLeft;self.__lastTouchTop=currentTouchTop;self.__lastTouchMove=timeStamp;self.__lastScale=scale;},doTouchEnd:function doTouchEnd(timeStamp){if(timeStamp instanceof Date){timeStamp=timeStamp.valueOf();}
if(typeof timeStamp!=="number"){throw new Error("Invalid timestamp value: "+timeStamp);}
var self=this;if(!self.__isTracking){return;}
self.__isTracking=false;if(self.__isDragging){self.__isDragging=false;if(self.__isSingleTouch&&self.options.animating&&timeStamp-self.__lastTouchMove<=100){var positions=self.__positions;var endPos=positions.length-1;var startPos=endPos;for(var i=endPos;i>0&&positions[i]>self.__lastTouchMove-100;i-=3){startPos=i;}
if(startPos!==endPos){var timeOffset=positions[endPos]-positions[startPos];var movedLeft=self.__scrollLeft-positions[startPos-2];var movedTop=self.__scrollTop-positions[startPos-1];self.__decelerationVelocityX=movedLeft/timeOffset*(1000/60);self.__decelerationVelocityY=movedTop/timeOffset*(1000/60);var minVelocityToStartDeceleration=self.options.paging||self.options.snapping?4:1;if(Math.abs(self.__decelerationVelocityX)>minVelocityToStartDeceleration||Math.abs(self.__decelerationVelocityY)>minVelocityToStartDeceleration){if(!self.__refreshActive){self.__startDeceleration(timeStamp);}}else{self.options.scrollingComplete();}}else{self.options.scrollingComplete();}}else if(timeStamp-self.__lastTouchMove>100){self.options.scrollingComplete();}}
if(!self.__isDecelerating){if(self.__refreshActive&&self.__refreshStart){self.__publish(self.__scrollLeft,-self.__refreshHeight,self.__zoomLevel,true);if(self.__refreshStart){self.__refreshStart();}}else{if(self.__interruptedAnimation||self.__isDragging){self.options.scrollingComplete();}
self.scrollTo(self.__scrollLeft,self.__scrollTop,true,self.__zoomLevel);if(self.__refreshActive){self.__refreshActive=false;if(self.__refreshDeactivate){self.__refreshDeactivate();}}}}
self.__positions.length=0;},__publish:function __publish(left,top,zoom,animate){var self=this;var wasAnimating=self.__isAnimating;if(wasAnimating){core.effect.Animate.stop(wasAnimating);self.__isAnimating=false;}
if(animate&&self.options.animating){self.__scheduledLeft=left;self.__scheduledTop=top;self.__scheduledZoom=zoom;var oldLeft=self.__scrollLeft;var oldTop=self.__scrollTop;var oldZoom=self.__zoomLevel;var diffLeft=left-oldLeft;var diffTop=top-oldTop;var diffZoom=zoom-oldZoom;var step=function step(percent,now,render){if(render){self.__scrollLeft=oldLeft+diffLeft*percent;self.__scrollTop=oldTop+diffTop*percent;self.__zoomLevel=oldZoom+diffZoom*percent;if(self.__callback){self.__callback(self.__scrollLeft,self.__scrollTop,self.__zoomLevel);}}};var verify=function verify(id){return self.__isAnimating===id;};var completed=function completed(renderedFramesPerSecond,animationId,wasFinished){if(animationId===self.__isAnimating){self.__isAnimating=false;}
if(self.__didDecelerationComplete||wasFinished){self.options.scrollingComplete();}
if(self.options.zooming){self.__computeScrollMax();if(self.__zoomComplete){self.__zoomComplete();self.__zoomComplete=null;}}};self.__isAnimating=core.effect.Animate.start(step,verify,completed,self.options.animationDuration,wasAnimating?easeOutCubic:easeInOutCubic);}else{self.__scheduledLeft=self.__scrollLeft=left;self.__scheduledTop=self.__scrollTop=top;self.__scheduledZoom=self.__zoomLevel=zoom;if(self.__callback){self.__callback(left,top,zoom);}
if(self.options.zooming){self.__computeScrollMax();if(self.__zoomComplete){self.__zoomComplete();self.__zoomComplete=null;}}}},__computeScrollMax:function __computeScrollMax(zoomLevel){var self=this;if(zoomLevel==null){zoomLevel=self.__zoomLevel;}
self.__maxScrollLeft=Math.max(self.__contentWidth*zoomLevel-self.__clientWidth,0);self.__maxScrollTop=Math.max(self.__contentHeight*zoomLevel-self.__clientHeight,0);},__startDeceleration:function __startDeceleration(timeStamp){var self=this;if(self.options.paging){var scrollLeft=Math.max(Math.min(self.__scrollLeft,self.__maxScrollLeft),0);var scrollTop=Math.max(Math.min(self.__scrollTop,self.__maxScrollTop),0);var clientWidth=self.__clientWidth;var clientHeight=self.__clientHeight;self.__minDecelerationScrollLeft=Math.floor(scrollLeft/clientWidth)*clientWidth;self.__minDecelerationScrollTop=Math.floor(scrollTop/clientHeight)*clientHeight;self.__maxDecelerationScrollLeft=Math.ceil(scrollLeft/clientWidth)*clientWidth;self.__maxDecelerationScrollTop=Math.ceil(scrollTop/clientHeight)*clientHeight;}else{self.__minDecelerationScrollLeft=0;self.__minDecelerationScrollTop=0;self.__maxDecelerationScrollLeft=self.__maxScrollLeft;self.__maxDecelerationScrollTop=self.__maxScrollTop;}
var step=function step(percent,now,render){self.__stepThroughDeceleration(render);};var minVelocityToKeepDecelerating=self.options.snapping?4:0.001;var verify=function verify(){var shouldContinue=Math.abs(self.__decelerationVelocityX)>=minVelocityToKeepDecelerating||Math.abs(self.__decelerationVelocityY)>=minVelocityToKeepDecelerating;if(!shouldContinue){self.__didDecelerationComplete=true;}
return shouldContinue;};var completed=function completed(renderedFramesPerSecond,animationId,wasFinished){self.__isDecelerating=false;if(self.__didDecelerationComplete){self.options.scrollingComplete();}
self.scrollTo(self.__scrollLeft,self.__scrollTop,self.options.snapping);};self.__isDecelerating=core.effect.Animate.start(step,verify,completed);},__stepThroughDeceleration:function __stepThroughDeceleration(render){var self=this;var scrollLeft=self.__scrollLeft+self.__decelerationVelocityX;var scrollTop=self.__scrollTop+self.__decelerationVelocityY;if(!self.options.bouncing){var scrollLeftFixed=Math.max(Math.min(self.__maxDecelerationScrollLeft,scrollLeft),self.__minDecelerationScrollLeft);if(scrollLeftFixed!==scrollLeft){scrollLeft=scrollLeftFixed;self.__decelerationVelocityX=0;}
var scrollTopFixed=Math.max(Math.min(self.__maxDecelerationScrollTop,scrollTop),self.__minDecelerationScrollTop);if(scrollTopFixed!==scrollTop){scrollTop=scrollTopFixed;self.__decelerationVelocityY=0;}}
if(render){self.__publish(scrollLeft,scrollTop,self.__zoomLevel);}else{self.__scrollLeft=scrollLeft;self.__scrollTop=scrollTop;}
if(!self.options.paging){var frictionFactor=0.95;self.__decelerationVelocityX*=frictionFactor;self.__decelerationVelocityY*=frictionFactor;}
if(self.options.bouncing){var scrollOutsideX=0;var scrollOutsideY=0;var penetrationDeceleration=self.options.penetrationDeceleration;var penetrationAcceleration=self.options.penetrationAcceleration;if(scrollLeft<self.__minDecelerationScrollLeft){scrollOutsideX=self.__minDecelerationScrollLeft-scrollLeft;}else if(scrollLeft>self.__maxDecelerationScrollLeft){scrollOutsideX=self.__maxDecelerationScrollLeft-scrollLeft;}
if(scrollTop<self.__minDecelerationScrollTop){scrollOutsideY=self.__minDecelerationScrollTop-scrollTop;}else if(scrollTop>self.__maxDecelerationScrollTop){scrollOutsideY=self.__maxDecelerationScrollTop-scrollTop;}
if(scrollOutsideX!==0){if(scrollOutsideX*self.__decelerationVelocityX<=0){self.__decelerationVelocityX+=scrollOutsideX*penetrationDeceleration;}else{self.__decelerationVelocityX=scrollOutsideX*penetrationAcceleration;}}
if(scrollOutsideY!==0){if(scrollOutsideY*self.__decelerationVelocityY<=0){self.__decelerationVelocityY+=scrollOutsideY*penetrationDeceleration;}else{self.__decelerationVelocityY=scrollOutsideY*penetrationAcceleration;}}}}};for(var key in members){ScrollerZynga.prototype[key]=members[key];}})();exports.default=ScrollerZynga;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _BitmapEs=__webpack_require__(12);var _BitmapEs2=_interopRequireDefault(_BitmapEs);var _Reel=__webpack_require__(23);var _Reel2=_interopRequireDefault(_Reel);var _Container2=__webpack_require__(11);var _Container3=_interopRequireDefault(_Container2);var _slotMachineServiceEs=__webpack_require__(34);var _slotMachineServiceEs2=_interopRequireDefault(_slotMachineServiceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var SlotMachine=function(_Container){_inherits(SlotMachine,_Container);_createClass(SlotMachine,null,[{key:"STATE_STOP",get:function get(){return 1;}},{key:"STATE_STARTING",get:function get(){return 2;}},{key:"STATE_RUN",get:function get(){return 3;}},{key:"STATE_STOPPING",get:function get(){return 4;}},{key:"STATE_FINISHING",get:function get(){return 5;}},{key:"STATE_NEED_FINISH",get:function get(){return 6;}},{key:"STATE_NEED_START",get:function get(){return 7;}}]);function SlotMachine(config){var alias=arguments.length<=1||arguments[1]===undefined?null:arguments[1];_classCallCheck(this,SlotMachine);var _this=_possibleConstructorReturn(this,(SlotMachine.__proto__||Object.getPrototypeOf(SlotMachine)).call(this,config));new _slotMachineServiceEs2.default().setInstance(_this);_this.config={};Object.assign(_this.config,config);_this.quickMode=false;_this.config.alias=_this.config.defaultReel.alias=alias;_this.reels=[];_this.state=SlotMachine.STATE_STOP;_this._superDelayBetweenReelsStop=0;_this.skipReelWait=null;_this._skipCurrentTimeoutWait=null;_this.timerStopReels=[];_this.initSpriteSheet();_this.initReels();return _this;}
_createClass(SlotMachine,[{key:"enableCrop",value:function enableCrop(){var maskShape=new Shape();maskShape.graphics.drawRect(this.x-100,this.y-50,this.width+200,this.height+90);this.mask=maskShape;}},{key:"initSpriteSheet",value:function initSpriteSheet(){var _this2=this;this.fullAtlasLoaded=true;if(HelpersCheckBrowser.detect().firefox!==undefined){this.config.atlas.images=this.config.atlas.images.map(function(src){var image=$_required.getImageRawData(src,_this2.config.alias);var canvas=document.createElement("canvas");canvas.width=image.width;canvas.height=image.height;var ctx=canvas.getContext("2d");ctx.drawImage(image,0,0,image.width,image.height);return canvas;});}
this.config.spriteSheet=new SpriteSheet(this.config.atlas,this.config.alias);this.config.defaultReel.spriteSheet=this.config.spriteSheet;var symbol=this.getSymbol(1,"short");symbol.alpha=0.01;this.addChild(symbol);this.addEventListener("added",function(){_this2.stage.update();setTimeout(function(){_this2.removeChild(symbol);},20);});}},{key:"getSpriteSheet",value:function getSpriteSheet(){return this.config.spriteSheet;}},{key:"getSymbol",value:function getSymbol(number){var type=arguments.length<=1||arguments[1]===undefined?"def":arguments[1];var symbol=new Sprite({spriteSheet:this.config.spriteSheet},this.alias);if(this.config.defaultReel.symbolTypes[type].framerate!==undefined){symbol.framerate=this.config.defaultReel.symbolTypes[type].framerate;}
if(this.config.defaultReel.symbolTypes[type].scale!==undefined&&this.fullAtlasLoaded){symbol.scaleX=symbol.scaleY=this.config.defaultReel.symbolTypes[type].scale;}else{symbol.scaleX=symbol.scaleY=1;}
symbol.symbolID=number;symbol.gotoAndPlay(type+"_"+number);return symbol;}},{key:"enableQuickMode",value:function enableQuickMode(){this.quickMode=true;for(var reel in this.reels){this.reels[reel].quickMode=true;}}},{key:"disableQuickMode",value:function disableQuickMode(){this.quickMode=false;for(var reel in this.reels){this.reels[reel].quickMode=false;}}},{key:"isEnableQuickMode",value:function isEnableQuickMode(){return this.quickMode;}},{key:"isEnableOnceFastStop",value:function isEnableOnceFastStop(){return this.onceFastStop;}},{key:"initReels",value:function initReels(){for(var reel in this.config.reels){this.addReel(this.config.reels[reel]);}}},{key:"addReel",value:function addReel(config){var reelConfig=Object.assign({},this.config.defaultReel,config);var reel=new _Reel2.default(reelConfig);var x=0;if(reelConfig.left==="auto"){for(var r in this.reels){x+=this.reels[r].config.width+this.config.distanceBetweenReels;}}else{x=reelConfig.left;}
reel.x=x;reel.y=reelConfig.top;reel.setAnimation(reelConfig.animation);reel.number=this.reels.length;this.addChild(reel);this.reels.push(reel);}},{key:"getReelAutoX",value:function getReelAutoX(reel){var x=0;for(var i=0;i<Math.min(reel,this.reels.length);i++){x+=this.reels[i].config.width+this.config.distanceBetweenReels;}
return x;}},{key:"stopReels",value:function stopReels(values){var reelsSlipping=arguments.length<=1||arguments[1]===undefined?[]:arguments[1];var reelsEventStart=arguments.length<=2||arguments[2]===undefined?[]:arguments[2];var _this3=this;var reelsEventEnd=arguments.length<=3||arguments[3]===undefined?[]:arguments[3];var reelsEventStopped=arguments.length<=4||arguments[4]===undefined?[]:arguments[4];return new Promise(function(resolve,reject){_this3._delayBetweenReelsStop=_this3.quickMode?_this3.config.quickMode.delayBetweenReelsStop:_this3.config.delayBetweenReelsStop!==undefined?_this3.config.delayBetweenReelsStop:0;_this3.state=SlotMachine.STATE_STOPPING;_this3._skipCurrentTimeoutWait=null;var i=0;var reelsStopped=0;var stopThreadCallback=function stopThreadCallback(){var callback=arguments.length<=0||arguments[0]===undefined?stopThreadCallback:arguments[0];if(i>_this3.reels.length-1){return;}
var _stopReel=function _stopReel(){var last=i;_this3.reels[i].stop(values[i]).then(function(){if(reelsEventStopped[last]&&typeof reelsEventStopped[last]=="function"){reelsEventStopped[last]();}
reelsStopped++;if(reelsStopped===_this3.reels.length){_this3.state=SlotMachine.STATE_STOP;if(_this3.onceFastStop){_this3.disableQuickMode();_this3.onceFastStop=false;}
resolve();}}).catch(function(rejection){reject(rejection);});i++;if(callback){setTimeout(callback,_this3._delayBetweenReelsStop);}};if(_this3.skipReelWait||_this3.quickMode||_this3.onceFastStop||reelsSlipping[i]==undefined||reelsSlipping[i]===0){_stopReel();if(reelsEventEnd[i]&&typeof reelsEventEnd[i]=="function"){reelsEventEnd[i]();}}else{if(reelsEventStart[i]&&typeof reelsEventStart[i]=="function"){reelsEventStart[i]();}
var _stopReelWait=function _stopReelWait(){_stopReel();if(reelsEventEnd[i]&&typeof reelsEventEnd[i]=="function"){reelsEventEnd[i]();}
_this3._skipCurrentTimeoutWait=null;};var _timer=setTimeout(_stopReelWait,reelsSlipping[i]);_this3._skipCurrentTimeoutWait=[_timer,_stopReelWait];}};setTimeout(stopThreadCallback,_this3._delayBetweenReelsStop);});}},{key:"stopReelsWaitLast",value:function stopReelsWaitLast(values){var reelsSlipping=arguments.length<=1||arguments[1]===undefined?[]:arguments[1];var _this4=this;var reelsEventStart=arguments.length<=2||arguments[2]===undefined?[]:arguments[2];var reelsEventEnd=arguments.length<=3||arguments[3]===undefined?[]:arguments[3];return new Promise(function(resolve,reject){_this4._delayBetweenReelsStop=_this4.quickMode?_this4.config.quickMode.delayBetweenReelsStop:_this4.config.delayBetweenReelsStop!==undefined?_this4.config.delayBetweenReelsStop:0;_this4.state=SlotMachine.STATE_STOPPING;_this4._skipCurrentTimeoutWait=null;var i=0;var rangeCounter=array_range(0,values.length,1);var successivelyWait=[];var reelsStopped=0;var stopThreadCallback=function stopThreadCallback(){var callback=arguments.length<=0||arguments[0]===undefined?stopThreadCallback:arguments[0];if(rangeCounter.length==0){return;}
i=rangeCounter.shift();var _stopReel=function _stopReel(_i){_this4.reels[_i].stop(values[_i]).then(function(){reelsStopped++;if(reelsStopped===_this4.reels.length){_this4.state=SlotMachine.STATE_STOP;if(_this4.onceFastStop){_this4.disableQuickMode();_this4.onceFastStop=false;}
resolve();}}).catch(function(rejection){reject(rejection);});if(callback){setTimeout(callback,_this4._delayBetweenReelsStop);}};if(reelsEventStart[i]&&typeof reelsEventStart[i]=="function"){reelsEventStart[i]();}
if(_this4.skipReelWait||_this4.quickMode||_this4.onceFastStop||reelsSlipping[i]==undefined||reelsSlipping[i]===0){_stopReel(i);if(reelsEventEnd[i]&&typeof reelsEventEnd[i]=="function"){reelsEventEnd[i]();}}else{if(successivelyWait.indexOf(i)==-1){successivelyWait.push(i);rangeCounter.push(i);setTimeout(stopThreadCallback,0);}else{var _stopReelWait=function _stopReelWait(){i=successivelyWait.shift();_stopReel(i);if(reelsEventEnd[i]&&typeof reelsEventEnd[i]=="function"){reelsEventEnd[i]();}
_this4._skipCurrentTimeoutWait=null;};var _timer=setTimeout(_stopReelWait,reelsSlipping[i]);_this4._skipCurrentTimeoutWait=[_timer,_stopReelWait];}}};setTimeout(stopThreadCallback,_this4._delayBetweenReelsStop);});}},{key:"_skipReelWait",value:function _skipReelWait(){if(this._skipCurrentTimeoutWait!==null){var _skipCurrentTimeoutWa=_slicedToArray(this._skipCurrentTimeoutWait,2);var timer=_skipCurrentTimeoutWa[0];var func=_skipCurrentTimeoutWa[1];func();clearTimeout(timer);this._skipCurrentTimeoutWait=null;}}},{key:"needFastStop",value:function needFastStop(){if(!this.quickMode){this._delayBetweenReelsStop=this.config.quickMode.delayBetweenReelsStop;this.enableQuickMode();this.onceFastStop=true;}
this._skipReelWait();}},{key:"fastStop",value:function fastStop(values){var _this5=this;var fromReel=arguments.length<=1||arguments[1]===undefined?0:arguments[1];return new Promise(function(resolve,reject){_this5.state=SlotMachine.STATE_STOPPING;for(var i=fromReel;i<_this5.reels.length-1;i++){_this5.reels[i].stop(values[i]).catch(function(rejection){$_log.error(rejection);});}
_this5.reels[_this5.reels.length-1].stop(values[_this5.reels.length-1]).then(function(){_this5.state=SlotMachine.STATE_STOP;if(_this5.onceFastStop){_this5.disableQuickMode();_this5.onceFastStop=false;}
resolve();}).catch(function(rejection){$_log.error(rejection);});});}},{key:"startReels",value:function startReels(){var _this6=this;if(this.state===SlotMachine.STATE_STOP){this.state=SlotMachine.STATE_STARTING;var delayBetweenReelsStart=this.quickMode?this.config.quickMode.delayBetweenReelsStart:this.config.delayBetweenReelsStart;if(delayBetweenReelsStart!==0&&delayBetweenReelsStart!==undefined){(function(){var i=0;var startThread=setInterval(function(){_this6.reels[i].start();i++;if(i===_this6.reels.length){_this6.state=SlotMachine.STATE_RUN;clearInterval(startThread);}},delayBetweenReelsStart);})();}else{this.state=SlotMachine.STATE_STARTING;for(var _i2=0;_i2<this.reels.length;_i2++){this.reels[_i2].start();}
this.state=SlotMachine.STATE_RUN;}
this.stage.requestUpdate();}}},{key:"setSymbol",value:function setSymbol(reel,row,symbol,symbolType){this.reels[reel].setSymbol(row,symbol,symbolType);}},{key:"setSymbolType",value:function setSymbolType(reel,row,symbolType){this.reels[reel].setSymbolType(row,symbolType);}},{key:"setSymbols",value:function setSymbols(symbols){for(var i=0;i<symbols.length;i++){for(var j=0;j<symbols[i].length;j++){this.reels[i].setSymbol(j+1,symbols[i][j]);}}}},{key:"isRunning",value:function isRunning(){return this.state!==SlotMachine.STATE_STOP;}}]);return SlotMachine;}(_Container3.default);exports.default=SlotMachine;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _serviceInterfaceEs=__webpack_require__(35);var _serviceInterfaceEs2=_interopRequireDefault(_serviceInterfaceEs);var _SlotMachineEs=__webpack_require__(33);var _SlotMachineEs2=_interopRequireDefault(_SlotMachineEs);var _memoryService=__webpack_require__(36);var _memoryService2=_interopRequireDefault(_memoryService);var _protocolServiceEs=__webpack_require__(37);var _protocolServiceEs2=_interopRequireDefault(_protocolServiceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var SlotMachineService=function(_ServiceInterface){_inherits(SlotMachineService,_ServiceInterface);function SlotMachineService(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,SlotMachineService);var _this=_possibleConstructorReturn(this,(SlotMachineService.__proto__||Object.getPrototypeOf(SlotMachineService)).call(this,data));_this._serviceName="slot";_this.memory=new _memoryService2.default();_this.protocol=new _protocolServiceEs2.default();return _this;}
_createClass(SlotMachineService,[{key:"getName",value:function getName(){var name=arguments.length<=0||arguments[0]===undefined?"":arguments[0];return this._serviceName+"-"+name;}},{key:"setInstance",value:function setInstance(){var instance=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(instance instanceof _SlotMachineEs2.default){this.memory.set("slotMachine",instance);}}},{key:"getInstance",value:function getInstance(){return this.memory.get("slotMachine");}},{key:"setColumns",value:function setColumns(){var cols=arguments.length<=0||arguments[0]===undefined?5:arguments[0];this.memory.set(this.getName("columns"),cols);}},{key:"getColumns",value:function getColumns(){return this.memory.get(this.getName("columns"));}},{key:"setRows",value:function setRows(){var rows=arguments.length<=0||arguments[0]===undefined?3:arguments[0];this.memory.set(this.getName("rows"),rows);}},{key:"getRows",value:function getRows(){return this.memory.get(this.getName("rows"));}},{key:"setDefaultSymbols",value:function setDefaultSymbols(){var symbols=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];this.memory.set(this.getName("defaultSymbols"),symbols);}},{key:"getDefaultSymbols",value:function getDefaultSymbols(){return this.memory.get(this.getName("defaultSymbols"));}},{key:"setReelSamples",value:function setReelSamples(){var reelSamples=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.memory.set(this.getName("reelSamples"),reelSamples);}},{key:"getReelSample",value:function getReelSample(){var name=arguments.length<=0||arguments[0]===undefined?"spins":arguments[0];var list=this.memory.get(this.getName("reelSamples"));if(list[name]===undefined){$_log.error("Not fount - \""+name+"\" reel sample in SlotMachineService");return null;}
return list[name];}},{key:"getMatrix",value:function getMatrix(){var data=this.protocol.getCurrentReelsData();if(data===null||data.board===undefined){return[];}
return data.board;}},{key:"setPaused",value:function setPaused(){var value=arguments.length<=0||arguments[0]===undefined?false:arguments[0];this._paused=value;}},{key:"getPaused",value:function getPaused(){return this._paused;}}]);return SlotMachineService;}(_serviceInterfaceEs2.default);exports.default=SlotMachineService;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var ServiceInterface=function(){function ServiceInterface(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,ServiceInterface);this.init(data);this.service=this;this.setInstanceToFabric();}
_createClass(ServiceInterface,[{key:"init",value:function init(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];for(var key in data){this[key]=data[key];}}},{key:"setInstanceToFabric",value:function setInstanceToFabric(){if(!$_services.hasService(this.constructor.name)){$_services.setService(this.constructor.name,this);}else{this.service=$_services.getService(this.constructor.name);}}},{key:"getService",value:function getService(){var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];return $_services.getService(name);}}]);return ServiceInterface;}();exports.default=ServiceInterface;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _serviceInterfaceEs=__webpack_require__(35);var _serviceInterfaceEs2=_interopRequireDefault(_serviceInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var MemoryService=function(_ServiceInterface){_inherits(MemoryService,_ServiceInterface);_createClass(MemoryService,null,[{key:"MEMORY_LOCAL",get:function get(){return"local";}},{key:"MEMORY_LOCAL_STORAGE",get:function get(){return"localStorage";}},{key:"MEMORY_SESSION_STORAGE",get:function get(){return"sessionStorage";}},{key:"MEMORY_COOKIES_STORAGE",get:function get(){return MemoryService.MEMORY_LOCAL_STORAGE;}}]);function MemoryService(){_classCallCheck(this,MemoryService);var _this=_possibleConstructorReturn(this,(MemoryService.__proto__||Object.getPrototypeOf(MemoryService)).call(this));if(_this.service._localMemory!==undefined){_this._localMemory=_this.service._localMemory;}else{_this._localMemory={};}
_this._checkAvailableCookiesFlag=null;_this._isLocalStorageAvailable=null;_this._isSessionStorageAvailable=null;return _this;}
_createClass(MemoryService,[{key:"set",value:function set(){var key=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var value=arguments.length<=1||arguments[1]===undefined?null:arguments[1];var type=arguments.length<=2||arguments[2]===undefined?MemoryService.MEMORY_LOCAL:arguments[2];var method="_"+type+"Set";if(this[method]!==undefined){return this[method](key,value);}
$_log.error("SET - Type of save data - \""+type+"\" Not found! For key - \""+key+"\"");return null;}},{key:"get",value:function get(){var key=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var type=arguments.length<=1||arguments[1]===undefined?MemoryService.MEMORY_LOCAL:arguments[1];var method="_"+type+"Get";if(this[method]!==undefined){return this[method](key);}
$_log.error("GET - Type of save data - \""+type+"\" Not found! For key - \""+key+"\"");return null;}},{key:"has",value:function has(){var key=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var type=arguments.length<=1||arguments[1]===undefined?MemoryService.MEMORY_LOCAL:arguments[1];return this.get(key,type)!=undefined;}},{key:"_localSet",value:function _localSet(){var key=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var value=arguments.length<=1||arguments[1]===undefined?null:arguments[1];return this._localMemory[key]=value;}},{key:"_localGet",value:function _localGet(){var key=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(this._localMemory[key]===undefined){return null;}
return this._localMemory[key];}},{key:"_checkAvailableCookies",value:function _checkAvailableCookies(){if(this._checkAvailableCookiesFlag!==null){return this._checkAvailableCookiesFlag;}
Cookies.set('_test',1);var _res=Cookies.get('_test');if(_res!=1){return this._checkAvailableCookiesFlag=false;}
Cookies.set('_test',2);_res=Cookies.get('_test');Cookies.remove('_test');return this._checkAvailableCookiesFlag=_res==2;}},{key:"_cookiesStorageSet",value:function _cookiesStorageSet(){var key=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var value=arguments.length<=1||arguments[1]===undefined?null:arguments[1];if(this._checkAvailableCookies()){Cookies.set(key,JSON.stringify(value),{expires:360,path:"/"});}else{this._localSet(key,value);}}},{key:"_cookiesStorageGet",value:function _cookiesStorageGet(){var key=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(this._checkAvailableCookies()){try{return JSON.parse(Cookies.get(key));}catch(e){return undefined;}}else{return this._localGet(key);}}},{key:"_isLocalStorageSupported",value:function _isLocalStorageSupported(){if(this._isLocalStorageAvailable!==null){return this._isLocalStorageAvailable;}
var testKey='test',storage=window.localStorage;try{storage.setItem(testKey,'1');storage.removeItem(testKey);this._isLocalStorageAvailable=true;}catch(error){this._isLocalStorageAvailable=false;}
return this._isLocalStorageAvailable;}},{key:"_localStorageSet",value:function _localStorageSet(){var key=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var value=arguments.length<=1||arguments[1]===undefined?null:arguments[1];if(this._isLocalStorageSupported()){window.localStorage.setItem(key,JSON.stringify(value));}else{this._localSet(key,value);}}},{key:"_localStorageGet",value:function _localStorageGet(){var key=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(this._isLocalStorageSupported()){if(!window.localStorage.hasOwnProperty(key)){return null;}
return JSON.parse(window.localStorage.getItem(key));}else{return this._localGet(key);}}},{key:"_isSessionStorageSupported",value:function _isSessionStorageSupported(){if(this._isSessionStorageAvailable!==null){return this._isSessionStorageAvailable;}
var testKey='test',storage=window.sessionStorage;try{storage.setItem(testKey,'1');storage.removeItem(testKey);this._isSessionStorageAvailable=true;}catch(error){this._isSessionStorageAvailable=false;}
return this._isSessionStorageAvailable;}},{key:"_sessionStorageSet",value:function _sessionStorageSet(){var key=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var value=arguments.length<=1||arguments[1]===undefined?null:arguments[1];if(this._isSessionStorageSupported()){window.sessionStorage.setItem(key,JSON.stringify(value));}else{this._localSet(key,value);}}},{key:"_sessionStorageGet",value:function _sessionStorageGet(){var key=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(this._isSessionStorageSupported()){if(!window.sessionStorage.hasOwnProperty(key)){return null;}
return JSON.parse(window.sessionStorage.getItem(key));}else{return this._localGet(key);}}}]);return MemoryService;}(_serviceInterfaceEs2.default);exports.default=MemoryService;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _serviceInterfaceEs=__webpack_require__(35);var _serviceInterfaceEs2=_interopRequireDefault(_serviceInterfaceEs);var _memoryService=__webpack_require__(36);var _memoryService2=_interopRequireDefault(_memoryService);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var ProtocolService=function(_ServiceInterface){_inherits(ProtocolService,_ServiceInterface);function ProtocolService(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,ProtocolService);var _this=_possibleConstructorReturn(this,(ProtocolService.__proto__||Object.getPrototypeOf(ProtocolService)).call(this,data));_this.memory=new _memoryService2.default();_this.keyMemory="gameProtocol";return _this;}
_createClass(ProtocolService,[{key:"getName",value:function getName(){var name=arguments.length<=0||arguments[0]===undefined?"":arguments[0];return this.keyMemory+"-"+name;}},{key:"setFreeBets",value:function setFreeBets(){var freeBets=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];this.memory.set(this.getName("freeBets"),freeBets);if(freeBets){this.memory.set(this.getName("freeBetsLast"),freeBets);}}},{key:"hasFreeBets",value:function hasFreeBets(){var list=this.getFreeBets();return list instanceof Array&&list.length>0||list instanceof Object&&Object.keys(list).length>0;}},{key:"getFreeBets",value:function getFreeBets(){return this.memory.get(this.getName("freeBets"));}},{key:"getFreeBetsLast",value:function getFreeBetsLast(){return this.memory.get(this.getName("freeBetsLast"));}},{key:"getFreeBetsLeft",value:function getFreeBetsLeft(){var freeBets=this.getFreeBets();if(freeBets&&freeBets.left_spins!==undefined){return freeBets.left_spins;}
return 0;}},{key:"setModes",value:function setModes(){var listModes=arguments.length<=0||arguments[0]===undefined?["play"]:arguments[0];this.memory.set(this.getName("modes"),listModes);}},{key:"setUserData",value:function setUserData(){var user=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.memory.set(this.getName("userData"),user);}},{key:"getUserData",value:function getUserData(){return this.memory.get(this.getName("userData"));}},{key:"getCurrentBalance",value:function getCurrentBalance(){var data=this.getUserData();if(data&&data.balance!=null){return data.balance/100;}
return 0;}},{key:"getCurrentBalanceVersion",value:function getCurrentBalanceVersion(){return this.getUserData().balance_version;}},{key:"getCurrentCurrency",value:function getCurrentCurrency(){var short=arguments.length<=0||arguments[0]===undefined?false:arguments[0];if(!this.getUserData()){return null;}
if(!this.memory.get(this.getName("currency"))){var curCurrency=this.getUserData().currency;if(!curCurrency||$_service_ticker_tape._demo===true){curCurrency="";}
if(short===true){return $_t.getText(curCurrency);}
this.memory.set(this.getName("currency"),curCurrency);}
return this.memory.get(this.getName("currency"));}},{key:"getCurrentDenominator",value:function getCurrentDenominator(){return this.getUserData().denominator?this.getUserData().denominator:1;}},{key:"setAvailableActions",value:function setAvailableActions(){var actions=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];this.getService("GameActionService").setActions(actions);this.memory.set(this.getName("availableActions"),actions);}},{key:"getAvailableActions",value:function getAvailableActions(){return this.memory.get(this.getName("availableActions"));}},{key:"isAvailableSpins",value:function isAvailableSpins(){return this.getAvailableActions().indexOf("spin")!=-1;}},{key:"isAvailableFreeSpinsInit",value:function isAvailableFreeSpinsInit(){return this.getAvailableActions().indexOf("freespin_init")!=-1;}},{key:"isAvailableFreeSpinsEnd",value:function isAvailableFreeSpinsEnd(){return this.getAvailableActions().indexOf("freespin_stop")!=-1;}},{key:"isAvailableFreeSpins",value:function isAvailableFreeSpins(){return this.getAvailableActions().indexOf("freespin")!=-1;}},{key:"isAvailableBonusGame",value:function isAvailableBonusGame(){return this.getAvailableActions().indexOf("bonus_init")!=-1||this.getAvailableActions().indexOf("bonus_start")!=-1||this.getAvailableActions().indexOf("bonus_pick")!=-1||this.getAvailableActions().indexOf("bonus_stop")!=-1;}},{key:"isAvailableStartBonusGame",value:function isAvailableStartBonusGame(){return this.getAvailableActions().indexOf("bonus_init")!=-1;}},{key:"isAvailableEndBonusGame",value:function isAvailableEndBonusGame(){return this.getAvailableActions().indexOf("bonus_stop")!=-1;}},{key:"isAvailableReSpinGame",value:function isAvailableReSpinGame(){return this.getAvailableActions().indexOf("respin")!=-1;}},{key:"getNextAction",value:function getNextAction(){if(this.isAvailableSpins()===true)return"spin";if(this.isAvailableFreeSpinsInit()===true)return"freespin_init";if(this.isAvailableFreeSpinsEnd()===true)return"freespin_stop";if(this.isAvailableFreeSpins()===true)return"freespin";if(this.isAvailableEndBonusGame()===true)return"bonus_end";if(this.isAvailableBonusGame()===true)return"bonus";if(this.isAvailableReSpinGame()===true)return"respin";}},{key:"getProtocolNextAction",value:function getProtocolNextAction(){return this.getAvailableActions()[0];}},{key:"setCurrentAction",value:function setCurrentAction(){var currentAction=arguments.length<=0||arguments[0]===undefined?"spins":arguments[0];this.memory.set(this.getName("currentAction"),currentAction);}},{key:"getCurrentAction",value:function getCurrentAction(){return this.memory.get(this.getName("currentAction"));}},{key:"setLastAction",value:function setLastAction(){var lastAction=arguments.length<=0||arguments[0]===undefined?null:arguments[0];this.memory.set(this.getName("lastAction"),lastAction);}},{key:"getLastAction",value:function getLastAction(){return this.memory.get(this.getName("lastAction"));}},{key:"setFreeSpinsReelsData",value:function setFreeSpinsReelsData(){var freeSpinReelsData=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.getService("LinesService").updateHistory();this.memory.set(this.getName("freespins_ReelsData"),freeSpinReelsData);}},{key:"setSpinsReelsData",value:function setSpinsReelsData(){var spinsReelsData=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.getService("LinesService").updateHistory();this.memory.set(this.getName("spins_ReelsData"),spinsReelsData);}},{key:"setReSpinsReelsData",value:function setReSpinsReelsData(){var reSpinsReelsData=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.getService("LinesService").updateHistory();this.memory.set(this.getName("respins_ReelsData"),reSpinsReelsData);}},{key:"getCurrentReelsData",value:function getCurrentReelsData(){var current=arguments.length<=0||arguments[0]===undefined?this.getCurrentAction():arguments[0];if(current==="respin")current="spins";var method=current+"_ReelsData";return this.memory.get(this.getName(method));}},{key:"getCurrentWin",value:function getCurrentWin(){var current=arguments.length<=0||arguments[0]===undefined?this.getCurrentAction():arguments[0];if(current==="respin")current="spin";var data=this.getCurrentReelsData(current);if(data!==null&&data.round_win!=undefined){return data.round_win;}
return 0;}},{key:"checkNextGame",value:function checkNextGame(){}}]);return ProtocolService;}(_serviceInterfaceEs2.default);exports.default=ProtocolService;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Stage=function(_createjs$Stage){_inherits(Stage,_createjs$Stage);function Stage(){_classCallCheck(this,Stage);return _possibleConstructorReturn(this,(Stage.__proto__||Object.getPrototypeOf(Stage)).apply(this,arguments));}
return Stage;}(createjs.Stage);exports.default=Stage;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Container2=__webpack_require__(11);var _Container3=_interopRequireDefault(_Container2);var _Shape=__webpack_require__(14);var _Shape2=_interopRequireDefault(_Shape);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var View=function(_Container){_inherits(View,_Container);function View(config){_classCallCheck(this,View);config=config||{};var _this=_possibleConstructorReturn(this,(View.__proto__||Object.getPrototypeOf(View)).call(this,config));_this.visible=false;_this.width=_this.width||900;_this.height=_this.height||600;_this._background=new _Shape2.default();_this.addChild(_this._background);_this._backgroundColor=config.backgroundColor||"#000";_this._backgroundOpacity=config.opacity!==undefined?config.opacity:1;_this.redrawBackground();if(config.children){_this.initChildren(config.children);}
return _this;}
_createClass(View,[{key:"redrawBackground",value:function redrawBackground(){this._background.graphics.beginFill(this.backgroundColor);this._background.alpha=this.backgroundOpacity;this._background.graphics.drawRect(0,0,this.width,this.height);this._background.graphics.endFill();}},{key:"show",value:function show(){this.visible=true;}},{key:"hide",value:function hide(){this.visible=false;}},{key:"toggleVisibility",value:function toggleVisibility(){this.visible=!this.visible;}},{key:"backgroundColor",set:function set(color){this._backgroundColor=color;this.redrawBackground();},get:function get(){return this._backgroundColor;}},{key:"backgroundOpacity",set:function set(opacity){this._backgroundOpacity=Math.min(Math.max(opacity,0),1);if(this.backgroundColor!==undefined){this.redrawBackground();}},get:function get(){return this._backgroundOpacity;}}]);return View;}(_Container3.default);exports.default=View;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Container2=__webpack_require__(11);var _Container3=_interopRequireDefault(_Container2);var _Sprite=__webpack_require__(18);var _Sprite2=_interopRequireDefault(_Sprite);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Slider=function(_Container){_inherits(Slider,_Container);function Slider(){var config=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var alias=arguments[1];_classCallCheck(this,Slider);var _this=_possibleConstructorReturn(this,(Slider.__proto__||Object.getPrototypeOf(Slider)).call(this));var width=config.width;var height=config.height;var len=config.len;var value=config.value;var trackSprite=config.trackSprite;var trackActiveSprite=config.trackActiveSprite;var thumbSprite=config.thumbSprite;_this.trackSprite=new _Sprite2.default({spriteSheet:trackSprite},alias);_this.trackSpriteActive=null;if(trackActiveSprite){_this.trackSpriteActive=new _Sprite2.default({spriteSheet:trackActiveSprite},alias);_this.trackSprite.name="trackSpriteActive";}
if(thumbSprite.spriteSheet!==undefined){_this.thumbSprite=new _Sprite2.default(thumbSprite,alias);}else{_this.thumbSprite=new _Sprite2.default({spriteSheet:thumbSprite},alias);}
_this.trackSprite.name="trackSprite";_this.thumbSprite.name="thumbSprite";_this.addChild(_this.trackSprite);if(_this.trackSpriteActive){_this.addChild(_this.trackSpriteActive);}
_this.addChild(_this.thumbSprite);_this._value=0;_this.min=0;_this.max=len;_this._step=1;_this._len=len;_this._calcDelta();_this._range=array_range(_this.min,_this.max,_this._step);_this._rangeLength=_this.max;_this.width=width||100;_this.height=height||20;_this.values={};_this.cursor="pointer";_this.on("mousedown",_this._handleInput,_this);_this.on("pressup",_this._handleChoose,_this);_this.on("pressmove",_this._handleInput,_this);_this.on("change",_this.drawNative,_this);_this.goToAndStop("normal");_this.dispatchEvent("changeThumb");_this.locX=0;return _this;}
_createClass(Slider,[{key:"_calcDelta",value:function _calcDelta(){this._delta=(this.trackSprite.width-this.thumbSprite.width)/(this._len-1);}},{key:"isVisible",value:function isVisible(){return true;}},{key:"getThumbCenter",value:function getThumbCenter(){var pt=this.localToGlobal(0,0);return pt.x+this.thumbSprite.x+this.thumbSprite.width/2;}},{key:"goToAndStop",value:function goToAndStop(name){this.trackSprite.gotoAndStop(name);this.thumbSprite.gotoAndStop(name);}},{key:"drawNative",value:function drawNative(ctx,ignoreCache){if(this._checkChange()||this.len==1){this.moveNative();}}},{key:"updateDraw",value:function updateDraw(){var pt=this.localToGlobal(0,0);var rect=new createjs.Rectangle(pt.x-this.trackSprite.width/2,pt.y,this.width+this.trackSprite.width,this.height);if(this.stage){this.stage.requestUpdate(rect,this.alias);}}},{key:"moveNative",value:function moveNative(){if(this._len<=1){this.thumbSprite.x=this.width/2-this.thumbSprite.width/2;this.trackActiveWidth=this.thumbSprite.x;this.disabled=true;}else{this.thumbSprite.x=this._delta*this._value;}
this.trackActiveWidth=this.thumbSprite.x;this.updateDraw();this.dispatchEvent("changeThumb");}},{key:"_checkChange",value:function _checkChange(){var name=arguments.length<=0||arguments[0]===undefined?"def":arguments[0];var a=this;if(a.values[name]===undefined)a.values[name]={};var b=a.values[name];if(a._value!==b._value||a.min!==b.min||a.max!==b.max||a.width!==b.width||a.height!==b.height){b.min=a.min;b.max=a.max;b._value=a._value;b.width=a.width;b.height=a.height;return true;}
return false;}},{key:"_handleInput",value:function _handleInput(evt){var val=getRound((evt.localX-this.thumbSprite.width/2-this.thumbSprite.width/6)/(this.trackSprite.width-this.thumbSprite.width/2)*(this.max-this.min)+this.min);var search=this._range.indexOf(val);if(search==-1&&val>this._range[this._rangeLength-1]){search=this._rangeLength-1;}else if(search==-1&&val<this._range[0]){search=0;}
if(this._value==this._range[search]){return;}
this.value=this._range[search];this.moveNative();}},{key:"_handleChoose",value:function _handleChoose(){this.dispatchEvent("change");}},{key:"width",set:function set(width){this.trackSprite.width=width;this._calcDelta();},get:function get(){return this.trackSprite.width;}},{key:"trackActiveWidth",set:function set(width){if(this.trackSpriteActive){this.trackSpriteActive.width=width;}}},{key:"value",set:function set(value){this._value=value;this.dispatchEvent("change");},get:function get(){return this._value;}},{key:"len",set:function set(len){this._len=this.max=len;this._calcDelta();this._range=array_range(this.min,this.max,this._step);this._rangeLength=this.max;this.moveNative();},get:function get(){return this._len;}},{key:"disabled",set:function set(disabled){}}]);return Slider;}(_Container3.default);exports.default=Slider;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};var _Container2=__webpack_require__(11);var _Container3=_interopRequireDefault(_Container2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Swiper=function(_Container){_inherits(Swiper,_Container);function Swiper(config,alias){_classCallCheck(this,Swiper);var _this=_possibleConstructorReturn(this,(Swiper.__proto__||Object.getPrototypeOf(Swiper)).call(this,config));_this.on("mousedown",_this._handleStart,_this);_this.on("pressup",_this._handleEnd,_this);_this.on("pressmove",_this._handleSwipe,_this);_this.currentPage=0;_this.pages=[];_this.speed=200;_this.tweenId=null;_this.enableClickableBackground();_this.enableOverflowHidden();return _this;}
_createClass(Swiper,[{key:"addChild",value:function addChild(child){if(this.pages.length>1){child.visible=false;}
if(this.pages.length===0){child.x=0;child.y=0;}else{child.x=this.width;child.y=0;}
this.pages[this.pages.length]=child;_get(Swiper.prototype.__proto__||Object.getPrototypeOf(Swiper.prototype),"addChild",this).call(this,child);}},{key:"_handleSwipe",value:function _handleSwipe(e){this.pages[this.currentPage].x=e.localX-this._startX;if(this.currentPage>0){this.pages[this.currentPage-1].x=-this.width+e.localX-this._startX;}
if(this.currentPage<this.pages.length-1){this.pages[this.currentPage+1].x=this.width+e.localX-this._startX;}
this._update();}},{key:"_handleStart",value:function _handleStart(e){this._startX=e.localX;}},{key:"_handleEnd",value:function _handleEnd(e){if(this.pages[this.currentPage].x<-this.width/6){if(this.currentPage<this.pages.length-1){this.setCurrentPage(this.currentPage+1);}}else if(this.pages[this.currentPage].x>this.width/6){if(this.currentPage>0){this.setCurrentPage(this.currentPage-1);}}
this._goToStartPosition();}},{key:"setCurrentPage",value:function setCurrentPage(i){for(var p=0;p<this.pages.length;p++){if(p===i-1){this.pages[p].visible=true;this.pages[i-1].x=-this.width+this.pages[i].x;}else if(p===i){this.pages[p].visible=true;}else if(p===i+1){this.pages[p].visible=true;this.pages[i+1].x=this.width+this.pages[i].x;}else{this.pages[p].visible=false;}}
this.currentPage=i;this.dispatchEvent("change");}},{key:"getCurrentPage",value:function getCurrentPage(){return this.currentPage;}},{key:"_goToStartPosition",value:function _goToStartPosition(){var _this2=this;if(!this.tweenId){this.tweenId=this.stage.startTween(new createjs.Rectangle(0,0,this.width,this.height));}
if(this.currentPage>0){createjs.Tween.get(this.pages[this.currentPage-1]).to({x:-this.width},this.speed);}
if(this.currentPage<this.pages.length-1){createjs.Tween.get(this.pages[this.currentPage+1]).to({x:this.width},this.speed);}
createjs.Tween.get(this.pages[this.currentPage]).to({x:0},this.speed).call(function(){_this2.stage.endTween(_this2.tweenId);_this2.tweenId=null;_this2.stage.requestUpdate();});}},{key:"_update",value:function _update(){var pt=this.localToGlobal(0,0);var rect=new createjs.Rectangle(pt.x,pt.y,this.width,this.height);if(this.stage){this.stage.requestUpdate(rect,this.alias);}}}]);return Swiper;}(_Container3.default);exports.default=Swiper;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Container=__webpack_require__(11);var _Container2=_interopRequireDefault(_Container);var _CanvasInput=__webpack_require__(43);var _CanvasInput2=_interopRequireDefault(_CanvasInput);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Input=function(_createjs$DisplayObje){_inherits(Input,_createjs$DisplayObje);function Input(config,alias){_classCallCheck(this,Input);var _this=_possibleConstructorReturn(this,(Input.__proto__||Object.getPrototypeOf(Input)).call(this,config,alias));var inputConfig=config;_this.cursor='text';_this.addEventListener("added",function(){inputConfig.canvas=_this.stage.canvas;var input=new _CanvasInput2.default(inputConfig,alias);_this.image=input.renderCanvas();_this.sourceRect=new createjs.Rectangle(0,0,_this.image.width,_this.image.height);_this.setBounds(0,0,_this.image.width,_this.image.height);var pt=_this.localToGlobal(0,0);input._overInput=function(x,y){var r=_this.getBounds();var rect={width:_this.image.width,height:_this.image.height};var pt=_this.localToGlobal(0,0);x=_this.stage.mouseX;y=_this.stage.mouseY;var xLeft=x>=pt.x,xRight=x<=pt.x+rect.width,yTop=y>=pt.y,yBottom=y<=pt.y+rect.height;return xLeft&&xRight&&yTop&&yBottom;};_this.renderRect=new createjs.Rectangle(pt.x,pt.y,_this.image.width,_this.image.height);_this.input=input;});_this.addEventListener("tick",function(){if(_this.isShowed()){_this.stage.requestUpdate(_this.renderRect);}});return _this;}
_createClass(Input,[{key:"_onlyNumberHandler",value:function _onlyNumberHandler(evt){var charCode=evt.which?evt.which:event.keyCode;if(charCode>=37&&charCode<=40){return true;}
if(charCode===35||charCode===36||charCode===46||charCode===8||charCode===9){return true;}
if(charCode>=96&&charCode<=105){return true;}
if(charCode>31&&(charCode<48||charCode>57)){evt.preventDefault();return false;}
return true;}},{key:"isShowed",value:function isShowed(){var p=this;while(p.parent){if(!p.visible){return false;}
p=p.parent;}
return true;}},{key:"draw",value:function draw(ctx,ignoreCache){var img=this.image,rect=this.sourceRect;if(rect){var x1=rect.x,y1=rect.y,x2=x1+rect.width,y2=y1+rect.height,x=0,y=0,w=img.width,h=img.height;if(x1<0){x-=x1;x1=0;}
if(x2>w){x2=w;}
if(y1<0){y-=y1;y1=0;}
if(y2>h){y2=h;}
ctx.drawImage(img,x1,y1,x2-x1,y2-y1,x,y,x2-x1,y2-y1);}else{ctx.drawImage(img,0,0);}
return true;}},{key:"onlyNumber",set:function set(value){if(value){this.input._hiddenInput.addEventListener("keypress",this._onlyNumberHandler);this.input._hiddenInput.addEventListener("keydown",this._onlyNumberHandler);this.input._hiddenInput.addEventListener("keyup",this._onlyNumberHandler);}else{this.input._hiddenInput.removeEventListener("keypress",this._onlyNumberHandler);this.input._hiddenInput.removeEventListener("keydown",this._onlyNumberHandler);this.input._hiddenInput.removeEventListener("keyup",this._onlyNumberHandler);}}},{key:"value",get:function get(){return this.input.value();}}]);return Input;}(createjs.DisplayObject);exports.default=Input;},function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var CanvasInput=function(){var inputs=[];var CanvasInput=function CanvasInput(o,alias){var self=this;o=o?o:{};self._canvas=o.canvas||null;self._ctx=self._canvas?self._canvas.getContext('2d'):null;self._x=o.x||0;self._y=o.y||0;self._extraX=o.extraX||0;self._extraY=o.extraY||0;self._fontSize=o.fontSize||14;self._fontFamily=o.fontFamily||'Arial';self._fontColor=o.fontColor||'#000';self._placeHolderColor=o.placeHolderColor||'#bfbebd';self._fontWeight=o.fontWeight||'normal';self._fontStyle=o.fontStyle||'normal';self._fontShadowColor=o.fontShadowColor||'';self._fontShadowBlur=o.fontShadowBlur||0;self._fontShadowOffsetX=o.fontShadowOffsetX||0;self._fontShadowOffsetY=o.fontShadowOffsetY||0;self._readonly=o.readonly||false;self._maxlength=o.maxlength||null;self._width=o.width||150;self._height=o.height||self._fontSize;self._padding=o.padding>=0?o.padding:5;self._borderWidth=o.borderWidth>=0?o.borderWidth:1;self._borderColor=o.borderColor||'#959595';self._borderRadius=o.borderRadius>=0?o.borderRadius:3;self._backgroundImage=o.backgroundImage||'';self._alias=alias;self._boxShadow=o.boxShadow||'1px 1px 0px rgba(255, 255, 255, 1)';self._innerShadow=o.innerShadow||'0px 0px 4px rgba(0, 0, 0, 0.4)';self._selectionColor=o.selectionColor||'rgba(179, 212, 253, 0.8)';self._placeHolder=o.placeHolder||'';self._value=(o.value||self._placeHolder)+'';self._onsubmit=o.onsubmit||function(){};self._onkeydown=o.onkeydown||function(){};self._onkeyup=o.onkeyup||function(){};self._onfocus=o.onfocus||function(){};self._onblur=o.onblur||function(){};self._cursor=false;self._cursorPos=0;self._hasFocus=false;self._selection=[0,0];self._wasOver=false;self.boxShadow(self._boxShadow,true);self._calcWH();self._renderCanvas=document.createElement('canvas');self._renderCanvas.setAttribute('width',self.outerW);self._renderCanvas.setAttribute('height',self.outerH);self._renderCtx=self._renderCanvas.getContext('2d');self._shadowCanvas=document.createElement('canvas');self._shadowCanvas.setAttribute('width',self._width+self._padding*2);self._shadowCanvas.setAttribute('height',self._height+self._padding*2);self._shadowCtx=self._shadowCanvas.getContext('2d');if(typeof o.backgroundGradient!=='undefined'){self._backgroundColor=self._renderCtx.createLinearGradient(0,0,0,self.outerH);self._backgroundColor.addColorStop(0,o.backgroundGradient[0]);self._backgroundColor.addColorStop(1,o.backgroundGradient[1]);}else{self._backgroundColor=o.backgroundColor||'#fff';}
if(self._canvas){self._canvas.addEventListener('mousemove',function(e){e=e||window.event;self.mousemove(e,self);},false);self._canvas.addEventListener('mousedown',function(e){e=e||window.event;self.mousedown(e,self);},false);self._canvas.addEventListener('mouseup',function(e){e=e||window.event;self.mouseup(e,self);},false);}
window.addEventListener('mouseup',function(e){e=e||window.event;if(self._hasFocus&&!self._mouseDown){self.blur();}},true);self._hiddenInput=document.createElement('input');self._hiddenInput.type='text';self._hiddenInput.style.position='absolute';self._hiddenInput.style.opacity=0;self._hiddenInput.style.pointerEvents='none';self._hiddenInput.style.left=self._x+self._extraX+(self._canvas?self._canvas.offsetLeft:0)+'px';self._hiddenInput.style.top=self._y+self._extraY+(self._canvas?self._canvas.offsetTop:0)+'px';self._hiddenInput.style.width=self._width+'px';self._hiddenInput.style.height=self._height+'px';self._hiddenInput.style.zIndex=0;if(self._maxlength){self._hiddenInput.maxLength=self._maxlength;}
document.body.appendChild(self._hiddenInput);self._hiddenInput.value=self._value;self._hiddenInput.addEventListener('keydown',function(e){e=e||window.event;if(self._hasFocus){self.keydown(e,self);}});self._hiddenInput.addEventListener('keyup',function(e){e=e||window.event;self._value=self._hiddenInput.value;self._cursorPos=self._hiddenInput.selectionStart;self._selection=[self._hiddenInput.selectionStart,self._hiddenInput.selectionEnd];self.render();if(self._hasFocus){self._onkeyup(e,self);}});inputs.push(self);self._inputsIndex=inputs.length-1;self.render();};CanvasInput.prototype={canvas:function canvas(data){var self=this;if(typeof data!=='undefined'){self._canvas=data;self._ctx=self._canvas.getContext('2d');return self.render();}else{return self._canvas;}},x:function x(data){var self=this;if(typeof data!=='undefined'){self._x=data;return self.render();}else{return self._x;}},y:function y(data){var self=this;if(typeof data!=='undefined'){self._y=data;return self.render();}else{return self._y;}},extraX:function extraX(data){var self=this;if(typeof data!=='undefined'){self._extraX=data;return self.render();}else{return self._extraX;}},extraY:function extraY(data){var self=this;if(typeof data!=='undefined'){self._extraY=data;return self.render();}else{return self._extraY;}},fontSize:function fontSize(data){var self=this;if(typeof data!=='undefined'){self._fontSize=data;return self.render();}else{return self._fontSize;}},fontFamily:function fontFamily(data){var self=this;if(typeof data!=='undefined'){self._fontFamily=data;return self.render();}else{return self._fontFamily;}},fontColor:function fontColor(data){var self=this;if(typeof data!=='undefined'){self._fontColor=data;return self.render();}else{return self._fontColor;}},placeHolderColor:function placeHolderColor(data){var self=this;if(typeof data!=='undefined'){self._placeHolderColor=data;return self.render();}else{return self._placeHolderColor;}},fontWeight:function fontWeight(data){var self=this;if(typeof data!=='undefined'){self._fontWeight=data;return self.render();}else{return self._fontWeight;}},fontStyle:function fontStyle(data){var self=this;if(typeof data!=='undefined'){self._fontStyle=data;return self.render();}else{return self._fontStyle;}},fontShadowColor:function fontShadowColor(data){var self=this;if(typeof data!=='undefined'){self._fontShadowColor=data;return self.render();}else{return self._fontShadowColor;}},fontShadowBlur:function fontShadowBlur(data){var self=this;if(typeof data!=='undefined'){self._fontShadowBlur=data;return self.render();}else{return self._fontShadowBlur;}},fontShadowOffsetX:function fontShadowOffsetX(data){var self=this;if(typeof data!=='undefined'){self._fontShadowOffsetX=data;return self.render();}else{return self._fontShadowOffsetX;}},fontShadowOffsetY:function fontShadowOffsetY(data){var self=this;if(typeof data!=='undefined'){self._fontShadowOffsetY=data;return self.render();}else{return self._fontShadowOffsetY;}},width:function width(data){var self=this;if(typeof data!=='undefined'){self._width=data;self._calcWH();self._updateCanvasWH();return self.render();}else{return self._width;}},height:function height(data){var self=this;if(typeof data!=='undefined'){self._height=data;self._calcWH();self._updateCanvasWH();return self.render();}else{return self._height;}},padding:function padding(data){var self=this;if(typeof data!=='undefined'){self._padding=data;self._calcWH();self._updateCanvasWH();return self.render();}else{return self._padding;}},borderWidth:function borderWidth(data){var self=this;if(typeof data!=='undefined'){self._borderWidth=data;self._calcWH();self._updateCanvasWH();return self.render();}else{return self._borderWidth;}},borderColor:function borderColor(data){var self=this;if(typeof data!=='undefined'){self._borderColor=data;return self.render();}else{return self._borderColor;}},borderRadius:function borderRadius(data){var self=this;if(typeof data!=='undefined'){self._borderRadius=data;return self.render();}else{return self._borderRadius;}},backgroundColor:function backgroundColor(data){var self=this;if(typeof data!=='undefined'){self._backgroundColor=data;return self.render();}else{return self._backgroundColor;}},backgroundGradient:function backgroundGradient(data){var self=this;if(typeof data!=='undefined'){self._backgroundColor=self._renderCtx.createLinearGradient(0,0,0,self.outerH);self._backgroundColor.addColorStop(0,data[0]);self._backgroundColor.addColorStop(1,data[1]);return self.render();}else{return self._backgroundColor;}},boxShadow:function boxShadow(data,doReturn){var self=this;if(typeof data!=='undefined'){var boxShadow=data.split('px ');self._boxShadow={x:self._boxShadow==='none'?0:parseInt(boxShadow[0],10),y:self._boxShadow==='none'?0:parseInt(boxShadow[1],10),blur:self._boxShadow==='none'?0:parseInt(boxShadow[2],10),color:self._boxShadow==='none'?'':boxShadow[3]};if(self._boxShadow.x<0){self.shadowL=Math.abs(self._boxShadow.x)+self._boxShadow.blur;self.shadowR=self._boxShadow.blur+self._boxShadow.x;}else{self.shadowL=Math.abs(self._boxShadow.blur-self._boxShadow.x);self.shadowR=self._boxShadow.blur+self._boxShadow.x;}
if(self._boxShadow.y<0){self.shadowT=Math.abs(self._boxShadow.y)+self._boxShadow.blur;self.shadowB=self._boxShadow.blur+self._boxShadow.y;}else{self.shadowT=Math.abs(self._boxShadow.blur-self._boxShadow.y);self.shadowB=self._boxShadow.blur+self._boxShadow.y;}
self.shadowW=self.shadowL+self.shadowR;self.shadowH=self.shadowT+self.shadowB;self._calcWH();if(!doReturn){self._updateCanvasWH();return self.render();}}else{return self._boxShadow;}},innerShadow:function innerShadow(data){var self=this;if(typeof data!=='undefined'){self._innerShadow=data;return self.render();}else{return self._innerShadow;}},selectionColor:function selectionColor(data){var self=this;if(typeof data!=='undefined'){self._selectionColor=data;return self.render();}else{return self._selectionColor;}},placeHolder:function placeHolder(data){var self=this;if(typeof data!=='undefined'){self._placeHolder=data;return self.render();}else{return self._placeHolder;}},value:function value(data){var self=this;if(typeof data!=='undefined'){self._value=data+'';self._hiddenInput.value=data+'';self._cursorPos=self._clipText().length;self.render();return self;}else{return self._value===self._placeHolder?'':self._value;}},onsubmit:function onsubmit(fn){var self=this;if(typeof fn!=='undefined'){self._onsubmit=fn;return self;}else{self._onsubmit();}},onkeydown:function onkeydown(fn){var self=this;if(typeof fn!=='undefined'){self._onkeydown=fn;return self;}else{self._onkeydown();}},onkeyup:function onkeyup(fn){var self=this;if(typeof fn!=='undefined'){self._onkeyup=fn;return self;}else{self._onkeyup();}},focus:function focus(pos){var self=this;if(!self._hasFocus){self._onfocus(self);for(var i=0;i<inputs.length;i++){if(inputs[i]._hasFocus){inputs[i].blur();}}}
if(!self._selectionUpdated){self._selection=[0,0];}else{delete self._selectionUpdated;}
self._hasFocus=true;if(self._readonly){self._hiddenInput.readOnly=true;return;}else{self._hiddenInput.readOnly=false;}
self._cursorPos=typeof pos==='number'?pos:self._clipText().length;if(self._placeHolder===self._value){self._value='';self._hiddenInput.value='';}
self._cursor=true;if(self._cursorInterval){clearInterval(self._cursorInterval);}
self._cursorInterval=setInterval(function(){self._cursor=!self._cursor;self.render();},500);var hasSelection=self._selection[0]>0||self._selection[1]>0;self._hiddenInput.focus();self._hiddenInput.selectionStart=hasSelection?self._selection[0]:self._cursorPos;self._hiddenInput.selectionEnd=hasSelection?self._selection[1]:self._cursorPos;return self.render();},blur:function blur(_this){var self=_this||this;self._onblur(self);if(self._cursorInterval){clearInterval(self._cursorInterval);}
self._hasFocus=false;self._cursor=false;self._selection=[0,0];self._hiddenInput.blur();if(self._value===''){self._value=self._placeHolder;}
return self.render();},keydown:function keydown(e,self){var keyCode=e.which,isShift=e.shiftKey,key=null,startText,endText;if(self._readonly||!self._hasFocus){return;}
self._onkeydown(e,self);if(keyCode===65&&(e.ctrlKey||e.metaKey)){self.selectText();e.preventDefault();return self.render();}
if(keyCode===17||e.metaKey||e.ctrlKey){return self;}
if(keyCode===13){e.preventDefault();self._onsubmit(e,self);}else if(keyCode===9){e.preventDefault();if(inputs.length>1){var next=inputs[self._inputsIndex+1]?self._inputsIndex+1:0;self.blur();setTimeout(function(){inputs[next].focus();},10);}}
self._value=self._hiddenInput.value;self._cursorPos=self._hiddenInput.selectionStart;self._selection=[0,0];return self.render();},click:function click(e,self){var mouse=self._mousePos(e),x=mouse.x,y=mouse.y;if(self._endSelection){delete self._endSelection;delete self._selectionUpdated;return;}
if(self._canvas&&self._overInput(x,y)||!self._canvas){if(self._mouseDown){self._mouseDown=false;self.click(e,self);return self.focus(self._clickPos(x,y));}}else{return self.blur();}},mousemove:function mousemove(e,self){var mouse=self._mousePos(e),x=mouse.x,y=mouse.y,isOver=self._overInput(x,y);if(isOver&&self._canvas){self._wasOver=true;}else if(self._wasOver&&self._canvas){self._wasOver=false;}
if(self._hasFocus&&self._selectionStart>=0){var curPos=self._clickPos(x,y),start=Math.min(self._selectionStart,curPos),end=Math.max(self._selectionStart,curPos);if(!isOver){self._selectionUpdated=true;self._endSelection=true;delete self._selectionStart;self.render();return;}
if(self._selection[0]!==start||self._selection[1]!==end){self._selection=[start,end];self.render();}}},mousedown:function mousedown(e,self){var mouse=self._mousePos(e),x=mouse.x,y=mouse.y,isOver=self._overInput(x,y);self._mouseDown=isOver;if(self._hasFocus&&isOver){self._selectionStart=self._clickPos(x,y);}},mouseup:function mouseup(e,self){var mouse=self._mousePos(e),x=mouse.x,y=mouse.y;var isSelection=self._clickPos(x,y)!==self._selectionStart;if(self._hasFocus&&self._selectionStart>=0&&self._overInput(x,y)&&isSelection){self._selectionUpdated=true;delete self._selectionStart;self.render();}else{delete self._selectionStart;}
self.click(e,self);},selectText:function selectText(range){var self=this,range=range||[0,self._value.length];setTimeout(function(){self._selection=[range[0],range[1]];self._hiddenInput.selectionStart=range[0];self._hiddenInput.selectionEnd=range[1];self.render();},1);return self;},renderCanvas:function renderCanvas(){return this._renderCanvas;},render:function render(){var self=this,ctx=self._renderCtx,w=self.outerW,h=self.outerH,br=self._borderRadius,bw=self._borderWidth,sw=self.shadowW,sh=self.shadowH;if(!ctx){return;}
ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);ctx.shadowOffsetX=self._boxShadow.x;ctx.shadowOffsetY=self._boxShadow.y;ctx.shadowBlur=self._boxShadow.blur;ctx.shadowColor=self._boxShadow.color;if(self._borderWidth>0){ctx.fillStyle=self._borderColor;self._roundedRect(ctx,self.shadowL,self.shadowT,w-sw,h-sh,br);ctx.fill();ctx.shadowOffsetX=0;ctx.shadowOffsetY=0;ctx.shadowBlur=0;}
self._drawTextBox(function(){ctx.shadowOffsetX=0;ctx.shadowOffsetY=0;ctx.shadowBlur=0;var text=self._clipText();var paddingBorder=self._padding+self._borderWidth+self.shadowT;if(self._selection[1]>0){var selectOffset=self._textWidth(text.substring(0,self._selection[0])),selectWidth=self._textWidth(text.substring(self._selection[0],self._selection[1]));ctx.fillStyle=self._selectionColor;ctx.fillRect(paddingBorder+selectOffset,paddingBorder,selectWidth,self._height);}
if(self._cursor){var cursorOffset=self._textWidth(text.substring(0,self._cursorPos));ctx.fillStyle=self._fontColor;ctx.fillRect(paddingBorder+cursorOffset,paddingBorder,1,self._height);}
var textX=self._padding+self._borderWidth+self.shadowL,textY=Math.round(paddingBorder+self._height/2);text=text===''&&self._placeHolder?self._placeHolder:text;ctx.fillStyle=self._value!==''&&self._value!==self._placeHolder?self._fontColor:self._placeHolderColor;ctx.font=self._fontStyle+' '+self._fontWeight+' '+self._fontSize+'px '+self._fontFamily;ctx.shadowColor=self._fontShadowColor;ctx.shadowBlur=self._fontShadowBlur;ctx.shadowOffsetX=self._fontShadowOffsetX;ctx.shadowOffsetY=self._fontShadowOffsetY;ctx.textAlign='left';ctx.textBaseline='middle';ctx.fillText(text,textX,textY);var innerShadow=self._innerShadow.split('px '),isOffsetX=self._innerShadow==='none'?0:parseInt(innerShadow[0],10),isOffsetY=self._innerShadow==='none'?0:parseInt(innerShadow[1],10),isBlur=self._innerShadow==='none'?0:parseInt(innerShadow[2],10),isColor=self._innerShadow==='none'?'':innerShadow[3];if(isBlur>0){var shadowCtx=self._shadowCtx,scw=shadowCtx.canvas.width,sch=shadowCtx.canvas.height;shadowCtx.clearRect(0,0,scw,sch);shadowCtx.shadowBlur=isBlur;shadowCtx.shadowColor=isColor;shadowCtx.shadowOffsetX=0;shadowCtx.shadowOffsetY=isOffsetY;shadowCtx.fillRect(-1*w,-100,3*w,100);shadowCtx.shadowOffsetX=isOffsetX;shadowCtx.shadowOffsetY=0;shadowCtx.fillRect(scw,-1*h,100,3*h);shadowCtx.shadowOffsetX=0;shadowCtx.shadowOffsetY=isOffsetY;shadowCtx.fillRect(-1*w,sch,3*w,100);shadowCtx.shadowOffsetX=isOffsetX;shadowCtx.shadowOffsetY=0;shadowCtx.fillRect(-100,-1*h,100,3*h);self._roundedRect(ctx,bw+self.shadowL,bw+self.shadowT,w-bw*2-sw,h-bw*2-sh,br);ctx.clip();ctx.drawImage(self._shadowCanvas,0,0,scw,sch,bw+self.shadowL,bw+self.shadowT,scw,sch);}
return self;});},destroy:function destroy(){var self=this;var index=inputs.indexOf(self);if(index!=-1){inputs.splice(index,1);}
if(self._hasFocus){self.blur();}
document.body.removeChild(self._hiddenInput);self._renderCanvas=null;self._shadowCanvas=null;self._renderCtx=null;},_drawTextBox:function _drawTextBox(fn){var self=this,ctx=self._renderCtx,w=self.outerW,h=self.outerH,br=self._borderRadius,bw=self._borderWidth,sw=self.shadowW,sh=self.shadowH;if(self._backgroundImage===''){ctx.fillStyle=self._backgroundColor;self._roundedRect(ctx,bw+self.shadowL,bw+self.shadowT,w-bw*2-sw,h-bw*2-sh,br);ctx.fill();fn();}else{var img=$_required.getImageRawData(self._backgroundImage,self._alias);ctx.drawImage(img,0,0,img.width,img.height,bw+self.shadowL,bw+self.shadowT,w,h);fn();}},_clearSelection:function _clearSelection(){var self=this;if(self._selection[1]>0){var start=self._selection[0],end=self._selection[1];self._value=self._value.substr(0,start)+self._value.substr(end);self._cursorPos=start;self._cursorPos=self._cursorPos<0?0:self._cursorPos;self._selection=[0,0];return true;}
return false;},_clipText:function _clipText(value){var self=this;value=typeof value==='undefined'?self._value:value;var textWidth=self._textWidth(value),fillPer=textWidth/(self._width-self._padding),text=fillPer>1?value.substr(-1*Math.floor(value.length/fillPer)):value;return text+'';},_textWidth:function _textWidth(text){var self=this,ctx=self._renderCtx;ctx.font=self._fontStyle+' '+self._fontWeight+' '+self._fontSize+'px '+self._fontFamily;ctx.textAlign='left';return ctx.measureText(text).width;},_calcWH:function _calcWH(){var self=this;self.outerW=self._width+self._padding*2+self._borderWidth*2+self.shadowW;self.outerH=self._height+self._padding*2+self._borderWidth*2+self.shadowH;},_updateCanvasWH:function _updateCanvasWH(){var self=this,oldW=self._renderCanvas.width,oldH=self._renderCanvas.height;self._renderCanvas.setAttribute('width',self.outerW);self._renderCanvas.setAttribute('height',self.outerH);self._shadowCanvas.setAttribute('width',self._width+self._padding*2);self._shadowCanvas.setAttribute('height',self._height+self._padding*2);if(self._ctx){self._ctx.clearRect(self._x,self._y,oldW,oldH);}},_roundedRect:function _roundedRect(ctx,x,y,w,h,r){if(w<2*r)r=w/2;if(h<2*r)r=h/2;ctx.beginPath();ctx.moveTo(x+r,y);ctx.lineTo(x+w-r,y);ctx.quadraticCurveTo(x+w,y,x+w,y+r);ctx.lineTo(x+w,y+h-r);ctx.quadraticCurveTo(x+w,y+h,x+w-r,y+h);ctx.lineTo(x+r,y+h);ctx.quadraticCurveTo(x,y+h,x,y+h-r);ctx.lineTo(x,y+r);ctx.quadraticCurveTo(x,y,x+r,y);ctx.closePath();},_overInput:function _overInput(x,y){var self=this,xLeft=x>=self._x+self._extraX,xRight=x<=self._x+self._extraX+self._width+self._padding*2,yTop=y>=self._y+self._extraY,yBottom=y<=self._y+self._extraY+self._height+self._padding*2;return xLeft&&xRight&&yTop&&yBottom;},_clickPos:function _clickPos(x,y){var self=this,value=self._value;if(self._value===self._placeHolder){value='';}
var text=self._clipText(value),totalW=0,pos=text.length;if(x-(self._x+self._extraX)<self._textWidth(text)){for(var i=0;i<text.length;i++){totalW+=self._textWidth(text[i]);if(totalW>=x-(self._x+self._extraX)){pos=i;break;}}}
return pos;},_mousePos:function _mousePos(e){var elm=e.target,style=document.defaultView.getComputedStyle(elm,undefined),paddingLeft=parseInt(style['paddingLeft'],10)||0,paddingTop=parseInt(style['paddingLeft'],10)||0,borderLeft=parseInt(style['borderLeftWidth'],10)||0,borderTop=parseInt(style['borderLeftWidth'],10)||0,htmlTop=document.body.parentNode.offsetTop||0,htmlLeft=document.body.parentNode.offsetLeft||0,offsetX=0,offsetY=0,x,y;if(typeof elm.offsetParent!=='undefined'){do{offsetX+=elm.offsetLeft;offsetY+=elm.offsetTop;}while(elm=elm.offsetParent);}
offsetX+=paddingLeft+borderLeft+htmlLeft;offsetY+=paddingTop+borderTop+htmlTop;return{x:e.pageX-offsetX,y:e.pageY-offsetY};}};return CanvasInput;}();exports.default=CanvasInput;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Slider2=__webpack_require__(40);var _Slider3=_interopRequireDefault(_Slider2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Switcher=function(_Slider){_inherits(Switcher,_Slider);function Switcher(){var config=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var alias=arguments[1];_classCallCheck(this,Switcher);var _this=_possibleConstructorReturn(this,(Switcher.__proto__||Object.getPrototypeOf(Switcher)).call(this,config,alias));_this.removeAllEventListeners("mousedown");_this.removeAllEventListeners("pressmove");_this.removeAllEventListeners("pressup");_this.on("mousedown",_this._handleMouseDownEvent,_this);_this.on("pressmove",_this._handleMouseMoveEvent,_this);_this.on("pressup",_this._handleMouseUpEvent,_this);_this.movedVal=false;_this.moveStep=5;_this.tapDelta=20;return _this;}
_createClass(Switcher,[{key:"_handleMouseDownEvent",value:function _handleMouseDownEvent(evt){this.locX=evt.localX;this.locY=evt.localY;this._tempMovedSide=evt.localX<this.trackSprite.width/2?0:1;}},{key:"_handleMouseMoveEvent",value:function _handleMouseMoveEvent(evt){var delta=getRound(Math.abs(evt.localX-this.locX));if(delta%this.moveStep!==this.moveStep%this.moveStep){return;}
this.movedSide=evt.localX<this.trackSprite.width/2?0:1;if(this._tempMovedSide!==this.movedSide){this.value=this.movedSide;this.moveNative();this.dispatchEvent("change");this._tempMovedSide=this.movedSide;}}},{key:"_handleMouseClickEvent",value:function _handleMouseClickEvent(){this._changeVal();}},{key:"_handleMouseUpEvent",value:function _handleMouseUpEvent(evt){if(getRound(Math.abs(evt.localX-this.locX))<=this.tapDelta){this._handleMouseClickEvent();}
this.movedSide=undefined;this._tempMovedSide=undefined;}},{key:"_changeVal",value:function _changeVal(){this.value=this.value===0?1:0;this.moveNative();this.dispatchEvent("change");}}]);return Switcher;}(_Slider3.default);exports.default=Switcher;},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Reel=__webpack_require__(23);var _Reel2=_interopRequireDefault(_Reel);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function parabolaAnimation(target){var size=arguments.length<=1||arguments[1]===undefined?0:arguments[1];var time=arguments.length<=2||arguments[2]===undefined?0:arguments[2];return new Promise(function(resolve,reject){createjs.Tween.get(target,{override:true}).to({y:size},time).to({y:0},time).call(resolve);setTimeout(reject,time+500);});}
function findBottomElement(reel){var el=reel.getChildAt(0);for(var i=1;i<reel.numChildren;i++){if(el.y<reel.getChildAt(i).y){el=reel.getChildAt(i);}}
return el;}
function findTopElement(reel){var el=reel.getChildAt(0);for(var i=1;i<reel.numChildren;i++){if(el.y>reel.getChildAt(i).y){el=reel.getChildAt(i);}}
return el;}
var ReelsAnimationsCollection=function(){function ReelsAnimationsCollection(){_classCallCheck(this,ReelsAnimationsCollection);}
_createClass(ReelsAnimationsCollection,null,[{key:'standardTween',value:function standardTween(event){var _this=this;var maxY=this.config.height+this.config.rowHeight;var startPosition=-this.config.rowHeight;var velocity=void 0;if(this.intrigueMode){velocity=this.config.intrigueMode.speed*event.delta/1000;}else if(!this.quickMode){velocity=this.config.speed*event.delta/1000;}else{velocity=this.config.quickMode.speed*event.delta/1000;}
if(this.state===_Reel2.default.STATE_NEED_START){this.state=_Reel2.default.STATE_STARTING;if(!this.quickMode){parabolaAnimation.call(this,this,this.config.startParabolaSize,this.config.startParabolaTime).then(function(){if(_this.state===_Reel2.default.STATE_STARTING){_this.state=_Reel2.default.STATE_RUN;}});}else{this.state=_Reel2.default.STATE_RUN;}
return;}
if(this.state===_Reel2.default.STATE_STARTING||this.state===_Reel2.default.STATE_FINISHING){return;}
if(this.state===_Reel2.default.STATE_RUN||this.state===_Reel2.default.STATE_STOPPING){(function(){_this.state=20;var s=_this.y;var self=_this;var tween=function tween(){createjs.Tween.get(_this,{override:true}).to({y:_this.config.rowHeight},100).call(function(){_this.y=s;var lastEl=findBottomElement(_this);_this.elements.splice(_this.elements.length-1,1);_this.removeChild(lastEl);for(var i=0;i<_this.elements.length;i++){_this.elements[i].y+=_this.config.rowHeight;}
var newEl=_this.nextElement();newEl.y=-_this.config.rowHeight;_this.elements.splice(0,0,newEl);_this.addChildAt(newEl,0);tween();});};tween();})();}
if(this.state===_Reel2.default.STATE_NEED_FINISH){this.state=_Reel2.default.STATE_FINISHING;if(!this.quickMode){$_signal.goTo('!reels.sounds.stopReel',this.number);createjs.Tween.removeTweens(this);parabolaAnimation.call(this,this,this.config.endParabolaSize,this.config.endParabolaTime).then(function(){return _this.state=_Reel2.default.STATE_STOP;});}else{this.state=_Reel2.default.STATE_STOP;}}}},{key:'standard',value:function standard(event){var _this2=this;var maxY=this.config.height+this.config.rowHeight;var startPosition=-this.config.rowHeight;var velocity=void 0;if(this.intrigueMode){velocity=this.config.intrigueMode.speed/60;}else if(!this.quickMode){velocity=this.config.speed/60;}else{velocity=this.config.quickMode.speed/60;}
if(this.state===_Reel2.default.STATE_NEED_START){this.state=_Reel2.default.STATE_STARTING;var startParabolaSize=void 0,startParabolaTime=void 0;if(!this.quickMode){startParabolaSize=this.config.startParabolaSize;startParabolaTime=this.config.startParabolaTime;}else{startParabolaSize=this.config.quickMode.startParabolaSize;startParabolaTime=this.config.quickMode.startParabolaTime;}
parabolaAnimation.call(this,this,startParabolaSize,startParabolaTime).then(function(){if(_this2.state===_Reel2.default.STATE_STARTING){_this2.state=_Reel2.default.STATE_RUN;}});return;}
if(this.state===_Reel2.default.STATE_STARTING||this.state===_Reel2.default.STATE_FINISHING){return;}
if(this.state===_Reel2.default.STATE_RUN||this.state===_Reel2.default.STATE_STOPPING){var lastEl=findBottomElement(this);if(lastEl.y+velocity>=maxY){this.elements.splice(this.elements.length-1,1);this.removeChild(lastEl);var newEl=this.nextElement();newEl.x=0;newEl.y=lastEl.y-maxY+startPosition;this.elements.splice(0,0,newEl);this.addChildAt(newEl,0);}
if(this.state===_Reel2.default.STATE_NEED_FINISH){velocity=maxY-lastEl.y;}
for(var i=0;i<this.numChildren;i++){this.getChildAt(i).y+=velocity;}
setTimeout(function(){var pt=_this2.localToGlobal(0,0);_this2.stage.requestUpdate(new createjs.Rectangle(pt.x,pt.y,_this2.config.width,_this2.config.height));},0);}
if(this.state===_Reel2.default.STATE_NEED_FINISH){this.state=_Reel2.default.STATE_FINISHING;$_signal.goTo('!reels.sounds.stopReel',this.number);var endParabolaSize=void 0,endParabolaTime=void 0;if(!this.quickMode){endParabolaSize=this.config.endParabolaSize;endParabolaTime=this.config.endParabolaTime;}else{endParabolaSize=this.config.quickMode.endParabolaSize;endParabolaTime=this.config.quickMode.endParabolaTime;}
parabolaAnimation.call(this,this,endParabolaSize,endParabolaTime).then(function(){return _this2.state=_Reel2.default.STATE_STOP;});}}},{key:'reverse',value:function reverse(){var _this3=this;var minY=-this.config.rowHeight*2;var startPosition=this.config.height;var velocity=this.velocity;if(this.state===_Reel2.default.STATE_NEED_START){this.state=_Reel2.default.STATE_STARTING;if(!this.quickMode){parabolaAnimation.bind(this)(false,function(){if(_this3.state===_Reel2.default.STATE_STARTING){_this3.state=_Reel2.default.STATE_RUN;}});}else{this.state=_Reel2.default.STATE_RUN;}
return;}
if(this.state===_Reel2.default.STATE_STARTING||this.state===_Reel2.default.STATE_FINISHING){return;}
if(this.state===_Reel2.default.STATE_RUN||this.state===_Reel2.default.STATE_STOPPING){var lastEl=findTopElement(this);if(lastEl.y-velocity<minY){this.elements.splice(0,1);this.removeChild(lastEl);var newEl=this.nextElement();newEl.x=0;newEl.y=lastEl.y-minY+startPosition;this.elements.push(newEl);this.addChildAt(newEl);}
if(this.state===_Reel2.default.STATE_NEED_FINISH){velocity=lastEl.y-minY;}
for(var i=0;i<this.numChildren;i++){this.getChildAt(i).y-=velocity;}}
if(this.state===_Reel2.default.STATE_NEED_FINISH){this.state=_Reel2.default.STATE_FINISHING;if(!this.quickMode){parabolaAnimation.bind(this)(true,function(){_this3.state=_Reel2.default.STATE_STOP;});}else{this.state=_Reel2.default.STATE_STOP;}}}},{key:'freez',value:function freez(){this.state=_Reel2.default.STATE_STOP;}}]);return ReelsAnimationsCollection;}();exports.default=ReelsAnimationsCollection;},function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var _translations={};var Translations=function(){function Translations(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,Translations);this.language=null;this._defLang="en";this.availableLanguages=[];this.langSize={};}
_createClass(Translations,[{key:'init',value:function init(data){for(var key in data){this[key]=data[key];}
this.language=typeof $_args.lang=='undefined'?'en':$_args.lang;}},{key:'setAvailableLanguages',value:function setAvailableLanguages(){var list=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];var size=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];this.availableLanguages=list;this.langSize=size;}},{key:'isAvailableLanguage',value:function isAvailableLanguage(){var aliasLang=arguments.length<=0||arguments[0]===undefined?"en":arguments[0];return this.availableLanguages.indexOf(aliasLang)!=-1;}},{key:'getSizeLang',value:function getSizeLang(){var alias=arguments.length<=0||arguments[0]===undefined?"en":arguments[0];return this.langSize[alias];}},{key:'setTranslations',value:function setTranslations(_list){_translations=_list;}},{key:'getLanguage',value:function getLanguage(){if(this.language===null||typeof this.language=='undefined'){var lang=typeof $_args.lang!='undefined'?$_args.lang:this._defLang;this.language=this.isAvailableLanguage(lang)?lang:this._defLang;}
return this.language;}},{key:'decodeCharCodeToString',value:function decodeCharCodeToString(){var num=arguments.length<=0||arguments[0]===undefined?0:arguments[0];return String.fromCharCode(num);}},{key:'get',value:function get(){var aliasTranslate=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(Number.isFinite(aliasTranslate)){return aliasTranslate;}
if(aliasTranslate===null){return"";}
var _alias="";try{_alias=aliasTranslate.toLowerCase();}catch(e){$_log.error(e,aliasTranslate);return"";}
this.language=typeof $_args.lang!='undefined'?$_args.lang:this._defLang;for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}
if(typeof _translations[_alias]!='undefined'){var find=getClone(_translations[_alias]);if(find instanceof Object&&find.text!==undefined){find.text=find.text.format(args);}
return find;}else if(args.length>0&&aliasTranslate){return aliasTranslate.format(args);}
if(aliasTranslate.indexOf(":char:")===0){return this.decodeCharCodeToString(aliasTranslate.substr(6));}
return aliasTranslate;}},{key:'getText',value:function getText(){var aliasTranslate=arguments.length<=0||arguments[0]===undefined?null:arguments[0];for(var _len2=arguments.length,args=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){args[_key2-1]=arguments[_key2];}
var result=this.get.apply(this,[aliasTranslate].concat(args));if(result instanceof Object){return result.text;}
return result;}}]);return Translations;}();exports.default=Translations;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _serviceInterfaceEs=__webpack_require__(35);var _serviceInterfaceEs2=_interopRequireDefault(_serviceInterfaceEs);var _memoryService=__webpack_require__(36);var _memoryService2=_interopRequireDefault(_memoryService);var _protocolServiceEs=__webpack_require__(37);var _protocolServiceEs2=_interopRequireDefault(_protocolServiceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BetService=function(_ServiceInterface){_inherits(BetService,_ServiceInterface);function BetService(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,BetService);var _this=_possibleConstructorReturn(this,(BetService.__proto__||Object.getPrototypeOf(BetService)).call(this));_this.memory=new _memoryService2.default();_this.protocol=new _protocolServiceEs2.default();_this.nameCurrentBet="currentBet";return _this;}
_createClass(BetService,[{key:"setBetRange",value:function setBetRange(){var bets=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];this.memory.set("betRange",bets);}},{key:"getBetRange",value:function getBetRange(){return this.memory.get("betRange");}},{key:"getCurrentProtocolValue",value:function getCurrentProtocolValue(){var data=this.protocol.getCurrentReelsData();if(!data){data=this.protocol.getCurrentReelsData("spins");}
if(data==undefined){return 0;}
return data.bet_per_line;}},{key:"checkBackward",value:function checkBackward(){return this.getBetRange().indexOf(this.getCurrentValue())>0;}},{key:"checkForward",value:function checkForward(){var list=this.getBetRange();return list.indexOf(this.getCurrentValue())<list.length-1;}},{key:"changeToBackward",value:function changeToBackward(){if(this.checkBackward()){var list=this.getBetRange();var find=list.indexOf(this.getCurrentValue());this.setCurrentValue(list[find-1]);return true;}
return false;}},{key:"changeToForward",value:function changeToForward(){if(this.checkForward()){var list=this.getBetRange();var find=list.indexOf(this.getCurrentValue());this.setCurrentValue(list[find+1]);return true;}
return false;}},{key:"changeToMaxValue",value:function changeToMaxValue(){var list=this.getBetRange();this.setCurrentValue(list[list.length-1]);}},{key:"setCurrentValue",value:function setCurrentValue(){var value=arguments.length<=0||arguments[0]===undefined?1:arguments[0];return this.memory.set(this.nameCurrentBet,value);}},{key:"getCurrentValue",value:function getCurrentValue(){if(this.memory.get(this.nameCurrentBet)===null){this.setCurrentValue(this.getCurrentProtocolValue());}
if(this.getService("ProtocolService").hasFreeBets()){var data=this.getService("ProtocolService").getFreeBetsLast();if(data&&data.bet_per_line!==undefined){return data.bet_per_line;}}
return this.memory.get(this.nameCurrentBet);}},{key:"updateFromProtocol",value:function updateFromProtocol(){this.setCurrentValue(this.getCurrentProtocolValue());}}]);return BetService;}(_serviceInterfaceEs2.default);exports.default=BetService;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _serviceInterfaceEs=__webpack_require__(35);var _serviceInterfaceEs2=_interopRequireDefault(_serviceInterfaceEs);var _memoryService=__webpack_require__(36);var _memoryService2=_interopRequireDefault(_memoryService);var _protocolServiceEs=__webpack_require__(37);var _protocolServiceEs2=_interopRequireDefault(_protocolServiceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var LinesService=function(_ServiceInterface){_inherits(LinesService,_ServiceInterface);_createClass(LinesService,null,[{key:"TYPE_SORT_MIN_MAX",get:function get(){return"WinLinesMinToMax";}},{key:"TYPE_SORT_START_TRIGGER",get:function get(){return"WinStartTrigger";}}]);function LinesService(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,LinesService);var _this=_possibleConstructorReturn(this,(LinesService.__proto__||Object.getPrototypeOf(LinesService)).call(this));_this.memory=new _memoryService2.default();_this.protocol=new _protocolServiceEs2.default();_this.nameCurrentValue="currentLines";_this.nameCounter="linesCounter";_this.nameUpdateCounter="linesUpdateCounter";return _this;}
_createClass(LinesService,[{key:"setLinesRange",value:function setLinesRange(){var lines=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];this.memory.set("linesRange",lines);}},{key:"getLinesRange",value:function getLinesRange(){return this.memory.get("linesRange");}},{key:"setPayLines",value:function setPayLines(){var payLines=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];this.memory.set("payLinesRange",payLines);}},{key:"getPayLines",value:function getPayLines(){return this.memory.get("payLinesRange");}},{key:"getCurrentProtocolValue",value:function getCurrentProtocolValue(){var data=this.protocol.getCurrentReelsData();if(!data){data=this.protocol.getCurrentReelsData("spins");}
if(data==undefined){return 0;}
return data.lines;}},{key:"setToZeroCounter",value:function setToZeroCounter(){this.memory.set(this.nameCounter,0);this.memory.set(this.nameUpdateCounter,false);}},{key:"getCounter",value:function getCounter(){var length=arguments.length<=0||arguments[0]===undefined?0:arguments[0];var count=this.memory.get(this.nameCounter);if(!this.memory.has(this.nameUpdateCounter)){this.memory.set(this.nameUpdateCounter,false);}
var clone=count;if(count<length-1){count++;}else{count=0;this.memory.set(this.nameUpdateCounter,true);}
this.memory.set(this.nameCounter,count);return clone;}},{key:"isUpdateCounter",value:function isUpdateCounter(){return this.memory.get(this.nameUpdateCounter);}},{key:"checkBackward",value:function checkBackward(){return this.getLinesRange().indexOf(this.getCurrentValue())>0;}},{key:"checkForward",value:function checkForward(){var list=this.getLinesRange();return list.indexOf(this.getCurrentValue())<list.length-1;}},{key:"changeToBackward",value:function changeToBackward(){if(this.checkBackward()){var list=this.getLinesRange();var find=list.indexOf(this.getCurrentValue());this.setCurrentValue(list[find-1]);return true;}
return false;}},{key:"changeToForward",value:function changeToForward(){if(this.checkForward()){var list=this.getLinesRange();var find=list.indexOf(this.getCurrentValue());this.setCurrentValue(list[find+1]);return true;}
return false;}},{key:"changeToMaxValue",value:function changeToMaxValue(){var list=this.getLinesRange();this.setCurrentValue(list[list.length-1]);}},{key:"setCurrentValue",value:function setCurrentValue(){var value=arguments.length<=0||arguments[0]===undefined?1:arguments[0];return this.memory.set(this.nameCurrentValue,value);}},{key:"getCurrentValue",value:function getCurrentValue(){if(this.memory.get(this.nameCurrentValue)===null){this.setCurrentValue(this.getCurrentProtocolValue());}
if(this.getService("ProtocolService").hasFreeBets()){var data=this.getService("ProtocolService").getFreeBetsLast();if(data&&data.lines!==undefined){return data.lines;}}
return this.memory.get(this.nameCurrentValue);}},{key:"getWinLines",value:function getWinLines(){var data=this.protocol.getCurrentReelsData();if(data===null||this._clearHistory===true){return[];}
return[].concat(_toConsumableArray(this._checkEmpty(data.winrespins)),_toConsumableArray(this._checkEmpty(data.winlines)),_toConsumableArray(this._checkEmpty(data.winscatters)),_toConsumableArray(this._checkEmpty(data.winbonus)));}},{key:"_checkEmpty",value:function _checkEmpty(){var data=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];if(data===undefined||data===null){return[];}
if(data instanceof Array&&data.length==0){return[];}
return data;}},{key:"getWinLinesMinToMax",value:function getWinLinesMinToMax(){var list=this.getWinLines();if(!(list instanceof Array)||list.length==0){return false;}
return list.sort(function(a,b){if(a.trigger!==undefined)return 1;if(b.trigger!==undefined)return-1;if(a.amount>b.amount)return-1;if(a.amount<b.amount)return 1;if(a.amount==b.amount){if(a.line<b.line){return-1;}else{return 1;}}});}},{key:"getWinStartTrigger",value:function getWinStartTrigger(){var list=this.getWinLines();if(!(list instanceof Array)||list.length==0){return false;}
list=list.filter(function(el){if(!el.trigger)return false;return true;});return list.sort(function(a,b){if(a.amount>b.amount)return-1;if(a.amount<b.amount)return 1;if(a.amount==b.amount){if(a.line<b.line){return-1;}else{return 1;}}});}},{key:"getNextLine",value:function getNextLine(){var name=arguments.length<=0||arguments[0]===undefined?LinesService.TYPE_SORT_MIN_MAX:arguments[0];var method="get"+name;if(typeof this[method]!='function'){return false;}
var data=this[method]();if(data===false){return false;}
var isUpdateCounter=this.isUpdateCounter();var count=this.getCounter(data.length);return[data[count],!isUpdateCounter];}},{key:"updateHistory",value:function updateHistory(){this._clearHistory=false;}},{key:"clearHistory",value:function clearHistory(){this._clearHistory=true;}},{key:"updateFromProtocol",value:function updateFromProtocol(){this.setCurrentValue(this.getCurrentProtocolValue());}}]);return LinesService;}(_serviceInterfaceEs2.default);exports.default=LinesService;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _serviceInterfaceEs=__webpack_require__(35);var _serviceInterfaceEs2=_interopRequireDefault(_serviceInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var SoundService=function(_ServiceInterface){_inherits(SoundService,_ServiceInterface);_createClass(SoundService,null,[{key:"SOUND_BACKGROUND",get:function get(){return"background";}},{key:"SOUND_MAIN",get:function get(){return"main";}}]);function SoundService(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,SoundService);var _this=_possibleConstructorReturn(this,(SoundService.__proto__||Object.getPrototypeOf(SoundService)).call(this,data));_this.gameSound=null;_this.gameEffects=null;_this.memory=_this.getService("MemoryService");_this.checkedSupportFormat=null;_this.backgroundLoad=false;_this.backgroundLoadSubscribe=false;_this._backgroundPlay={};_this.volumesSound={"background":{"min":0.2,"max":0.4},"main":{"min":1,"max":1}};_this.currentGroupVolume={"background":0.4,"main":1};_this.sounds=[];_this._twinGroup={};_this.messageTweenGroup={};visibly.onVisible(function(){if(_this.getGameEffects()){_this.raiseGroup("main");}
if(_this.getGameSound()){_this.raiseGroup("background");}});visibly.onHidden(function(){if(_this.getGameEffects()){_this.muteGroup("main");}
if(_this.getGameSound()){_this.muteGroup("background");}});_this.maxVolumeElements={};return _this;}
_createClass(SoundService,[{key:"setVolumeAudio",value:function setVolumeAudio(){var settings=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.maxVolumeElements=settings;}},{key:"setGameSound",value:function setGameSound(){var enable=arguments.length<=0||arguments[0]===undefined?false:arguments[0];this.gameSound=enable;this.memory.set("sound-gameSound",enable,MemoryService.MEMORY_COOKIES_STORAGE);if(enable===true){this.raiseGroup(SoundService.SOUND_BACKGROUND);}else{this.muteGroup(SoundService.SOUND_BACKGROUND);}}},{key:"getGameSound",value:function getGameSound(){if(this.gameSound===null){var el=this.memory.get("sound-gameSound",MemoryService.MEMORY_COOKIES_STORAGE);if(el==null){el=true;this.setGameSound(el);}
this.gameSound=el;}
return this.gameSound;}},{key:"setGameEffects",value:function setGameEffects(){var enable=arguments.length<=0||arguments[0]===undefined?false:arguments[0];this.gameEffects=enable;this.memory.set("sound-gameEffects",enable,MemoryService.MEMORY_COOKIES_STORAGE);if(enable===true){this.raiseGroup(SoundService.SOUND_MAIN);}else{this.muteGroup(SoundService.SOUND_MAIN);}}},{key:"getGameEffects",value:function getGameEffects(){if(this.gameEffects===null){var el=this.memory.get("sound-gameEffects",MemoryService.MEMORY_COOKIES_STORAGE);if(el==null){el=true;this.setGameEffects(el);}
this.gameEffects=el;}
return this.gameEffects;}},{key:"checkSupport",value:function checkSupport(){if(this.checkedSupportFormat!==null){return this.checkedSupportFormat;}
var formats=[["audio/mp3","","mp3"],["audio/m4a","","m4a"],["audio/ogg","","ogg"],["audio/ogg","vorbis","ogg"],["audio/ac3","","ac3"]];var answers=["","probably","maybe"];try{var vid=document.createElement('audio');var accessed={};var max=0;var maxFormat=0;for(var i=0,l=formats.length;i<l;i++){var _formats$i=_slicedToArray(formats[i],3);var formatType=_formats$i[0];var codecs=_formats$i[1];var format=_formats$i[2];var answ=vid.canPlayType(formatType+";codecs="+codecs);accessed[i]=answers.indexOf(answ);if(accessed[i]>max){max=accessed[i];maxFormat=i;}}
this.checkedSupportFormat=formats[maxFormat][2];}catch(e){$_log.error(e);}
return this.checkedSupportFormat;}},{key:"setSoundConfig",value:function setSoundConfig(){var config=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.memory.set("audio_configs",config);}},{key:"getSoundConfig",value:function getSoundConfig(){var nameAlias=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var list=this.memory.get("audio_configs");if(list[nameAlias]===undefined){return null;}
return list[nameAlias];}},{key:"subscribeSound",value:function subscribeSound(alias,path){createjs.Sound.registerSound($_settingService.getSetting("game_path")+path.substr(3),alias);if(alias==="au_sp_overload_background"){this.backgroundLoaded();}}},{key:"backgroundLoaded",value:function backgroundLoaded(){this.backgroundLoad=true;this.setBackgroundSound();}},{key:"isBackgroundLoaded",value:function isBackgroundLoaded(){return this.backgroundLoad;}},{key:"setBackgroundSound",value:function setBackgroundSound(){if(this.backgroundLoad!==true){return null;}
if(this.backgroundLoadSubscribe!==false){$_signal.goTo('!audio.background.change',this.backgroundLoadSubscribe);}}},{key:"setProps",value:function setProps(){var config=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var configObject=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];if(config.loop!==undefined&&config.loop===true){config.loop=-1;}
var configOrigin={interrupt:createjs.Sound.PLAY_FINISHED,loop:null,volume:1,startTime:configObject.startTime*1000,duration:configObject.duration*1000};return new createjs.PlayPropsConfig().set(Object.assign({},configOrigin,config));}},{key:"removeInstance",value:function removeInstance(instance){var key=createjs.indexOf(this.sounds,instance);if(key>=0){this.sounds.splice(key,1);}
var index=createjs.indexOf(createjs.Sound._instances,instance);if(index>-1){createjs.Sound._instances.splice(index,1);}}},{key:"playPromise",value:function playPromise(name,alias){var _this2=this;var config=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return new Promise(function(a,b){var elem=_this2.play(name,alias,config);elem.on("complete",function(){a();});var aliasName=alias+"_"+name;if(!alias){aliasName=""+name;}
var el=_this2.getSoundConfig(aliasName);if(elem.playState===createjs.Sound.PLAY_FAILED){setTimeout(a,el.duration);return;}
elem.on("error",function(){b();});});}},{key:"play",value:function play(name){var _this3=this;var alias=arguments.length<=1||arguments[1]===undefined?null:arguments[1];var config=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];var aliasName=alias+"_"+name;if(alias===null){aliasName=""+name;}
var el=this.getSoundConfig(aliasName);if(el===null)return;if(el.group==SoundService.SOUND_BACKGROUND&&!this.gameSound){config.volume=0;}
if(el.group==SoundService.SOUND_MAIN&&!this.gameEffects){config.volume=0;}
var ppc=this.setProps(config,el);var sound=createjs.Sound.play(el.resource,ppc);sound._groupName=el.group;sound._aliasName=name;if(this.volumesSound[el.group]!==undefined&&config.volume==null){sound.setVolume(this.volumesSound[el.group].max);}
if(this.maxVolumeElements[aliasName]!==undefined){sound.setVolume(this.maxVolumeElements[aliasName]);}
if(!this.getGameSound()&&el.group==SoundService.SOUND_BACKGROUND){sound.setVolume(0);}
if(!this.getGameEffects()&&el.group==SoundService.SOUND_MAIN){sound.setVolume(0);}
var key=createjs.indexOf(this.sounds,sound);if(key<0){this.sounds.push(sound);}
if(config.loop==undefined||config.loop===false){}
sound.on("complete",function(){_this3.removeInstance(sound);});sound.on("interrupted",function(){_this3.removeInstance(sound);});if(ppc.on){if(ppc.loop===false){ppc.on("complete",function(){_this3.removeInstance(sound);});}
ppc.on("failed",function(){_this3.removeInstance(sound);});}
return sound;}},{key:"stop",value:function stop(){var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var paused=arguments.length<=1||arguments[1]===undefined?false:arguments[1];for(var i=0,l=this.sounds.length;i<l;i++){var el=this.sounds[i];if(el&&el._aliasName===name){el.setPaused(true);if(paused===false){el.stop();this.removeInstance(el);}}}}},{key:"stopGroup",value:function stopGroup(){var _this4=this;var groupName=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var paused=arguments.length<=1||arguments[1]===undefined?false:arguments[1];var _loop=function _loop(i,l){var el=_this4.sounds[i];if(el&&el._groupName===groupName){el.setPaused(true);if(paused===false){if(el._loop!=-1){el.loop=-1;}
el.stop();setTimeout(function(){_this4.removeInstance(el);},10);}}};for(var i=0,l=this.sounds.length;i<l;i++){_loop(i,l);}}},{key:"resumeGroup",value:function resumeGroup(){var groupName=arguments.length<=0||arguments[0]===undefined?null:arguments[0];for(var i=0,l=this.sounds.length;i<l;i++){var _el=this.sounds[i];if(_el&&_el._groupName===groupName){_el.setPaused(false);}}}},{key:"muteGroup",value:function muteGroup(){var groupName=arguments.length<=0||arguments[0]===undefined?null:arguments[0];for(var i=0,l=this.sounds.length;i<l;i++){var _el2=this.sounds[i];if(_el2&&_el2._groupName===groupName){_el2.setVolume(0);_el2.volume=0;}}}},{key:"raiseGroup",value:function raiseGroup(){var groupName=arguments.length<=0||arguments[0]===undefined?null:arguments[0];for(var i=0,l=this.sounds.length;i<l;i++){var _el3=this.sounds[i];if(_el3&&_el3._groupName===groupName){_el3.setVolume(this.volumesSound[groupName].max);_el3.volume=this.volumesSound[groupName].max;}}}},{key:"fadeSound",value:function fadeSound(){var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var fadeIn=arguments.length<=1||arguments[1]===undefined?"in":arguments[1];var time=arguments.length<=2||arguments[2]===undefined?1000:arguments[2];var _this5=this;var resolve=arguments.length<=3||arguments[3]===undefined?null:arguments[3];var to=arguments.length<=4||arguments[4]===undefined?null:arguments[4];var _execute=function _execute(q){for(var i=0,l=_this5.sounds.length;i<l;i++){var _el4=_this5.sounds[i];if(_el4&&_el4.__name===name){if(q.currentTarget!==undefined){_el4.volume=q.currentTarget.target.x;}}}
_this5.currentGroupVolume[name]=q.currentTarget.target.x;};var volumeTo=null;try{volumeTo=this.volumesSound[name][fadeIn=="in"?"max":"min"];}catch(e){volumeTo=1;}
if(to===null){to=volumeTo;}
this.messageTweenGroup[name]=createjs.Tween.get({x:this.currentGroupVolume[name]},{loop:false}).to({x:to},time).call(function(){_this5.currentGroupVolume[name]=to;var _last={currentTarget:{target:{x:to}}};_execute(_last);if(_this5.messageTweenGroup[name]!==null){_this5.messageTweenGroup[name]=null;}});if(resolve!==null){this.messageTweenGroup[name].call(function(){resolve();});}
this.messageTweenGroup[name].addEventListener("change",_execute);}},{key:"fadeGroup",value:function fadeGroup(){var groupName=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var fadeIn=arguments.length<=1||arguments[1]===undefined?"in":arguments[1];var time=arguments.length<=2||arguments[2]===undefined?1000:arguments[2];var _this6=this;var resolve=arguments.length<=3||arguments[3]===undefined?null:arguments[3];var to=arguments.length<=4||arguments[4]===undefined?null:arguments[4];var _execute=function _execute(q){for(var i=0,l=_this6.sounds.length;i<l;i++){var _el5=_this6.sounds[i];if(_el5&&_el5._groupName===groupName){if(q.currentTarget!==undefined){_el5.volume=q.currentTarget.target.x;}}}
_this6.currentGroupVolume[groupName]=q.currentTarget.target.x;};var volumeTo=this.volumesSound[groupName][fadeIn=="in"?"max":"min"];if(to===null){to=volumeTo;}
this.messageTweenGroup[groupName]=createjs.Tween.get({x:this.currentGroupVolume[groupName]},{loop:false}).to({x:to},time).call(function(){_this6.currentGroupVolume[groupName]=to;var _last={currentTarget:{target:{x:to}}};_execute(_last);if(_this6.messageTweenGroup[groupName]!==null){_this6.messageTweenGroup[groupName]=null;}});if(resolve!==null){this.messageTweenGroup[groupName].call(function(){resolve();});}
this.messageTweenGroup[groupName].addEventListener("change",_execute);}}]);return SoundService;}(_serviceInterfaceEs2.default);exports.default=SoundService;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _serviceInterfaceEs=__webpack_require__(35);var _serviceInterfaceEs2=_interopRequireDefault(_serviceInterfaceEs);var _memoryService=__webpack_require__(36);var _memoryService2=_interopRequireDefault(_memoryService);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var GameSettingsService=function(_ServiceInterface){_inherits(GameSettingsService,_ServiceInterface);function GameSettingsService(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,GameSettingsService);var _this=_possibleConstructorReturn(this,(GameSettingsService.__proto__||Object.getPrototypeOf(GameSettingsService)).call(this,{}));_this.memory=new _memoryService2.default();_this.keyMemory="gameSettings";var _variable=typeof $_args.variablePageSettings!="undefined"?$_args.variablePageSettings:"$_args";if(typeof window[_variable]!="undefined"){Object.assign(data,window[_variable]);}
if(typeof window[_variable]!="undefined"&&typeof window[_variable].sound!="undefined"){}
_this.setSettings(data);return _this;}
_createClass(GameSettingsService,[{key:"getName",value:function getName(){var name=arguments.length<=0||arguments[0]===undefined?"":arguments[0];return this.keyMemory+"-"+name;}},{key:"setSettings",value:function setSettings(){var settings=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.memory.set(this.keyMemory,settings,_memoryService2.default.MEMORY_LOCAL);}},{key:"getSettings",value:function getSettings(){var setting=this.memory.get(this.keyMemory,_memoryService2.default.MEMORY_LOCAL);if(setting===null){setting={};}
return setting;}},{key:"setLocalSettings",value:function setLocalSettings(key,value){this.memory.set(key,value,_memoryService2.default.MEMORY_COOKIES_STORAGE);}},{key:"getLocalSettings",value:function getLocalSettings(key){var value=this.memory.get(key,_memoryService2.default.MEMORY_COOKIES_STORAGE);return value;}},{key:"setSetting",value:function setSetting(){var key=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var value=arguments.length<=1||arguments[1]===undefined?null:arguments[1];var setting=this.getSettings();setting[key]=value;this.setSettings(setting);}},{key:"getSetting",value:function getSetting(){var key=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var setting=this.getSettings();if(setting[key]===undefined){return null;}
return setting[key];}},{key:"hasSetting",value:function hasSetting(){var key=arguments.length<=0||arguments[0]===undefined?null:arguments[0];return this.getSetting(key)!==null;}},{key:"getExitUrl",value:function getExitUrl(){return this.getSetting("exit_url")==="undefined"?null:this.getSetting("exit_url");}}]);return GameSettingsService;}(_serviceInterfaceEs2.default);exports.default=GameSettingsService;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _serviceInterfaceEs=__webpack_require__(35);var _serviceInterfaceEs2=_interopRequireDefault(_serviceInterfaceEs);var _memoryService=__webpack_require__(36);var _memoryService2=_interopRequireDefault(_memoryService);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BonusService=function(_ServiceInterface){_inherits(BonusService,_ServiceInterface);function BonusService(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,BonusService);var _this=_possibleConstructorReturn(this,(BonusService.__proto__||Object.getPrototypeOf(BonusService)).call(this,data));_this.memory=new _memoryService2.default();_this._serviceName="bonus";return _this;}
_createClass(BonusService,[{key:"getName",value:function getName(){var name=arguments.length<=0||arguments[0]===undefined?"":arguments[0];return this._serviceName+"-"+name;}},{key:"setBonusSettings",value:function setBonusSettings(){var bonusInfo=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.memory.set(this.getName("settings"),bonusInfo);}},{key:"getBonusSettings",value:function getBonusSettings(){return this.memory.get(this.getName("settings"));}},{key:"setBonusContext",value:function setBonusContext(){var bonusContext=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(bonusContext!==null){this.memory.set(this.getName("context"),bonusContext);}}},{key:"getBonusContext",value:function getBonusContext(){return this.memory.get(this.getName("context"));}},{key:"endBonusGame",value:function endBonusGame(){this.started=false;}},{key:"startBonusGame",value:function startBonusGame(){this.started=true;}},{key:"isStarted",value:function isStarted(){return this.started;}}]);return BonusService;}(_serviceInterfaceEs2.default);exports.default=BonusService;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _serviceInterfaceEs=__webpack_require__(35);var _serviceInterfaceEs2=_interopRequireDefault(_serviceInterfaceEs);var _memoryService=__webpack_require__(36);var _memoryService2=_interopRequireDefault(_memoryService);var _protocolServiceEs=__webpack_require__(37);var _protocolServiceEs2=_interopRequireDefault(_protocolServiceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var self=void 0;var AutoPlayService=function(_ServiceInterface){_inherits(AutoPlayService,_ServiceInterface);function AutoPlayService(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,AutoPlayService);var _this=_possibleConstructorReturn(this,(AutoPlayService.__proto__||Object.getPrototypeOf(AutoPlayService)).call(this));self=_this;_this.memory=new _memoryService2.default();_this.protocol=new _protocolServiceEs2.default();_this.nameCurrentAutoPlayValue="currentAutoPlayValue";_this._suspended=false;_this.stopAutoSpins();_this.lastStartValue=0;return _this;}
_createClass(AutoPlayService,[{key:"setAutoPlayRange",value:function setAutoPlayRange(){var autoPlayRange=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];this.memory.set("autoPlayRange",autoPlayRange);}},{key:"getAutoPlayRange",value:function getAutoPlayRange(){return this.memory.get("autoPlayRange");}},{key:"setCurrentValue",value:function setCurrentValue(){var value=arguments.length<=0||arguments[0]===undefined?1:arguments[0];if(value<-2){value=-1;}
return this.memory.set(this.nameCurrentAutoPlayValue,value);}},{key:"getCurrentValue",value:function getCurrentValue(){return this.memory.get(this.nameCurrentAutoPlayValue);}},{key:"setStartValue",value:function setStartValue(){var value=arguments.length<=0||arguments[0]===undefined?1:arguments[0];if(value<-2){value=-1;}
this.lastStartValue=value;return this.memory.set("startAutoSpinValue",value);}},{key:"getStartValue",value:function getStartValue(){return this.memory.get("startAutoSpinValue");}},{key:"isActive",value:function isActive(){if(this._stopOnWin){if(this.getService("ProtocolService").getCurrentWin()>0){this.stopAutoSpins();}}
if(this._stopIfWinExceeds!==-1){if(this.getService("ProtocolService").getCurrentWin()>=this._stopIfWinExceeds){this.stopAutoSpins();}}
if(this._stopIfCashIncrease!==-1){if(self.getService("ProtocolService").getCurrentBalance()-self.balanceOnStart>=this._stopIfCashIncrease){this.stopAutoSpins();}}
if(this._stopIfCashDecrease!==-1){if(self.balanceOnStart-self.getService("ProtocolService").getCurrentBalance()>=this._stopIfCashDecrease){this.stopAutoSpins();}}
return this.getCurrentValue()>=0||this.getCurrentValue()===-2;}},{key:"isSuspended",value:function isSuspended(){return this._suspended;}},{key:"suspend",value:function suspend(){this._suspended=true;}},{key:"resume",value:function resume(){this._suspended=false;}},{key:"nextSpin",value:function nextSpin(){if(this.isActive()&&!this.isSuspended()){if(this.getCurrentValue()!==-2){this.setCurrentValue(this.getCurrentValue()-1);}
return this.getCurrentValue();}
return false;}},{key:"startAutoSpins",value:function startAutoSpins(num){self.balanceOnStart=self.getService("ProtocolService").getCurrentBalance();self.setStartValue(num);if(num!==-2){num--;}
self.setCurrentValue(num);}},{key:"retryAutoSpins",value:function retryAutoSpins(){self.startAutoSpins(self.getStartValue());}},{key:"stopAutoSpins",value:function stopAutoSpins(){self.setCurrentValue(-1);}},{key:"enableStopOnAnyWin",value:function enableStopOnAnyWin(){self._stopOnWin=true;}},{key:"disableStopOnAnyWin",value:function disableStopOnAnyWin(){self._stopOnWin=false;}},{key:"enableStopOnFreeGame",value:function enableStopOnFreeGame(){self._stopOnFreeGame=true;}},{key:"disableStopOnFreeGame",value:function disableStopOnFreeGame(){self._stopOnFreeGame=false;}},{key:"enableStopBonus",value:function enableStopBonus(){self._stopOnBonus=true;}},{key:"disableStopBonus",value:function disableStopBonus(){self._stopOnBonus=false;}},{key:"enableStopIfWinExceed",value:function enableStopIfWinExceed(){var value=arguments.length<=0||arguments[0]===undefined?0:arguments[0];self._stopIfWinExceeds=parseInt(value);}},{key:"disableStopIfWinExceed",value:function disableStopIfWinExceed(){self._stopIfWinExceeds=-1;}},{key:"enableStopIfCashIncrease",value:function enableStopIfCashIncrease(){var value=arguments.length<=0||arguments[0]===undefined?0:arguments[0];self._stopIfCashIncrease=parseInt(value);}},{key:"disableStopIfCashIncrease",value:function disableStopIfCashIncrease(){self._stopIfCashIncrease=-1;}},{key:"enableStopIfCashDecrease",value:function enableStopIfCashDecrease(value){self._stopIfCashDecrease=parseInt(value);}},{key:"disableStopIfCashDecrease",value:function disableStopIfCashDecrease(){self._stopIfCashDecrease=-1;}},{key:"isStopOnFreeGameEnabled",value:function isStopOnFreeGameEnabled(){return self._stopOnFreeGame;}},{key:"isStopOnBonusEnabled",value:function isStopOnBonusEnabled(){return self._stopOnBonus;}},{key:"getLastStartValue",value:function getLastStartValue(){return this.lastStartValue==-2?$_t.decodeCharCodeToString(8734):this.lastStartValue;}}]);return AutoPlayService;}(_serviceInterfaceEs2.default);exports.default=AutoPlayService;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _serviceInterfaceEs=__webpack_require__(35);var _serviceInterfaceEs2=_interopRequireDefault(_serviceInterfaceEs);var _memoryService=__webpack_require__(36);var _memoryService2=_interopRequireDefault(_memoryService);var _protocolServiceEs=__webpack_require__(37);var _protocolServiceEs2=_interopRequireDefault(_protocolServiceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var FreeSpinService=function(_ServiceInterface){_inherits(FreeSpinService,_ServiceInterface);function FreeSpinService(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,FreeSpinService);var _this=_possibleConstructorReturn(this,(FreeSpinService.__proto__||Object.getPrototypeOf(FreeSpinService)).call(this));_this.memory=new _memoryService2.default();_this.protocol=$_services.getService("ProtocolService");return _this;}
_createClass(FreeSpinService,[{key:"getFreeSpinLeft",value:function getFreeSpinLeft(){var data=this.protocol.getCurrentReelsData();if(data===null){return 0;}
if(data.rounds_lefts!==undefined){return data.rounds_lefts;}
if(data.winscatters!==undefined&&data.winscatters.length>0){return data.winscatters[0].freespins;}
data=this.protocol.getCurrentReelsData("freespins");if(data.rounds_lefts!==undefined||data.rounds_lefts!==null){return data.rounds_lefts;}
return 0;}},{key:"getTotalWin",value:function getTotalWin(){var data=this.protocol.getCurrentReelsData("freespins");if(data&&data.total_win!=null){return data.total_win;}
return 0;}},{key:"getAdditionalFreeSpins",value:function getAdditionalFreeSpins(){var data=this.protocol.getCurrentReelsData("freespins");if(data.winscatters&&data.winscatters.length>0&&data.winscatters[0].freespins){return data.winscatters[0].freespins;}
return false;}},{key:"isActive",value:function isActive(){return this.protocol.getCurrentReelsData("freespins")!==null;}}]);return FreeSpinService;}(_serviceInterfaceEs2.default);exports.default=FreeSpinService;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _serviceInterfaceEs=__webpack_require__(35);var _serviceInterfaceEs2=_interopRequireDefault(_serviceInterfaceEs);var _memoryService=__webpack_require__(36);var _memoryService2=_interopRequireDefault(_memoryService);var _protocolServiceEs=__webpack_require__(37);var _protocolServiceEs2=_interopRequireDefault(_protocolServiceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var GameActionService=function(_ServiceInterface){_inherits(GameActionService,_ServiceInterface);function GameActionService(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,GameActionService);var _this=_possibleConstructorReturn(this,(GameActionService.__proto__||Object.getPrototypeOf(GameActionService)).call(this,data));_this.memory=_this.getService("MemoryService");_this.protocol=_this.getService("ProtocolService");_this.nameAction="gameAction";_this.notUsed=["restore"];_this.active=false;return _this;}
_createClass(GameActionService,[{key:"setActivate",value:function setActivate(){this.active=true;}},{key:"setActions",value:function setActions(){var actions=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];var clear=[];for(var i=0,len=actions.length;i<len;i++){if(this.notUsed.indexOf(actions[i])==-1){clear.push(actions[i]);}}
this.set(clear);}},{key:"set",value:function set(){var action=arguments.length<=0||arguments[0]===undefined?this.protocol.getNextAction():arguments[0];this.memory.set(this.nameAction,action);}},{key:"has",value:function has(){var actionName=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(actionName!==null){return false;}
return this.get;}},{key:"getActions",value:function getActions(){var list=this.memory.set(this.nameAction);if(list instanceof Array&&list.length>0){return list;}
return[];}},{key:"get",value:function get(){var list=this.memory.get(this.nameAction);if(list instanceof Array&&list.length>0){return""+list[0];}
return this.protocol.getCurrentAction();}},{key:"_next",value:function _next(childState,from){if(!this.active){return null;}
console.debug(childState,from,this.get());if(from==="freespins"&&this.get()==="freespin"){return'freespins.game.wait';}
if(this.get()!=from){return"protocol."+this.get()+".init";}else{return'control..wait';}}},{key:"next",value:function next(){var childState=arguments.length<=0||arguments[0]===undefined?"wait":arguments[0];var from=arguments.length<=1||arguments[1]===undefined?this.protocol.getCurrentAction():arguments[1];var action=this._next(childState,from);if(!action){return;}
$_signal.goTo(action);}}]);return GameActionService;}(_serviceInterfaceEs2.default);exports.default=GameActionService;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _serviceInterfaceEs=__webpack_require__(35);var _serviceInterfaceEs2=_interopRequireDefault(_serviceInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var PayTableService=function(_ServiceInterface){_inherits(PayTableService,_ServiceInterface);function PayTableService(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,PayTableService);var _this=_possibleConstructorReturn(this,(PayTableService.__proto__||Object.getPrototypeOf(PayTableService)).call(this,data));_this.memory=_this.getService("MemoryService");return _this;}
_createClass(PayTableService,[{key:"setPayTable",value:function setPayTable(){var payTable=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.memory.set("payTable",payTable);}},{key:"getPayTable",value:function getPayTable(){return this.memory.get("payTable");}}]);return PayTableService;}(_serviceInterfaceEs2.default);exports.default=PayTableService;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _serviceInterfaceEs=__webpack_require__(35);var _serviceInterfaceEs2=_interopRequireDefault(_serviceInterfaceEs);var _memoryService=__webpack_require__(36);var _memoryService2=_interopRequireDefault(_memoryService);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var PopupService=function(_ServiceInterface){_inherits(PopupService,_ServiceInterface);_createClass(PopupService,null,[{key:"EMPTY_POPUP",get:function get(){return 0;}},{key:"GAME_POPUP",get:function get(){return 2;}},{key:"CUSTOM_POPUP",get:function get(){return 1;}},{key:"INFO_POPUP",get:function get(){return 3;}},{key:"ERROR_POPUP",get:function get(){return 4;}}]);function PopupService(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,PopupService);var _this=_possibleConstructorReturn(this,(PopupService.__proto__||Object.getPrototypeOf(PopupService)).call(this,data));_this.queuePopups=[];_this.resolvePromise=null;_this._actives=true;_this._timers={};return _this;}
_createClass(PopupService,[{key:"_findByName",value:function _findByName(){var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var type=arguments.length<=1||arguments[1]===undefined?0:arguments[1];for(var i=0,l=this.queuePopups.length;i<l;i++){if(this.queuePopups[i].name==name&&this.queuePopups[i].type==type){return this.queuePopups[i];}}
return null;}},{key:"_findActive",value:function _findActive(){for(var i=0,l=this.queuePopups.length;i<l;i++){if(this.queuePopups[i].active===true){return this.queuePopups[i];}}
return null;}},{key:"_findActives",value:function _findActives(){var actives=[];for(var i=0,l=this.queuePopups.length;i<l;i++){if(this.queuePopups[i].active===true){actives.push(this.queuePopups[i]);}}
return actives;}},{key:"_clearGroupActive",value:function _clearGroupActive(){var type=arguments.length<=0||arguments[0]===undefined?0:arguments[0];for(var i=0,l=this.queuePopups.length;i<l;i++){if(this.queuePopups[i].type==type&&this.queuePopups[i].active!==true){this.queuePopups[i].active=null;}}}},{key:"_findKey",value:function _findKey(){var object=arguments.length<=0||arguments[0]===undefined?null:arguments[0];return this.queuePopups.indexOf(object);}},{key:"_checkShowPromise",value:function _checkShowPromise(){var _this2=this;var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var type=arguments.length<=1||arguments[1]===undefined?0:arguments[1];if(!(this.resolvePromise instanceof Promise)){this.resolvePromise=Promise.resolve();}
this.resolvePromise=this.resolvePromise.then(function(){return new Promise(function(res){_this2._checkShow(name,type,res);});});this.resolvePromise=this.resolvePromise.then(function(){return Promise.resolve();});}},{key:"_checkShow",value:function _checkShow(){var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var _this3=this;var type=arguments.length<=1||arguments[1]===undefined?0:arguments[1];var resolve=arguments[2];var current=this._findActive();var queue=this.queuePopups.map(function(_queue){return _queue;}).sort(function(a,b){if(a.type>b.type)return-1;if(a.type<b.type)return 1;return 0;});var available=null;for(var i=0,l=queue.length;i<l;i++){if(!current&&queue[i].active!==true&&queue[i].deleted===false){available=queue[i];break;}
if(current&&(queue[i].name!==current.name||queue[i].type||current.type)&&queue[i].active!==true&&queue[i].deleted===false){available=queue[i];break;}}
if(!available||available&&current&&current.type>available.type){setTimeout(function(){resolve();},25);return;}
this._hide(current,true).then(function(){_this3._show(available).then(resolve);});}},{key:"_checkHide",value:function _checkHide(){var _this4=this;var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var type=arguments.length<=1||arguments[1]===undefined?0:arguments[1];var current=this._findByName(name,type);return new Promise(function(resolve,reject){if(current==null){return resolve(null);}
if(current.active!==true){return resolve(current);}
var update=true;_this4._hide(current,update).then(function(){resolve(current);}).catch(function(e){reject(e);});});}},{key:"_findShowNextPromise",value:function _findShowNextPromise(){var _this5=this;var current=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var resolved=arguments[1];if(!(this.resolvePromise instanceof Promise)){this.resolvePromise=Promise.resolve();}
this.resolvePromise=this.resolvePromise.then(function(){return new Promise(function(res){_this5._findShowNext(current,resolved,res);});});this.resolvePromise=this.resolvePromise.then(function(){$_signal.goTo("!popup.popups.updateBlur");return Promise.resolve();});}},{key:"_findShowNext",value:function _findShowNext(){var current=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var _this6=this;var resolved=arguments[1];var resolveMain=arguments[2];if(!current){resolved();return resolveMain();}
var currentType=current.type;var queue=this.queuePopups.map(function(_queue){return _queue;}).sort(function(a,b){if(a.type>b.type)return-1;if(a.type<b.type)return 1;return 0;});var available=null;for(var i=0,l=queue.length;i<l;i++){if(queue[i].active!==true&&(queue[i].name!=current.name||queue[i].type!=current.type)&&queue[i].deleted===false){available=queue[i];break;}}
if(available!==null&&current.type>available.type&&current.active===true){resolved();return resolveMain();}
if(available===null&&current!==null){$_signal.goTo("!popup.popups.hide",current.type,current,true,function(){resolved();resolveMain();});return null;}
var update=true;this._hide(current,update).then(function(context){if(context===null){}
if(current!==null&&current.type>available.type){}
if(current!==null&&current.type==available.type){_this6._clearGroupActive(available.type);}
if(available.deleted===true){resolved();return resolveMain();}
_this6._show(available,update).then(function(){resolved();resolveMain();});});}},{key:"_show",value:function _show(){var _this7=this;var object=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var showBG=arguments.length<=1||arguments[1]===undefined?true:arguments[1];return new Promise(function(resolve){if(object==null||object.active===true){return resolve();}
if(object.active===null){for(var key in object.configs){var method="__"+key+"Exec";if(typeof _this7[method]=="function"){_this7[method](object.configs[key],object.properties);}}}
object.active=true;$_signal.goTo("!popup.popups.show",object.type,object,showBG,function(){resolve();$_event.setEvent("clearBlockAction");});});}},{key:"_hide",value:function _hide(){var object=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var hideBG=arguments.length<=1||arguments[1]===undefined?true:arguments[1];return new Promise(function(resolve){if(object==null){return resolve();}
if(object.active===true){$_signal.goTo("!popup.popups.hide",object.type,object,hideBG,function(){object.active=false;resolve();});}else{resolve(null);}});}},{key:"_remove",value:function _remove(){var object=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];if(object==null){return;}
var current=this._findKey(object);if(current>-1){this.queuePopups.splice(current,1);}}},{key:"getActiveName",value:function getActiveName(){var type=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(type===null){return null;}
for(var i=0,l=this.queuePopups.length;i<l;i++){if(this.queuePopups[i].type==type&&this.queuePopups[i].active===true&&this.queuePopups[i].deleted!==true){return this.queuePopups[i].name;}}
return null;}},{key:"addEmptyPopup",value:function addEmptyPopup(){var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var configs=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var data=this._findByName(name,PopupService.EMPTY_POPUP);if(data===null){this.queuePopups.push({name:name,type:PopupService.EMPTY_POPUP,configs:configs,properties:{},active:null,wait:false,deleted:false,resolve:function resolve(){}});}
if(!data||data.active!==true){this._clearGroupActive(PopupService.EMPTY_POPUP);this._checkShowPromise(name,PopupService.EMPTY_POPUP);}}},{key:"addGamePopup",value:function addGamePopup(){for(var _len=arguments.length,properties=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++){properties[_key-2]=arguments[_key];}
var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var configs=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var data=this._findByName(name,PopupService.GAME_POPUP);if(data===null){var element={name:name,type:PopupService.GAME_POPUP,configs:configs,properties:properties,active:null,wait:false,deleted:false,resolve:function resolve(){}};if(properties[1]&&properties[1].resolve&&typeof properties[1].resolve=="function"){element.resolve=properties[1].resolve;}
this.queuePopups.push(element);}
if(!data||data.active!==true){this._clearGroupActive(PopupService.GAME_POPUP);this._checkShowPromise(name,PopupService.GAME_POPUP);}}},{key:"addCustomPopup",value:function addCustomPopup(){for(var _len2=arguments.length,properties=Array(_len2>2?_len2-2:0),_key2=2;_key2<_len2;_key2++){properties[_key2-2]=arguments[_key2];}
var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var configs=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var data=this._findByName(name,PopupService.CUSTOM_POPUP);if(data===null){var element={name:name,type:PopupService.CUSTOM_POPUP,configs:configs,properties:properties,active:null,wait:false,deleted:false,resolve:function resolve(){}};if(properties[1]&&properties[1].resolve&&typeof properties[1].resolve=="function"){element.resolve=properties[1].resolve;}
this.queuePopups.push(element);}
if(!data||data.active!==true){this._clearGroupActive(PopupService.CUSTOM_POPUP);this._checkShowPromise(name,PopupService.CUSTOM_POPUP);}}},{key:"addInfoPopup",value:function addInfoPopup(){for(var _len3=arguments.length,properties=Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){properties[_key3-1]=arguments[_key3];}
var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var data=this._findByName(name,PopupService.INFO_POPUP);if(data===null){var element={name:name,type:PopupService.INFO_POPUP,configs:{states:[["popup.popups.systemInfo"]]},properties:properties,active:null,wait:false,deleted:false,resolve:function resolve(){}};if(properties[1]&&properties[1].resolve&&typeof properties[1].resolve=="function"){element.resolve=properties[1].resolve;}
this.queuePopups.push(element);}
if(!data||data.active!==true){this._clearGroupActive(PopupService.INFO_POPUP);this._checkShowPromise(name,PopupService.INFO_POPUP);}}},{key:"addErrorPopup",value:function addErrorPopup(){for(var _len4=arguments.length,properties=Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++){properties[_key4-1]=arguments[_key4];}
var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var data=this._findByName(name,PopupService.ERROR_POPUP);if(data===null){var element={name:name,type:PopupService.ERROR_POPUP,configs:{states:[["popup.popups.systemError"]]},properties:properties,active:null,wait:false,deleted:false,resolve:function resolve(){}};if(properties[1]&&properties[1].resolve&&typeof properties[1].resolve=="function"){element.resolve=properties[1].resolve;}
this.queuePopups.push(element);}
if(!data||data.active!==true){this._clearGroupActive(PopupService.ERROR_POPUP);this._checkShowPromise(name,PopupService.ERROR_POPUP);}}},{key:"addWaitGamePopup",value:function addWaitGamePopup(name){var countRemoves=arguments.length<=1||arguments[1]===undefined?1:arguments[1];var context=this._findByName(name,PopupService.GAME_POPUP);if(context){context.wait=countRemoves;}}},{key:"removeWaitGamePopup",value:function removeWaitGamePopup(name){var context=this._findByName(name,PopupService.GAME_POPUP);if(context){if(context.wait>0){context.wait--;}else{context.wait=false;}}}},{key:"hasWaitGamePopup",value:function hasWaitGamePopup(name){var context=this._findByName(name,PopupService.GAME_POPUP);return context&&context.wait!==false;}},{key:"hasActivePopup",value:function hasActivePopup(){return this._findActive()!==null;}},{key:"hasCritError",value:function hasCritError(){var empty=function empty(){};for(var i=0,l=this.queuePopups.length;i<l;i++){if(this.queuePopups[i].active===true&&this.queuePopups[i].type==PopupService.ERROR_POPUP){$_signal.goTo("!popup.popups.show",4,this.queuePopups[i],true,empty);return true;}}
return false;}},{key:"getLength",value:function getLength(){return this.queuePopups.length;}},{key:"removeEmptyPopup",value:function removeEmptyPopup(){var _this8=this;var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(null===name){return;}
var current=this._findActive();var find=this._findByName(name,PopupService.EMPTY_POPUP);if(!find){return;}
if(find.deleted===true){return;}
find.deleted=true;this._checkHide(name,PopupService.EMPTY_POPUP).then(function(context){if(context){context.deleted=true;new Promise(function(res){_this8._findShowNextPromise(current,res);}).then(function(){if(typeof context.resolve=="function"){context.resolve();}
_this8._remove(context);}).catch(function(e){$_log.error(e);});}});}},{key:"removeGamePopup",value:function removeGamePopup(){var _this9=this;var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(null===name){return;}
var find=this._findByName(name,PopupService.GAME_POPUP);if(!find){return;}
if(find.wait==true){return;}
if(find.deleted===true){return;}
find.deleted=true;var current=this._findActive();this._checkHide(name,PopupService.GAME_POPUP).then(function(context){if(context){context.deleted=true;new Promise(function(res){_this9._findShowNextPromise(current,res);}).then(function(){if(typeof context.resolve=="function"){context.resolve();}
_this9._remove(context);}).catch(function(e){$_log.error(e);});}});}},{key:"removeCustomPopup",value:function removeCustomPopup(){var _this10=this;var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(null===name){return;}
var find=this._findByName(name,PopupService.CUSTOM_POPUP);if(!find){return;}
if(find.deleted===true){return;}
find.deleted=true;var current=this._findActive();this._checkHide(name,PopupService.CUSTOM_POPUP).then(function(context){if(context){context.deleted=true;new Promise(function(res){_this10._findShowNextPromise(current,res);}).then(function(){if(typeof context.resolve=="function"){context.resolve();}
_this10._remove(context);}).catch(function(e){$_log.error(e);});}});}},{key:"removeAllGamePopups",value:function removeAllGamePopups(){var _this11=this;var without=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var _loop=function _loop(i,l){var object=_this11.queuePopups[i];if([PopupService.EMPTY_POPUP,PopupService.GAME_POPUP,PopupService.CUSTOM_POPUP].indexOf(object.type)==-1){return"continue";}
if(without!=null&&object.name==without){return"continue";}
object.deleted=true;_this11._hide(object).then(function(){object.deleted=true;_this11._remove(object);});};for(var i=0,l=this.queuePopups.length;i<l;i++){var _ret=_loop(i,l);if(_ret==="continue")continue;}}},{key:"removeInfoPopup",value:function removeInfoPopup(){var _this12=this;var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var callback=arguments.length<=1||arguments[1]===undefined?function(){}:arguments[1];if(null===name){return;}
var find=this._findByName(name,PopupService.INFO_POPUP);if(!find){if(typeof callback=="function"){callback();}
return;}
if(find.deleted===true){return;}
find.deleted=true;this._checkHide(name,PopupService.INFO_POPUP).then(function(context){if(context){context.deleted=true;new Promise(function(res){_this12._findShowNextPromise(context,res);}).then(function(){if(typeof context.resolve=="function"){context.resolve();}
_this12._remove(context);if(typeof callback=="function"){callback();}}).catch(function(e){$_log.error(e);});}});}},{key:"removeErrorPopup",value:function removeErrorPopup(){var _this13=this;var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(null===name){return;}
var find=this._findByName(name,PopupService.ERROR_POPUP);if(!find){return;}
if(find.deleted===true){return;}
find.deleted=true;var current=this._findActive();this._checkHide(name,PopupService.ERROR_POPUP).then(function(context){if(context){context.deleted=true;new Promise(function(res){_this13._findShowNextPromise(current,res);}).then(function(){if(typeof context.resolve=="function"){context.resolve();}
_this13._remove(context);}).catch(function(e){$_log.error(e);});}});}},{key:"__statesExec",value:function __statesExec(){var states=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];var args=arguments.length<=1||arguments[1]===undefined?[]:arguments[1];for(var i=0,l=states.length;i<l;i++){var props=args;if(states[i][1]){props.unshift(states[i][1]);}
$_signal.goTo.apply($_signal,["!"+states[i][0]].concat(_toConsumableArray(props)));}}},{key:"__eventsExec",value:function __eventsExec(){var events=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];var args=arguments.length<=1||arguments[1]===undefined?[]:arguments[1];for(var i=0,l=events.length;i<l;i++){$_event.setEvent.apply($_event,[events].concat(_toConsumableArray(args)));}}},{key:"show",value:function show(){this._actives=true;this._findShowNext();}},{key:"hide",value:function hide(){if(this._findActive()){this._hide(this._findActive());}
this._actives=false;}}]);return PopupService;}(_serviceInterfaceEs2.default);exports.default=PopupService;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _serviceInterfaceEs=__webpack_require__(35);var _serviceInterfaceEs2=_interopRequireDefault(_serviceInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var ServiceFabric=function(){function ServiceFabric(){_classCallCheck(this,ServiceFabric);this._services={};}
_createClass(ServiceFabric,[{key:"setService",value:function setService(){var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var service=arguments.length<=1||arguments[1]===undefined?null:arguments[1];if(name===null){$_log.error("Service name can not be empty!",service);return null;}
if(!(service instanceof _serviceInterfaceEs2.default)){$_log.error("Service can not be instance - \""+name+"\"",service);return null;}
if(this._services[name]===undefined){this._services[name]=service;}}},{key:"findService",value:function findService(){var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(this._services[name]===undefined){return null;}
return this._services[name];}},{key:"getService",value:function getService(){var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(this.hasService(name)===false){if(this.createService(name)===true){return this.getService(name);}}else{return this.findService(name);}
return null;}},{key:"createService",value:function createService(){var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(this._services[name]===undefined&&typeof window[name]=="function"){new window[name]();return true;}
return false;}},{key:"hasService",value:function hasService(){var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];return this.findService(name)!==null;}},{key:"get",value:function get(){var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];return this.findService(name);}},{key:"getAll",value:function getAll(){return this._services;}}]);return ServiceFabric;}();exports.default=ServiceFabric;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _serviceInterfaceEs=__webpack_require__(35);var _serviceInterfaceEs2=_interopRequireDefault(_serviceInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var TickerTapeService=function(_ServiceInterface){_inherits(TickerTapeService,_ServiceInterface);function TickerTapeService(data){_classCallCheck(this,TickerTapeService);var _this=_possibleConstructorReturn(this,(TickerTapeService.__proto__||Object.getPrototypeOf(TickerTapeService)).call(this,data));_this._demo=false;_this.types=["mainQueue","spinQueue","freeSpinQueue","bonusQueue"];$_event.setSubscriber("initGame",_this.instanceName);_this.queue=[];_this.queueInc=0;_this.queueActive=true;_this._types=["Normal","Demo"];return _this;}
_createClass(TickerTapeService,[{key:"getGameMode",value:function getGameMode(){return this._demo===true?this._types[1]:this._types[0];}},{key:"setQueueMessages",value:function setQueueMessages(){var queue=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this._gamesTypeQueue=queue;}},{key:"getQueueOfType",value:function getQueueOfType(nameQueue){if(this._gamesTypeQueue&&this._gamesTypeQueue[nameQueue]!==undefined){return this._gamesTypeQueue[nameQueue];}
return[];}},{key:"checkDemoMode",value:function checkDemoMode(){if(this.getService("ProtocolService").getCurrentCurrency()=="FUN"){this._demo=true;}}},{key:"checkFreeBets",value:function checkFreeBets(){return this.getService("ProtocolService").hasFreeBets();}},{key:"initGameEvent",value:function initGameEvent(){if(this.checkFreeBets()){return;}
this.setQueue(this.getQueueOfType("mainQueue"+this.getGameMode()));this.queueActive=true;$_signal.goTo('!settings.toolbar.dynamicMessages',this.getMessageFromQueue());}},{key:"spinGameInfo",value:function spinGameInfo(){var update=arguments.length<=0||arguments[0]===undefined?false:arguments[0];this.setQueue(this.getQueueOfType("spinQueue"+this.getGameMode()));if(!this.checkFreeBets()||update===true){this.queueActive=true;if(!this.getService("ProtocolService").hasFreeBets()){$_signal.goTo('!settings.toolbar.dynamicMessages',this.getMessageFromQueue());}}}},{key:"freeSpinGameInfo",value:function freeSpinGameInfo(){this.setQueue(this.getQueueOfType("freeSpinQueue"+this.getGameMode()));$_signal.goTo('!settings.toolbar.dynamicMessages',this.getMessageFromQueue());}},{key:"bonusGameInfo",value:function bonusGameInfo(){this.setQueue(this.getQueueOfType("bonusQueue"+this.getGameMode()));$_signal.goTo('!settings.toolbar.dynamicMessages',this.getMessageFromQueue());}},{key:"fastQueueMessage",value:function fastQueueMessage(){var text=arguments.length<=0||arguments[0]===undefined?"":arguments[0];if(!text){return;}
this.pushToQueue(text);}},{key:"setQueue",value:function setQueue(){var list=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];this.queue=list;this.queueInc=0;}},{key:"pushToQueue",value:function pushToQueue(){var list=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];if(list instanceof Array){this.queue=[this.queue].concat(_toConsumableArray(list));}else{this.queue.push(list);}}},{key:"currentQueueInc",value:function currentQueueInc(){if(this.queueInc<this.queue.length-1){this.queueInc++;}else{this.queueInc=0;}}},{key:"getMessageFromQueue",value:function getMessageFromQueue(){if(this.queue.length==0||this.queueActive===false){return null;}
return $_t.getText(this.queue[this.queueInc]);}},{key:"staticMessage",value:function staticMessage(){var text=arguments.length<=0||arguments[0]===undefined?"":arguments[0];this.queueActive=false;$_signal.goTo('!settings.toolbar.staticMessage',text);}},{key:"callback",value:function callback(){this.currentQueueInc();$_signal.goTo('!settings.toolbar.dynamicMessages',this.getMessageFromQueue());}}]);return TickerTapeService;}(_serviceInterfaceEs2.default);exports.default=TickerTapeService;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _serviceInterfaceEs=__webpack_require__(35);var _serviceInterfaceEs2=_interopRequireDefault(_serviceInterfaceEs);var _memoryService=__webpack_require__(36);var _memoryService2=_interopRequireDefault(_memoryService);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var FlagService=function(_ServiceInterface){_inherits(FlagService,_ServiceInterface);_createClass(FlagService,null,[{key:"GLOBAL",get:function get(){return"__GLOBAL__";}}]);function FlagService(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,FlagService);var _this=_possibleConstructorReturn(this,(FlagService.__proto__||Object.getPrototypeOf(FlagService)).call(this));_this.memory=new _memoryService2.default();_this._memoryName="helper_flags";return _this;}
_createClass(FlagService,[{key:"set",value:function set(){var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var value=arguments.length<=1||arguments[1]===undefined?null:arguments[1];var alias=arguments.length<=2||arguments[2]===undefined?FlagService.GLOBAL:arguments[2];var data=this.memory.get(this._memoryName);if(!data){data={};}
if(typeof data[alias]=='undefined'){data[alias]={};}
data[alias][name]=value;this.memory.set(this._memoryName,data);}},{key:"get",value:function get(){var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var alias=arguments.length<=1||arguments[1]===undefined?FlagService.GLOBAL:arguments[1];var data=this.memory.get(this._memoryName);if(!data){return null;}
if(typeof data[alias]=='undefined'){data[alias]={};}
if(typeof data[alias][name]=='undefined'){return null;}
return data[alias][name];}},{key:"showAll",value:function showAll(){var alias=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var data=this.memory.get(this._memoryName);if(alias==null){return data;}
if(typeof data[alias]=='undefined'){data[alias]={};}
return data[alias];}}]);return FlagService;}(_serviceInterfaceEs2.default);exports.default=FlagService;},function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var HistoryRouter=function(){function HistoryRouter(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,HistoryRouter);this.localHistoryRoutes=[];this.localHistoryArgs=[];this.maxLength=5;this.init(data);}
_createClass(HistoryRouter,[{key:'init',value:function init(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];for(var key in data){this[key]=data[key];}}},{key:'push',value:function push(){var aliasRoute=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var args=arguments.length<=1||arguments[1]===undefined?[]:arguments[1];if(aliasRoute===null){return null;}
this.localHistoryRoutes.unshift(aliasRoute);this.localHistoryArgs.unshift(args);this.localHistoryRoutes.splice(this.maxLength);this.localHistoryArgs.splice(this.maxLength);}},{key:'find',value:function find(){var aliasRoute=arguments.length<=0||arguments[0]===undefined?null:arguments[0];return this.localHistoryRoutes.indexOf(aliasRoute);}},{key:'empty',value:function empty(){return this.localHistoryRoutes.length==0;}},{key:'getByName',value:function getByName(){var aliasRoute=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var find=this.find(aliasRoute);if(find==-1){return null;}
return{alias:this.localHistoryRoutes[find],args:this.localHistoryArgs[find]};}},{key:'getLast',value:function getLast(){if(this.localHistoryRoutes.length==0){return null;}
return{alias:this.localHistoryRoutes[0],args:this.localHistoryArgs[0]};}},{key:'getLastAlias',value:function getLastAlias(){if(this.localHistoryRoutes.length==0){return null;}
return this.localHistoryRoutes[0];}},{key:'getCurrentState',value:function getCurrentState(){var _getLastAlias$split=this.getLastAlias().split('.');var _getLastAlias$split2=_slicedToArray(_getLastAlias$split,2);var component=_getLastAlias$split2[0];var parent=_getLastAlias$split2[1];return parent;}},{key:'getCurrentSubState',value:function getCurrentSubState(){var _getLastAlias$split3=this.getLastAlias().split('.');var _getLastAlias$split4=_slicedToArray(_getLastAlias$split3,3);var component=_getLastAlias$split4[0];var parent=_getLastAlias$split4[1];var children=_getLastAlias$split4[2];return children;}},{key:'getStateByIndex',value:function getStateByIndex(index){if(this.localHistoryRoutes.length<=index){return null;}
return this.localHistoryRoutes;}}]);return HistoryRouter;}();exports.default=HistoryRouter;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var SignalInitializationInterface=function(){function SignalInitializationInterface(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,SignalInitializationInterface);this._routers={};this._defaultState="main";}
_createClass(SignalInitializationInterface,[{key:"setRouters",value:function setRouters(data){this._routers=data;}},{key:"hasRouter",value:function hasRouter(){var namespace=arguments.length<=0||arguments[0]===undefined?null:arguments[0];return this._routers[__RunPartialApplication.type].signals[namespace]!==undefined;}},{key:"getRouter",value:function getRouter(){var namespace=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(!this.hasRouter(namespace)){return null;}
return this._routers[__RunPartialApplication.type].signals[namespace];}},{key:"getDefault",value:function getDefault(){return this.getRouter(this._defaultState);}},{key:"showAll",value:function showAll(){return this._routers;}}]);return SignalInitializationInterface;}();exports.default=SignalInitializationInterface;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var SignalRouterInterface=function(){function SignalRouterInterface(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,SignalRouterInterface);this._getRouter=null;this.init(data);}
_createClass(SignalRouterInterface,[{key:"init",value:function init(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];for(var key in data){this[key]=data[key];}}},{key:"getRouter",value:function getRouter(){var namespace=arguments.length<=0||arguments[0]===undefined?null:arguments[0];return this._getRouter.call($_signal_init,namespace);}},{key:"goTo",value:function goTo(){var namespace=arguments.length<=0||arguments[0]===undefined?null:arguments[0];}},{key:"back",value:function back(){}}]);return SignalRouterInterface;}();exports.default=SignalRouterInterface;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var SignalReduceInterface=function SignalReduceInterface(){_classCallCheck(this,SignalReduceInterface);};exports.default=SignalReduceInterface;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _signalInitializationInterfaceEs=__webpack_require__(61);var _signalInitializationInterfaceEs2=_interopRequireDefault(_signalInitializationInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var SignalInitialization=function(_SignalInitialization){_inherits(SignalInitialization,_SignalInitialization);function SignalInitialization(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,SignalInitialization);return _possibleConstructorReturn(this,(SignalInitialization.__proto__||Object.getPrototypeOf(SignalInitialization)).call(this,data));}
return SignalInitialization;}(_signalInitializationInterfaceEs2.default);exports.default=SignalInitialization;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _signalReduceInterfaceEs=__webpack_require__(63);var _signalReduceInterfaceEs2=_interopRequireDefault(_signalReduceInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var SignalReducer=function(_SignalReduceInterfac){_inherits(SignalReducer,_SignalReduceInterfac);function SignalReducer(router){_classCallCheck(this,SignalReducer);var _this=_possibleConstructorReturn(this,(SignalReducer.__proto__||Object.getPrototypeOf(SignalReducer)).call(this));_this.router=router;_this.history=$_signal_history;_this.lastReduce=null;_this._listTypes=["onlyList","group","many"];return _this;}
_createClass(SignalReducer,[{key:"execute",value:function execute(){var type=arguments.length<=0||arguments[0]===undefined?1:arguments[0];var issue=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var args=arguments.length<=2||arguments[2]===undefined?[]:arguments[2];if(Object.keys(this._listTypes).indexOf(type.toString())==-1){return null;}
var method="_"+this._listTypes[type]+"Executive";try{return this[method](issue,args);}catch(e){$_log.error("Exception found in \""+method+"\" reduce state!",e);}}},{key:"_onlyListExecutive",value:function _onlyListExecutive(){var issue=arguments.length<=0||arguments[0]===undefined?null:arguments[0];for(var i=0,l=issue.length;i<l;i++){if(this.history.getLastAlias().indexOf(issue[i])!==-1){$_log.error("EXEC reduce blocked from \""+this.lastReduce+"\"");return true;}}
return false;}},{key:"_groupExecutive",value:function _groupExecutive(){var issue=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var args=arguments.length<=1||arguments[1]===undefined?[]:arguments[1];$_log.log("EXEC \""+this.history.getLastAlias()+"\" STATE REDUCER -- _groupExecutive",issue,args);}},{key:"_manyExecutive",value:function _manyExecutive(){var issues=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var args=arguments.length<=1||arguments[1]===undefined?[]:arguments[1];var keys=Object.keys(issues);for(var i=0,len=keys.length;i<len;i++){if(issues[keys[i]].indexHistory!==undefined){if(issues[keys[i]].indexHistory instanceof Array&&issues[keys[i]].indexHistory.indexOf(this.history.find(keys[i]))!==-1){return this.__exec(issues,keys,i,args);}if(!(issues[keys[i]].indexHistory instanceof Array)&&this.history.find(keys[i])===issues[keys[i]].indexHistory){return this.__exec(issues,keys,i,args);}
continue;}
if(this.history.getLastAlias().indexOf(keys[i])!==-1){return this.__exec(issues,keys,i,args);}}
return false;}},{key:"__exec",value:function __exec(issues,keys,i,args){$_log.error("EXEC \""+this.lastReduce+"\" with \""+keys[i]+"\" STATE REDUCER -- _manyExecutive",issues[keys[i]],args);this.router.executeActions(issues[keys[i]],args);return!(issues[keys[i]].resume!==undefined&&issues[keys[i]].resume===true);}}]);return SignalReducer;}(_signalReduceInterfaceEs2.default);exports.default=SignalReducer;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _signalRouterInterfaceEs=__webpack_require__(62);var _signalRouterInterfaceEs2=_interopRequireDefault(_signalRouterInterfaceEs);var _signalReducerEs=__webpack_require__(65);var _signalReducerEs2=_interopRequireDefault(_signalReducerEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var _stateData={};var _METHODS="m";var _EXECUTE_SIGNALS="x";var _EXECUTE_ORDERS="o";var _EVENTS="e";var _FLAGS="f";var _SERVICES="s";var _DEFAULT_ORDERS=["services","executeStates","flags","methods","events"];var SignalRouter=function(_SignalRouterInterfac){_inherits(SignalRouter,_SignalRouterInterfac);function SignalRouter(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,SignalRouter);var _this=_possibleConstructorReturn(this,(SignalRouter.__proto__||Object.getPrototypeOf(SignalRouter)).call(this,data));_this.history=$_signal_history;_this._hidden=false;_this.reducer=new _signalReducerEs2.default(_this);return _this;}
_createClass(SignalRouter,[{key:"goTo",value:function goTo(){var namespace=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var changeHistory=false;namespace=this._findVariableState(namespace);namespace=this.shortNamespace(namespace);for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}
var _lastState2=this._lastState(namespace,args);var _lastState3=_slicedToArray(_lastState2,2);namespace=_lastState3[0];changeHistory=_lastState3[1];var _routerData=this.checkReduce(namespace,args);if(changeHistory===true){this.writeLastHistory(namespace,args);}
if(_routerData===false){$_log.error("Reducer is blocked state - "+namespace+" after execute current state of \""+this.history.getLastAlias()+"\"");return null;}
if(!this._hidden){$_log.log.apply($_log,["-- SIGNAL: "+namespace+" "].concat(args));}
if(!_routerData){$_log.error("Router with \""+namespace+"\" namespace not found!");return null;}
this.executeActions(_routerData,args);}},{key:"exec",value:function exec(){var namespace=arguments.length<=0||arguments[0]===undefined?null:arguments[0];this._hidden=true;for(var _len2=arguments.length,args=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){args[_key2-1]=arguments[_key2];}
this.goTo.apply(this,[namespace].concat(args));this._hidden=false;}},{key:"shortNamespace",value:function shortNamespace(){var namespace=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(namespace.indexOf('.')!==0&&namespace.indexOf('..')==-1||this.history.empty()){return namespace;}
var _history$getLastAlias=this.history.getLastAlias().split('.');var _history$getLastAlias2=_slicedToArray(_history$getLastAlias,3);var currAlias=_history$getLastAlias2[0];var currParent=_history$getLastAlias2[1];var currChild=_history$getLastAlias2[2];var _namespace$split=namespace.split('.');var _namespace$split2=_slicedToArray(_namespace$split,3);var alias=_namespace$split2[0];var parent=_namespace$split2[1];var child=_namespace$split2[2];if(!child&&!parent&&!alias){return currAlias+"."+currParent+"."+currChild;}else
if(child&&!parent&&!alias){return currAlias+"."+currParent+"."+child;}else
if(!child&&parent&&!alias){return currAlias+"."+parent;}else
if(child&&parent&&!alias){return currAlias+"."+parent+"."+child;}else
if(child&&!parent&&alias){return alias+"."+currParent+"."+child;}
$_log.error("No found child \""+namespace+"\" of history");return namespace;}},{key:"_findVariableState",value:function _findVariableState(namespace){if(namespace.indexOf("{")==-1){return namespace;}
var protocolNextAction=$_services.getService("ProtocolService").getProtocolNextAction();if(namespace.indexOf("{protocolNextAction}")!=-1){return namespace.replace("{protocolNextAction}",protocolNextAction);}
var nextAction=$_services.getService("ProtocolService").getNextAction();if(namespace.indexOf("{nextAction}")!=-1){return namespace.replace("{nextAction}",nextAction);}
var currentAction=$_services.getService("ProtocolService").getCurrentAction();if(namespace.indexOf("{currentAction}")!=-1){return namespace.replace("{currentAction}",currentAction);}
$_log.error("Not found variable in state execute! In state -> "+namespace);return;}},{key:"_lastState",value:function _lastState(namespace,args){var changeHistory=false;if(namespace.indexOf('+')==0){namespace=namespace.substr(1);}
if(namespace.indexOf('!+')==0){namespace=namespace.substr(2);}
if(namespace.indexOf('!')==0||namespace.indexOf('-')==0){namespace=namespace.substr(1);}else{changeHistory=true;}
return[namespace,changeHistory];}},{key:"writeLastHistory",value:function writeLastHistory(namespace,args){this.history.push(namespace,args);$_log.warning(" =>=>=>=>= Change CURRENT SIGNAL to -> "+namespace);}},{key:"checkReduce",value:function checkReduce(namespace,args){var data=this.getRouter(namespace);if(namespace.indexOf('!')==0||this.history.empty()){return data;}
if(data===null){return null;}
if(data.reducers===undefined||this.reducer===null){return data;}
this.reducer.lastReduce=namespace;if(this.reducer.execute(data.reducers.type,data.reducers.execute,args)===true){return false;}
return data;}},{key:"executeActions",value:function executeActions(_routerData,args){var _listOrders=getClone(_DEFAULT_ORDERS);try{if(this.getArrayType(_routerData,_EXECUTE_ORDERS)!==null){_listOrders=_routerData[_EXECUTE_ORDERS];}
for(var i=0,l=_listOrders.length;i<l;i++){var _methodName="_"+_listOrders[i]+"Execute";if(typeof this[_methodName]!='function'){$_log.error("Method \""+_methodName+"\" in SIGNAL Router not found!");return null;}
this[_methodName](_routerData,args);}}catch(e){$_log.error(e);}}},{key:"_flagsExecute",value:function _flagsExecute(_routerData,_args){if(this.getArrayType(_routerData,_FLAGS)===null){return;}
var _length=_routerData[_FLAGS].length;for(var _j=0;_j<_length;_j++){if(!this._hidden){$_log.log('SET SIGNAL -> _FLAGS',_routerData[_FLAGS][_j][0],this._parseBoolean(this._getArguments(_args,_routerData[_FLAGS][_j][1])));}
HelperFlags.set(_routerData[_FLAGS][_j][0],this._parseBoolean(this._getArguments(_args,_routerData[_FLAGS][_j][1])),HelperFlags.GLOBAL);}}},{key:"_methodsExecute",value:function _methodsExecute(_routerData,_args){if(this.getArrayType(_routerData,_METHODS)===null){return;}
var _length=_routerData[_METHODS].length;for(var _i=0;_i<_length;_i++){var _ev=_routerData[_METHODS][_i];if(_ev.length==0){return;}
if(_ev[0].indexOf("::")==-1){var _e=_ev[0].split('.');var _context=window[_e[0]];if(_routerData[_METHODS][_i][1]!==undefined&&_routerData[_METHODS][_i][1].length>0){if(!this._hidden){$_log.log("SET SIGNAL -> _METHODS => \""+_e[0]+"::"+_e[1]+"\"",_args,this._getArguments(_args,_routerData[_METHODS][_i][1]));}
if(typeof _context[_e[1]]=="function"){_context[_e[1]].apply(_context,this._getArguments(_args,_routerData[_METHODS][_i][1]));}else{$_log.error("Can not find method - \""+_e[0]+"::"+_e[1]+"\" in Class!");}}else{if(!this._hidden){$_log.log("SET SIGNAL -> _METHODS => \""+_e[0]+"::"+_e[1]+"\"");}
if(typeof _context[_e[1]]=="function"){_context[_e[1]]();}else{$_log.error("Can not find method - \""+_e[0]+"::"+_e[1]+"\" in Class!");}}}}}},{key:"_servicesExecute",value:function _servicesExecute(_routerData,_args){if(this.getArrayType(_routerData,_SERVICES)===null){return;}
var _length=_routerData[_SERVICES].length;for(var _i=0;_i<_length;_i++){var _ev=_routerData[_SERVICES][_i];if(_ev.length==0){return;}
var _e=_ev[0].split('.');var _context=$_services.getService(_e[0]);if(_context===null){$_log.error("State for \"getService('"+_e[0]+"')\" not found!");return null;}
if(_routerData[_SERVICES][_i][1]!==undefined&&_routerData[_SERVICES][_i][1].length>0){if(!this._hidden){$_log.log("SET SIGNAL -> _SERVICES => \""+_e[0]+"::"+_e[1]+"\"",_args,this._getArguments(_args,_routerData[_SERVICES][_i][1]));}
if(typeof _context[_e[1]]=="function"){_context[_e[1]].apply(_context,this._getArguments(_args,_routerData[_SERVICES][_i][1]));}else{$_log.error("Can not find method - \""+_e[0]+"::"+_e[1]+"\" in Class!");}}else{if(!this._hidden){$_log.log("SET SIGNAL -> _SERVICES => \""+_e[0]+"::"+_e[1]+"\"");}
if(typeof _context[_e[1]]=="function"){_context[_e[1]]();}else{$_log.error("Can not find method - \""+_e[0]+"::"+_e[1]+"\" in Class!");}}}}},{key:"_eventsExecute",value:function _eventsExecute(_routerData,_args){if(this.getArrayType(_routerData,_EVENTS)===null){return;}
var _length=_routerData[_EVENTS].length;for(var _u=0;_u<_length;_u++){if(!this._hidden){$_log.log('SET SIGNAL -> _EVENTS',_routerData[_EVENTS][_u][0],this._parseBoolean(this._getArguments(_args,_routerData[_EVENTS][_u][1])));}
$_event.setEvent.apply($_event,[_routerData[_EVENTS][_u][0]].concat(_toConsumableArray(this._getArguments(_args,_routerData[_EVENTS][_u][1]))));}}},{key:"_executeStatesExecute",value:function _executeStatesExecute(_routerData,_args){if(this.getArrayType(_routerData,_EXECUTE_SIGNALS)===null){return;}
var _length=_routerData[_EXECUTE_SIGNALS].length;for(var _u=0;_u<_length;_u++){if(!this._hidden){$_log.log("SET SIGNAL -> _SIGNALS => \""+_routerData[_EXECUTE_SIGNALS][_u][0]+"\"",this._getArguments(_args,_routerData[_EXECUTE_SIGNALS][_u][1]));}
this.goTo.apply(this,["!"+_routerData[_EXECUTE_SIGNALS][_u][0]].concat(_toConsumableArray(this._getArguments(_args,_routerData[_EXECUTE_SIGNALS][_u][1]))));}}},{key:"_getArguments",value:function _getArguments(args,list){var _data=[];if(!(list instanceof Array)||!(list instanceof Array)&&list.length==0){return _data;}
for(var _i=0,_l=list.length;_i<_l;_i++){if(typeof list[_i]=="number"){_data.push(args[list[_i]]);}else{_data.push(this._parseBoolean(list[_i]));}}
return _data;}},{key:"getArrayType",value:function getArrayType(routerData,type){if(routerData===null||routerData[type]===undefined){return null;}
if(!(routerData[type]instanceof Array)||routerData[type].length==0){return null;}
return routerData[type];}},{key:"_parseBoolean",value:function _parseBoolean(string){try{return JSON.parse(string);}catch(e){return string;}}},{key:"back",value:function back(){if(this.history.empty()){return null;}
var history=this.history.getLast();try{this.goTo.apply(this,[history.alias].concat(_toConsumableArray(history.args)));}catch(e){$_log.error("Error in back forward state",e);}}}]);return SignalRouter;}(_signalRouterInterfaceEs2.default);exports.default=SignalRouter;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var ConditionInterface=function(){_createClass(ConditionInterface,null,[{key:"_DEFAULT",get:function get(){return"default";}}]);function ConditionInterface(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,ConditionInterface);this.context=null;this.condition=[];this.executives=[];this.params=[];this._lastID=0;this._bufferDataCondition=[];this._callbacksStatement={};}
_createClass(ConditionInterface,[{key:"parseCondition",value:function parseCondition(listConditions){var def=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];for(var i in listConditions){var _params=listConditions[i].params!==undefined?listConditions[i].params.join(','):def.params!==undefined?def.params instanceof Array?def.params.join(","):def.params:'';var _condition=listConditions[i].condition!==undefined?listConditions[i].condition:'false';var _exec=listConditions[i].exec!==undefined?listConditions[i].exec:def.exec!==undefined?def.exec:null;this.params.push(_params.split(','));this.executives.push(_exec);this.condition.push(new Function(_params,'return '+this._parseFlagsInString(_condition)));}}},{key:"getParams",value:function getParams(){var id=arguments.length<=0||arguments[0]===undefined?this._lastID:arguments[0];return this.params[id]==undefined?[]:this.params[id];}},{key:"getCondition",value:function getCondition(){return array_range(0,this.condition.length,1);}},{key:"getExecutive",value:function getExecutive(id){this._lastID=id;return this.executives[id]==undefined?null:this.executives[id];}},{key:"_parseFlagsInString",value:function _parseFlagsInString(str){var re=/global\.(.*?)(\s{1})/g;var m;while((m=re.exec(str))!==null){str=str.replace(m[0],"HelperFlags.getGlobal(\""+m[1]+"\")");if(m.index===re.lastIndex){re.lastIndex++;}}
return str;}},{key:"executeCondition",value:function executeCondition(idCondition){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}
this._bufferDataCondition=args;try{return this.condition[idCondition].apply(null,args);}catch(e){$_log.error('Error Condition',e);return false;}}},{key:"parseArguments",value:function parseArguments(args,data){var _startParams=this.getParams(null);var re=/{([^\{\}]*.[^\{\}]*)}/gmi;var _args=[];for(var _o=0,_ol=args.length;_o<_ol;_o++){if(typeof args[_o]=="string"&&args[_o].indexOf('{')!=-1){var _str=args[_o];var m;while((m=re.exec(_str))!==null){if(m.index===re.lastIndex){re.lastIndex++;}
var _func=new Function(_startParams,'return '+m[1]);_str=_str.replace(m[0],_func.apply(null,data));}
_args.push(_str);}else{_args.push(args[_o]);}}
return _args;}},{key:"setCallback",value:function setCallback(idCallback,callbackStatements){this._callbacksStatement[idCallback]=callbackStatements;}},{key:"runCallback",value:function runCallback(idCallback){if(this._callbacksStatement[idCallback]==undefined){return null;}
for(var _len2=arguments.length,args=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){args[_key2-1]=arguments[_key2];}
this._callbacksStatement[idCallback].apply(this.context!==null?window[this.context]!=undefined?window[this.context]:null:null,args);}}]);return ConditionInterface;}();exports.default=ConditionInterface;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _conditionInterfaceEs=__webpack_require__(67);var _conditionInterfaceEs2=_interopRequireDefault(_conditionInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var ReelsConditions=function(_ConditionInterface){_inherits(ReelsConditions,_ConditionInterface);function ReelsConditions(conditions,instanceName){_classCallCheck(this,ReelsConditions);var _this=_possibleConstructorReturn(this,(ReelsConditions.__proto__||Object.getPrototypeOf(ReelsConditions)).call(this,{}));_this.context=instanceName;_this.parseCondition(conditions);return _this;}
_createClass(ReelsConditions,[{key:"setParams",value:function setParams(params){this.execute(params.list,params.scatter);}},{key:"execute",value:function execute(list,scatter){var _typesSymbols={};for(var _i=0,_l=list.length;_i<_l;_i++){for(var _j=0,_lj=list[_i].length;_j<_lj;_j++){for(var _e=0,_le=this.getCondition().length;_e<_le;_e++){var _symbol=list[_i][_j];if(this.executeCondition(_e,_symbol,_i,_j,scatter)){var _data=this.getExecutive(_e);if(_typesSymbols[_i]==undefined){_typesSymbols[_i]={};}
if(_typesSymbols[_i][_j]==undefined){_typesSymbols[_i][_j]={};}
_typesSymbols[_i][_j][_symbol]=_data[1];}}}}
this.runCallback(_conditionInterfaceEs2.default._DEFAULT,list,_typesSymbols);}}]);return ReelsConditions;}(_conditionInterfaceEs2.default);exports.default=ReelsConditions;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _conditionInterfaceEs=__webpack_require__(67);var _conditionInterfaceEs2=_interopRequireDefault(_conditionInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var ReelsAnimationConditions=function(_ConditionInterface){_inherits(ReelsAnimationConditions,_ConditionInterface);function ReelsAnimationConditions(conditions,instanceName){_classCallCheck(this,ReelsAnimationConditions);var _this=_possibleConstructorReturn(this,(ReelsAnimationConditions.__proto__||Object.getPrototypeOf(ReelsAnimationConditions)).call(this,{}));_this.context=instanceName;_this.parseCondition(conditions);return _this;}
_createClass(ReelsAnimationConditions,[{key:"setParams",value:function setParams(params){this.execute(params.list,params.countWin,params.reels,params.scatter);}},{key:"execute",value:function execute(list,countWin,reels,scatter){var _newArray=[];for(var _i=0,_l=list.length;_i<_l;_i++){var _position=list[_i];var _count=countWin[_i][0];var _countWin=countWin[_i][1];var _symbol=reels[_position[0]][_position[1]];var _exec=false;var _data=null;for(var i=0,l=this.getCondition().length;i<l;i++){if(this.executeCondition(i,_symbol,_count,_countWin,scatter)){_data=this.getExecutive(i);_position[2]=_data[1];_exec=true;break;}else{_position[2]=ModelSlotMachine._DEFAULT_ANIMATION;}}
_newArray.push(_position);}
if(_exec===true&&_data!==null){_data=this.parseArguments(_data,this._bufferDataCondition);this.runCallback(_data[0]!=null?_data[0]:_conditionInterfaceEs2.default._DEFAULT,_newArray,_data[2]!==undefined?_data[2]:undefined);}else{this.runCallback(_conditionInterfaceEs2.default._DEFAULT,list);}}}]);return ReelsAnimationConditions;}(_conditionInterfaceEs2.default);exports.default=ReelsAnimationConditions;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _conditionInterfaceEs=__webpack_require__(67);var _conditionInterfaceEs2=_interopRequireDefault(_conditionInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var StartConditions=function(_ConditionInterface){_inherits(StartConditions,_ConditionInterface);function StartConditions(conditions,instanceName){_classCallCheck(this,StartConditions);var _this=_possibleConstructorReturn(this,(StartConditions.__proto__||Object.getPrototypeOf(StartConditions)).call(this,{}));_this.context=instanceName;_this.parseCondition(conditions);return _this;}
_createClass(StartConditions,[{key:"execute",value:function execute(){var _typeStart=null;for(var _e=0,_le=this.getCondition().length;_e<_le;_e++){if(this.executeCondition(_e)){var _data=this.getExecutive(_e);if(_data instanceof Array&&_data[0]!==undefined){_typeStart=_data[0];break;}}}
if(_typeStart===null){$_log.error("Can not check type of application headers");return null;}
this.runCallback(_typeStart);}}]);return StartConditions;}(_conditionInterfaceEs2.default);exports.default=StartConditions;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _conditionInterfaceEs=__webpack_require__(67);var _conditionInterfaceEs2=_interopRequireDefault(_conditionInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var AudioConditions=function(_ConditionInterface){_inherits(AudioConditions,_ConditionInterface);function AudioConditions(conditions,params){var defParams=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];_classCallCheck(this,AudioConditions);var _this=_possibleConstructorReturn(this,(AudioConditions.__proto__||Object.getPrototypeOf(AudioConditions)).call(this,{}));_this._params=params;_this.context=null;_this.parseCondition(conditions,defParams);return _this;}
_createClass(AudioConditions,[{key:"execute",value:function execute(){for(var i=0,l=this.getCondition().length;i<l;i++){if(this.executeCondition.apply(this,[i].concat(_toConsumableArray(this._params)))){var _getExecutive=this.getExecutive(i);var _getExecutive2=_slicedToArray(_getExecutive,2);var nameCallback=_getExecutive2[0];var listAudio=_getExecutive2[1];this.runCallback(nameCallback,listAudio,this._params);return;}}
this.runCallback(_conditionInterfaceEs2.default._DEFAULT);}}]);return AudioConditions;}(_conditionInterfaceEs2.default);exports.default=AudioConditions;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var TransferInterface=function(){_createClass(TransferInterface,null,[{key:"TYPE_POST",get:function get(){return"POST";}},{key:"TYPE_GET",get:function get(){return"GET";}}]);function TransferInterface(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,TransferInterface);this.init(data);this.promiseSuccess=null;this.promiseError=null;}
_createClass(TransferInterface,[{key:"init",value:function init(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];for(var key in data){this[key]=data[key];}}},{key:"send",value:function send(){var url=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var data=arguments.length<=1||arguments[1]===undefined?null:arguments[1];var type=arguments.length<=2||arguments[2]===undefined?TransferInterface.TYPE_POST:arguments[2];}},{key:"setPromiseSuccess",value:function setPromiseSuccess(){var promiseSuccess=arguments.length<=0||arguments[0]===undefined?null:arguments[0];this.promiseSuccess=promiseSuccess;}},{key:"setPromiseError",value:function setPromiseError(){var promiseError=arguments.length<=0||arguments[0]===undefined?null:arguments[0];this.promiseError=promiseError;}},{key:"createCountOfInstance",value:function createCountOfInstance(){return $_required.getCountImage();}},{key:"ifStatusRestart",value:function ifStatusRestart(){var status=arguments.length<=0||arguments[0]===undefined?"OK":arguments[0];if(status==="RESTART"){$_signal.goTo("protocol.freebets.reload");return false;}
return true;}}]);return TransferInterface;}();exports.default=TransferInterface;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _transferInterfaceEs=__webpack_require__(72);var _transferInterfaceEs2=_interopRequireDefault(_transferInterfaceEs);var _componentInterface=__webpack_require__(5);var _componentInterface2=_interopRequireDefault(_componentInterface);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var core=void 0;var TransferFetch=function(_TransferInterface){_inherits(TransferFetch,_TransferInterface);function TransferFetch(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,TransferFetch);var _this=_possibleConstructorReturn(this,(TransferFetch.__proto__||Object.getPrototypeOf(TransferFetch)).call(this,data));_this._requestTimeout=null;_this._timeRequestTimeout=10*1000;core=_this;_this._noInternetMessage="problem with player's Internet connection";_this._startGameError=false;_this.requestID=null;_this._timeLastSuccessRequest=0;_this._noInternetFlag=false;_this._timeMaxLastRequest=10*1000;_this._timeMaxFailRequest=60*1000;_this.component=new _componentInterface2.default();return _this;}
_createClass(TransferFetch,[{key:"checkStatusResponse",value:function checkStatusResponse(response){if(response.status==503){throw new Error(503);}
if(response.status>=200&&response.status<300){return response;}else{$_log.error("Response error - StatusCode : "+response.status,response.statusText);core.clearRequestTimeout();var error=new Error(response.status);error.response=response.status.toString();throw error;}}},{key:"parseJSON",value:function parseJSON(response){return response.json();}},{key:"checkStatusProtocol",value:function checkStatusProtocol(response,reject){if(response!==null&&response.status!==undefined&&response.status.code=="OK"){return response;}else if(response.status.code!=="OK"){core._timeLastSuccessRequest=+new Date();core._noInternetFlag=false;var error=new Error(response.status.code);error.message=response.status.message;error.response=response.status.code;error.type=response.status.type;error.data=response;throw error;}else if(response!=null){throw new Error($_t.get(response.status.code));}else{var _error=new Error("404");_error.response=core._noInternetMessage;throw _error;}
return response;}},{key:"checkProtocolError",value:function checkProtocolError(response){if(response.context===null&&response.status.code=="OK"){var error=new Error();error.message=null;error.response="API_PROTOCOL_ERROR";error.type="crit";error.data=response;throw error;}
return response;}},{key:"clearRequestTimeout",value:function clearRequestTimeout(){var hide=arguments.length<=0||arguments[0]===undefined?true:arguments[0];if(hide&&!core._noInternetFlag){$_services.getService("PopupService").removeInfoPopup("internet");$_services.getService("PopupService").removeInfoPopup("protocol");$_services.getService("PopupService").removeErrorPopup("protocol");$_services.getService("PopupService").removeErrorPopup("internet");$_services.getService("PopupService").removeErrorPopup("server");}
if(this._requestTimeout!==null){clearTimeout(this._requestTimeout);this._requestTimeout=null;}}},{key:"requestTimeout",value:function requestTimeout(){this._requestTimeout=setTimeout(function(){if(!$_services.getService("PopupService").hasCritError()){$_services.getService("PopupService").addInfoPopup("internet",{message:$_t.getText(core._noInternetMessage),name:"protocol-nocrit"});}},this._timeRequestTimeout);}},{key:"send",value:function send(){var url=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var data=arguments.length<=1||arguments[1]===undefined?null:arguments[1];var type=arguments.length<=2||arguments[2]===undefined?_transferInterfaceEs2.default.TYPE_POST:arguments[2];if(this._startGameError){return;}
this.clearRequestTimeout(false);this.requestTimeout();self.fetch(url,{method:type,body:JSON.stringify(data)}).then(this.checkStatusResponse).then(this.parseJSON).then(this.checkStatusProtocol).then(function(response){core._timeLastSuccessRequest=+new Date();core._noInternetFlag=false;$_services.getService("PopupService").removeInfoPopup("internet");core.clearRequestTimeout();return response;}).then(this.promiseSuccess).catch(this.protocolError);}},{key:"error",value:function error(response){core.protocolError(response);}},{key:"protocolError",value:function protocolError(response){core.clearRequestTimeout();if(response instanceof TypeError){response.response=core._noInternetMessage;core.requestTimeout();}
if(response.response==="RESTART"){HelperFlags.set("noSpin",true);if(response.data&&response.data.freebet){core.component.getStateComponent("FREEBETS").setFinished();}else if(response.data&&!response.data.freebet){if(!core.component.getStateComponent("FREEBETS").isFinished()){core.component.getStateComponent("FREEBETS").setDeleted();}
return;}
core.promiseSuccess(response.data);return;}
HelperFlags.set("noSpin",null);$_log.warning('no internet',$_log.getTimeLog(+new Date()-core._timeLastSuccessRequest));if(core._timeLastSuccessRequest<+new Date()-core._timeMaxFailRequest){$_services.getService("PopupService").removeInfoPopup("internet");$_services.getService("PopupService").addErrorPopup("internet",{message:$_t.get("PLAYER_DISCONNECTED")});core._startGameError=true;core._noInternetFlag=true;core.promiseError(response.data);return;}
if(core._timeLastSuccessRequest<+new Date()-core._timeMaxLastRequest){if(!$_services.getService("PopupService").hasCritError()){$_services.getService("PopupService").addInfoPopup("internet",{message:$_t.getText(core._noInternetMessage),name:"protocol-nocrit"});}
core._noInternetFlag=true;core.promiseError(response.data);return;}
if(response.response==core._noInternetMessage){core.promiseError(response.data);return;}
if(response.response=="PLAYER_DISCONNECTED"){core._startGameError=true;}
if(response instanceof Error){if(response.type=="crit"){core._startGameError=true;$_services.getService("PopupService").removeInfoPopup("internet");$_services.getService("PopupService").addErrorPopup("server",{message:$_t.get(response.response,response.message)});core.promiseError(response.data);}else{$_services.getService("PopupService").addInfoPopup("server",{message:$_t.get(response.response,response.message)});core.promiseSuccess(response.data);return;}}
if(response.data&&response.data.command=="start"&&response.type=="crit"){core._startGameError=true;return false;}
if(response instanceof Error&&response.data&&response.data.context){core.promiseSuccess(response.data);}
core.promiseError(response);}}]);return TransferFetch;}(_transferInterfaceEs2.default);exports.default=TransferFetch;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _transferInterfaceEs=__webpack_require__(72);var _transferInterfaceEs2=_interopRequireDefault(_transferInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var TransferJSONP=function(_TransferInterface){_inherits(TransferJSONP,_TransferInterface);function TransferJSONP(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,TransferJSONP);var _this=_possibleConstructorReturn(this,(TransferJSONP.__proto__||Object.getPrototypeOf(TransferJSONP)).call(this,data));_this.jsonpLink=_this.actionCurlUrl;_this.instanceName="$_transfer_JSONP_"+_this.createCountOfInstance();window[_this.instanceName]=_this;_this.cacheScript=null;return _this;}
_createClass(TransferJSONP,[{key:"_createScript",value:function _createScript(){var url=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var data=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var method=arguments.length<=2||arguments[2]===undefined?"post":arguments[2];this.cacheScript=document.createElement("script");this.cacheScript.type="text/javascript";this.cacheScript.async=true;this.cacheScript.onerror=this.error.bind(this);this.cacheScript.src=this.jsonpLink.format(url)+"&type=JSONP&callback="+this.instanceName+".callback&method="+method+"&data="+encodeURIComponent(JSON.stringify(data));document.body.appendChild(this.cacheScript);}},{key:"_cleanScript",value:function _cleanScript(){if(this.cacheScript!==null){document.body.removeChild(this.cacheScript);this.cacheScript=null;}}},{key:"_checkStatusProtocol",value:function _checkStatusProtocol(response){if(response!=null&&response.status!==undefined&&response.status.code=="OK"){return true;}else if(response!=null&&this.ifStatusRestart(response.status.code)){$_signal.goTo('!popup.errors.system',{message:$_t.get(response.status.code),name:"protocol"});$_log.error("Response - \"protocol\" error - Status: code - "+response.status.code+", message: "+response.status.message);}else{$_signal.goTo('!popup.errors.system',{message:$_t.get("problem with player's Internet connection"),name:"protocol"});}
return false;}},{key:"send",value:function send(){var url=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var data=arguments.length<=1||arguments[1]===undefined?null:arguments[1];var type=arguments.length<=2||arguments[2]===undefined?_transferInterfaceEs2.default.TYPE_POST:arguments[2];this._createScript(url,data,type.toLowerCase());}},{key:"callback",value:function callback(response){this._cleanScript();if(this.noStatus===undefined&&this._checkStatusProtocol(response)&&this.promiseSuccess!==null){$_signal.goTo('!popup.errors.hideSystem',{name:"protocol"});this.promiseSuccess(response);}}},{key:"error",value:function error(response){if(response){this._checkStatusProtocol(response);}else{$_signal.goTo('!popup.errors.system',{message:$_t.getText("404"),name:"protocol"});}
this.promiseError(response);}}]);return TransferJSONP;}(_transferInterfaceEs2.default);exports.default=TransferJSONP;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _stateInterfaceEs=__webpack_require__(76);var _stateInterfaceEs2=_interopRequireDefault(_stateInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var instance=null;var StateMachine=function(){_createClass(StateMachine,null,[{key:"ROUTER_NEXT",get:function get(){return"router_next";}},{key:"ROUTER_BACK",get:function get(){return"router_back";}},{key:"ROUTER_REPLY",get:function get(){return"router_reply";}},{key:"STATE_FROM",get:function get(){return"from";}}]);function StateMachine(){_classCallCheck(this,StateMachine);if(instance){return instance;}
instance=this;this.orders=[];this._states={};this._components={};this._lastState=null;this._currentState=null;this._nextState=null;this.promise=null;this._queuePromise=[];this._rules={};this._rulesEvents={};this.router=null;this.accessAll="*";this._noContinue=false;}
_createClass(StateMachine,[{key:"setComponentStates",value:function setComponentStates(){var orders=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];var states=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];this.orders.push(orders);this.initStates(states);}},{key:"initStates",value:function initStates(){var config=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var key=void 0;for(key in config){var _config$key=_slicedToArray(config[key],2);var classLink=_config$key[0];var alias=_config$key[1];if(classLink==null){console.error("No found State class "+key+"!");continue;}
this._states[key]=new classLink();this._states[key]._stateName=key;this._states[key].alias=alias;this._states[key]._stateMachine=this;if(!(this._states[key]instanceof _stateInterfaceEs2.default)){console.error("State "+key+" not implement from StateInterface!");}}}},{key:"initOrders",value:function initOrders(){var orders=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];this.orders=orders;}},{key:"setRouter",value:function setRouter(routerInstance){this.router=routerInstance;this.router.stateMachine=this;this.router.subscribe();}},{key:"getRouter",value:function getRouter(){return this.router;}},{key:"setStateComponent",value:function setStateComponent(){var alias=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var instanceClass=arguments.length<=1||arguments[1]===undefined?null:arguments[1];instanceClass.stateMachine=this;this._components[alias]=instanceClass;}},{key:"getStateComponent",value:function getStateComponent(){var alias=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(this._components[alias]==undefined){return null;}
return this._components[alias];}},{key:"getState",value:function getState(){var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var stateInstance=this._states[name];if(stateInstance){return stateInstance;}
return null;}},{key:"initRules",value:function initRules(){var config=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];for(var i=0,l=config.length;i<l;i++){var _config$i=_slicedToArray(config[i],3);var _from=_config$i[0];var _to=_config$i[1];var _event=_config$i[2];if(this._rules[_from]==undefined){this._rules[_from]=[];}
if(this._rules[_from].indexOf(_to)==-1){this._rules[_from].push(_to);}
if(_event){$_event.setStateSubscriber(_event);if(!this._rulesEvents[_event]){this._rulesEvents[_event]={};}
this._rulesEvents[_event][_from]=_to;}}}},{key:"setEvent",value:function setEvent(){var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(this._rulesEvents[name]==undefined){return;}
if(this._rulesEvents[name][this.currentState]==undefined){return;}
this.goToState(this._rulesEvents[name][this.currentState]);}},{key:"checkAccessRules",value:function checkAccessRules(){var nextState=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(this.currentState===null){return true;}
if(this._rules[this.accessAll].indexOf(nextState)!=-1){return true;}
if(nextState==this.accessAll){return true;}
if(this._rules[this.currentState]==undefined){return false;}
if(this._rules[this.currentState].indexOf(nextState)!=-1){return true;}
return false;}},{key:"goToState",value:function goToState(){var stateName=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var ignoreRules=arguments.length<=1||arguments[1]===undefined?false:arguments[1];if(!ignoreRules&&this.checkAccessRules(stateName)===false){console.error("Access denied! From "+this.currentState+" to "+stateName);return;}
if(this.promise==null){this._goToStateExecute(stateName);return;}
if(this._queuePromise.indexOf(stateName)==-1){this._queuePromise.push(stateName);console.debug("Add to history! "+stateName);}}},{key:"_checkNextQueue",value:function _checkNextQueue(resolve,reject){var state=null;try{if(this._queuePromise.length>0){state=this._queuePromise.shift();}
this.promise=null;resolve();if(state){this._goToStateExecute(state);}}catch(e){reject(e);}}},{key:"_goToStateExecute",value:function _goToStateExecute(){var _this=this;var stateName=arguments.length<=0||arguments[0]===undefined?null:arguments[0];this._nextState=stateName;console.log("--> goto from "+this.currentState+" to "+this.nextState);this.promise=null;this.promise=new Promise(function(resolve,reject){var promises=[];promises.push([_this,_this.leave,[]]);promises.push([_this,_this.enter,[]]);promises.push([_this,_this.changeFlags,[]]);promises.push([_this,_this.executeState,[]]);promises.push([_this,_this._checkNextQueue,[]]);_this.queuePromises(promises,resolve,reject,false);});this.promise.catch(function(e){console.error(e);});}},{key:"leave",value:function leave(resolve,reject){var toLeave=this.getState(this.currentState);if(!toLeave){resolve();return;}
toLeave.from=this.currentState;toLeave.to=this.nextState;try{this.executeTransition(toLeave,toLeave.getTransitionOrders(_stateInterfaceEs2.default.TYPE_LEAVE_TRANSITION),resolve,reject);}catch(e){reject(e);}}},{key:"changeFlags",value:function changeFlags(resolve,reject){this._lastState=this.currentState;this._currentState=this.nextState;this._nextState=null;resolve();}},{key:"enter",value:function enter(resolve,reject){var toEnter=this.getState(this.nextState);if(!toEnter){reject("No found next transition State!");return;}
toEnter.from=this.currentState;toEnter.to=this.nextState;try{this.executeTransition(toEnter,toEnter.getTransitionOrders(_stateInterfaceEs2.default.TYPE_ENTER_TRANSITION),resolve,reject);}catch(e){reject(e);}}},{key:"executeState",value:function executeState(resolve,reject){var currentState=this.getState(this.currentState);currentState.from=this.lastState;currentState.to=this.currentState;try{this.executeTransition(currentState,currentState.getTransitionOrders(_stateInterfaceEs2.default.TYPE_EXECUTIVE),resolve,reject);}catch(e){reject(e);}}},{key:"executeTransition",value:function executeTransition(instance,listEvents,resolve,reject){var promises=[];for(var i=0,l=listEvents.length;i<l;i++){promises.push([instance,instance.executeTransition,[listEvents[i]]]);}
this.queuePromises(promises,resolve,reject,true);}},{key:"goToRouter",value:function goToRouter(){var type=arguments.length<=0||arguments[0]===undefined?StateMachine.ROUTER_NEXT:arguments[0];var important=arguments.length<=1||arguments[1]===undefined?false:arguments[1];var router=this.getRouter();if(router===null){console.error('Router not found!');return;}
var events=router.getEvents();if(!events[type]){console.error("Router not found type of "+type+"!");return;}
for(var i=0,l=events[type].length;i<l;i++){events[type][i].call(router,this.currentState,this._rules[this.currentState],important);}}},{key:"finishStateMethods",value:function finishStateMethods(){this._noContinue=true;}},{key:"finishState",value:function finishState(){this.promise=null;}},{key:"queuePromises",value:function queuePromises(queueList,resolve,reject){var _this2=this;var inState=arguments.length<=3||arguments[3]===undefined?false:arguments[3];this._noContinue=false;var _i=0,_l=queueList.length;var promise=null;var executeQueue=function executeQueue(){if(_i<_l){promise=new Promise(function(res,rej){var _queueList$_i=_slicedToArray(queueList[_i],3);var context=_queueList$_i[0];var method=_queueList$_i[1];var variables=_queueList$_i[2];try{method.apply(context,[].concat(_toConsumableArray(variables),[res,rej]));}catch(e){reject(e);}});promise.then(function(){if(inState===true&&_this2._noContinue){promise=null;resolve();return;}
_i++;executeQueue();}).catch(function(e){reject(e);});}else{promise=null;resolve();}};executeQueue();}},{key:"currentState",get:function get(){return this._currentState;}},{key:"nextState",get:function get(){return this._nextState;}},{key:"lastState",get:function get(){return this._lastState;}}],[{key:"INSTANCE",get:function get(){return this;}}]);return StateMachine;}();exports.default=StateMachine;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _stateEvent=__webpack_require__(77);var _stateEvent2=_interopRequireDefault(_stateEvent);var _stateMachine=__webpack_require__(75);var _stateMachine2=_interopRequireDefault(_stateMachine);var _componentInterface=__webpack_require__(5);var _componentInterface2=_interopRequireDefault(_componentInterface);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var StateInterface=function(_StateEvent){_inherits(StateInterface,_StateEvent);_createClass(StateInterface,null,[{key:"BEFORE_ENTER_STATE_TRANSITION",get:function get(){return"best";}},{key:"ENTER_STATE_TRANSITION",get:function get(){return"est";}},{key:"AFTER_ENTER_STATE_TRANSITION",get:function get(){return"aest";}},{key:"BEFORE_EXECUTE_STATE",get:function get(){return"bes";}},{key:"EXECUTE_STATE",get:function get(){return"es";}},{key:"AFTER_EXECUTE_STATE",get:function get(){return"aes";}},{key:"BEFORE_LEAVE_STATE_TRANSITION",get:function get(){return"blst";}},{key:"LEAVE_STATE_TRANSITION",get:function get(){return"lst";}},{key:"AFTER_LEAVE_STATE_TRANSITION",get:function get(){return"alst";}},{key:"BEFORE_ENTER_STATE_TRANSITION_AFTER_NEXT",get:function get(){return"bestn";}},{key:"ENTER_STATE_TRANSITION_AFTER_NEXT",get:function get(){return"estan";}},{key:"TYPE_ENTER_TRANSITION",get:function get(){return"enter";}},{key:"TYPE_EXECUTIVE",get:function get(){return"execute";}},{key:"TYPE_LEAVE_TRANSITION",get:function get(){return"leave";}},{key:"BEFORE_EVENT",get:function get(){return"before_event";}},{key:"AFTER_EVENT",get:function get(){return"after_event";}}]);function StateInterface(){_classCallCheck(this,StateInterface);var _this=_possibleConstructorReturn(this,(StateInterface.__proto__||Object.getPrototypeOf(StateInterface)).call(this));_this._stateName=null;_this._alias=null;_this._from=null;_this._to=null;_this._stateMachine=null;_this.TRANSITION_ORDERS={"enter":[StateInterface.BEFORE_ENTER_STATE_TRANSITION,[_stateMachine2.default.STATE_FROM,StateInterface.BEFORE_ENTER_STATE_TRANSITION_AFTER_NEXT],StateInterface.ENTER_STATE_TRANSITION,[_stateMachine2.default.STATE_FROM,StateInterface.ENTER_STATE_TRANSITION_AFTER_NEXT],StateInterface.AFTER_ENTER_STATE_TRANSITION],"execute":[StateInterface.BEFORE_EXECUTE_STATE,StateInterface.EXECUTE_STATE,StateInterface.AFTER_EXECUTE_STATE],"leave":[StateInterface.BEFORE_LEAVE_STATE_TRANSITION,StateInterface.LEAVE_STATE_TRANSITION,StateInterface.AFTER_LEAVE_STATE_TRANSITION]};if(typeof _this.execute=="function"){_this.on(StateInterface.EXECUTE_STATE,_this.execute);}
return _this;}
_createClass(StateInterface,[{key:"goToState",value:function goToState(){var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];this.stateMachine.goToState(name);}},{key:"getTransitionOrders",value:function getTransitionOrders(){var type=arguments.length<=0||arguments[0]===undefined?null:arguments[0];return this.TRANSITION_ORDERS[type];}},{key:"__executeTransition",value:function __executeTransition(context,type,resolve,reject){var promises=[];try{var _loop=function _loop(i,l){promises.push(new Promise(function(res,rej){context.getEvents()[type][i].call(context,res,rej);}));};for(var i=0,l=context.getEvents()[type].length;i<l;i++){_loop(i,l);}}catch(e){reject(e);}
Promise.all(promises).then(resolve).catch(function(e){reject(e);});}},{key:"executeTransition",value:function executeTransition(type,resolve,reject){if(this.from!==null&&type instanceof Array){var _type=_slicedToArray(type,2);var stateName=_type[0];var typeName=_type[1];var stateAlias=this[stateName];if(!stateAlias)return resolve();var context=this.stateMachine.getState(stateAlias);if(!context)return resolve();if(!context.getEvents()[typeName]){resolve();return;}
this.__executeTransition(context,typeName,resolve,reject);}else{if(!this.getEvents()[type]){resolve();return;}
this.__executeTransition(this,type,resolve,reject);}}},{key:"nextState",value:function nextState(){var important=arguments.length<=0||arguments[0]===undefined?false:arguments[0];this._stateMachine.goToRouter(undefined,important);}},{key:"continue",value:function _continue(){this._stateMachine.finishStateMethods();}},{key:"getController",value:function getController(){var alias=arguments.length<=0||arguments[0]===undefined?this._alias:arguments[0];return this.component.getController(alias);}},{key:"getEvent",value:function getEvent(){var alias=arguments.length<=0||arguments[0]===undefined?this._alias:arguments[0];return this.component.getEvent(alias);}},{key:"getHandler",value:function getHandler(){var alias=arguments.length<=0||arguments[0]===undefined?this._alias:arguments[0];return this.component.getHandler(alias);}},{key:"getService",value:function getService(){var serviceName=arguments.length<=0||arguments[0]===undefined?null:arguments[0];return this.component.getService(serviceName);}},{key:"getStateComponent",value:function getStateComponent(){var stateComponentName=arguments.length<=0||arguments[0]===undefined?null:arguments[0];return this._stateMachine.getStateComponent(stateComponentName);}},{key:"alias",set:function set(value){this._alias=value;this.component=new _componentInterface2.default({alias:value});}},{key:"stateMachine",get:function get(){return this._stateMachine;}},{key:"name",get:function get(){return this._stateName;}},{key:"from",get:function get(){return this._from;},set:function set(name){this._from=name;}},{key:"to",get:function get(){return this._to;},set:function set(name){this._to=name;}}]);return StateInterface;}(_stateEvent2.default);exports.default=StateInterface;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var StateEvent=function(){function StateEvent(){_classCallCheck(this,StateEvent);this._events={};}
_createClass(StateEvent,[{key:"on",value:function on(name,func){if(this._events[name]==undefined){this._events[name]=[];}
if(typeof func!="function"){console.error("Subscribe to transition "+name+" with out a function! Type entered - ",func);}
if(createjs.indexOf(this._events[name],func)==-1){this._events[name].push(func);}}},{key:"off",value:function off(name,func){if(this._events[name]==undefined){return;}
var index=createjs.indexOf(this._events[name],func);if(index!=-1){this._events[name].splice(index,1);}}},{key:"getEvents",value:function getEvents(){return this._events;}}]);return StateEvent;}();exports.default=StateEvent;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var Required=function(){_createClass(Required,null,[{key:"_ALIAS",get:function get(){return"a";}},{key:"_PATH",get:function get(){return"u";}},{key:"_SIZE_FILE",get:function get(){return"s";}},{key:"_SIZE_IMAGE",get:function get(){return"x";}},{key:"_TYPE",get:function get(){return"f";}},{key:"_TIME",get:function get(){return"t";}},{key:"_PARTITION",get:function get(){return"p";}},{key:"_ALTERNATIVE",get:function get(){return"l";}}]);function Required(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,Required);this.queue={};this._scriptsQueue={};this.imageBuffer={};this.imageBufferCreated={};this.imageBufferPath={};this.imageRawData={};this.imageRawAlternative={};this.imageHashCounter={};this.audioBuffer={};this.audioBufferSize={};this.audioArrayBuffer={};this._audioBufferUrls={};this._audioBufferTime={};this.sizeBuffer={};this.countSetImage=0;this._oldQueueName=null;this.listQueueFinished=[];this._audioLists=null;this._audioChecked=false;this._audioSpriteConfig={};}
_createClass(Required,[{key:"setQueue",value:function setQueue(data){this.queue["im"]=data;setTimeout(function(){$_required.startLoadingEvent();},1);}},{key:"setAudio",value:function setAudio(list){this.queue["au"]=list;this.checkAudioFormat($_services.getService("SoundService").checkSupport());}},{key:"setSpriteAudioConfig",value:function setSpriteAudioConfig(config){$_services.getService("SoundService").setSoundConfig(config);}},{key:"setScripts",value:function setScripts(){var list=arguments.length<=0||arguments[0]===undefined?null:arguments[0];this.queue["sc"]=list;}},{key:"checkAudioFormat",value:function checkAudioFormat(typeName){this._audioChecked=typeName;}},{key:"setToBufferAudioUrls",value:function setToBufferAudioUrls(list){var _keys=Object.keys(list);for(var _i=0,_l=_keys.length;_i<_l;_i++){if(typeof this._audioBufferUrls[_keys[_i]]=='undefined'){this._audioBufferUrls[_keys[_i]]=list[_keys[_i]][Required._PATH];}}}},{key:"getBufferAudioUrl",value:function getBufferAudioUrl(name){if(typeof this._audioBufferUrls[name]!='undefined'){return $_settingService.getSetting("game_path")+this._audioBufferUrls[name].substr(3);}
return null;}},{key:"setToBufferAudioTimeLength",value:function setToBufferAudioTimeLength(list){var _keys=Object.keys(list);for(var _i=0,_l=_keys.length;_i<_l;_i++){if(typeof this._audioBufferTime[_keys[_i]]=='undefined'&&list[_keys[_i]][Required._TIME]>0){this._audioBufferTime[_keys[_i]]=list[_keys[_i]][Required._TIME];}}}},{key:"setAudioToQueueController",value:function setAudioToQueueController(){if(this._audioLists!==null&&this._audioChecked!==null&&this._audioChecked.length>0&&Object.keys(this._audioLists).length>0){for(var _queueName in this._audioLists){this.setToBufferAudioTimeLength(this._audioLists[_queueName]["mp3"]);this.setToBufferAudioUrls(this._audioLists[_queueName][this._audioChecked]);}}}},{key:"setScriptsToQueueController",value:function setScriptsToQueueController(){for(var _queueName in $_required._scriptsQueue){for(var key in $_required._scriptsQueue[_queueName]){var $_data=$_required._scriptsQueue[_queueName][key];if(typeof $_data[Required._PATH]=='undefined'&&Object.keys($_data).indexOf($_t.getLanguage())!=-1){$_required_controller.unShiftToQueue(_queueName,$_data[$_t.getLanguage()]);}else{$_required_controller.unShiftToQueue(_queueName,$_data);}}}}},{key:"getQueue",value:function getQueue(){return this.queue;}},{key:"startLoadingEvent",value:function startLoadingEvent(){$_required_controller.run(this.getQueue());}},{key:"sendLoaded",value:function sendLoaded(queueName){if(this.listQueueFinished.indexOf(queueName)==-1&&queueName!==null){$_event.setEvent(queueName+'FinishedLoading');this.listQueueFinished.push(queueName);}}},{key:"checkoutOfQueue",value:function checkoutOfQueue(queueName){if(queueName=='undefined'||typeof queueName=='undefined'){return false;}
if(queueName!==this._oldQueueName){if(null!==this._oldQueueName&&this._oldQueueName!='undefined'){this.sendLoaded(this._oldQueueName);}
this._oldQueueName=queueName;}}},{key:"setAlternativeImages",value:function setAlternativeImages(alias,alternativeAlias){this.imageRawAlternative[alias]=alternativeAlias;}},{key:"getAlternativeImageRaw",value:function getAlternativeImageRaw(name,alias){var _aliasName=alias+"_"+name;if(Object.keys(this.imageRawAlternative).indexOf(_aliasName)==-1){return null;}
var raw=this.getImageRawData(this.imageRawAlternative[_aliasName],alias);delete this.imageRawAlternative[_aliasName];return raw;}},{key:"setImageBuffer",value:function setImageBuffer(name,data,size,queueName,path){if(Object.keys(this.imageBuffer).indexOf(name)==-1){this.imageBuffer[name]=data;this.imageBufferPath[name]=path;}
if(Object.keys(this.sizeBuffer).indexOf(name)==-1){this.sizeBuffer[name]=size;}}},{key:"getimageBuffer",value:function getimageBuffer(name){if(Object.keys(this.imageBuffer).indexOf(name)==-1){return null;}
return this.imageBuffer[name];}},{key:"setImageRawData",value:function setImageRawData(name,data){if(Object.keys(this.imageRawData).indexOf(name)==-1){this.imageRawData[name]=data;}}},{key:"getImageRawData",value:function getImageRawData(name,alias){var _aliasName=alias+"_"+name;var result=null;if(Object.keys(this.imageRawData).indexOf(_aliasName)!=-1){result=this.imageRawData[_aliasName];}
if(result===null){result=this.getAlternativeImageRaw(name,alias);}
return result;}},{key:"isLoadedRawImage",value:function isLoadedRawImage(name,alias){var _aliasName=alias+"_"+name;return Object.keys(this.imageRawData).indexOf(_aliasName)!=-1;}},{key:"setImageCacheRawData",value:function setImageCacheRawData(name,alias,canvas){if(!(canvas instanceof HTMLCanvasElement)&&!(canvas instanceof HTMLImageElement)){$_log.error("Set image to buffer can not be! Format data must be -> HTMLCanvasElement or HTMLImageElement! Current -> ",canvas);return null;}
var _aliasName=alias+"_"+name;this.imageRawData[_aliasName]=canvas;}},{key:"getImagePath",value:function getImagePath(name){if(Object.keys(this.imageBufferPath).indexOf(name)==-1){return null;}
return this.imageBufferPath[name];}},{key:"getBufferImage",value:function getBufferImage(name){if(Object.keys(this.imageBuffer).indexOf(name)==-1){return null;}
if(typeof this.imageBufferCreated[name]!='undefined'){return this.imageBufferCreated[name];}
try{this.imageBufferCreated[name]=window.URL.createObjectURL(this.imageBuffer[name]);return this.imageBufferCreated[name];}catch(e){$_log.error(e);}}},{key:"getImageSize",value:function getImageSize(name){if(Object.keys(this.sizeBuffer).indexOf(name)==-1){return{width:0,height:0};}
return this.sizeBuffer[name];}},{key:"getCountImage",value:function getCountImage(){return this.countSetImage++;}},{key:"setAudioBuffer",value:function setAudioBuffer(name,data,size,queueName,arrayBuffer){if(Object.keys(this.audioBuffer).indexOf(name)==-1){this.audioBuffer[name]=data;}
if(Object.keys(this.audioBufferSize).indexOf(name)==-1){this.audioBufferSize[name]=size;}
if(Object.keys(this.audioArrayBuffer).indexOf(name)==-1){this.audioArrayBuffer[name]=arrayBuffer;}
this.checkoutOfQueue(queueName);$_services.getService("SoundService").subscribeSound(name,data);}},{key:"getBufferAudio",value:function getBufferAudio(name){if(Object.keys(this._audioBufferUrls).indexOf(name)==-1){$_log.error('Audio with alias "'+name+'" not found!');}
var _result={path:this.getBufferAudioUrl(name),time:this._audioBufferTime[name],buffer:null};if(Object.keys(this.audioBuffer).indexOf(name)==-1){return _result;}
try{_result.path=$_settingService.getSetting("game_path")+this.audioBuffer[name];_result.buffer=this.audioArrayBuffer[name];return _result;}catch(e){$_log.error(e);}}},{key:"isAudioTagInConfig",value:function isAudioTagInConfig(audioTag){return Object.keys(this._audioBufferUrls).indexOf(audioTag)>-1;}}]);return Required;}();exports.default=Required;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
window.URL=window.URL||window.webkitURL;var LoaderRequired=function(){function LoaderRequired(){_classCallCheck(this,LoaderRequired);this._name=null;this._path=null;this._size=null;this._queueName=null;this._typeFile=null;this._isLoading=false;this._streamNumber=0;this._log=false;if(typeof $_shifter!="undefined"){this._log=true;}}
_createClass(LoaderRequired,[{key:"setStreamNumber",value:function setStreamNumber(number){this._streamNumber=number;}},{key:"getStreamNumber",value:function getStreamNumber(){return this._streamNumber;}},{key:"setProgress",value:function setProgress(loaded){$_required_controller.setDataLoading(this._name,this._queueName,loaded);}},{key:"setPath",value:function setPath(_name,_path,_size,_queueName,type){this._name=_name;this._path=_path;this._size=_size;this._queueName=_queueName;this._typeFile=type;if(this._log){$_shifter.setLoadingStart(_name,_size,this._streamNumber);}}},{key:"load",value:function load(){this._proccess(this._name,this._path,this._size,this._queueName,this._typeFile);$_required_controller.busyStreamLoad(this.getStreamNumber());}},{key:"_proccess",value:function _proccess(name,path,size,queueName,typeFile){if(this._isLoading===true){return false;}
var core=this;var url=""+$_settingService.getSetting("game_path")+path.substr(3)+"?build_ts="+$_settingService.getSetting("build_ts");var xhr=new XMLHttpRequest();xhr.open('GET',url,true);switch(typeFile){case"audio":xhr.responseType='arraybuffer';break;case"js":xhr.responseType='text';break;default:xhr.responseType='blob';break;}
xhr.timeout=60*50*1000;xhr.ontimeout=function(){$_log.error('Sorry, the request has exceeded the maximum time! File: '+path);};xhr.onprogress=function(event){core.setProgress(event.loaded);};xhr.onload=function(e){if(this.status==200){if(core._log){$_shifter.setLoadingEnd(name);}
if(typeFile=='img'){var $img=new Image();$img.src=window.URL.createObjectURL(xhr.response);$img._xhr=xhr;$img._name=name;$img._size=size;$img._queueName=queueName;$img._path=path;$img.onload=function(){window.URL.revokeObjectURL($img.src);$_required.setImageRawData($img._name,this);$_required_controller.finishedStreamLoad(core.getStreamNumber());$_required_controller.pushLoadedFileQueue($img._queueName,$img._name);};$img.onerror=function(e){$_log.error("Error load image",e);$_required_controller.finishedStreamLoad(core.getStreamNumber());};}
if(typeFile=='js'){var script=document.createElement("script");script.type="text/javascript";script.innerText=xhr.response;document.head.appendChild(script);$_required_controller.finishedStreamLoad(core.getStreamNumber());$_required_controller.pushLoadedFileQueue(queueName,name);}
if(typeFile=='audio'){$_required.setAudioBuffer(name,path,size,queueName,xhr.response);$_required_controller.finishedStreamLoad(core.getStreamNumber());$_required_controller.pushLoadedFileQueue(queueName,name);}
xhr=null;}};xhr.onerror=function(event){$_log.error('Error load file '+core._path,event);};xhr.send();}}]);return LoaderRequired;}();exports.default=LoaderRequired;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var ControllerRequired=function(){function ControllerRequired(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,ControllerRequired);this.typeQueueName=["preloader","main","overload"];this.countQueueFiles={};this.loadedCountQueueFiles={};this.countStreams=0;this._baseQueue={};this._queueName=[];this._queueFiles={};this._queueSize={};this._countFiles=0;this._oldQueueName="preloader";this.streams=[];this._freeStreams=[];this._countFreeStreams=0;this._dataStreamLoading={};this.isAllLoaded=false;this._lang=typeof $_args.lang=='undefined'?'en':$_args.lang;this._defLang='en';this._accessLoad=["common"];this._filesQueue=[];this._loadedQueues={};this.init(data);}
_createClass(ControllerRequired,[{key:"init",value:function init(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];for(var key in data){this[key]=data[key];}}},{key:"run",value:function run(){var queue=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];if(Object.keys(queue).length==0){return false;}
this._baseQueue=queue;this._queueName=["preloader","main","overload"];if(__RunPartialApplication.type){this._accessLoad.push(__RunPartialApplication.type);}
for(var typeLoader in this._baseQueue){var namePackage="_"+typeLoader+"PushPackages";if(this[namePackage]===undefined){continue;}
for(var _queueName in this._baseQueue[typeLoader]){if(this._queueFiles[_queueName]===undefined){this._queueFiles[_queueName]=[];}
var $_list=this._baseQueue[typeLoader][_queueName];if(typeLoader=="au"){$_list=this._baseQueue[typeLoader][_queueName][$_required._audioChecked];}
for(var el in $_list){var $_data=this[namePackage]($_list[el]);if($_data[Required._PARTITION]&&this._checkedPartitions($_data[Required._PARTITION])===false){continue;}
if($_data[Required._ALTERNATIVE]!==undefined){$_required.setAlternativeImages($_data[Required._ALIAS],$_data[Required._ALTERNATIVE]);}
this._queueFiles[_queueName].push({filename:$_data[Required._ALIAS],path:$_data[Required._PATH],type:$_data[Required._TYPE],size:$_data[Required._SIZE_IMAGE]});if(typeof this._queueSize[_queueName]=='undefined'){this._queueSize[_queueName]=0;}
this._queueSize[_queueName]+=parseInt($_data[Required._SIZE_FILE]);if(this.countQueueFiles[_queueName]===undefined){this.countQueueFiles[_queueName]=0;}
this.countQueueFiles[_queueName]++;this._countFiles++;}}}
for(var u=0,ul=this.typeQueueName.length;u<ul;u++){var _ul=this._queueFiles[this.typeQueueName[u]];for(var j=0,lj=_ul.length;j<lj;j++){var _file=_ul[j];_file.queueName=this.typeQueueName[u];this._filesQueue.push(_file);if(this._loadedQueues[this.typeQueueName[u]]==undefined){this._loadedQueues[this.typeQueueName[u]]=[];}
this._loadedQueues[this.typeQueueName[u]].push(_file.filename);}}
delete this._queueFiles;if(this._countFiles>0){this.createStreams();}}},{key:"_checkedPartitions",value:function _checkedPartitions(){var current=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];if(this._accessLoadLength===undefined){this._accessLoadLength=this._accessLoad.length;}
for(var i=0,l=this._accessLoadLength;i<l;i++){if(current.indexOf(this._accessLoad[i])!=-1){return true;}}
return false;}},{key:"_imPushPackages",value:function _imPushPackages(_file){if(typeof _file[Required._PATH]=='undefined'&&typeof _file[this._lang]!='undefined'){return _file[this._lang];}else if(typeof _file[Required._PATH]=='undefined'&&typeof _file[this._defLang]!='undefined'){return _file[this._defLang];}
return _file;}},{key:"_scPushPackages",value:function _scPushPackages(_file){if(typeof _file[Required._PATH]=='undefined'&&typeof _file[this._lang]!='undefined'){return _file[this._lang];}else if(typeof _file[Required._PATH]=='undefined'&&typeof _file[this._defLang]!='undefined'){return _file[this._defLang];}
return _file;}},{key:"_auPushPackages",value:function _auPushPackages(_file){return _file;}},{key:"pushLoadedFileQueue",value:function pushLoadedFileQueue(queueName,filename){var _this=this;if(this._loadedQueues[queueName]&&this._loadedQueues[queueName].length>0){var index=this._loadedQueues[queueName].indexOf(filename);if(index>=0){this._loadedQueues[queueName].splice(index,1);}}
if(this._loadedQueues[this._oldQueueName].length==0){$_required.sendLoaded(this._oldQueueName);var _index=this.typeQueueName.indexOf(queueName);var nextIndex=_index+1;if(this.typeQueueName[nextIndex]){this._oldQueueName=this.typeQueueName[nextIndex];}}
if(this._loadedQueues[this.typeQueueName[0]].length==0&&this._loadedQueues[this.typeQueueName[1]].length==0){setTimeout(function(){if(_this.isAllLoaded===true){return;}
_this.isAllLoaded=true;$_event.setEvent('loadingProcess',100);$_event.setEvent('queueFinished');$_signal.goTo('!preloader.endPreload');},30);}}},{key:"getNextSortQueueFiles",value:function getNextSortQueueFiles(){if(this._loadedQueues.preloader.length==0&&$_services.getService("PopupService").hasCritError()){return false;}
var shift=this._filesQueue.shift();if(shift){return shift;}
return false;}},{key:"createStreams",value:function createStreams(){this.streams=[];this._freeStreams=[];var core=this;for(var i=0;i<this.countStreams;i++){this._freeStreams.push(false);var pr=new LoaderRequired();pr.setStreamNumber(i);var file=core.getNextSortQueueFiles();if(false!==file){pr.setPath(file.filename,file.path,file.size,file.queueName,file.type);pr.load();}
core.streams.push(pr);}}},{key:"dropStreams",value:function dropStreams(){for(var i=0;this.streams.length;i++){delete this.streams[i];}}},{key:"busyStreamLoad",value:function busyStreamLoad(streamNumber){this._freeStreams[streamNumber]=false;this._countFreeStreams--;}},{key:"finishedStreamLoad",value:function finishedStreamLoad(streamNumber){this._freeStreams[streamNumber]=true;this._countFreeStreams++;this._freeNextLoad();}},{key:"findFreeStreams",value:function findFreeStreams(){if(this._freeStreams.indexOf(true)!=-1){return this._freeStreams.indexOf(true);}
return false;}},{key:"_freeNextLoad",value:function _freeNextLoad(){var streamID=this.findFreeStreams();if(false===streamID){return false;}
var file=this.getNextSortQueueFiles();if(false===file){return false;}
var pr=this.streams[streamID];pr.setPath(file.filename,file.path,file.size,file.queueName,file.type);pr.load();}},{key:"countDataLoading",value:function countDataLoading(queueName){if(_typeof(this._dataStreamLoading)!='object'||_typeof(this._dataStreamLoading[queueName])!='object'||Object.keys(this._dataStreamLoading[queueName]).length==0){return 0;}
var _count=0;for(var _name in this._dataStreamLoading[queueName]){_count+=parseInt(this._dataStreamLoading[queueName][_name]);}
return _count;}},{key:"setDataLoading",value:function setDataLoading(nameFile,queueName,load){if(typeof this._dataStreamLoading[queueName]=='undefined'){this._dataStreamLoading[queueName]={};}
this._dataStreamLoading[queueName][nameFile]=load;var _fullSize=this._queueSize[this._oldQueueName];var _loaded=this.countDataLoading(this._oldQueueName);var proc=Math.ceil(_loaded*100/_fullSize);$_event.setEvent('loadingProcess',proc);}}]);return ControllerRequired;}();exports.default=ControllerRequired;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _componentInterface=__webpack_require__(5);var _componentInterface2=_interopRequireDefault(_componentInterface);var _Core=__webpack_require__(25);var _ViewCanvasHandlerEs=__webpack_require__(82);var _ViewCanvasHandlerEs2=_interopRequireDefault(_ViewCanvasHandlerEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var POSITION_CRUNCH={portrait:200,landscape:-55};var ViewMainCanvas=function(_ComponentInterface){_inherits(ViewMainCanvas,_ComponentInterface);_createClass(ViewMainCanvas,[{key:"HIGH_QUALITY",get:function get(){return 1;}},{key:"MEDIUM_QUALITY",get:function get(){return 2;}},{key:"LOW_QUALITY",get:function get(){return 3;}}]);function ViewMainCanvas(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,ViewMainCanvas);var _this=_possibleConstructorReturn(this,(ViewMainCanvas.__proto__||Object.getPrototypeOf(ViewMainCanvas)).call(this,data));_this._stage=null;_this._gameContainer=null;_this.canvas=null;_this.config={canvas:{maxWidth:1280,maxHeight:740},gameContainer:{width:960,height:740}};_this.configData=data;_this.timeIntervalNoActivity=6*1000;_this.intervalNoActivity=null;_this._freezeTicker=false;_this._lastMousePosition={x:0,y:0};_this.initGame();_this.initStats();return _this;}
_createClass(ViewMainCanvas,[{key:"subscribeEventsForActivity",value:function subscribeEventsForActivity(){var callback=arguments.length<=0||arguments[0]===undefined?function(){}:arguments[0];document.body.onmouseover=document.body.onmouseout=document.body.onclick=document.body.ontouchstart=document.body.onmousemove=document.body.ontouchmove=callback();}},{key:"unSubscribeEventsForActivity",value:function unSubscribeEventsForActivity(){document.body.onmouseover=document.body.onmouseout=document.body.onclick=document.body.ontouchstart=document.body.onmousemove=document.body.ontouchmove=null;}},{key:"initMainCanvas",value:function initMainCanvas(){var _this2=this;Object.assign(this.config,this.configData.frameSize[__RunPartialApplication.type]);this.canvas=document.getElementById(this.canvasID);var stage=this.initStage(this.canvas);this._stage=stage;this.lastStage=stage;var gameContainer=this.initGameContainer();stage.addChild(gameContainer);this.stages=[];this.stages.push(stage);switch(this.getService("GameSettingsService").getLocalSettings("graphics_quality")){case"high":this.setQuality(this.HIGH_QUALITY);break;case"medium":this.setQuality(this.MEDIUM_QUALITY);break;case"low":this.setQuality(this.LOW_QUALITY);break;default:this.setQuality(this.HIGH_QUALITY);this.getService("GameSettingsService").setLocalSettings("graphics_quality","high");}
window.addEventListener("resize",function(){_this2.resize();});}},{key:"initGame",value:function initGame(){}},{key:"initVerticalMode",value:function initVerticalMode(){}},{key:"setGameScale",value:function setGameScale(scale){var stage=this.getStage();var numOfChildren=stage.getNumChildren();for(var i=0;i<numOfChildren;i++){stage.getChildAt(i).scaleX=scale;stage.getChildAt(i).scaleY=scale;}}},{key:"setQuality",value:function setQuality(quality){switch(quality){case this.MEDIUM_QUALITY:this.setGameScale(0.75);break;case this.LOW_QUALITY:this.setGameScale(0.65);break;case this.HIGH_QUALITY:default:this.setGameScale(1);}
this.resize();}},{key:"enableModalModeForLayer",value:function enableModalModeForLayer(layer){var stage=this.getStage();if(!stage.getChildByName(layer.name)){this.getStage().children.forEach(function(el){if(el.name!=="settings"&&el.name!=="gameContainer"){el.mouseEnabled=false;}});this.getGameContainer().children.forEach(function(el){if(el.name!==layer.name){el.mouseEnabled=false;}});}else{this.getStage().children.forEach(function(el){if(el.name!==layer.name&&el.name!=="settings"){el.mouseEnabled=false;}});}}},{key:"disableModalModeForLayer",value:function disableModalModeForLayer(layer){this.getStage().children.forEach(function(el){el.mouseEnabled=true;});this.getGameContainer().children.forEach(function(el){el.mouseEnabled=true;});}},{key:"initFPSBlock",value:function initFPSBlock(){var _this3=this;var fpsBlock=new _Core.Text({text:"60.00",font:"36px Arial",color:"#FFFFFF"});fpsBlock.y=70;fpsBlock.zIndex=1;fpsBlock.name="fpsBlock";this.getGameContainer().addChild(fpsBlock);var rect=fpsBlock.getBounds();var width=rect.width;var height=rect.height;fpsBlock.cache(rect.x,rect.y,rect.width,rect.height);var pt=fpsBlock.localToGlobal(0,0);var rectFPS=new createjs.Rectangle(pt.x,pt.y,width,height);var i=0;createjs.Ticker.addEventListener("tick",function(){i++;if(i===60){fpsBlock.text=createjs.Ticker.getMeasuredFPS().toFixed(2);fpsBlock.updateCache();_this3.getStage().requestUpdate(rectFPS);i=0;}});}},{key:"getComponentLayout",value:function getComponentLayout(alias){var layout=this.getStage().getChildByName(alias);if(!layout){layout=this.getGameContainer().getChildByName(alias);}
return layout;}},{key:"hideComponent",value:function hideComponent(componentAlias){var componentLayout=this.getComponentLayout(componentAlias);if(componentLayout){componentLayout.visible=false;return true;}else{return false;}}},{key:"showComponent",value:function showComponent(componentAlias){var componentLayout=this.getComponentLayout(componentAlias);if(componentLayout){componentLayout.visible=true;return true;}else{return false;}}},{key:"initGameContainer",value:function initGameContainer(){this._gameContainer=new _Core.Container();this._gameContainer.name="gameContainer";this._gameContainer.x=this.config.gameContainer.left||0;this._gameContainer.y=this.config.gameContainer.top||0;this._gameContainer.width=this.config.gameContainer.width||0;this._gameContainer.height=this.config.gameContainer.height||0;this._gameContainer.zIndex=1;return this._gameContainer;}},{key:"initStage",value:function initStage(canvas){var _this4=this;var stage=new createjs.Stage(canvas);if(createjs.Touch.isSupported()){createjs.Touch.enable(stage);}
stage.enableMouseOver();stage.addEventListener("stagemouseup",function(){stage.requestUpdate();});stage.addEventListener("stagemousedown",function(){stage.requestUpdate();});stage.startTween=function(rect,alias){if(rect){stage.tweenRects[stage.tweenRects.length]=rect;$_log.log("tween start",stage.tweenRects);return stage.tweenRects.length-1;}
return undefined;};stage.startTweenTarget=function(target,alias){if(target){var rect=target.getBounds();if(rect===null){rect=_this4.getComponentLayout(alias).getBounds();}
var pt=target.localToGlobal(rect.x,rect.y);return stage.startTween(new createjs.Rectangle(pt.x,pt.y,rect.width,rect.height),alias);}else{return null;}};stage.endTween=function(id,alias){if(id!==undefined&&id!==null){stage.tweenRects[id]=null;var maxNotNullId=void 0;for(var i=stage.tweenRects.length-1;i>=0;i--){if(stage.tweenRects[i]!==null){maxNotNullId=i+1;break;}}
if(maxNotNullId===undefined){stage.tweenRects=[];}else if(maxNotNullId<stage.tweenRects.length){stage.tweenRects.splice(maxNotNullId,stage.tweenRects.length-maxNotNullId);}
$_log.log("tween end",stage.tweenRects);}};stage.requestUpdate=function(rect,alias){if(stage.requestFullUpdate!==true){if(rect){if(stage.drawRect){stage.drawRect=stage.drawRect.union(rect);}else{stage.drawRect=rect;}}else{stage.requestFullUpdate=true;stage.drawRect=null;}}
stage.requestAnimation=true;_this4.updateStats();};stage.requestUpdateTarget=function(target,alias){if(target){var rect=target.getBounds();var pt=target.localToGlobal(rect.x,rect.y);stage.requestUpdate(new createjs.Rectangle(pt.x,pt.y,rect.width,rect.height),alias);}};stage.requestAnimation=false;stage.requestFullUpdate=false;stage.tweens=0;stage.tweenRect=null;stage.tweenRects=[];var defaultRectangle=new createjs.Rectangle(0,0,0,0);createjs.Ticker.setFPS(60);createjs.Ticker.timingMode=createjs.Ticker.RAF_SYNCHED;createjs.Ticker.addEventListener("tick",function(event){if(_this4._freezeTicker){return;}
stage.update(event);return;var tweenRect=new createjs.Rectangle(0,0,0,0);var needTween=false;for(var t in stage.tweenRects){if(stage.tweenRects[t]!==null){tweenRect=tweenRect.union(stage.tweenRects[t]);needTween=true;}}
if(stage.requestAnimation||needTween){if(stage.drawRect){stage.drawRect=tweenRect.union(stage.drawRect);}else{stage.drawRect=tweenRect;}
if(stage.requestFullUpdate){stage.drawRect=null;}
stage.update(event);stage.requestAnimation=false;stage.requestFullUpdate=false;}else{stage.drawRect=defaultRectangle;stage.update(event);}
_this4.updateStats();});return stage;}},{key:"cacheTarget",value:function cacheTarget(target){var rect=target.getBounds();target.cache(rect.x,rect.y,rect.width,rect.height);}},{key:"initCanvas",value:function initCanvas(config,alias){var canvas=document.createElement('canvas');canvas.id=alias;if(config.layerSizeType==="overLayer"){canvas.width=this.getStage().canvas.width/this.getGameContainer().scaleX;canvas.height=this.getStage().canvas.height/this.getGameContainer().scaleY;}else if(config.layerSizeType==="custom"){canvas.width=config.width;canvas.height=config.height;}else{canvas.width=this.getGameContainer().width;canvas.height=this.getGameContainer().height;}
Object.assign(canvas.style,{position:"absolute",margin:"0 auto",left:0,right:0,top:0});document.body.appendChild(canvas);this.cssResizer(canvas);return canvas;}},{key:"initLayout",value:function initLayout(){var config=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var alias=arguments.length<=1||arguments[1]===undefined?null:arguments[1];var layout=new _Core.Container();layout.name=alias;layout.zIndex=config.zIndex!==undefined?config.zIndex:1;if(config.layerType==="canvas"){var canvas=void 0,stage=void 0;config.canvasID=config.canvasID||alias;if(config.canvasID){canvas=document.getElementById(config.canvasID);}
if(!canvas){canvas=this.initCanvas(config,alias);stage=this.initStage(canvas);stage.nextStage=this.lastStage;this.lastStage=stage;this.stages.push(stage);}else{for(var s in this.stages){if(this.stages[s].canvas.id===canvas.id){stage=this.stages[s];break;}}}
if(config.layerSizeType==="overLayer"){layout.width=this.getStage().canvas.width/this.getGameContainer().scaleX;layout.height=this.getStage().canvas.height/this.getGameContainer().scaleY;layout.scaleX=this.getGameContainer().scaleX;layout.scaleY=this.getGameContainer().scaleY;layout.layerType="overLayer";}
stage.addChild(layout);}else{if(config.layerSizeType==="overLayer"){layout.width=this.getStage().canvas.width/this.getGameContainer().scaleX;layout.height=this.getStage().canvas.height/this.getGameContainer().scaleY;layout.scaleX=this.getGameContainer().scaleX;layout.scaleY=this.getGameContainer().scaleY;layout.layerType="overLayer";this.getStage().addChild(layout);}else if(config.layerSizeType==="fullsize"){layout.width=this.config.canvas.maxWidth;layout.height=this.config.canvas.maxHeight;layout.layerType="fullsize";layout.x=(this.config.gameContainer.width-this.config.canvas.maxWidth)/2;this.getGameContainer().addChild(layout);}else{this.getGameContainer().addChild(layout);}}
this.getGameContainer().sortChildren(function(child1,child2){if(child1.zIndex===undefined||child2.zIndex===undefined)return 0;if(child1.zIndex===child2.zIndex)return 0;return child1.zIndex>child2.zIndex?1:-1;});this.getStage().sortChildren(function(child1,child2){if(child1.zIndex===undefined||child2.zIndex===undefined)return 0;if(child1.zIndex===child2.zIndex)return 0;return child1.zIndex>child2.zIndex?1:-1;});return layout;}},{key:"getStage",value:function getStage(){return this._stage;}},{key:"getGameContainer",value:function getGameContainer(){return this._gameContainer;}},{key:"backgroundResizer",value:function backgroundResizer(){this.canvas=document.getElementById(this.canvasID);var windowWidth=window.innerWidth;var windowHeight=window.innerHeight;var windowKoef=windowWidth/windowHeight;if(["mobile","tablet"].indexOf(__RunPartialApplication.type)!=-1){if(windowKoef<1){this._gameContainer.height=720;}else{this._gameContainer.height=540;}}
var containerHeight=this._gameContainer.height*this._gameContainer.scaleY;var containerWidth=this._gameContainer.width*this._gameContainer.scaleX;var containerKoef=containerWidth/containerHeight;var newWidth=containerWidth,newHeight=containerHeight;if(windowKoef>containerKoef){newWidth=Math.min(containerHeight*windowKoef,this.config.canvas.maxWidth*this._gameContainer.scaleX);}else{newHeight=Math.min(containerWidth/windowKoef,this.config.canvas.maxHeight*this._gameContainer.scaleY);}
this._gameContainer.x=-(containerWidth-newWidth)/2;this._gameContainer.y=-(containerHeight-newHeight)/2;if(this.canvas.width!==newWidth){this.canvas.width=newWidth;}
if(this.canvas.height!==newHeight){this.canvas.height=newHeight;}
if(["mobile","tablet"].indexOf(__RunPartialApplication.type)!=-1){if(windowKoef<1){if(this.verticalMode===false){$_event.setEvent("verticalMode");}
this.verticalMode=true;this._gameContainer.y=POSITION_CRUNCH.portrait;this._gameContainer.mask=null;this.canvas.height=newWidth/windowKoef;}else{if(this.verticalMode===true||this.verticalMode===undefined){$_event.setEvent("horizontalMode");}
this.verticalMode=false;this._gameContainer.y=POSITION_CRUNCH.landscape;var mask=new createjs.Shape();mask.graphics.drawRect(0,0,this.canvas.width,this._gameContainer.height);this._gameContainer.mask=mask;}}
var numOfChildren=this.getStage().getNumChildren();for(var i=0;i<numOfChildren;i++){var layout=this.getStage().getChildAt(i);if(layout.layerType==="overLayer"){layout.width=this.canvas.width/this._gameContainer.scaleX;layout.height=this.canvas.height/this._gameContainer.scaleX;layout.setBounds(0,0,layout.width,layout.height);}}}},{key:"cssResizer",value:function cssResizer(canvas){var canvasHeight=canvas.height;var canvasWidth=canvas.width;var canvasKoef=canvasWidth/canvasHeight;var windowWidth=window.innerWidth;var windowHeight=window.innerHeight;var windowKoef=windowWidth/windowHeight;var newWidth=windowWidth,newHeight=windowHeight;if(windowKoef>canvasKoef){newWidth=windowHeight*canvasKoef;}else{newHeight=windowWidth/canvasKoef;}
canvas.style.height=newHeight+"px";canvas.style.width=newWidth+"px";}},{key:"resize",value:function resize(){this.backgroundResizer();for(var stage in this.stages){this.cssResizer(this.stages[stage].canvas);this.stages[stage].requestUpdate();}}},{key:"enableClickActions",value:function enableClickActions(){try{this.getStage().mouseEnabled=true;createjs.Touch.enable(this.getStage());}catch(e){}}},{key:"disableClickActions",value:function disableClickActions(){try{this.getStage().mouseEnabled=false;createjs.Touch.disable(this.getStage());}catch(e){}}},{key:"initStats",value:function initStats(){if(typeof $_stats!=="undefined"){this._statsInstance=$_stats;$_stats.setMode(0);document.body.appendChild($_stats.domElement);$_stats.update();}}},{key:"updateStats",value:function updateStats(){if(this._statsInstance!==undefined){$_stats.update();}}},{key:"debugTargetUpdate",value:function debugTargetUpdate(alias,targetName,param,value){var handlers=$_component_instances.getComponentInstances(alias,_ViewCanvasHandlerEs2.default);if(!handlers||handlers.length===0){$_log.log("handler not found");return;}
for(var h in handlers){var target=handlers[h].querySelector(targetName);if(target){target[param]=value;}else{$_log.debug("target not found "+handlers[h]);}}}},{key:"generateBlurBackground",value:function generateBlurBackground(){var blurFilter=new createjs.BlurFilter(8,8,3);this.getGameContainer().filters=[blurFilter];this.getGameContainer().cache(-this.getGameContainer().x,-this.getGameContainer().y,this.getGameContainer().width+this.getGameContainer().x*2,this.getGameContainer().height+this.getGameContainer().y*2);var blur=new _Core.Bitmap(this.getGameContainer().cacheCanvas,this.alias);blur.name="blur";var rect=blur.getBounds();blur.x=-(rect.width-this.config.canvas.maxWidth)/2;blur.y=-(rect.height-this.config.canvas.maxHeight)/2;this.getGameContainer().filters=[];this.getGameContainer().uncache();return blur;}},{key:"getStageScreenshot",value:function getStageScreenshot(){this.getGameContainer().cache(-this.getGameContainer().x,-this.getGameContainer().y,this.getGameContainer().width+this.getGameContainer().x*2,this.getGameContainer().height+this.getGameContainer().y*2);var screenshot=new _Core.Bitmap(this.getGameContainer().cacheCanvas,this.alias);screenshot.name="screenshot";var rect=screenshot.getBounds();screenshot.x=-(rect.width-this.config.canvas.maxWidth)/2;screenshot.y=-(rect.height-this.config.canvas.maxHeight)/2;this.getGameContainer().uncache();return screenshot;}}]);return ViewMainCanvas;}(_componentInterface2.default);exports.default=ViewMainCanvas;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _componentInterface=__webpack_require__(5);var _componentInterface2=_interopRequireDefault(_componentInterface);var _CoreEs=__webpack_require__(25);var Core=_interopRequireWildcard(_CoreEs);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var ViewCanvasHandler=function(_ComponentInterface){_inherits(ViewCanvasHandler,_ComponentInterface);function ViewCanvasHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,ViewCanvasHandler);var _this=_possibleConstructorReturn(this,(ViewCanvasHandler.__proto__||Object.getPrototypeOf(ViewCanvasHandler)).call(this,data));_this.alias=data.alias;return _this;}
_createClass(ViewCanvasHandler,[{key:"initLayout",value:function initLayout(config){var alias=arguments.length<=1||arguments[1]===undefined?this.alias:arguments[1];return this.layout=$_view_canvas.initLayout(config,alias);}},{key:"makeBlur",value:function makeBlur(expetions){}},{key:"requestUpdateTarget",value:function requestUpdateTarget(target){return this.getStage().requestUpdateTarget(target,this.alias);}},{key:"requestUpdate",value:function requestUpdate(rect){if(!rect){this.requestUpdateTarget(this.getLayout());}else{this.getStage().requestUpdate(rect,this.alias);}}},{key:"startTween",value:function startTween(rect){if(!rect){return this.startTweenTarget(this.getLayout());}else{return this.getStage().startTween(rect,this.alias);}}},{key:"startTweenTarget",value:function startTweenTarget(target){return this.getStage().startTweenTarget(target,this.alias);}},{key:"endTween",value:function endTween(id){this.getStage().endTween(id,this.alias);}},{key:"endTweens",value:function endTweens(){var listID=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=listID[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var key=_step.value;try{this.endTween(key);}catch(e){$_log.error('Tweens end ',e);}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}}},{key:"getChildByNameContainer",value:function getChildByNameContainer(name,container){return container.getChildByName(name);}},{key:"getChildByName",value:function getChildByName(name){return this.getChildByNameContainer(name,this.getLayout());}},{key:"querySelectorContainer",value:function querySelectorContainer(query,container){var names=query.split(".");if(names.length>1){var child=container.getChildByName(names[0]);if(child){return this.querySelectorContainer(query.substr(names[0].length+1),child);}else{for(var i=0;i<container.getNumChildren();i++){if(instanceOf(container.getChildAt(i),Container)){var queryResult=this.querySelectorContainer(query,container.getChildAt(i));if(queryResult){return queryResult;}}}
return undefined;}}else{var result=container.getChildByName(names[0]);if(!result){for(var _i=0;_i<container.getNumChildren();_i++){if(instanceOf(container.getChildAt(_i),Container)){var _queryResult=this.querySelectorContainer(query,container.getChildAt(_i));if(_queryResult){return _queryResult;}}}
return undefined;}
return container.getChildByName(names[0]);}}},{key:"querySelector",value:function querySelector(query){return this.querySelectorContainer(query,this.getLayout());}},{key:"applyConfig",value:function applyConfig(config){var container=arguments.length<=1||arguments[1]===undefined?this.getLayout():arguments[1];this.initChildrenContainer(container,config,false);}},{key:"initChildrenContainer",value:function initChildrenContainer(container,config){var createNew=arguments.length<=2||arguments[2]===undefined?true:arguments[2];for(var child in config){var newChild=void 0;if(createNew){if(config[child].type==="ReelSymbol"){var slotMachine=this.getService("SlotMachineService").getInstance();if(slotMachine){newChild=slotMachine.getSymbol(config[child].symbolNumber||1,config[child].symbolType||"def");}else{$_log.warning("It's impossible  to use slot machine now (initChildren, alias="+this.alias+", child="+child+")");}}else{newChild=new Core[config[child].type](config[child],this.alias);}
newChild.name=child;}else{newChild=container.getChildByName(child);if(!newChild){$_log.warning(child+" not found in "+container.name);return;}}
for(var param in config[child]){var value=void 0;switch(param){case"width":if(!container.setChildWidth(newChild,config[child].width)){$_log.error("Cannot set width="+config[child].width+" for "+child);}
break;case"height":if(!container.setChildHeight(newChild,config[child].height)){$_log.error("Cannot set height="+config[child].height+" for "+child);}
break;case"left":if(!container.setChildLeft(newChild,config[child].left)){$_log.error("Cannot set left="+config[child].left+" for "+child);}
break;case"right":if(!container.setChildRight(newChild,config[child].right)){$_log.error("Cannot set right="+config[child].right+" for "+child);}
break;case"top":if(!container.setChildTop(newChild,config[child].top)){$_log.error("Cannot set top="+config[child].top+" for "+child);}
break;case"bottom":if(!container.setChildBottom(newChild,config[child].bottom)){$_log.error("Cannot set bottom="+config[child].bottom+" for "+child);}
break;case"shadow":var _config$child$shadow=config[child].shadow;var color=_config$child$shadow.color;var offsetX=_config$child$shadow.offsetX;var offsetY=_config$child$shadow.offsetY;var blur=_config$child$shadow.blur;newChild.shadow=new createjs.Shadow(color,offsetX,offsetY,blur);break;case"blur":var _config$child$blur=config[child].blur;var blurX=_config$child$blur.blurX;var blurY=_config$child$blur.blurY;var quality=_config$child$blur.quality;var blurFilter=new createjs.BlurFilter(blurX,blurY,quality);newChild.filters=[blurFilter];var rect=newChild.getBounds();newChild.cache(rect.x,rect.y,rect.width,rect.height);break;case"regX":value=config[child].regX;if(typeof value==="string"&&value.indexOf("%")>-1){var valuePercent=parseFloat(value)/100;if(newChild.width===undefined&&newChild.getBounds()===null){$_log.error("Cannot set regX="+config[child].regX+" for "+child);}
value=(newChild.width!==undefined?newChild.width:newChild.getBounds()!==null?newChild.getBounds().width:0)*valuePercent;}
newChild.regX=parseInt(value);break;case"regY":value=config[child].regY;if(typeof value==="string"&&value.indexOf("%")>-1){var _valuePercent=parseFloat(value)/100;if(newChild.height===undefined&&newChild.getBounds()===null){$_log.error("Cannot set regX="+config[child].regY+" for "+child);}
value=(newChild.height!==undefined?newChild.height:newChild.getBounds()!==null?newChild.getBounds().height:0)*_valuePercent;}
newChild.regY=parseInt(value);break;case"debugDrag":if(config[child].debugDrag===true&&$_log.dev===true){this.initDebugDrag(newChild);}
break;case"text":if(typeof newChild.setText==="function"){newChild.setText(config[child][param]);}else{$_log.warning("Cannot set Text for not text instance",child,config[child]);newChild.text=config[child][param];}
break;case"configs":newChild.setConfigs(config[child][param]);break;case"visible":case"cursor":case"alpha":case"scaleX":case"scaleY":case"rotation":case"mouseEnabled":case"skewX":case"skewY":case"tickEnabled":case"font":case"color":case"lineHeight":case"lineWidth":case"maxWidth":case"outline":case"textAlign":case"textBaseline":case"fontTransform":case"mouseChildren":case"tickChildren":newChild[param]=config[child][param];break;case"align":case"verticalAlign":case"children":case"spriteSheet":case"type":break;}}
newChild.zIndex=config[child].zIndex!==undefined?config[child].zIndex:1;if(createNew){container.addChild(newChild);}
if(newChild instanceof Container&&config[child].children!==undefined){this.initChildrenContainer(newChild,config[child].children,createNew);}
if(config[child].align!==undefined){if(!container.setChildAlign(config[child].align,newChild)){$_log.error("Cannot set align="+config[child].align+" for "+child);}}
if(config[child].verticalAlign!==undefined){if(!container.setChildVerticalAlign(config[child].verticalAlign,newChild)){$_log.error("Cannot set verticalAlign="+config[child].verticalAlign+" for "+child);}}}
container.sortChildren(function(child1,child2){return child1.zIndex===undefined||child2.zIndex===undefined||child1.zIndex===child2.zIndex?0:child1.zIndex>child2.zIndex?1:-1;});}},{key:"initDebugDrag",value:function initDebugDrag(target){if($_log.dev!==true){}
var pt=void 0;target.on("mousedown",function(evt){pt=evt.currentTarget.globalToLocal(evt.stageX,evt.stageY);});target.on("pressmove",function(evt){var ptParent=evt.currentTarget.parent.globalToLocal(evt.stageX,evt.stageY);evt.currentTarget.x=ptParent.x-pt.x;evt.currentTarget.y=ptParent.y-pt.y;console.debug(evt.currentTarget.name,parseInt(evt.currentTarget.x),parseInt(evt.currentTarget.y),evt.currentTarget);target.stage.requestUpdate();});}},{key:"applyStyle",value:function applyStyle(config){for(var child in config){var childInstance=this.querySelector(child);if(!childInstance){$_log.error("Cannot find element with name = "+child);return;}
for(var style in config[child]){childInstance[style]=config[child][style];}}
this.getStage().requestUpdate();}},{key:"initChildren",value:function initChildren(config){this.initChildrenContainer(this.getLayout(),config);this.getStage().requestUpdate();}},{key:"cacheLayout",value:function cacheLayout(){$_view_canvas.cacheTarget(this.getLayout());}},{key:"uncacheLayout",value:function uncacheLayout(){this.getLayout().uncache();}},{key:"updateCache",value:function updateCache(){this.getLayout().updateCache();}},{key:"enableUpdatingCacheOnEveryTick",value:function enableUpdatingCacheOnEveryTick(){var _this2=this;this.getLayout().addEventListener("tick",function(){_this2.getLayout().updateCache();});}},{key:"disableUpdatingCacheOnEveryTick",value:function disableUpdatingCacheOnEveryTick(){this.getLayout().removeAllEventListeners("tick");}},{key:"isCached",value:function isCached(){return this.getLayout().cacheCanvas?true:false;}},{key:"getCanvas",value:function getCanvas(){return this.getStage().canvas;}},{key:"getStage",value:function getStage(){return this.getLayout().stage;}},{key:"getLayout",value:function getLayout(alias){if(alias!==undefined){return $_view_canvas.getComponentLayout(alias);}
if(this.layout===undefined){this.initLayout();}
return this.layout;}},{key:"showLayout",value:function showLayout(){this.getLayout().visible=true;}},{key:"hideLayout",value:function hideLayout(){this.getLayout().visible=false;}},{key:"getGameContainer",value:function getGameContainer(){return $_view_canvas.getGameContainer();}},{key:"enableModalMode",value:function enableModalMode(){var layer=arguments.length<=0||arguments[0]===undefined?this.getLayout():arguments[0];$_view_canvas.enableModalModeForLayer(layer);}},{key:"disableModalMode",value:function disableModalMode(){var layer=arguments.length<=0||arguments[0]===undefined?this.getLayout():arguments[0];$_view_canvas.disableModalModeForLayer(layer);}},{key:"disableClickActions",value:function disableClickActions(){$_view_canvas.disableClickActions();}},{key:"enableClickActions",value:function enableClickActions(){$_view_canvas.enableClickActions();}},{key:"getImage",value:function getImage(aliasImage){return $_required.getImageRawData(aliasImage,this.alias);}},{key:"isVerticalMode",value:function isVerticalMode(){return $_view_canvas.verticalMode;}},{key:"closest",value:function closest(target,parentName){var t=target.parent;while(t){if(t.name===parentName){return true;}
t=t.parent;}
return false;}},{key:"generateBlurBackground",value:function generateBlurBackground(){return $_view_canvas.generateBlurBackground();}},{key:"getStageScreenshot",value:function getStageScreenshot(){return $_view_canvas.getStageScreenshot();}}]);return ViewCanvasHandler;}(_componentInterface2.default);exports.default=ViewCanvasHandler;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _EventsEs=__webpack_require__(7);var _EventsEs2=_interopRequireDefault(_EventsEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BackgroundEvent=function(_Events){_inherits(BackgroundEvent,_Events);function BackgroundEvent(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,BackgroundEvent);var _this=_possibleConstructorReturn(this,(BackgroundEvent.__proto__||Object.getPrototypeOf(BackgroundEvent)).call(this,data));_this.init(data);return _this;}
_createClass(BackgroundEvent,[{key:"run",value:function run(){this.handler=this.getHandler();this.setSubscriber('initGame');this.setSubscriber("horizontalMode");this.setSubscriber("verticalMode");}},{key:"initGameEvent",value:function initGameEvent(){this.handler.initHandler();}},{key:"horizontalModeEvent",value:function horizontalModeEvent(){this.handler.activateHorizontalMode();}},{key:"verticalModeEvent",value:function verticalModeEvent(){this.handler.activateVerticalMode();}}]);return BackgroundEvent;}(_EventsEs2.default);exports.default=BackgroundEvent;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ViewCanvasHandler2=__webpack_require__(82);var _ViewCanvasHandler3=_interopRequireDefault(_ViewCanvasHandler2);var _config=__webpack_require__(85);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BackgroundHandler=function(_ViewCanvasHandler){_inherits(BackgroundHandler,_ViewCanvasHandler);function BackgroundHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,BackgroundHandler);var _this=_possibleConstructorReturn(this,(BackgroundHandler.__proto__||Object.getPrototypeOf(BackgroundHandler)).call(this,data));_this.init(data);return _this;}
_createClass(BackgroundHandler,[{key:"initHandler",value:function initHandler(){this.initLayout(_config2.default);this.initChildren(_config2.default.children);this._background=this.querySelector("background");}},{key:"changeBackground",value:function changeBackground(src){if(this._background){this._background.image=$_required.getImageRawData(src,this.alias);}}},{key:"showMainBackground",value:function showMainBackground(){this.querySelector("logo").visible=true;this.querySelector("luckyLogo").visible=true;this.querySelector("rightGirl").visible=true;this.querySelector("leftGirl").visible=true;this.querySelector("pool").visible=true;this.querySelector("fire_1").visible=true;this.querySelector("fire_2").visible=true;this.querySelector("fire_3").visible=true;this.changeBackground("background_main",this.alias);}},{key:"showFreeSpinBackground",value:function showFreeSpinBackground(){this.changeBackground("background_free_spins",this.alias);this.querySelector("logo").visible=false;this.querySelector("luckyLogo").visible=false;this.querySelector("rightGirl").visible=false;this.querySelector("leftGirl").visible=false;this.querySelector("pool").visible=false;this.querySelector("fire_1").visible=false;this.querySelector("fire_2").visible=false;this.querySelector("fire_3").visible=false;}},{key:"showBonusBackground",value:function showBonusBackground(){}},{key:"activateVerticalMode",value:function activateVerticalMode(){}},{key:"activateHorizontalMode",value:function activateHorizontalMode(){}}]);return BackgroundHandler;}(_ViewCanvasHandler3.default);exports.default=BackgroundHandler;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var atlasBackAnimation={"images":["main_back_anim"],"frames":[[1,1,651,81,0,-1,-1],[1,84,651,81,0,-1,-1],[654,1,651,81,0,-1,-1],[1,167,651,81,0,-1,-1],[654,84,651,81,0,-1,-1],[1,250,651,81,0,-1,-1],[654,167,651,81,0,-1,-1],[1,333,651,81,0,-1,-1],[654,250,651,81,0,-1,-1],[1,416,651,81,0,-1,-1],[654,333,651,81,0,-1,-1],[1,499,651,81,0,-1,-1],[654,416,651,81,0,-1,-1],[1307,1,356,85,0,-2,0],[1,582,356,85,0,-2,0],[1307,88,356,85,0,-2,0],[1,669,356,85,0,-2,0],[1307,175,356,85,0,-2,0],[1,756,356,85,0,-2,0],[1307,262,356,85,0,-2,0],[1,843,356,85,0,-2,0],[1307,349,356,84,0,-2,-1],[1,930,355,85,0,-3,0],[1,1017,355,85,0,-3,0],[1,1104,355,85,0,-3,0],[1,1191,355,85,0,-3,0],[1,1278,356,84,0,-2,-1],[1,1364,356,84,0,-2,-1],[1,1450,356,84,0,-2,-1],[1,1536,356,84,0,-2,-1],[1,1622,356,84,0,-2,-1],[654,499,356,82,0,-2,-3],[1307,435,356,82,0,-2,-3],[1665,1,97,296,0,-5,0],[359,582,97,296,0,-5,0],[458,582,97,294,0,-4,-2],[557,582,95,292,0,-4,-4],[654,583,356,83,0,-2,-2],[654,668,356,82,0,-2,-3],[654,752,356,82,0,-2,-3],[654,836,356,82,0,-2,-3],[1012,499,97,294,0,-4,-2],[1111,499,96,294,0,-4,-2],[1209,499,96,290,0,-4,-6],[1307,519,356,82,0,-2,-3],[1665,299,95,292,0,-4,-4],[358,930,93,291,0,-4,-5],[359,1223,93,291,0,-4,-5],[1307,603,102,269,0,-2,-15],[1411,603,102,269,0,-2,-15],[1515,603,102,271,0,-2,-13],[1619,603,92,282,0,-5,-14],[453,920,93,290,0,-4,-6],[454,1212,93,290,0,-4,-6],[548,920,96,290,0,-4,-6],[549,1212,94,289,0,-4,-7],[646,920,97,288,0,-5,-8],[745,920,95,288,0,-4,-8],[842,920,94,289,0,-4,-7],[938,920,93,288,0,-4,-8],[645,1212,94,287,0,-4,-9],[741,1210,94,287,0,-4,-9],[837,1211,100,281,0,-4,-3],[939,1210,92,282,0,-5,-14],[1033,795,100,279,0,-4,-5],[1033,1076,100,279,0,-4,-5],[1135,795,93,284,0,-4,-12],[1135,1081,93,283,0,-4,-13],[1230,874,101,277,0,-3,-7],[1333,874,100,278,0,-4,-6],[1230,1153,101,270,0,-3,-14],[1333,1154,102,271,0,-2,-13],[1435,876,102,274,0,-2,-10],[1437,1152,102,273,0,-2,-11],[1033,1357,100,271,0,-4,-13],[1135,1366,92,283,0,-5,-13],[1229,1425,102,271,0,-2,-13],[1333,1427,102,271,0,-2,-13],[1437,1427,102,273,0,-2,-11],[454,1504,101,270,0,-3,-14],[557,1503,100,271,0,-4,-13],[659,1501,101,273,0,-3,-11],[762,1499,100,275,0,-4,-9],[864,1494,100,278,0,-4,-6],[1539,876,53,100,0,-6,0],[1594,887,101,272,0,-3,-12],[1541,1161,100,275,0,-4,-9],[1541,1438,100,270,0,-4,-14],[1643,1161,101,273,0,-3,-11],[1539,978,53,54,0,-5,-46],[359,1516,52,93,0,-6,-7],[966,1494,51,83,0,-7,-17],[1643,1436,54,73,0,-6,-27],[1,1708,58,65,0,-5,-35],[61,1708,59,62,0,-5,-38],[122,1708,59,62,0,-5,-38],[183,1708,57,61,0,-5,-39],[242,1708,55,60,0,-6,-40],[299,1708,56,55,0,-6,-45],[1539,1034,49,61,0,-4,-39],[1643,1511,54,55,0,-6,-45],[359,1611,51,49,0,-4,-51],[359,880,49,46,0,-4,-54]],"animations":{"pool":{"frames":[0,1,2,3,4,5,6,7,8,9,10,11,12]},"logo":{"frames":[13,21,14,22,23,24,25,31,32,37,26,27,28,15,16,17,29,38,39,40,44,30,18,19,20]},"girl_left":{"frames":[51,63,75,67,59,46,47,52,53,66,60,61,55,58,57,43,54,36,45,42,35,41,33,34,56]},"girl_right":{"frames":[48,49,50,71,72,70,79,74,80,87,76,77,73,78,85,81,88,82,86,68,69,83,64,65,62]},"Fire_enviroment":{"frames":[102,101,89,100,98,97,96,94,95,93,92,91,90,84,99]}},framerate:25};var config={layerSizeType:"fullsize",zIndex:0,children:{background:{type:"Bitmap",src:"background_main",width:"100%",height:"100%"},logo:{type:"Sprite",top:32,align:"center",spriteSheet:atlasBackAnimation,defaultAnimation:"logo",framerate:18,visible:false},luckyLogo:{type:"Bitmap",src:"lucky_logo",top:48,left:813,scaleX:0.75,scaleY:0.75},leftGirl:{type:"Sprite",top:266,left:163,spriteSheet:atlasBackAnimation,defaultAnimation:"girl_left",framerate:20},rightGirl:{type:"Sprite",top:268,left:1010,spriteSheet:atlasBackAnimation,defaultAnimation:"girl_right",framerate:20},pool:{type:"Sprite",top:487,left:313,spriteSheet:atlasBackAnimation,defaultAnimation:"pool",framerate:18},fire_1:{type:"Sprite",top:342,left:1194,spriteSheet:atlasBackAnimation,defaultAnimation:"Fire_enviroment",startFrame:0,framerate:14},fire_2:{type:"Sprite",top:343,left:1148,scaleX:0.5,scaleY:0.5,spriteSheet:atlasBackAnimation,defaultAnimation:"Fire_enviroment",startFrame:8,framerate:14},fire_3:{type:"Sprite",top:338,left:53,scaleX:0.5,scaleY:0.5,spriteSheet:atlasBackAnimation,defaultAnimation:"Fire_enviroment",startFrame:4,framerate:14}}};exports.default=config;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ControllerEs=__webpack_require__(6);var _ControllerEs2=_interopRequireDefault(_ControllerEs);var _popupServiceEs=__webpack_require__(56);var _popupServiceEs2=_interopRequireDefault(_popupServiceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var PopupController=function(_Controller){_inherits(PopupController,_Controller);function PopupController(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,PopupController);var _this=_possibleConstructorReturn(this,(PopupController.__proto__||Object.getPrototypeOf(PopupController)).call(this,data));_this.nextState=[];_this.nextSystemState=[];_this.popupAnswer=null;_this.activeGameAction=false;return _this;}
_createClass(PopupController,[{key:"initController",value:function initController(){this.handler=this.getHandler();}},{key:"systemPopupOkButtonClickAction",value:function systemPopupOkButtonClickAction(){this.getService("SoundService").play("audio_options");this.getService("PopupService").removeInfoPopup(this.getService("PopupService").getActiveName(_popupServiceEs2.default.INFO_POPUP));if(this.nextSystemState){this.goToStates(this.nextSystemState);this.nextSystemState=[];}
this.handler.hideSystemPopup();}},{key:"gamePopupOkButtonClickAction",value:function gamePopupOkButtonClickAction(){if(this.activeGameAction===false){return;}
this.activeGameAction=false;this.getService("SoundService").play("audio_options");var name=this.getService("PopupService").getActiveName(_popupServiceEs2.default.GAME_POPUP);this.getService("PopupService").removeWaitGamePopup(name);if(!this.getService("PopupService").hasWaitGamePopup(name)){this.getService("PopupService").removeGamePopup(name);this.handler.hideGamePopup();}
if(this.nextState){this.goToStates(this.nextState);this.nextState=[];}}},{key:"goToStates",value:function goToStates(){var list=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];for(var state in list){$_signal.goTo(list[state],this.popupAnswer);}
this.popupAnswer=null;}}]);return PopupController;}(_ControllerEs2.default);exports.default=PopupController;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _EventsEs=__webpack_require__(7);var _EventsEs2=_interopRequireDefault(_EventsEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var PopupInitEvent=function(_Events){_inherits(PopupInitEvent,_Events);function PopupInitEvent(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,PopupInitEvent);return _possibleConstructorReturn(this,(PopupInitEvent.__proto__||Object.getPrototypeOf(PopupInitEvent)).call(this,data));}
_createClass(PopupInitEvent,[{key:"run",value:function run(){this.handler=this.getHandler();this.controller=this.getController();this.setSubscriber("showSystemErrorPopup");this.setSubscriber("showSystemInfoPopup");this.setSubscriber("showGameInfoPopup");this.setSubscriber("showCustomPopup");this.setSubscriber("hideCustomPopup");this.setSubscriber('preloaderFinishedLoading');this.setSubscriber("showPopupBonusStart");this.setSubscriber("showPopupFreeSpinsStart");this.setSubscriber("showPopupFreeSpinsAdditional");this.setSubscriber("showPopupFreeSpinsFinish");this.setSubscriber("showPopupAutoSpinFinish");this.setSubscriber("verticalMode");this.setSubscriber("horizontalMode");this.setSubscriber("clearBlockAction");this.ready=false;this._lastSystemInfo=null;this.subscribeErrors={};}},{key:"addErrorsToSubscribe",value:function addErrorsToSubscribe(name,context,method,_arguments){this.subscribeErrors[name]=[context,method,_arguments];}},{key:"removeErrorsFromSubscribe",value:function removeErrorsFromSubscribe(name){if(this.subscribeErrors[name]!==undefined){delete this.subscribeErrors[name];}}},{key:"dispatchSubscribeErrors",value:function dispatchSubscribeErrors(){if(Object.keys(this.subscribeErrors).length==0){return;}
for(var key in this.subscribeErrors){var _subscribeErrors$key=_slicedToArray(this.subscribeErrors[key],3);var context=_subscribeErrors$key[0];var method=_subscribeErrors$key[1];var _arguments=_subscribeErrors$key[2];context[method].apply(context,_arguments);}
this.subscribeErrors={};}},{key:"horizontalModeEvent",value:function horizontalModeEvent(){var _this2=this;setTimeout(function(){_this2.handler.updateBlur();},0);}},{key:"verticalModeEvent",value:function verticalModeEvent(){var _this3=this;setTimeout(function(){_this3.handler.updateBlur();},0);}},{key:"preloaderFinishedLoadingEvent",value:function preloaderFinishedLoadingEvent(){this.ready=true;if(this._lastSystemInfo!==null){var _lastSystemInfo=_slicedToArray(this._lastSystemInfo,2);var name=_lastSystemInfo[0];var data=_lastSystemInfo[1];this[name](data);this._lastSystemInfo=null;}
this.dispatchSubscribeErrors();}},{key:"showSystemInfoPopupEvent",value:function showSystemInfoPopupEvent(data){if(this.ready===false){this._lastSystemInfo=["showSystemInfoPopupEvent",data];return;}
this.handler.showSystemInfoPopup(data);}},{key:"showSystemErrorPopupEvent",value:function showSystemErrorPopupEvent(data){if(this.ready===false){this._lastSystemInfo=["showSystemErrorPopupEvent",data];return;}
this.handler.showSystemErrorPopup(data);}},{key:"showGameInfoPopupEvent",value:function showGameInfoPopupEvent(data){if(this.ready===false){this._lastSystemInfo=["showGameInfoPopupEvent",data];return;}
this.handler.showGameInfoPopup(data);}},{key:"showCustomPopupEvent",value:function showCustomPopupEvent(data){if(this.ready===false){this._lastSystemInfo=["showCustomPopupEvent",data];return;}
this.handler.showCustomPopup(data);}},{key:"hideCustomPopupEvent",value:function hideCustomPopupEvent(data){if(this.ready===false){this._lastSystemInfo=["hideCustomPopupEvent",data];return;}
this.handler.hideCustomPopup(data);}},{key:"showPopupAutoSpinFinishEvent",value:function showPopupAutoSpinFinishEvent(){var config=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.handler.querySelector("message_auto_game_end.winValue").text=config.lastCount.toString();this.handler.showGameInfoPopup({messageAlias:"auto_game_end",state:config.state,okButtonName:"ans_no",nextButtonName:"ans_yes",OkRetry:true,retryAction:config.retryFunc});}},{key:"showPopupBonusStartEvent",value:function showPopupBonusStartEvent(){this.getService("SoundService").stopGroup("main");if(this.getService("AutoPlayService").isActive()&&this.getService("AutoPlayService").isStopOnBonusEnabled()){this.getService("AutoPlayService").stopAutoSpins();}
this.handler.showGameInfoPopup({messageAlias:"bonus_start",states:["protocol.{protocolNextAction}s.nextAction"]});$_signal.goTo("!settings.toolbar.fastMessage","fast_bonus_popup_start");}},{key:"showPopupFreeSpinsStartEvent",value:function showPopupFreeSpinsStartEvent(){var countFreeSpins=arguments.length<=0||arguments[0]===undefined?0:arguments[0];this.getService("SoundService").stopGroup("main");this.handler.querySelector("message_free_spins_start.winValue").text=countFreeSpins.toString();this.handler.showGameInfoPopup({messageAlias:"free_spins_start",state:"!freespins.game.start",okButtonName:"free_spins_ok"});$_signal.goTo("!settings.toolbar.fastMessage","fast_freespin_init");}},{key:"showPopupFreeSpinsAdditionalEvent",value:function showPopupFreeSpinsAdditionalEvent(){var countAdd=arguments.length<=0||arguments[0]===undefined?0:arguments[0];this.handler.querySelector("message_free_spins_add.winValue").text=countAdd.toString();this.handler.showGameInfoPopup({messageAlias:"free_spins_add",state:"control.freespins.hideAddition",okButtonName:"free_spins_ok"});$_signal.goTo("!settings.toolbar.fastMessage","fast_freespin_add");}},{key:"showPopupFreeSpinsFinishEvent",value:function showPopupFreeSpinsFinishEvent(){var amountWin=arguments.length<=0||arguments[0]===undefined?0:arguments[0];var state=arguments.length<=1||arguments[1]===undefined?[]:arguments[1];this.handler.querySelector("message_free_spins_end.winValue").text=number_format(amountWin/100,2,".",",").toString();this.showGameInfoPopupEvent({messageAlias:amountWin>0?"free_spins_end":"free_spins_end_zero",states:[state],okButtonName:"free_spins_hide"});$_signal.goTo("!settings.toolbar.fastMessage","fast_win");}},{key:"clearBlockActionEvent",value:function clearBlockActionEvent(){this.getController().activeGameAction=true;}}]);return PopupInitEvent;}(_EventsEs2.default);exports.default=PopupInitEvent;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ViewCanvasHandlerEs=__webpack_require__(82);var _ViewCanvasHandlerEs2=_interopRequireDefault(_ViewCanvasHandlerEs);var _popupServiceEs=__webpack_require__(56);var _popupServiceEs2=_interopRequireDefault(_popupServiceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var PopupViewHandler=function(_ViewCanvasHandler){_inherits(PopupViewHandler,_ViewCanvasHandler);function PopupViewHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var config=arguments.length<=1||arguments[1]===undefined?null:arguments[1];_classCallCheck(this,PopupViewHandler);var _this=_possibleConstructorReturn(this,(PopupViewHandler.__proto__||Object.getPrototypeOf(PopupViewHandler)).call(this,data));if(config===null){var _ret;return _ret=null,_possibleConstructorReturn(_this,_ret);}
_this.config=config;_this.ready=false;_this._lastSystemErrorsName=null;_this._cloneMessageOptions={};_this.systemPopup=_this.infoPopup=_this.gamePopup=_this.blurBackground=_this.blackBackground=null;return _this;}
_createClass(PopupViewHandler,[{key:"initHandler",value:function initHandler(){var _this2=this;if(this.ready===true){return;}
this.ready=true;this.initLayout(this.config);this.initChildren(this.config.children);this.controller=this.getController();this.systemPopup=this.querySelector("systemPopup");this.infoPopup=this.querySelector("infoPopup");var btnMouseOver=function btnMouseOver(){_this2.getService("SoundService").play("audio_button_all_onMouseOver");};this.querySelector("gamePopup.okButton").addEventListener("click",this.controller.gamePopupOkButtonClickAction.bind(this.controller));this.querySelector("gamePopup.okButton").addEventListener('mouseover',btnMouseOver);this.gamePopup=this.querySelector("gamePopup");this.blackBackground=new Shape();this.blackBackground.graphics.beginFill("#000");this.blackBackground.alpha=1;this.blackBackground.graphics.drawRect(0,0,this.getLayout().width,this.getLayout().height);this.blackBackground.graphics.endFill();this.blackBackground.cache(0,0,this.getLayout().width,this.getLayout().height);this.blackBackground.updateCache();this.blackBackground.visible=false;this.blurBackground=new Shape();this.blurBackground.graphics.beginFill("#000");this.blurBackground.alpha=0.01;this.blurBackground.graphics.drawRect(0,0,this.getLayout().width,this.getLayout().height);this.blurBackground.graphics.endFill();this.blurBackground.cache(0,0,this.getLayout().width,this.getLayout().height);this.blurBackground.updateCache();this.blurBackground.visible=false;this.systemAction=this.controller.systemPopupOkButtonClickAction.bind(this.controller);this.gameAction=this.controller.gamePopupOkButtonClickAction.bind(this.controller);this.querySelector("backgroundContainer").addChildAt(this.blackBackground,0);this.querySelector("backgroundContainer").addChildAt(this.blurBackground,0);}},{key:"generateBlurBg",value:function generateBlurBg(){if(this.blur){this.querySelector("backgroundContainer").removeChild(this.blur);}
this.blur=$_view_canvas.generateBlurBackground();this.querySelector("backgroundContainer").addChildAt(this.blur,0);return this.blur;}},{key:"unblur",value:function unblur(){if(this.blur){this.querySelector("backgroundContainer").removeChild(this.blur);this.blur=null;}}},{key:"showEmptyBlur",value:function showEmptyBlur(){this.generateBlurBg();this.blurBackground.visible=true;}},{key:"createButton",value:function createButton(text){var okButton=this.querySelector("gamePopup.okButton");var okButtonText=this.querySelector("gamePopup.okButton.buttonText");var width=okButton.width,height=okButton.height;var buttonContainer=new Container();buttonContainer.width=width;buttonContainer.height=height;var button=new Button({"width":width,"height":height,"spriteSheet":{"images":["popup_ok_button"],"frames":{"width":48,"height":25},"animations":{"normal":[2],"hover":[3],"clicked":[0],"disabled":[1]}}},this.alias);button.name="button";buttonContainer.addChild(button);var buttonText=new Text({text:text,font:"bold 14pt Calibri","color":"#55702B","textAlign":"center","textBaseline":"middle"});buttonText.name="buttonText";buttonText.mouseEnabled=false;buttonContainer.addChild(buttonText);buttonContainer.setChildLeft(buttonText,"50%");buttonContainer.setChildTop(buttonText,okButtonText.y);return buttonContainer;}},{key:"initStandardPopup",value:function initStandardPopup(){var okButton=this.querySelector("gamePopup.okButton");createjs.Tween.removeTweens(okButton);this.gamePopup.setChildLeft(okButton,"50%");var retryButton=this.querySelector("gamePopup.retryButton");if(retryButton){this.gamePopup.removeChild(retryButton);createjs.Tween.removeTweens(retryButton);}
this.getLayout().setChildAlign("center",this.gamePopup);this.getLayout().setChildVerticalAlign("middle",this.gamePopup);}},{key:"showFreeSpinsStartEffect",value:function showFreeSpinsStartEffect(){var _this3=this;var messageAliasContainer=this.querySelector("gamePopup.message_free_spins_start");var message1=this.querySelector("gamePopup.message_free_spins_start.message_1");var message2=this.querySelector("gamePopup.message_free_spins_start.message_2");var message3=this.querySelector("gamePopup.message_free_spins_start.message_3");var message4=this.querySelector("gamePopup.message_free_spins_start.winValue");message1.regX=message1.getBounds().width/2;message1.regY=message1.getBounds().height/2;message2.regX=message2.getBounds().width/2;message2.regY=message2.getBounds().height/2;message3.regX=message3.getBounds().width/2;message3.regY=message3.getBounds().height/2;message4.regX=message4.getBounds().width/2;message4.regY=message4.getBounds().height/2;var tl=new createjs.Timeline();var scale=message4.scaleX;tl.addTween(createjs.Tween.get(message1).to({scaleX:0,scaleY:0},0).wait(500).to({scaleX:0.8,scaleY:0.8},0).to({scaleX:1.3,scaleY:1.3},150).call(function(){_this3.getService("SoundService").play("audio_popup_text");}).to({scaleX:1,scaleY:1},70),createjs.Tween.get(message2).to({scaleX:0,scaleY:0},0).wait(800).to({scaleX:0.8,scaleY:0.8},0).to({scaleX:1.3,scaleY:1.3},150).call(function(){_this3.getService("SoundService").play("audio_popup_text");}).to({scaleX:1,scaleY:1},70),createjs.Tween.get(message3).to({scaleX:0,scaleY:0},0).wait(800).to({scaleX:0.8,scaleY:0.8},0).to({scaleX:1.3,scaleY:1.3},150).to({scaleX:1,scaleY:1},70),createjs.Tween.get(message4).to({scaleX:0*scale,scaleY:0*scale},0).wait(1100).to({scaleX:10*scale,scaleY:10*scale},0).call(function(){_this3.getService("SoundService").play("audio_popup_text");}).to({scaleX:1*scale,scaleY:1*scale},90));}},{key:"showFreeSpinsEndEffect",value:function showFreeSpinsEndEffect(){var _this4=this;var messageAliasContainer=this.querySelector("gamePopup.message_free_spins_end");var message1=this.querySelector("gamePopup.message_free_spins_end.message_1");var message2=this.querySelector("gamePopup.message_free_spins_end.message_2");var message3=this.querySelector("gamePopup.message_free_spins_end.winValue");message1.regX=message1.getBounds().width/2;message1.regY=message1.getBounds().height/2;message2.regX=message2.getBounds().width/2;message2.regY=message2.getBounds().height/2;message3.regX=message3.getBounds().width/2;message3.regY=message3.getBounds().height/2;messageAliasContainer.setChildLeft(message3,"50%");var scale=message3.scaleX;var tl=new createjs.Timeline();tl.addTween(createjs.Tween.get(message1).to({scaleX:0,scaleY:0},0).wait(500).to({scaleX:0.8,scaleY:0.8},0).call(function(){_this4.getService("SoundService").play("audio_popup_text");}).to({scaleX:1.3,scaleY:1.3},150).to({scaleX:1,scaleY:1},70),createjs.Tween.get(message2).to({scaleX:0,scaleY:0},0).wait(800).to({scaleX:0.8,scaleY:0.8},0).call(function(){_this4.getService("SoundService").play("audio_popup_text");}).to({scaleX:1.3,scaleY:1.3},150).to({scaleX:1,scaleY:1},70),createjs.Tween.get(message3).to({scaleX:0*scale,scaleY:0*scale},0).wait(1400).to({scaleX:10*scale,scaleY:10*scale},0).call(function(){_this4.getService("SoundService").play("audio_sound_numbers");}).to({scaleX:1*scale,scaleY:1*scale},90));}},{key:"showFreeSpinsAddEffect",value:function showFreeSpinsAddEffect(){var _this5=this;var messageAliasContainer=this.querySelector("gamePopup.message_free_spins_add");var message1=this.querySelector("gamePopup.message_free_spins_add.message_1");var message2=this.querySelector("gamePopup.message_free_spins_add.message_2");var message3=this.querySelector("gamePopup.message_free_spins_add.message_3");var message4=this.querySelector("gamePopup.message_free_spins_add.winValue");message1.regX=message1.getBounds().width/2;message1.regY=message1.getBounds().height/2;message2.regX=message2.getBounds().width/2;message2.regY=message2.getBounds().height/2;message4.regX=message4.getBounds().width/2;message4.regY=message4.getBounds().height/2;var tl=new createjs.Timeline();var scale=message4.scaleX;tl.addTween(createjs.Tween.get(message1).to({scaleX:0,scaleY:0},0).wait(500).to({scaleX:0.8,scaleY:0.8},0).to({scaleX:1.3,scaleY:1.3},150).to({scaleX:1,scaleY:1},70).call(function(){_this5.getService("SoundService").play("audio_popup_text");}),createjs.Tween.get(message2).to({scaleX:0,scaleY:0},0).wait(800).to({scaleX:0.8,scaleY:0.8},0).to({scaleX:1.3,scaleY:1.3},150).to({scaleX:1,scaleY:1},70).call(function(){_this5.getService("SoundService").play("audio_popup_text");}),createjs.Tween.get(message3).to({scaleX:0,scaleY:0},0).wait(800).to({scaleX:0.8,scaleY:0.8},0).to({scaleX:1.3,scaleY:1.3},150).to({scaleX:1,scaleY:1},70).call(function(){_this5.getService("SoundService").play("audio_popup_text");}),createjs.Tween.get(message4).to({scaleX:0*scale,scaleY:0*scale},0).wait(1400).to({scaleX:10*scale,scaleY:10*scale},0).to({scaleX:1*scale,scaleY:1*scale},90).call(function(){_this5.getService("SoundService").play("audio_sound_multiplier");}));}},{key:"showFreeSpinsEndZeroEffect",value:function showFreeSpinsEndZeroEffect(){var _this6=this;var messageAliasContainer=this.querySelector("gamePopup.message_free_spins_end_zero");var message1=this.querySelector("gamePopup.message_free_spins_end_zero.message_1");message1.regX=message1.getBounds().width/2;message1.regY=message1.getBounds().height/2;var tl=new createjs.Timeline();tl.addTween(createjs.Tween.get(message1).to({scaleX:0,scaleY:0},0).wait(500).to({scaleX:0.8,scaleY:0.8},0).to({scaleX:1.3,scaleY:1.3},150).to({scaleX:1,scaleY:1},70).call(function(){_this6.getService("SoundService").play("audio_popup_text");}));}},{key:"showBonusStartEffect",value:function showBonusStartEffect(){var _this7=this;var messageAliasContainer=this.querySelector("gamePopup.message_bonus_start");var message1=this.querySelector("gamePopup.message_bonus_start.message_1");var message2=this.querySelector("gamePopup.message_bonus_start.message_2");message1.regX=message1.getBounds().width/2;message1.regY=message1.getBounds().height/2;message2.regX=message2.getBounds().width/2;message2.regY=message2.getBounds().height/2;var tl=new createjs.Timeline();tl.addTween(createjs.Tween.get(message1).to({scaleX:0,scaleY:0},0).wait(500).to({scaleX:0.8,scaleY:0.8},0).to({scaleX:1.3,scaleY:1.3},150).to({scaleX:1,scaleY:1},70).call(function(){_this7.getService("SoundService").play("audio_popup_text");}),createjs.Tween.get(message2).to({scaleX:0,scaleY:0},0).wait(800).to({scaleX:0.8,scaleY:0.8},0).to({scaleX:1.3,scaleY:1.3},150).to({scaleX:1,scaleY:1},70).call(function(){_this7.getService("SoundService").play("audio_popup_text");}));}},{key:"showAutoGameEndEffect",value:function showAutoGameEndEffect(){var _this8=this;var messageAliasContainer=this.querySelector("gamePopup.message_auto_game_end");var message1=this.querySelector("gamePopup.message_auto_game_end.message_1");var message2=this.querySelector("gamePopup.message_auto_game_end.message_2");var winValue=message1.getChildByName("winValue");var message=message1.getChildByName("message");winValue.x=message.x+message.getBounds().width+5;message1.regX=(message.getBounds().width+41)/2;message1.regY=message1.getBounds().height/2;message1.x=messageAliasContainer.width/2;message2.regX=message2.getBounds().width/2;message2.regY=message2.getBounds().height/2;var tl=new createjs.Timeline();tl.addTween(createjs.Tween.get(message1).to({scaleX:0,scaleY:0},0).wait(500).to({scaleX:0.8,scaleY:0.8},0).to({scaleX:1.3,scaleY:1.3},150).to({scaleX:1,scaleY:1},70).call(function(){_this8.getService("SoundService").play("audio_popup_text");}),createjs.Tween.get(message2).to({scaleX:0,scaleY:0},0).wait(800).to({scaleX:0.8,scaleY:0.8},0).to({scaleX:1.3,scaleY:1.3},150).to({scaleX:1,scaleY:1},70).call(function(){_this8.getService("SoundService").play("audio_popup_text");}));}},{key:"showCustomPopup",value:function showCustomPopup(data){if(!data.target){return;}
var _data$blur=data.blur;var blur=_data$blur===undefined?true:_data$blur;var _data$blurTime=data.blurTime;var blurTime=_data$blurTime===undefined?0:_data$blurTime;var _data$showTime=data.showTime;var showTime=_data$showTime===undefined?0:_data$showTime;var _data$modal=data.modal;var modal=_data$modal===undefined?true:_data$modal;var target=data.target;var blurBitmap=void 0;if(blur){this.generateBlurBg();if(blurTime){this.blur.alpha=0;createjs.Tween.get(this.blur,{override:true}).to({alpha:1},blurTime);}}
if(modal){this.enableModalMode();}
this.getLayout().addChild(target);this.getLayout().setChildAlign("center",target);this.getLayout().setChildVerticalAlign("middle",target);target.alpha=0;var rect=target.getBounds();target.cache(rect.x,rect.y,rect.width,rect.height);createjs.Tween.get(target,{override:true}).wait(blurTime).to({alpha:1},showTime).call(function(){target.uncache();if(data.callback&&typeof data.callback==="function"){data.callback();}});}},{key:"hideCustomPopup",value:function hideCustomPopup(data,resolve){var _this9=this;createjs.Tween.get(data.target,{override:true}).to({alpha:0},60).call(function(){_this9.getLayout().removeChild(data.target);});if(this.blur&&this.getService("PopupService").getLength()==0){createjs.Tween.get(this.blur,{override:true}).to({alpha:0},60).call(function(){_this9.unblur();_this9.disableModalMode();resolve();});}else{this.unblur();this.disableModalMode();resolve();}}},{key:"setTranslationMessage",value:function setTranslationMessage(type,message,textObject){if(this._cloneMessageOptions[type]===undefined){this._cloneMessageOptions[type]=textObject;}
var cloneProperty=this._cloneMessageOptions[type];if(message instanceof Object){for(var key in message){cloneProperty[key]=message[key];}}else{cloneProperty.text=message;}
textObject=cloneProperty;}},{key:"clearTranslationMessage",value:function clearTranslationMessage(type){delete this._cloneMessageOptions[type];}},{key:"setPopupToCenterOfGameContainer",value:function setPopupToCenterOfGameContainer(popup){var gameContainer=this.getGameContainer();popup.y=(gameContainer.y>0?gameContainer.y:0)+gameContainer.height/2-(popup.height/2-popup.regY);}},{key:"updateBlur",value:function updateBlur(){var withoutPopupLayer=arguments.length<=0||arguments[0]===undefined?false:arguments[0];if(this.blur){if(withoutPopupLayer){this.getLayout().visible=false;}
if(this._currentPopup){this._currentPopup.visible=false;}
this.generateBlurBg();if(withoutPopupLayer){this.getLayout().visible=true;}
if(this._currentPopup){this.setPopupToCenterOfGameContainer(this._currentPopup);this._currentPopup.visible=true;}}}},{key:"_showPopupLayer",value:function _showPopupLayer(){var type=arguments.length<=0||arguments[0]===undefined?0:arguments[0];var _this10=this;var object=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var showBG=arguments.length<=2||arguments[2]===undefined?true:arguments[2];$_services.getService("SlotMachineService").setPaused(true);this.enableModalMode();var popup=void 0;switch(type){case _popupServiceEs2.default.EMPTY_POPUP:if(showBG){if(this.blur){this.blur.visible=true;}
this.generateBlurBg();this.blurBackground.visible=true;}
break;case _popupServiceEs2.default.GAME_POPUP:this.controller.activeGameAction=true;popup=this.querySelector("gamePopup");this.setPopupToCenterOfGameContainer(popup);popup.visible=true;if(showBG){this.generateBlurBg();this.blurBackground.visible=true;}
setTimeout(function(){_this10.blurBackground.addEventListener("click",_this10.gameAction);},2000);break;case _popupServiceEs2.default.CUSTOM_POPUP:if(object.properties){popup=object.properties[0].target;this.setPopupToCenterOfGameContainer(popup);popup.visible=true;}
if(showBG){if(this.blur){}}
break;case _popupServiceEs2.default.INFO_POPUP:popup=this.querySelector("infoPopup");this.setPopupToCenterOfGameContainer(popup);popup.visible=true;if(showBG){this.generateBlurBg();this.blurBackground.visible=true;}
this.blurBackground.addEventListener("click",this.systemAction);break;case _popupServiceEs2.default.ERROR_POPUP:popup=this.querySelector("systemPopup");this.setPopupToCenterOfGameContainer(popup);popup.visible=true;if(showBG&&this.blackBackground){this.blackBackground.visible=true;}
this.getService("SoundService").muteGroup("main");if(this.getLayout("preloader")){this.getLayout("preloader").visible=false;}
break;}
this._currentPopup=popup;}},{key:"_hidePopupLayer",value:function _hidePopupLayer(){var type=arguments.length<=0||arguments[0]===undefined?0:arguments[0];var object=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var hideBG=arguments.length<=2||arguments[2]===undefined?true:arguments[2];$_services.getService("SlotMachineService").setPaused(false);this.disableModalMode();switch(type){case _popupServiceEs2.default.EMPTY_POPUP:if(hideBG){if(this.blur){this.blur.visible=false;}
this.unblur();if(this.blurBackground){this.blurBackground.visible=false;}}
break;case _popupServiceEs2.default.GAME_POPUP:this.controller.activeGameAction=false;if(!this.querySelector("gamePopup")){return;}
this.querySelector("gamePopup").visible=false;if(hideBG){this.blur.visible=false;this.unblur();if(this.blurBackground){this.blurBackground.visible=false;}}
this.blurBackground.removeEventListener("click",this.gameAction);break;case _popupServiceEs2.default.CUSTOM_POPUP:if(object.properties){object.properties[0].target.visible=false;}
if(hideBG){if(this.blur){}
if(this.blurBackground){}}
this.hideCustomPopup({target:object.properties[0].target});break;case _popupServiceEs2.default.INFO_POPUP:if(!this.querySelector("infoPopup")){return;}
this.querySelector("infoPopup").visible=false;if(hideBG){this.unblur();if(this.blurBackground){this.blurBackground.visible=false;}}
this.blurBackground.removeEventListener("click",this.systemAction);break;case _popupServiceEs2.default.ERROR_POPUP:if(!this.querySelector("systemPopup")){return;}
this.querySelector("systemPopup").visible=false;if(hideBG&&this.blackBackground){this.blackBackground.visible=false;}
this.getService("SoundService").raiseGroup("main");if(this.getLayout("preloader")){this.getLayout("preloader").visible=false;}
break;}
this._currentPopup=null;}},{key:"showPopupLayer",value:function showPopupLayer(){var type=arguments.length<=0||arguments[0]===undefined?0:arguments[0];var object=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var _this11=this;var showBG=arguments.length<=2||arguments[2]===undefined?true:arguments[2];var resolved=arguments[3];if(!this.getEvent().ready){this.getEvent().addErrorsToSubscribe(object.name,this,"showPopupLayer",[type,object,showBG,resolved]);return;}
var popup=void 0;var promise=[];promise.push(new Promise(function(resolve){$_services.getService("SlotMachineService").setPaused(true);_this11.enableModalMode();resolve();}));switch(type){case _popupServiceEs2.default.EMPTY_POPUP:promise.push(new Promise(function(resolve){if(showBG){if(_this11.blur){_this11.blur.visible=true;}
_this11.generateBlurBg();_this11.blurBackground.visible=true;}
resolve();}));break;case _popupServiceEs2.default.GAME_POPUP:promise.push(new Promise(function(resolve){_this11.controller.activeGameAction=true;popup=_this11.querySelector("gamePopup");_this11.setPopupToCenterOfGameContainer(popup);popup.visible=true;_this11._currentPopup=popup;if(showBG){_this11.generateBlurBg();_this11.blurBackground.visible=true;}
if(_this11.autoClickGamePopup){clearTimeout(_this11.autoClickGamePopup);}
setTimeout(function(){_this11.blurBackground.addEventListener("click",_this11.gameAction);if(_this11.getService("AutoPlayService").isActive()&&object.name!="autoSpin"){_this11.autoClickGamePopup=setTimeout(function(){_this11.controller.gamePopupOkButtonClickAction();},5000);}
resolve();},2000);}));break;case _popupServiceEs2.default.CUSTOM_POPUP:promise.push(new Promise(function(resolve){if(object.properties){popup=object.properties[0].target;_this11.setPopupToCenterOfGameContainer(popup);popup.visible=true;_this11._currentPopup=popup;}
_this11.generateBlurBg();if(_this11.blur){_this11.blur.visible=true;}else{_this11.generateBlurBg();}
if(showBG){}
resolve();}));break;case _popupServiceEs2.default.INFO_POPUP:promise.push(new Promise(function(resolve){popup=_this11.querySelector("infoPopup");_this11.setPopupToCenterOfGameContainer(popup);popup.visible=true;_this11._currentPopup=popup;if(showBG){_this11.generateBlurBg();_this11.blurBackground.visible=true;}
setTimeout(function(){_this11.blurBackground.addEventListener("click",_this11.systemAction);resolve();},100);}));break;case _popupServiceEs2.default.ERROR_POPUP:promise.push(new Promise(function(resolve){try{_this11.showHomeButton();}catch(e){}
_this11.getService("SoundService").muteGroup("main");_this11.getService("SoundService").muteGroup("background");popup=_this11.querySelector("systemPopup");_this11.setPopupToCenterOfGameContainer(popup);popup.visible=true;_this11._currentPopup=popup;if(showBG&&_this11.blackBackground){_this11.blackBackground.visible=true;}
if(_this11.getLayout("preloader")){_this11.getLayout("preloader").visible=false;}
resolve();}));break;}
Promise.all(promise).then(function(){resolved();});}},{key:"hidePopupLayer",value:function hidePopupLayer(){var type=arguments.length<=0||arguments[0]===undefined?0:arguments[0];var object=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var _this12=this;var hideBG=arguments.length<=2||arguments[2]===undefined?true:arguments[2];var resolved=arguments[3];if(!this.getEvent().ready){this.getEvent().removeErrorsFromSubscribe(object.name);return;}
if(type==_popupServiceEs2.default.GAME_POPUP&&object.active==false){resolved();return;}
var promise=[];switch(type){case _popupServiceEs2.default.EMPTY_POPUP:promise.push(new Promise(function(resolve){if(hideBG){if(_this12.blur){_this12.blur.visible=false;}
_this12.unblur();if(_this12.blurBackground){_this12.blurBackground.visible=false;}}
setTimeout(function(){if(_this12.blackBackground&&_this12.blackBackground.visible!=false){_this12.blurBackground.visible=false;}
if(_this12.blur){_this12.blur.visible=false;}
resolve();},100);}));break;case _popupServiceEs2.default.GAME_POPUP:promise.push(new Promise(function(resolve,reject){_this12.controller.activeGameAction=false;if(!_this12.querySelector("gamePopup")){reject();return;}
_this12.querySelector("gamePopup").visible=false;if(hideBG){if(_this12.blur){_this12.blur.visible=false;}
_this12.unblur();if(_this12.blackBackground){_this12.blackBackground.visible=false;}
if(_this12.blurBackground){_this12.blurBackground.visible=false;}}
_this12.blurBackground.removeEventListener("click",_this12.gameAction);if(_this12.autoClickGamePopup){clearTimeout(_this12.autoClickGamePopup);}
setTimeout(function(){if(_this12.blackBackground&&_this12.blackBackground.visible!=false){_this12.blurBackground.visible=false;}
if(_this12.blur){_this12.blur.visible=false;}
resolve();},100);}));break;case _popupServiceEs2.default.CUSTOM_POPUP:promise.push(new Promise(function(resolve){if(object.properties){object.properties[0].target.visible=false;}
if(hideBG){_this12.hideCustomPopup(object.properties[0],resolve);}}));break;case _popupServiceEs2.default.INFO_POPUP:promise.push(new Promise(function(resolve,reject){if(!_this12.querySelector("infoPopup")){reject();return;}
_this12.querySelector("infoPopup").visible=false;if(hideBG){_this12.unblur();if(_this12.blurBackground){_this12.blurBackground.visible=false;}}
_this12.blurBackground.removeEventListener("click",_this12.systemAction);resolve();}));break;case _popupServiceEs2.default.ERROR_POPUP:promise.push(new Promise(function(resolve,reject){try{_this12.hideHomeButton();}catch(e){}
_this12.getService("SoundService").raiseGroup("main");_this12.getService("SoundService").raiseGroup("background");if(!_this12.querySelector("systemPopup")){reject();return;}
_this12.querySelector("systemPopup").visible=false;if(hideBG&&_this12.blackBackground){_this12.blackBackground.visible=false;}
if(_this12.getLayout("preloader")){_this12.getLayout("preloader").visible=false;}
resolve();}));break;}
promise.push(new Promise(function(resolve){$_services.getService("SlotMachineService").setPaused(false);_this12.disableModalMode();_this12._currentPopup=null;setTimeout(resolve,50);}));Promise.all(promise).then(function(){resolved();});}},{key:"showLoadingAnimation",value:function showLoadingAnimation(){var radius=10;var bigRadius=80;var circle=new createjs.Shape();circle.graphics.beginFill("#FFFFFF").drawCircle(0,0,radius).endFill();this.loadingContainer=new Container();this.loadingContainer.x=this.getLayout().width/2;this.loadingContainer.y=this.getLayout().height/2;for(var i=0;i<=6;i++){var c=circle.clone();c.x=Math.cos(i*Math.PI/6)*bigRadius;c.y=Math.sin(i*Math.PI/6)*bigRadius;this.loadingContainer.addChild(c);if(i!==0&&i!==6){var _c=circle.clone();_c.x=Math.cos(-i*Math.PI/6)*bigRadius;_c.y=Math.sin(-i*Math.PI/6)*bigRadius;this.loadingContainer.addChild(_c);createjs.Tween.get(_c).to({alpha:i/6});}}
this.getLayout().addChild(this.loadingContainer);}},{key:"hideLoadingAnimation",value:function hideLoadingAnimation(){this.getLayout().removeChild(this.loadingContainer);}},{key:"showGameInfoPopup",value:function showGameInfoPopup(data){var _this13=this;this.initStandardPopup();if(data.messageAlias){this.querySelector("gamePopup.messageContainer").visible=false;this.querySelector("gamePopup.messageAliasContainer").visible=true;var messageAliasContainer=this.querySelector("gamePopup.messageAliasContainer");messageAliasContainer.children.forEach(function(child){if(child.name==="message_"+data.messageAlias){child.visible=true;switch(data.messageAlias){case"free_spins_start":_this13.showFreeSpinsStartEffect();break;case"free_spins_end":_this13.showFreeSpinsEndEffect();break;case"free_spins_end_zero":_this13.showFreeSpinsEndZeroEffect();break;case"free_spins_add":_this13.showFreeSpinsAddEffect();break;case"bonus_start":_this13.showBonusStartEffect();break;case"auto_game_end":_this13.showAutoGameEndEffect();break;}}else{child.visible=false;}});}else{this.querySelector("gamePopup.messageContainer").visible=true;this.querySelector("gamePopup.messageAliasContainer").visible=false;var message=this.querySelector("gamePopup.messageContainer.message");this.setTranslationMessage("game",data.message,message);this.clearTranslationMessage("game");}
this.querySelector("gamePopup.buttonText").setText($_t.getText(data.okButtonName!=null?data.okButtonName:"OK"));var okButton=this.querySelector("gamePopup.okButton");this.querySelector("gamePopup.okButton.button").gotoAndStop("normal");this.getService("SoundService").play("audio_popup");if(data.OkRetry){var retryButton=this.createButton($_t.getText(data.nextButtonName!=null?data.nextButtonName:"NO"));retryButton.name="retryButton";retryButton.regX=retryButton.width/2;retryButton.regY=retryButton.height/2;this.gamePopup.addChild(retryButton);retryButton.top=okButton.top;okButton.left+=okButton.width/2+15;retryButton.left=okButton.left-retryButton.width-30;createjs.Tween.get(retryButton,{loop:true,override:true}).to({scaleX:1,scaleY:1},0).wait(2000).to({scaleX:1.1,scaleY:1.1},100).to({scaleX:1,scaleY:1},100);retryButton.addEventListener("click",function(){if(data.retryAction!==undefined&&typeof data.retryAction==="function"){data.retryAction();}
_this13.getService("PopupService").removeGamePopup(_this13.getService("PopupService").getActiveName(_popupServiceEs2.default.GAME_POPUP));_this13.hideGamePopup();});}else{createjs.Tween.get(okButton,{loop:true,override:true}).to({scaleX:1,scaleY:1},0).wait(2000).to({scaleX:1.1,scaleY:1.1},100).to({scaleX:1,scaleY:1},100);}
this.gamePopup.regX=this.gamePopup.width/2;this.gamePopup.regY=this.gamePopup.height/2;this.getLayout().setChildLeft(this.gamePopup,"50%");this.getLayout().setChildTop(this.gamePopup,"46%");this.gamePopup.scaleX=this.gamePopup.scaleY=0;createjs.Tween.get(this.gamePopup).to({scaleX:1.2,scaleY:1.2},250).to({scaleX:1,scaleY:1},100,createjs.Ease.getPowOut(2));this.enableModalMode();if(data.state&&this.controller.nextState.indexOf(data.state)==-1){this.controller.nextState.push(data.state);}
if(data.states){for(var d=0,ld=data.states.length;d<ld;d++){if(this.controller.nextState.indexOf(data.states[d])==-1){this.controller.nextState.push(data.states[d]);}}}
this.getStage().requestUpdate();}},{key:"hideGamePopup",value:function hideGamePopup(){this.disableModalMode();this.getStage().requestUpdate();}}]);return PopupViewHandler;}(_ViewCanvasHandlerEs2.default);exports.default=PopupViewHandler;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ControllerEs=__webpack_require__(6);var _ControllerEs2=_interopRequireDefault(_ControllerEs);var _protocolServiceEs=__webpack_require__(37);var _protocolServiceEs2=_interopRequireDefault(_protocolServiceEs);var _connectEs=__webpack_require__(90);var _connectEs2=_interopRequireDefault(_connectEs);var _betServiceEs=__webpack_require__(47);var _betServiceEs2=_interopRequireDefault(_betServiceEs);var _linesServiceEs=__webpack_require__(48);var _linesServiceEs2=_interopRequireDefault(_linesServiceEs);var _slotMachineServiceEs=__webpack_require__(34);var _slotMachineServiceEs2=_interopRequireDefault(_slotMachineServiceEs);var _bonusServiceEs=__webpack_require__(51);var _bonusServiceEs2=_interopRequireDefault(_bonusServiceEs);var _payTableServiceEs=__webpack_require__(55);var _payTableServiceEs2=_interopRequireDefault(_payTableServiceEs);var _memoryServiceEs=__webpack_require__(36);var _memoryServiceEs2=_interopRequireDefault(_memoryServiceEs);var _config=__webpack_require__(91);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var ProtocolLuckyController=function(_Controller){_inherits(ProtocolLuckyController,_Controller);function ProtocolLuckyController(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,ProtocolLuckyController);var _this=_possibleConstructorReturn(this,(ProtocolLuckyController.__proto__||Object.getPrototypeOf(ProtocolLuckyController)).call(this,data));_this.init(_config2.default);_this.settingsService=new GameSettingsService();_this.connect=new _connectEs2.default(_this.settingsService);_this.protocolData={};_this.protocolService=new _protocolServiceEs2.default();_this.betService=new _betServiceEs2.default();_this.linesService=new _linesServiceEs2.default();_this.slotService=new _slotMachineServiceEs2.default();_this.bonusService=new _bonusServiceEs2.default();_this.payTableService=new _payTableServiceEs2.default();_this.memory=new _memoryServiceEs2.default();_this.token=null;_this.requestID=null;_this.sessionID=null;_this.typeModes=[];_this.initProtocol=false;_this.initCallback=null;_this.timeIntervalSync=3000;_this.intervalSync=null;_this.activeRequest=true;visibly.onVisible(function(){_this.syncAction();});_this.updateBalance=true;_this._startState=[];_this.actions={"last":null,"current":null,"available":[]};return _this;}
_createClass(ProtocolLuckyController,[{key:"getToken",value:function getToken(){if(this.token===null){if($_args.token==false){this.settingsService.setSetting("test",true);var user="{0}_user@gg.ua".format(this.connect.generateHash());var memoryStorage=this.getService("MemoryService");if(memoryStorage.has("userToken",_memoryServiceEs2.default.MEMORY_COOKIES_STORAGE)){user=memoryStorage.get("userToken",_memoryServiceEs2.default.MEMORY_COOKIES_STORAGE);}else{memoryStorage.set("userToken",user,_memoryServiceEs2.default.MEMORY_COOKIES_STORAGE);}
this.token="test:"+this.settingsService.getSetting("alias")+"-"+user;}else{this.token=decodeURIComponent($_args.token);}}
return this.token;}},{key:"generateRequestID",value:function generateRequestID(){this.requestID=this.connect.generateHash();this.memory.set("protocolRequestID",this.requestID);return this.requestID;}},{key:"getRequestID",value:function getRequestID(){return this.requestID;}},{key:"getLang",value:function getLang(){return $_t.getLanguage();}},{key:"restartSession",value:function restartSession(){this.authAction(function(){$_signal.goTo("!popup.errors.hideAllSystem");});}},{key:"authAction",value:function authAction(){var _this2=this;var callback=arguments.length<=0||arguments[0]===undefined?null:arguments[0];this.activeRequest=false;this.connect.send({"command":"login","request_id":this.generateRequestID(),"token":this.getToken(),"language":this.getLang()},function(response){_this2.activeRequest=true;_this2.requestID=response.request_id;_this2.sessionID=response.session_id;_this2.protocolService.setFreeBets(response.freebets);_this2.protocolService.setModes(response.modes);_this2.protocolService.setUserData(response.user);_this2.startAction(callback);},function(error){setTimeout(function(){_this2.authAction(callback);},1000);});}},{key:"startAction",value:function startAction(){var _this3=this;var callback=arguments.length<=0||arguments[0]===undefined?null:arguments[0];this.activeRequest=false;this.connect.send({"command":"start","request_id":this.generateRequestID(),"session_id":this.sessionID,"mode":this.protocolService.hasFreeBets()?"freebet":"play","freebet_id":null},function(response){_this3.activeRequest=true;_this3.requestID=response.request_id;_this3.sessionID=response.session_id;_this3.protocolService.setAvailableActions(response.context.actions);_this3.protocolService.setCurrentAction(response.context.current);_this3.actions.last=response.context.last_action;_this3.actions.current=response.context.current;_this3.actions.available=response.context.actions;_this3.protocolService.setLastAction(response.context.last_action);_this3.protocolService.setSpinsReelsData(response.context.spins);_this3.protocolService.setFreeSpinsReelsData(response.context.freespins);_this3.bonusService.setBonusContext(response.context.bonus);_this3.protocolService.setReSpinsReelsData(response.context.respins);_this3.protocolService.setUserData(response.user);_this3.protocolService.setFreeBets(response.freebet);_this3.betService.setBetRange(response.settings.bets);_this3.betService.updateFromProtocol();_this3.linesService.setLinesRange(response.settings.lines);_this3.linesService.setPayLines(response.settings.paylines);_this3.linesService.updateFromProtocol();_this3.linesService.setToZeroCounter();_this3.slotService.setColumns(response.settings.cols);_this3.slotService.setRows(response.settings.rows);_this3.slotService.setDefaultSymbols(response.settings.symbols);_this3.slotService.setReelSamples(response.settings.reelsamples);_this3.payTableService.setPayTable(response.settings.paytable);_this3.bonusService.setBonusSettings(response.settings.bonus);_this3._startState=[["!protocol.ready."+response.context.current]];if(_this3.protocolService.isAvailableStartBonusGame()){}
if(_this3.protocolService.isAvailableFreeSpinsEnd()){}
_this3.initProtocol=true;$_signal.goTo('preloader.initGame');_this3.checkSync();if(callback!==null){callback();}},function(error){_this3.checkSync();setTimeout(function(){_this3.startAction(callback);},1000);});}},{key:"readyGame",value:function readyGame(){if(this.protocolService.hasFreeBets()){var freebets=this.protocolService.getFreeBets();this._startState.push(["!protocol.ready.freebets",freebets.bet_per_line,freebets.left_spins,freebets.lines,freebets.total_bet,freebets.total_spins,freebets.total_win]);}
this.executeReadyState();}},{key:"executeReadyState",value:function executeReadyState(){for(var i=0,l=this._startState.length;i<l;i++){$_signal.goTo.apply($_signal,this._startState[i]);}}},{key:"checkInitProtocol",value:function checkInitProtocol(){if(this.initProtocol===true){}else{this.initCallback=true;}
this.initCallback=true;}},{key:"sendData",value:function sendData(linkFunc,resolve){for(var _len=arguments.length,args=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++){args[_key-2]=arguments[_key];}
var _this4=this;if(!linkFunc){resolve();return;}
var sendData=function sendData(resolveProtocol){var promise=new Promise(function(res,rej){_this4[linkFunc].apply(_this4,[].concat(args,[res,rej]));});promise=promise.then(resolveProtocol);promise.catch(function(){setTimeout(function(){sendData(resolveProtocol);},1000);});};sendData(resolve);}},{key:"spinSendAction",value:function spinSendAction(){var nextAction=arguments.length<=0||arguments[0]===undefined?this.protocolService.getNextAction():arguments[0];var _this5=this;var resolve=arguments.length<=1||arguments[1]===undefined?function(){}:arguments[1];var reject=arguments.length<=2||arguments[2]===undefined?function(){}:arguments[2];this.activeRequest=false;var requestData={"command":"play","request_id":this.generateRequestID(),"session_id":this.sessionID,"set_denominator":this.protocolService.getCurrentDenominator(),"freebet_id":null,"action":{"name":nextAction,"params":{}}};if(this.protocolService.getNextAction()=="spin"){requestData.action.params={"bet_per_line":this.betService.getCurrentValue(),"lines":this.linesService.getCurrentValue()};}
this.updateBalance=false;this.connect.send(requestData,function(response){_this5.responseSpinAction(response,null);resolve();},function(error){_this5.checkSync();reject();});}},{key:"freeSpinInitSendAction",value:function freeSpinInitSendAction(number){var _this6=this;var resolve=arguments.length<=1||arguments[1]===undefined?function(){}:arguments[1];var reject=arguments.length<=2||arguments[2]===undefined?function(){}:arguments[2];if(this.getService("GameActionService").get()!="freespin_init"){$_signal.goTo("protocol.freespin_init.stop");return null;}
this.activeRequest=false;this.updateBalance=false;this.connect.send({"command":"play","request_id":this.generateRequestID(),"session_id":this.sessionID,"set_denominator":this.protocolService.getCurrentDenominator(),"freebet_id":null,"action":{"name":"freespin_init","params":{"selected":number}}},function(response){$_signal.goTo("!protocol.freespins.init");_this6.responseSpinAction(response,null);resolve();},function(error){_this6.checkSync();reject();});}},{key:"freeSpinEndSendAction",value:function freeSpinEndSendAction(resolve,reject){var _this7=this;this.activeRequest=false;this.updateBalance=false;this.connect.send({"command":"play","request_id":this.generateRequestID(),"session_id":this.sessionID,"set_denominator":this.protocolService.getCurrentDenominator(),"freebet_id":null,"action":{"name":"freespin_stop","params":{}}},function(response){_this7.responseSpinAction(response,null);resolve();},function(error){_this7.checkSync();reject();});}},{key:"freespinSendAction",value:function freespinSendAction(){var _this8=this;this.activeRequest=false;var requestData={"command":"play","request_id":this.generateRequestID(),"session_id":this.sessionID,"set_denominator":this.protocolService.getCurrentDenominator(),"freebet_id":null,"action":{"name":this.protocolService.getNextAction(),"params":{}}};if(this.protocolService.getNextAction()=="spin"){requestData.action.params={"bet_per_line":this.betService.getCurrentValue(),"lines":this.linesService.getCurrentValue()};}
this.updateBalance=false;this.connect.send(requestData,function(response){_this8.responseSpinAction(response,null);},function(error){_this8.checkSync();});}},{key:"bonusInitState",value:function bonusInitState(){var state=arguments.length<=0||arguments[0]===undefined?null:arguments[0];}},{key:"bonusStartSendAction",value:function bonusStartSendAction(resolve,reject){var _this9=this;this.activeRequest=false;this.updateBalance=false;this.connect.send({"command":"play","request_id":this.generateRequestID(),"session_id":this.sessionID,"set_denominator":this.protocolService.getCurrentDenominator(),"freebet_id":null,"action":{"name":"bonus_init","params":{}}},function(response){_this9.responseSpinAction(response,null);resolve();},function(error){_this9.checkSync();reject();});}},{key:"bonusSendAction",value:function bonusSendAction(choose){var _this10=this;var resolve=arguments.length<=1||arguments[1]===undefined?function(){}:arguments[1];var reject=arguments.length<=2||arguments[2]===undefined?function(){}:arguments[2];this.activeRequest=false;this.updateBalance=false;this.connect.send({"command":"play","request_id":this.generateRequestID(),"session_id":this.sessionID,"set_denominator":this.protocolService.getCurrentDenominator(),"freebet_id":null,"action":{"name":"bonus_pick","params":{"selected":parseInt(choose)}}},function(response){_this10.responseSpinAction(response,"bonus");resolve();},function(error){_this10.checkSync();reject();});}},{key:"bonusCheckSpinResultAction",value:function bonusCheckSpinResultAction(){$_signal.goTo("bonus.showResult");}},{key:"bonusEndSendAction",value:function bonusEndSendAction(){var _this11=this;var resolve=arguments.length<=0||arguments[0]===undefined?function(){}:arguments[0];var reject=arguments.length<=1||arguments[1]===undefined?function(){}:arguments[1];this.activeRequest=false;this.updateBalance=false;this.connect.send({"command":"play","request_id":this.generateRequestID(),"session_id":this.sessionID,"set_denominator":this.protocolService.getCurrentDenominator(),"freebet_id":null,"action":{"name":"bonus_stop","params":{}}},function(response){_this11.responseSpinAction(response,"bonus_stop");resolve();},function(error){_this11.checkSync();reject();});}},{key:"responseSpinAction",value:function responseSpinAction(response){var responseAction=arguments.length<=1||arguments[1]===undefined?null:arguments[1];this.activeRequest=true;if(response&&response.command=="sync"){return;}
this.requestID=response.request_id;this.sessionID=response.session_id;this.linesService.setToZeroCounter();if(response.context){this.actions.last=response.context.last_action;this.actions.current=response.context.current;this.actions.available=response.context.actions;this.protocolService.setAvailableActions(response.context.actions);this.protocolService.setCurrentAction(response.context.current);this.protocolService.setLastAction(response.context.last_action);if(response.context.spins){this.protocolService.setSpinsReelsData(response.context.spins);}
this.protocolService.setReSpinsReelsData(response.context.respins);this.protocolService.setFreeSpinsReelsData(response.context.freespins);this.bonusService.setBonusContext(response.context.bonus);}
if(this.protocolService.getAvailableActions().indexOf("bonus_stop")>-1){this.bonusService.endBonusGame();}
this.protocolService.setUserData(response.user);if(response.freebet!==null){this.protocolService.setFreeBets(response.freebet);}else{this.protocolService.setFreeBets([]);}
this.updateBalance=true;this.checkSync();}},{key:"syncAction",value:function syncAction(){var _this12=this;if(this.intervalSync!==null){clearTimeout(this.intervalSync);}
if(this.activeRequest===false){this.checkSync();return null;}
this.activeRequest=false;this.connect.send({"command":"sync","request_id":this.generateRequestID(),"session_id":this.sessionID},function(response){_this12.activeRequest=true;_this12.requestID=response.request_id;_this12.sessionID=response.session_id;if(HelperFlags.get("gameLoaded")&&_this12.protocolService.getCurrentBalance()!=response.user.balance&&_this12.updateBalance===true){_this12.protocolService.setUserData(response.user);$_signal.goTo("!protocol.async.changeBalance");}
_this12.checkSync();},function(error){_this12.checkSync();});}},{key:"checkSync",value:function checkSync(){if(this.intervalSync!==null){clearTimeout(this.intervalSync);}
this.intervalSync=setTimeout(this.syncAction.bind(this),this.timeIntervalSync);}},{key:"updateStartAction",value:function updateStartAction(resolve,reject){var _this13=this;this.connect.send({"command":"start","request_id":this.generateRequestID(),"session_id":this.sessionID,"mode":"play","freebet_id":null},function(response){var currentState=$_signal_history.getCurrentState();HelperFlags.set("noSpin",null);_this13.activeRequest=true;_this13.actions.last=response.context.last_action;_this13.actions.current=response.context.current;_this13.actions.available=response.context.actions;_this13.requestID=response.request_id;_this13.sessionID=response.session_id;_this13.protocolService.setAvailableActions(response.context.actions);_this13.protocolService.setCurrentAction(response.context.current);_this13.protocolService.setLastAction(response.context.last_action);if(response.context.spins){_this13.protocolService.setSpinsReelsData(response.context.spins);}
if(response.context.freespins){_this13.protocolService.setFreeSpinsReelsData(response.context.freespins);}
if(response.context.bonus){_this13.bonusService.setBonusContext(response.context.bonus);}
if(response.context.respins){_this13.protocolService.setReSpinsReelsData(response.context.respins);}
_this13.protocolService.setUserData(response.user);_this13.protocolService.setFreeBets(response.freebet);_this13.betService.setBetRange(response.settings.bets);_this13.betService.updateFromProtocol();_this13.linesService.setLinesRange(response.settings.lines);_this13.linesService.setPayLines(response.settings.paylines);_this13.linesService.updateFromProtocol();_this13.linesService.setToZeroCounter();_this13.slotService.setColumns(response.settings.cols);_this13.slotService.setRows(response.settings.rows);_this13.slotService.setDefaultSymbols(response.settings.symbols);_this13.slotService.setReelSamples(response.settings.reelsamples);_this13.payTableService.setPayTable(response.settings.paytable);_this13.bonusService.setBonusSettings(response.settings.bonus);if(_this13.protocolService.hasFreeBets()){}else{if($_signal_history.find("reels.autoSpins.stopAnimation")>0){_this13.getService("AutoPlayService").suspend();}}
resolve();},function(){reject();});}},{key:"checkFreeBets",value:function checkFreeBets(){var inc=arguments.length<=0||arguments[0]===undefined?false:arguments[0];if(this.protocolService.hasFreeBets()){var freebets=this.protocolService.getFreeBets();if(freebets===undefined||freebets.left_spins===undefined){return null;}
$_signal.goTo("-control.freebets.change",freebets.bet_per_line,inc&&freebets.left_spins>0?freebets.left_spins-1:freebets.left_spins,freebets.lines,freebets.total_bet,freebets.total_spins,freebets.total_win);}}},{key:"removeFreeBets",value:function removeFreeBets(){alert("BreeBets was deleted");}}]);return ProtocolLuckyController;}(_ControllerEs2.default);exports.default=ProtocolLuckyController;;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _gameSettingsServiceEs=__webpack_require__(50);var _gameSettingsServiceEs2=_interopRequireDefault(_gameSettingsServiceEs);var _transferJSONPEs=__webpack_require__(74);var _transferJSONPEs2=_interopRequireDefault(_transferJSONPEs);var _transferFetchEs=__webpack_require__(73);var _transferFetchEs2=_interopRequireDefault(_transferFetchEs);var _memoryServiceEs=__webpack_require__(36);var _memoryServiceEs2=_interopRequireDefault(_memoryServiceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var ProtocolConnect=function(){function ProtocolConnect(){var settingService=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,ProtocolConnect);this.testCurlUrl="http://localhost:8090/app/curl_request.php?url={0}";this.settingService=settingService;this.memory=new _memoryServiceEs2.default();this._urlHash=null;this.testMode=false;this.protocol=null;this.countFails=0;this.maxFails=$_services.getService("GameSettingsService").getSetting("max_fails");if(this.maxFails<=0){this.maxFails=5;}
this.maxTimeout=$_services.getService("GameSettingsService").getSetting("max_timeout");if(this.maxTimeout<=0){this.maxTimeout=3000;}
this.contextFails=null;this.FailsDump=null;this.incRequest=0;}
_createClass(ProtocolConnect,[{key:"connectToTransfer",value:function connectToTransfer(){if(this.protocol!==null){return this.protocol;}
if(this.settingService.hasSetting("test")&&this.settingService.getSetting("test")){}
return this.protocol=new _transferFetchEs2.default(this.settingService.getSettings());}},{key:"generateHash",value:function generateHash(){return Crypto.MD5(new Date().getTime().toString());}},{key:"updateRequestID",value:function updateRequestID(){return $_component_instances.getInstance("ProtocolLuckyController","protocol").generateRequestID();}},{key:"getLastRequestID",value:function getLastRequestID(){return this.memory.get("protocolRequestID");}},{key:"getUrlRequest",value:function getUrlRequest(){if($_args.token==false){if(this._urlHash===null){this._urlHash=this.generateHash();}
return this.settingService.getSetting("endpoint").format(this.settingService.getSetting("alias"),this._urlHash);}else{return decodeURIComponent($_args.endpoint);}}},{key:"checkFailed",value:function checkFailed(data,callback){var _this=this;this.clearCheckFailed();this.FailsDump=[data,callback];this.contextFails=setTimeout(function(){if(_typeof(_this.FailsDump[0])!="object"){$_log.error('Protocol data for reconnect is not valid!',_this.FailsDump);return null;}
_this.FailsDump[0].request_id=_this.updateRequestID();if(_this.incRequest>_this.maxFails){return null;}
_this.tryReconnect();_this.incRequest++;},this.maxTimeout);}},{key:"tryReconnect",value:function tryReconnect(){this.send(this.FailsDump[0],this.FailsDump[1]);}},{key:"clearCheckFailed",value:function clearCheckFailed(){if(this.contextFails!==null){clearTimeout(this.contextFails);this.contextFails=null;}}},{key:"getCheats",value:function getCheats(){if((typeof $_shifter==="undefined"?"undefined":_typeof($_shifter))=="object"&&typeof $_shifter.getProtocolCheats=="function"){return $_shifter.getProtocolCheats();}
return undefined;}},{key:"send",value:function send(data,callback,errorCallback){var _this2=this;this.incRequest=0;this.connectToTransfer();this.protocol.setPromiseSuccess(function(json){if(typeof callback=="function"){_this2.clearCheckFailed();_this2.incRequest=0;callback(json);}});this.protocol.setPromiseError(function(json){_this2.clearCheckFailed();if(_this2.incRequest>_this2.maxFails){debugger;return;}
_this2.checkFailed(data,callback);$_log.error("Protocol error - catch",json);if(typeof errorCallback=="function"){errorCallback(json);}});if(data.command=="play"){var cheats=this.getCheats();if(cheats!==undefined&&["respin","freespin_stop","bonus_stop"].indexOf(data.action.name)==-1){data.action.params.hack=cheats;}}
this.protocol.send(this.getUrlRequest(),data);}}]);return ProtocolConnect;}();exports.default=ProtocolConnect;},function(module,exports){module.exports={"connection":{"reels":[[5,8,2,6,8,1,6,5,3,9,6,8,5,2,7,9,10,5,8,2,7,9,10,6,8,2,7,6,5,4,7,8,3,6,5,4,7],[9,7,3,6,9,4,8,10,6,7,5,9,7,1,8,5,4,8,7,10,5,9,6,3,5,8,7,9,2,8,5,7,8,4,9,5,6],[8,5,1,7,9,1,6,8,7,3,8,6,4,7,5,1,9,5,6,2,7,5,8,6,9,8,5,10,9,6,8,2,9,7,3,6],[8,10,9,6,7,4,6,2,7,8,1,5,7,3,6,7,4,9,6,3,7,9,4,5,8,9,1,8,5,10,6,9,3,6,9,4,7],[1,7,4,9,10,6,2,7,5,3,9,8,10,6,8,2,5,3,8,5,1,8,9,3,5,1,6,4,9,2,7,3,6,4,7,2,9]]}};},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _EventsEs=__webpack_require__(7);var _EventsEs2=_interopRequireDefault(_EventsEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var ProtocolLuckyEvent=function(_Events){_inherits(ProtocolLuckyEvent,_Events);function ProtocolLuckyEvent(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,ProtocolLuckyEvent);var _this=_possibleConstructorReturn(this,(ProtocolLuckyEvent.__proto__||Object.getPrototypeOf(ProtocolLuckyEvent)).call(this,data));_this._openReconnect=false;_this._successInit=false;_this._callbackInit=null;_this.init(data);return _this;}
_createClass(ProtocolLuckyEvent,[{key:'run',value:function run(){this.setSubscriber('init');this.setSubscriber('checkInitProtocol');this.setSubscriber('readyToSpin');this.setSubscriber('spinAction');this.setSubscriber('spinResult');this.setSubscriber('sendGetDoubleGame');this.setSubscriber('setDoubleCard');this.setSubscriber('showReconnect');this.setSubscriber('hideReconnect');this.setSubscriber('protocolError');this.setSubscriber('zeroBalance');}},{key:'initEvent',value:function initEvent(){}},{key:'checkInitProtocolEvent',value:function checkInitProtocolEvent(){if(HelperFlags.get('initProtocolChecked','init')){return;}
if(this._successInit===true){$_event.setEvent('initGame');}else{this._callbackInit=function(){$_event.setEvent('initGame');};var _url=document.location.href;if(_url.indexOf('#')!=-1){_url=_url.substr(0,_url.indexOf('#'));}
this.protocolErrorEvent($_t.get('Please wait.'),$_t.get('Connecting...'),{text:$_t.get('Reload'),action:'document.location=\''+_url+'\''});}}},{key:'spinActionEvent',value:function spinActionEvent(data){}},{key:'sendGetDoubleGameEvent',value:function sendGetDoubleGameEvent(){}},{key:'setDoubleCardEvent',value:function setDoubleCardEvent(card){}},{key:'showReconnectEvent',value:function showReconnectEvent(){if(this._openReconnect!==true){this._openReconnect=true;}}},{key:'protocolErrorEvent',value:function protocolErrorEvent(message,header,showKey){this._openReconnect=true;if(!header){header="Protocol error";}
if(typeof showKey=='undefined'){showKey=true;}}},{key:'hideReconnectEvent',value:function hideReconnectEvent(){if(this._openReconnect===true){this._openReconnect=false;}}},{key:'spinResultEvent',value:function spinResultEvent(){if(this._openReconnect===true&&this._successInit===true){this._openReconnect=false;}}},{key:'readyToSpinEvent',value:function readyToSpinEvent(){if(this._successInit===false){this._successInit=true;if(typeof this._callbackInit=='function'){this._callbackInit();this._callbackInit=null;}}}},{key:'zeroBalanceEvent',value:function zeroBalanceEvent(){$_event.setEvent('toMatchBetToBalanceHide');}}]);return ProtocolLuckyEvent;}(_EventsEs2.default);exports.default=ProtocolLuckyEvent;;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _stateInterfaceEs=__webpack_require__(76);var _stateInterfaceEs2=_interopRequireDefault(_stateInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var StartState=function(_StateInterface){_inherits(StartState,_StateInterface);function StartState(){_classCallCheck(this,StartState);var _this=_possibleConstructorReturn(this,(StartState.__proto__||Object.getPrototypeOf(StartState)).call(this));_this.on(_stateInterfaceEs2.default.AFTER_EXECUTE_STATE,_this.skipKeyStart);_this.on(_stateInterfaceEs2.default.LEAVE_STATE_TRANSITION,_this._afterExecute);_this.on(_stateInterfaceEs2.default.BEFORE_ENTER_STATE_TRANSITION_AFTER_NEXT,_this._enteringNextState);_this.popupFreeBets=false;return _this;}
_createClass(StartState,[{key:"skipKeyStart",value:function skipKeyStart(resolve,reject){if(this.getController("preloader").keyStart===false){resolve();}else{this.getController("preloader").keyStart=resolve;}}},{key:"execute",value:function execute(resolve,reject){var actions=this.getController().actions;HelperFlags.set("gameReady",true);HelperFlags.set("gameLoaded",true);$_event.setEvent("initGame",true);this.getService("TickerTapeService").checkDemoMode();this.getHandler("reels").initGameReels();this.getHandler("lines").initHandler();this.getHandler("reels").initOverheadContainer();this.getHandler("control").initControl();this.getController("control").initController();this.getHandler("freespins").initHandler();this.getHandler("bonus").initHandler();this.getHandler("win").initHandler();switch(actions.current){case"spin":case"spins":this.goToState("STATE_SPINS_INTRO");break;case"freespin":case"freespins":this.goToState("STATE_FREE_SPINS_INTRO");break;case"bonus":this.goToState("STATE_BONUS_INTRO");break;}
resolve();$_view_canvas.getStage().addChild($_services.getService("SlotMachineService").getInstance().reels[0].elements[1].setSymbol(1,"def"));}},{key:"_afterExecute",value:function _afterExecute(resolve,reject){if(this.to&&this.to.indexOf("STATE_SPINS")!=-1&&this.getStateComponent("FREEBETS").isActive()){this.popupFreeBets=true;this.getStateComponent("FREEBETS").showPopupStart(this.__popupClickAction.bind(this));}
resolve();}},{key:"__popupClickAction",value:function __popupClickAction(){this._startPopupFreebets();}},{key:"_enteringNextState",value:function _enteringNextState(resolve,reject){if(!this.popupFreeBets){return resolve();}
this.popupFreeBets=false;this.getHandler("popup").updateBlur();this._startPopupFreebets=resolve;}}]);return StartState;}(_stateInterfaceEs2.default);exports.default=StartState;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _stateEvent=__webpack_require__(77);var _stateEvent2=_interopRequireDefault(_stateEvent);var _componentInterface=__webpack_require__(5);var _componentInterface2=_interopRequireDefault(_componentInterface);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var freeBetsStateComponent=function(_StateEvent){_inherits(freeBetsStateComponent,_StateEvent);function freeBetsStateComponent(){_classCallCheck(this,freeBetsStateComponent);var _this=_possibleConstructorReturn(this,(freeBetsStateComponent.__proto__||Object.getPrototypeOf(freeBetsStateComponent)).call(this));_this.component=new _componentInterface2.default();_this.available=false;_this.data=null;_this.deteled=false;_this.finished=false;return _this;}
_createClass(freeBetsStateComponent,[{key:"update",value:function update(){this.available=this.component.getService("ProtocolService").hasFreeBets();this.data=this.component.getService("ProtocolService").getFreeBets();}},{key:"isActive",value:function isActive(){this.update();return this.available;}},{key:"isFinished",value:function isFinished(){return this.finished;}},{key:"setFinished",value:function setFinished(){return this.finished=true;}},{key:"isDeleted",value:function isDeleted(){return this.deteled;}},{key:"setDeleted",value:function setDeleted(){var _this2=this;this.deteled=true;this.component.getService("ProtocolService").setFreeBets({status:"deleted"});$_stateMachine.router.restartGame=true;this.component.getService("PopupService").removeInfoPopup("freebets",function(){_this2.showPopupEnd($_stateMachine.goToRouter.bind($_stateMachine));});}},{key:"showPopupStart",value:function showPopupStart(){var _this3=this;var callback=arguments.length<=0||arguments[0]===undefined?function(){}:arguments[0];this.update();var clicked=false,intervalClick=null;this.component.getService("PopupService").addInfoPopup("freebets",{message:$_t.getText("free_bets_start",this.data.left_spins),header:$_t.getText("free_bets_head")},{resolve:function resolve(){if(intervalClick!==null){clearTimeout(intervalClick);}
if(!clicked){clicked=true;callback();}}});if(this.component.getService("AutoPlayService").isActive()){intervalClick=setTimeout(function(){if(!clicked){clicked=true;_this3.component.getService("PopupService").removeInfoPopup("freebets",callback);}},7*1000);}}},{key:"showPopupEnd",value:function showPopupEnd(callback){this.data=this.component.getService("ProtocolService").getFreeBetsLast();if(this.isFinished()){this.component.getService("PopupService").addInfoPopup("freebets",{message:this.data.total_win>0?$_t.getText("free_bets_end_{0}",number_format(this.data.total_win/100,2,".",",")):$_t.getText("free_bets_end_no_win"),header:$_t.getText("free_bets_head")},{resolve:callback});}else{this.component.getService("PopupService").addInfoPopup("freebets",{message:$_t.getText("free_bets_deleted"),header:$_t.getText("free_bets_head")},{resolve:callback});}
this.available=false;this.deteled=false;this.finished=false;}}]);return freeBetsStateComponent;}(_stateEvent2.default);exports.default=freeBetsStateComponent;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ControllerEs=__webpack_require__(6);var _ControllerEs2=_interopRequireDefault(_ControllerEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BonusGameController=function(_Controller){_inherits(BonusGameController,_Controller);function BonusGameController(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,BonusGameController);return _possibleConstructorReturn(this,(BonusGameController.__proto__||Object.getPrototypeOf(BonusGameController)).call(this,data));}
_createClass(BonusGameController,[{key:"selectObject",value:function selectObject(){var num=arguments.length<=0||arguments[0]===undefined?0:arguments[0];this.getState().selectObject(num);}},{key:"startIntro",value:function startIntro(resolve){this.getHandler().showStartPopup(resolve);}},{key:"endIntro",value:function endIntro(resolve){this.getHandler().hideStartPopup().then(function(){resolve();});}},{key:"startGame",value:function startGame(){this.getHandler().initGameState();}},{key:"endGame",value:function endGame(resolve){this.getService("BonusService").endBonusGame();this.getController("audio").backgroundSoundFadeOut();resolve();}},{key:"restoreGame",value:function restoreGame(resolve){var _this2=this;this.getHandler().initGameState(true);new Promise(function(res,rej){_this2.getHandler().showResumePopup(res);}).then(function(){return new Promise(function(res,rej){_this2.getHandler().hideResumePopup(res);});}).then(resolve);}},{key:"startOutro",value:function startOutro(resolve){this._outroStartTime=new Date();this.getHandler().showEndPopup(this.getHandler().isSuccess()).then(function(){resolve();});}},{key:"endOutro",value:function endOutro(resolve){var _this3=this;var now=new Date();var diff=Math.max(0,now.getMilliseconds()-this._outroStartTime.getMilliseconds());setTimeout(function(){_this3.getHandler().endBonus();_this3.getHandler().hideEndPopup().then(function(){resolve();});},5000-diff);}}]);return BonusGameController;}(_ControllerEs2.default);exports.default=BonusGameController;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _EventsEs=__webpack_require__(7);var _EventsEs2=_interopRequireDefault(_EventsEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BonusGameEvent=function(_Events){_inherits(BonusGameEvent,_Events);function BonusGameEvent(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,BonusGameEvent);return _possibleConstructorReturn(this,(BonusGameEvent.__proto__||Object.getPrototypeOf(BonusGameEvent)).call(this,data));}
_createClass(BonusGameEvent,[{key:"run",value:function run(){this.setSubscriber("clearEmptyBlur");this.setSubscriber("updateBonusStage");this.setSubscriber("horizontalMode");this.setSubscriber("verticalMode");}},{key:"initGameEvent",value:function initGameEvent(){}},{key:"clearEmptyBlurEvent",value:function clearEmptyBlurEvent(){this.getHandler().hideEmptyBlur();}},{key:"updateBonusStageEvent",value:function updateBonusStageEvent(){this.getHandler().updateBonusStage();}},{key:"horizontalModeEvent",value:function horizontalModeEvent(){this.getHandler().activateHorizontalMode();}},{key:"verticalModeEvent",value:function verticalModeEvent(){this.getHandler().activateVerticalMode();}}]);return BonusGameEvent;}(_EventsEs2.default);exports.default=BonusGameEvent;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ViewCanvasHandler2=__webpack_require__(82);var _ViewCanvasHandler3=_interopRequireDefault(_ViewCanvasHandler2);var _elements=__webpack_require__(98);var bonusItems=_interopRequireWildcard(_elements);var _bonusStartPopup=__webpack_require__(111);var _bonusStartPopup2=_interopRequireDefault(_bonusStartPopup);var _bonusEndPopup=__webpack_require__(113);var _bonusEndPopup2=_interopRequireDefault(_bonusEndPopup);var _bonusResumePopup=__webpack_require__(116);var _bonusResumePopup2=_interopRequireDefault(_bonusResumePopup);var _smokeSpriteSheet=__webpack_require__(104);var _smokeSpriteSheet2=_interopRequireDefault(_smokeSpriteSheet);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BonusGameViewHandler=function(_ViewCanvasHandler){_inherits(BonusGameViewHandler,_ViewCanvasHandler);function BonusGameViewHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var config=arguments.length<=1||arguments[1]===undefined?null:arguments[1];_classCallCheck(this,BonusGameViewHandler);var _this=_possibleConstructorReturn(this,(BonusGameViewHandler.__proto__||Object.getPrototypeOf(BonusGameViewHandler)).call(this,data));if(config===null){var _ret;return _ret=null,_possibleConstructorReturn(_this,_ret);}
_this._numOfRooms=6;_this._timeOfMoving=1500;_this._backgroundConfig={distanceBetweenRooms:(1667-1280)/(_this._numOfRooms-1)};_this._columnConfig={columnPerRoom:3,numberOfColumn:13,startOffset:160,distanceBetweenColumns:480,distanceBetweenRooms:960};_this._floorConfig={width:1344*_this._numOfRooms,distanceBetweenRooms:1344};_this._elementsConfig={startOffset:160,delayBetweenShowing:50,distanceBetweenRooms:1344};_this._items=[{name:"Basket"},{name:"Chest_1"},{name:"Chest_2"},{name:"Sarcophagus"},{name:"Urn"},{name:"Vase"}];_this._maxNumOfLifes=3;_this._levelMapCoordinates=[{x:45,y:66},{x:76,y:64},{x:107.5,y:67},{x:138,y:66},{x:169.5,y:68},{x:201,y:64}];_this._elements=[];_this.config=config;return _this;}
_createClass(BonusGameViewHandler,[{key:"initBonusGame",value:function initBonusGame(){this.setDefaultStatus();this.showLayout();}},{key:"showStartPopup",value:function showStartPopup(resolve){this._startPopup.show(resolve);}},{key:"hideStartPopup",value:function hideStartPopup(){return this._startPopup.hide();}},{key:"showResumePopup",value:function showResumePopup(resolve){this._resumePopup.show(resolve);}},{key:"hideResumePopup",value:function hideResumePopup(resolve){return this._resumePopup.hide(resolve);}},{key:"showEndPopup",value:function showEndPopup(success){return this._endPopup.show(success);}},{key:"hideEndPopup",value:function hideEndPopup(){return this._endPopup.hide();}},{key:"goToNextRoom",value:function goToNextRoom(){var _this2=this;return new Promise(function(resolve,reject){var roof=_this2.querySelector("roof");var floor=_this2.querySelector("floor");var columnContainer=_this2.querySelector("columnContainer");var background=_this2.querySelector("background");var elementsContainer=_this2.querySelector("elementsContainer");var roundData=_this2.getRoundData();var tl=new createjs.Timeline();_this2.getService("SoundService").play("audio_bg_move_v2");tl.addTween(createjs.Tween.get(roof).to({x:-roundData.nextFloor*_this2._floorConfig.distanceBetweenRooms},_this2._timeOfMoving),createjs.Tween.get(floor).to({x:-roundData.nextFloor*_this2._floorConfig.distanceBetweenRooms},_this2._timeOfMoving),createjs.Tween.get(background).to({x:-roundData.nextFloor*_this2._backgroundConfig.distanceBetweenRooms},_this2._timeOfMoving),createjs.Tween.get(columnContainer).to({x:-roundData.nextFloor*_this2._columnConfig.distanceBetweenRooms},_this2._timeOfMoving),createjs.Tween.get(elementsContainer).to({x:-_this2._elementsConfig.distanceBetweenRooms},_this2._timeOfMoving).call(function(){_this2.removeElements();}).to({x:0},0)).addEventListener("change",function(){if(tl.duration===tl.position){resolve();}});});}},{key:"setDefaultStatus",value:function setDefaultStatus(){this._gameStateInitiated=false;}},{key:"initHandler",value:function initHandler(){this.controller=this.getController();this.initLayout(this.config);this.initChildren(this.config.children);this._bonusInit=true;this.initRoofAndFloor();this.initColumnContainer();this.getLayout().visible=false;this._startPopup=new _bonusStartPopup2.default({},this.alias);this._endPopup=new _bonusEndPopup2.default({},this.alias);this._resumePopup=new _bonusResumePopup2.default({},this.alias);}},{key:"initRoofAndFloor",value:function initRoofAndFloor(){var roof=this.querySelector("roof");var floor=this.querySelector("floor");var pattern=$_required.getImageRawData("pattern_floor",this.alias);var background=new createjs.Shape();background.graphics.beginBitmapFill(pattern,"repeat-x").drawRect(0,0,this._floorConfig.width,floor.height);floor.addChild(background);background=background.clone();background.rotation=180;background.regX=this._floorConfig.width;background.regY=roof.height;roof.addChild(background);}},{key:"initColumnContainer",value:function initColumnContainer(){var columnContainer=this.querySelector("columnContainer");for(var i=0;i<this._columnConfig.numberOfColumn;i++){var column=new Bitmap("column",this.alias);column.regX=column.width/2;column.x=this._columnConfig.startOffset+this._columnConfig.distanceBetweenColumns*i;columnContainer.addChild(column);}}},{key:"getNumOfElementsOnFloor",value:function getNumOfElementsOnFloor(){return this.getService("BonusService").getBonusContext().count_symbols_on_floor;}},{key:"getElementIDOfFloor",value:function getElementIDOfFloor(){var nextFloor=this.getNextFloor();var data=this.getService("BonusService").getBonusContext();if(!data||!data.bonus_graphic_elements){return-1;}
return data.bonus_graphic_elements[nextFloor];}},{key:"initElements",value:function initElements(){var _this3=this;var elementsContainer=this.querySelector("elementsContainer");var floor=this.querySelector("floor");var numOfElements=this.getNumOfElementsOnFloor();var elementID=this.getElementIDOfFloor();var distance=this.getGameContainer().width/(numOfElements+1);var elements=[];this.enableChoosing();var _loop=function _loop(i){var el=new bonusItems[_this3._items[elementID].name]({onClickUserAction:function onClickUserAction(){_this3.getController().selectObject(i);_this3.disableChoosing();}},_this3.alias);el.name="element_"+i;el.x=_this3._elementsConfig.startOffset+(i+1)*distance;elementsContainer.addChild(el);elementsContainer.setChildBottom(el,-el.height);el.goto("hide");elements.push(el);};for(var i=0;i<numOfElements;i++){_loop(i);}
return elements;}},{key:"showElements",value:function showElements(){var _this4=this;var restore=arguments.length<=0||arguments[0]===undefined?false:arguments[0];var elements=this.initElements();var roundData=this.getRoundData();var elementsContainer=this.querySelector("elementsContainer");this._elements=elements;if(roundData&&roundData.selectedItemsInPrevRounds.length||restore){for(var i=0;i<elements.length;i++){elements[i].goto("close");}
for(var _i=0;_i<roundData.selectedItemsInPrevRounds.length;_i++){var el=elements[roundData.selectedItemsInPrevRounds[_i].choice];switch(roundData.selectedItemsInPrevRounds[_i].symbol){case"rip":el.goto("rip");break;case"life":el.goto("life");break;default:el.goto("win");break;}}}else{var _loop2=function _loop2(_i2){setTimeout(function(){elements[_i2].goto("showAction");},_i2*_this4._elementsConfig.delayBetweenShowing);};for(var _i2=0;_i2<elements.length;_i2++){_loop2(_i2);}}}},{key:"removeElements",value:function removeElements(){var elementsContainer=this.querySelector("elementsContainer");for(var i=0;i<this._elements.length;i++){elementsContainer.removeChild(this._elements[i]);}}},{key:"updateLifeCounter",value:function updateLifeCounter(){var _this5=this;var needAnimation=arguments.length<=0||arguments[0]===undefined?true:arguments[0];var lifeCount=this.getLifeCount();if(this.lastLiveCount!=undefined&&needAnimation){if(this.lastLiveCount!=lifeCount){if(this.lastLiveCount>lifeCount){this.getService("SoundService").play("audio_bg_live_lost");}else{this.getService("SoundService").play("audio_bg_live_plus");}}}
this.lastLiveCount=lifeCount;console.error('life',lifeCount);var _loop3=function _loop3(i){var heart=_this5.querySelector("heart_"+(i+1));var heart_disable=_this5.querySelector("heart_disable_"+(i+1));var papirusLife=_this5.querySelector("papirusLife");if(i<lifeCount){if(heart.visible!==true&&needAnimation){createjs.Tween.get(heart).to({scaleX:0,scaleY:0,visible:true},0).to({scaleX:2,scaleY:2},150).to({scaleX:1,scaleY:1},150);}else{heart.visible=true;}}else{if(heart.visible!==false&&needAnimation){(function(){setTimeout(function(){heart.visible=false;},100);createjs.Tween.get(papirusLife).to({rotation:6},50).wait(50).to({rotation:0},70);var smoke=new Sprite({spriteSheet:_smokeSpriteSheet2.default},_this5.alias);smoke.name="smoke";smoke.regX=smoke.getBounds().width/2;smoke.regY=smoke.getBounds().height/2;smoke.scaleX=0.7;smoke.scaleY=0.85;smoke.addEventListener("animationend",function(){smoke.stop();smoke.visible=false;_this5.getLayout().removeChild(smoke);});_this5.getLayout().addChild(smoke);heart_disable.localToLocal(heart_disable.width/2,heart_disable.height/2-10,smoke.parent,smoke);smoke.gotoAndPlay("smoke");})();}else{heart.visible=false;}}};for(var i=0;i<this._maxNumOfLifes;i++){_loop3(i);}}},{key:"showLevelMap",value:function showLevelMap(){var container=this.querySelector("papirusRounds");var roundText=this.querySelector("roundText");var roundData=this.getRoundData();var nextRound=0,nextFloor=0;if(roundData){nextRound=roundData.nextRound;nextFloor=roundData.nextFloor;}
roundText.setText($_t.getText("bonus_rounds_left",nextFloor+1));for(var i=0;i<this._numOfRooms;i++){var levelBitmap=void 0;var prev=container.getChildByName("levelBitmap_"+i);if(prev){container.removeChild(prev);}
if(i<nextFloor){continue;}else if(i===nextFloor){levelBitmap=new Bitmap("room_now",this.alias);}else if(i>nextFloor){levelBitmap=new Bitmap("room_future",this.alias);}
levelBitmap.name="levelBitmap_"+i;levelBitmap.x=this._levelMapCoordinates[i].x;levelBitmap.y=this._levelMapCoordinates[i].y;container.addChild(levelBitmap);}
var levelAnimation=new Bitmap("room_now",this.alias);levelAnimation.regX=levelAnimation.width/2;levelAnimation.regY=levelAnimation.height/2;levelAnimation.x=this._levelMapCoordinates[nextFloor].x+levelAnimation.regX;levelAnimation.y=this._levelMapCoordinates[nextFloor].y+levelAnimation.regY;container.addChild(levelAnimation);createjs.Tween.get(levelAnimation).to({scaleX:4,scaleY:4,alpha:0},0).to({scaleX:1,scaleY:1,alpha:1},250).call(function(){container.removeChild(levelAnimation);});}},{key:"gotoRoom",value:function gotoRoom(room){var roof=this.querySelector("roof");var floor=this.querySelector("floor");var columnContainer=this.querySelector("columnContainer");var background=this.querySelector("background");roof.x=-room*this._floorConfig.distanceBetweenRooms;floor.x=-room*this._floorConfig.distanceBetweenRooms;background.x=-room*this._backgroundConfig.distanceBetweenRooms;columnContainer.x=-room*this._columnConfig.distanceBetweenRooms;}},{key:"initGameState",value:function initGameState(){var restore=arguments.length<=0||arguments[0]===undefined?false:arguments[0];var data=this.getService("BonusService").getBonusContext();if(!data){return;}
var currentFloor=this.getCurrentFloor();this.gotoRoom(currentFloor);this.updateLifeCounter(false);this.showLevelMap();this.showElements(restore);}},{key:"getNextFloor",value:function getNextFloor(){var data=this.getService("BonusService").getBonusContext();return data.floor-1;}},{key:"getNextRound",value:function getNextRound(){var nextFloor=this.getNextFloor();var currentFloor=this.getCurrentFloor();var currentRound=this.getCurrentRound();if(nextFloor===currentFloor){return currentRound+1;}else{return 0;}}},{key:"selectedItemsInPrevRounds",value:function selectedItemsInPrevRounds(){var selectedItems=[];var data=this.getService("BonusService").getBonusContext();var floor=this.getCurrentFloor();var nextFloor=this.getNextFloor();if(floor!==nextFloor){return selectedItems;}
if(data.selected_items&&data.selected_items[floor]){data.selected_items[floor].forEach(function(params){if(params.choice!==undefined){selectedItems.push({choice:params.choice,symbol:params.symbol});}});}
return selectedItems;}},{key:"getLastSelectedItem",value:function getLastSelectedItem(){var data=this.getService("BonusService").getBonusContext();var floor=this.getCurrentFloor();var lastSelectedItem=void 0;if(data.selected_items&&data.selected_items[floor]&&data.selected_items[floor].length>0){lastSelectedItem=data.selected_items[floor][data.selected_items[floor].length-1].choice;}
return lastSelectedItem;}},{key:"getCurrentFloor",value:function getCurrentFloor(){var data=this.getService("BonusService").getBonusContext();return Math.max(data.selected_items.length-1,0);}},{key:"getCurrentRound",value:function getCurrentRound(){var data=this.getService("BonusService").getBonusContext();var currentFloor=this.getCurrentFloor();var round=0;if(data.selected_items&&data.selected_items[currentFloor]){round=data.selected_items[currentFloor].length-1;}
return round;}},{key:"getLifeCount",value:function getLifeCount(){return this.getService("BonusService").getBonusContext().count_life;}},{key:"getRoundWin",value:function getRoundWin(){return this.getService("BonusService").getBonusContext().round_win/100;}},{key:"getRoundData",value:function getRoundData(){var data=this.getService("BonusService").getBonusContext();var floor=this.getCurrentFloor();var round=this.getCurrentRound();var nextFloor=this.getNextFloor();var nextRound=this.getNextRound();var selectedItemsInPrevRounds=this.selectedItemsInPrevRounds();var lastSelectedItem=this.getLastSelectedItem();var roundData={};if(!(data.selected_items&&data.selected_items[floor]&&data.selected_items[floor][round])){$_log.error("Cannot get round data:","floor = ",floor,"round = ",floor,"data = ",data.selected_items);}else{roundData=data.selected_items[floor][round];}
roundData.currentFloor=floor;roundData.currentRound=round;roundData.nextFloor=nextFloor;roundData.nextRound=nextRound;roundData.selectedItemsInPrevRounds=selectedItemsInPrevRounds;roundData.lastSelectedItem=lastSelectedItem;return roundData;}},{key:"roundAnimation",value:function roundAnimation(data){var _this6=this;var roundData=this.getRoundData();var el=this.querySelector("element_"+roundData.lastSelectedItem);return new Promise(function(resolve,reject){switch(roundData.symbol){case"rip":el.goto("ripAction").then(resolve);break;case"life":el.goto("lifeAction").then(resolve);break;default:if(_this6.isSuccess()){el.goto("princessAction",_this6.getRoundWin()).then(resolve);}else{el.goto("winAction",_this6.getRoundWin()).then(resolve);}}});}},{key:"showNotSelectedItems",value:function showNotSelectedItems(){var selectedItems=[];var data=this.getService("BonusService").getBonusContext();var roundData=this.getRoundData();var floor=this.getCurrentFloor();if(data.selected_items&&data.selected_items[floor]){data.selected_items[floor].forEach(function(params){if(params.choice!==undefined){selectedItems[params.choice]=true;}});}
var j=0;var princessShowed=false;for(var i=0;i<this._elements.length;i++){if(!selectedItems[i]){var param=roundData.non_selected_items[j];if(param!=="rip"&&param!=="life"){if(this.isLastFloor()&&!this.isSuccess()&&!princessShowed){param="princess";princessShowed=true;}else{param/=100;}}
this._elements[i].goto("disable",param);j++;}}}},{key:"disableChoosing",value:function disableChoosing(){for(var i=0;i<this._elements.length;i++){this._elements[i].disableChoosing();}}},{key:"enableChoosing",value:function enableChoosing(){var roundData=this.getRoundData();var selectedItems=[];for(var i=0;i<roundData.selectedItemsInPrevRounds.length;i++){selectedItems[roundData.selectedItemsInPrevRounds[i].choice]=true;}
for(var _i3=0;_i3<this._elements.length;_i3++){if(!selectedItems[_i3]){this._elements[_i3].enableChoosing();}}}},{key:"isSuccess",value:function isSuccess(){var roundData=this.getRoundData();return roundData.nextFloor===this._numOfRooms;}},{key:"isLastFloor",value:function isLastFloor(){var roundData=this.getRoundData();return roundData.currentFloor===this._numOfRooms-1;}},{key:"isNewFloor",value:function isNewFloor(){var roundData=this.getRoundData();return roundData.currentFloor!==roundData.nextFloor;}},{key:"showResult",value:function showResult(resolve){var _this7=this;var data=this.getService("BonusService").getBonusContext();if(data===null){resolve();return;}
var roundData=this.getRoundData();if(!roundData){resolve();return;}
this.roundAnimation(data).then(function(){_this7.updateLifeCounter();if(_this7.isSuccess()||_this7.getLifeCount()===0){_this7.showNotSelectedItems();setTimeout(function(){_this7.getController().endGame(resolve);},1500);return;}
setTimeout(function(){if(_this7.isNewFloor()){_this7.showNotSelectedItems();setTimeout(function(){_this7.showLevelMap();_this7.goToNextRoom().then(function(){_this7.enableChoosing();_this7.showElements();resolve();});},1500);}else{_this7.enableChoosing();resolve();}},500);});}},{key:"endBonus",value:function endBonus(){this.hideLayout();this.removeElements();this.getStage().removeChild(this.getLayout());}},{key:"activateVerticalMode",value:function activateVerticalMode(){}},{key:"activateHorizontalMode",value:function activateHorizontalMode(){}}]);return BonusGameViewHandler;}(_ViewCanvasHandler3.default);exports.default=BonusGameViewHandler;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Urn=exports.Sarcophagus=exports.Chest_2=exports.Chest_1=exports.Vase=exports.Basket=undefined;var _basket=__webpack_require__(99);var _basket2=_interopRequireDefault(_basket);var _chest_=__webpack_require__(106);var _chest_2=_interopRequireDefault(_chest_);var _chest_3=__webpack_require__(107);var _chest_4=_interopRequireDefault(_chest_3);var _sarcophagus=__webpack_require__(108);var _sarcophagus2=_interopRequireDefault(_sarcophagus);var _urn=__webpack_require__(109);var _urn2=_interopRequireDefault(_urn);var _vase=__webpack_require__(110);var _vase2=_interopRequireDefault(_vase);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
exports.Basket=_basket2.default;exports.Vase=_vase2.default;exports.Chest_1=_chest_2.default;exports.Chest_2=_chest_4.default;exports.Sarcophagus=_sarcophagus2.default;exports.Urn=_urn2.default;exports.Vase=_vase2.default;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _bonusItem=__webpack_require__(100);var _bonusItem2=_interopRequireDefault(_bonusItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Basket=function(_BonusItem){_inherits(Basket,_BonusItem);function Basket(config,alias){_classCallCheck(this,Basket);var _this=_possibleConstructorReturn(this,(Basket.__proto__||Object.getPrototypeOf(Basket)).call(this,config,alias));_this._mummyPosition={bottom:15,left:22};return _this;}
_createClass(Basket,[{key:"initBackgroundLayer",value:function initBackgroundLayer(){var layer=new Container();this._basketOpenCap=new Bitmap("basket_open",this.alias);layer.addChild(this._basketOpenCap);this.setChildAlign("center",this._basketOpenCap);this.setChildBottom(this._basketOpenCap,this._basket.height);return layer;}},{key:"initFrontLayer",value:function initFrontLayer(){var layer=new Container();this._basket=new Bitmap("basket",this.alias);this._basketCloseCap=new Bitmap("basket_close",this.alias);layer.addChild(this._basket);layer.addChild(this._basketCloseCap);this.setChildAlign("center",this._basket);this.setChildAlign("center",this._basketCloseCap);this.setChildBottom(this._basket,0);this.setChildBottom(this._basketCloseCap,this._basket.height);return layer;}},{key:"openView",value:function openView(){this._basketOpenCap.visible=true;this._basketCloseCap.visible=false;}},{key:"closeView",value:function closeView(){this._basketOpenCap.visible=false;this._basketCloseCap.visible=true;}}]);return Basket;}(_bonusItem2.default);exports.default=Basket;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ContainerEs=__webpack_require__(11);var _ContainerEs2=_interopRequireDefault(_ContainerEs);var _BitmapEs=__webpack_require__(12);var _BitmapEs2=_interopRequireDefault(_BitmapEs);var _ProtonEmitterEs=__webpack_require__(29);var _ProtonEmitterEs2=_interopRequireDefault(_ProtonEmitterEs);var _mummy=__webpack_require__(101);var _mummy2=_interopRequireDefault(_mummy);var _numbersSpriteSheet=__webpack_require__(103);var _numbersSpriteSheet2=_interopRequireDefault(_numbersSpriteSheet);var _smokeSpriteSheet=__webpack_require__(104);var _smokeSpriteSheet2=_interopRequireDefault(_smokeSpriteSheet);var _winParticlesConfig=__webpack_require__(105);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BonusItem=function(_Container){_inherits(BonusItem,_Container);function BonusItem(config,alias){_classCallCheck(this,BonusItem);var _this=_possibleConstructorReturn(this,(BonusItem.__proto__||Object.getPrototypeOf(BonusItem)).call(this,config,alias));_this.alias=alias;_this.height=250;_this.width=100;_this._mummyPosition={bottom:0,left:0};_this._showActionConfig={time:300};_this._winActionConfig={startY:180,endY:0,time:300,scale:0.39};_this._lifeActionConfig={startY:180,endY:0,time:300};_this._smokeConfig={bottom:70};_this._disableActionConfig={bottom:40};_this._princessActionConfig={bottom:13,startScale:0,endScale:1,time:200,winOverPrincessY:50};_this.init(config);return _this;}
_createClass(BonusItem,[{key:"init",value:function init(config){this.config=config;this._onClickUserAction=config.onClickUserAction||function(){};this._frontLayer=this.initFrontLayer();this._frontLayer.name="frontLayer";this._backgroundLayer=this.initBackgroundLayer();this._backgroundLayer.name="backgroundLayer";this._actionLayer=new _ContainerEs2.default();this._actionLayer.name="actionLayer";this.addChild(this._backgroundLayer);this.setChildHeight(this._backgroundLayer,"100%");this.setChildWidth(this._backgroundLayer,"100%");this._backgroundLayer.regY=this.height;this._backgroundLayer.y=this.height;this.addChild(this._actionLayer);this.setChildHeight(this._actionLayer,"100%");this.setChildWidth(this._actionLayer,"100%");this.addChild(this._frontLayer);this.setChildHeight(this._frontLayer,"100%");this.setChildWidth(this._frontLayer,"100%");this._frontLayer.regY=this.height;this._frontLayer.y=this.height;this.regY=this.height;this.regX=this.width/2;this.initHandlers();this.goto("hide");}},{key:"initHandlers",value:function initHandlers(){var _this2=this;this.addEventListener("click",function(){if(_this2.selected||!_this2.chooseEnabled){return;}
_this2.chooseEnabled=false;_this2.cursor=null;_this2.selected=true;_this2._onClickUserAction();$_services.getService("SoundService").play("audio_btn_select_popup");});this.addEventListener("rollover",function(){_this2.mouseOn=true;if(_this2.selected||!_this2.chooseEnabled){return;}
_this2.showLight();$_services.getService("SoundService").play("audio_bg_choice");});this.addEventListener("rollout",function(){_this2.mouseOn=false;if(_this2.selected||!_this2.chooseEnabled){return;}
_this2.hideLight();_this2.hideWinEmitter();});}},{key:"initBackgroundLayer",value:function initBackgroundLayer(){var layer=new _ContainerEs2.default();return layer;}},{key:"initFrontLayer",value:function initFrontLayer(){var layer=new _ContainerEs2.default();return layer;}},{key:"enableChoosing",value:function enableChoosing(){this.chooseEnabled=true;this.cursor="pointer";if(this.mouseOn){this.showLight();}}},{key:"disableChoosing",value:function disableChoosing(){this.chooseEnabled=false;this.cursor=null;}},{key:"showLight",value:function showLight(){var light=new _BitmapEs2.default({src:"light"},this.alias);light.name="light";light.alpha=0;light.mouseEnabled=false;this._frontLayer.addChild(light);this._frontLayer.setChildBottom(light,0);this._frontLayer.setChildAlign("center",light);createjs.Tween.get(light,{override:true}).to({alpha:1},50);this._light=light;}},{key:"hideLight",value:function hideLight(){var _this3=this;if(!this._light){return;}
createjs.Tween.get(this._light,{override:true}).to({alpha:0},50).call(function(){_this3._frontLayer.removeChild(_this3._light);delete _this3._light;});}},{key:"hide",value:function hide(){this.visible=false;this.closeView();}},{key:"show",value:function show(){this.visible=true;$_services.getService("SoundService").play("audio_bg_item_show_v2");}},{key:"showAction",value:function showAction(){var _this4=this;this.visible=true;this.scaleY=0;createjs.Tween.get(this).to({scaleY:1.15},this._showActionConfig.time*0.7).to({scaleY:1},this._showActionConfig.time*0.3).call(function(){_this4.goto("close");});}},{key:"createNumbers",value:function createNumbers(){var win=arguments.length<=0||arguments[0]===undefined?0:arguments[0];var winAmount=new BitmapText({text:win.toString(),textAlign:"center",spriteSheet:_numbersSpriteSheet2.default},this.alias);winAmount.name="winAmount";return winAmount;}},{key:"initWinEmitter",value:function initWinEmitter(){var _this5=this;return new Promise(function(resolve,reject){var target=new Sprite({spriteSheet:_winParticlesConfig.targetSpriteSheetConfig},_this5.alias);target.gotoAndPlay("star_particle_anim");target.regX=25;target.regY=25;var winEmitter=new _ProtonEmitterEs2.default({target:target,emitterConfig:_winParticlesConfig.winParticlesConfig},_this5.alias);$_services.getService("SoundService").play("audio_bg_win");winEmitter.x=_this5.width/2;winEmitter.y=_this5.height-40;winEmitter.visible=false;_this5._actionLayer.addChild(winEmitter);_this5._winEmitter=winEmitter;_this5._winEmitter.emitter.rate.timePan.a=0;_this5._winEmitter.emitter.rate.timePan.b=0;_this5._winEmitter.gravity=-6;_this5._winEmitter.emitter.initializes.forEach(function(beh){var name=beh.constructor.name;if(name==='Velocity'){beh.rPan.a=0;beh.rPan.b=0.5;}});_this5._winEmitter.emitter.emit();setTimeout(function(){if(!_this5._winEmitter){return;}
_this5._winEmitter.emitter.rate.timePan.a=0;_this5._winEmitter.emitter.rate.timePan.b=0;_this5._winEmitter.gravity=-3.5;_this5._winEmitter.emitter.initializes.forEach(function(beh){var name=beh.constructor.name;if(name==='Velocity'){beh.rPan.a=0;beh.rPan.b=0.25;}});},150);setTimeout(function(){if(!_this5._winEmitter){return;}
_this5._winEmitter.emitter.rate.timePan.a=0.2;_this5._winEmitter.emitter.rate.timePan.b=0.3;_this5._winEmitter.gravity=-0.5;_this5._winEmitter.emitter.initializes.forEach(function(beh){var name=beh.constructor.name;if(name==='Velocity'){beh.rPan.a=0;beh.rPan.b=0;}});},300);resolve();});}},{key:"showWinEmitter",value:function showWinEmitter(){if(this._winEmitter){this._winEmitter.visible=true;createjs.Tween.get(this._winEmitter).to({alpha:1},100);}}},{key:"hideWinEmitter",value:function hideWinEmitter(){if(this._winEmitter){this._winEmitter.parent.removeChild(this._winEmitter);delete this._winEmitter;}}},{key:"winAction",value:function winAction(){var win=arguments.length<=0||arguments[0]===undefined?0:arguments[0];var endY=arguments.length<=1||arguments[1]===undefined?this._winActionConfig.endY:arguments[1];this.hideWinAmount();this.initWinEmitter().then(this.showWinEmitter());var winAmount=this.createNumbers(win);this._actionLayer.addChild(winAmount);winAmount.scaleX=winAmount.scaleY=this._winActionConfig.scale;winAmount.y=this._winActionConfig.startY;winAmount.x=this.width/2-winAmount.scaleX/2;winAmount.regX=winAmount.getBounds().width/2;winAmount.regY=winAmount.getBounds().height/2;var path=endY-this._winActionConfig.startY;createjs.Tween.get(winAmount).to({y:endY+path*0.15},this._winActionConfig.time*0.7).to({y:endY},this._winActionConfig.time*0.3).call(function(){});createjs.Tween.get(winAmount,{loop:true}).to({scaleX:.43,scaleY:.43},1000).to({scaleX:this._winActionConfig.scale,scaleY:this._winActionConfig.scale},1000);this._winAmount=winAmount;}},{key:"win",value:function win(){var _win=arguments.length<=0||arguments[0]===undefined?0:arguments[0];this.openState();var winAmount=this.createNumbers(_win);this._actionLayer.addChild(winAmount);winAmount.scaleX=winAmount.scaleY=this._winActionConfig.scale;winAmount.y=this._winActionConfig.endY;winAmount.x=this.width/2-winAmount.getBounds().width*winAmount.scaleX/2;this._winAmount=winAmount;}},{key:"hideWinAmount",value:function hideWinAmount(){if(this._winAmount){this._winAmount.parent.removeChild(this._winAmount);delete this._winAmount;}}},{key:"createMummy",value:function createMummy(){return new _mummy2.default({},this.alias);}},{key:"ripAction",value:function ripAction(){this.hideMummy();this._mummy=this.createMummy();this._actionLayer.addChild(this._mummy);this._actionLayer.setChildBottom(this._mummy,this._mummyPosition.bottom);this._actionLayer.setChildLeft(this._mummy,this._mummyPosition.left);this._mummy.angry();}},{key:"rip",value:function rip(){this.openState();this._mummy=this.createMummy();this._actionLayer.addChild(this._mummy);this._actionLayer.setChildBottom(this._mummy,this._mummyPosition.bottom);this._actionLayer.setChildLeft(this._mummy,this._mummyPosition.left);this._mummy.idle();}},{key:"hideMummy",value:function hideMummy(){if(this._mummy){this._mummy.parent.removeChild(this._mummy);delete this._mummy;}}},{key:"lifeAction",value:function lifeAction(){var _this6=this;this.hideHeart();this._heart=new _BitmapEs2.default({src:"heart"},this.alias);this._heart.name="heart";this._heart.y=this._lifeActionConfig.startY;this._heart.x=this.width/2-this._heart.width/2;var path=this._lifeActionConfig.endY-this._lifeActionConfig.startY;this._actionLayer.addChild(this._heart);createjs.Tween.get(this._heart).to({y:this._lifeActionConfig.endY+path*0.15},this._lifeActionConfig.time*0.7).to({y:this._lifeActionConfig.endY},this._lifeActionConfig.time*0.3).call(function(){_this6.life();});}},{key:"life",value:function life(){this.openState();this._heart=new _BitmapEs2.default({src:"heart"},this.alias);this._heart.name="heart";this._heart.regX=this._heart.width/2;this._heart.regY=this._heart.height/2;this._heart.y=this._lifeActionConfig.endY+this._heart.regY;this._heart.x=this.width/2;this._actionLayer.addChild(this._heart);createjs.Tween.get(this._heart,{loop:true}).wait(1000).to({scaleX:1.2,scaleY:1.2},100).to({scaleX:1,scaleY:1},100).wait(100).to({scaleX:1.2,scaleY:1.2},100).to({scaleX:1,scaleY:1},100);}},{key:"hideHeart",value:function hideHeart(){if(this._heart){this._heart.parent.removeChild(this._heart);delete this._heart;}}},{key:"princessAction",value:function princessAction(win){this.hidePrincess();this._princess=new _BitmapEs2.default({src:"princess"},this.alias);this.winAction(win,this._actionLayer.height-(this._princessActionConfig.bottom+this._princess.height+this._princessActionConfig.winOverPrincessY));this._princess.name="princess";this._princess.regY=this._princess.height;this._actionLayer.setChildBottom(this._princess,this._princessActionConfig.bottom-this._princess.regY);this._actionLayer.setChildAlign("center",this._princess);this._princess.scaleY=this._princessActionConfig.startScale;this._actionLayer.addChild(this._princess);createjs.Tween.get(this._princess).to({scaleY:this._princessActionConfig.endScale*1.15},this._princessActionConfig.time*0.7).to({scaleY:this._princessActionConfig.endScale},this._princessActionConfig.time*0.3).call(function(){});}},{key:"princessState",value:function princessState(){this.openState();this.hidePrincess();this._princess=new _BitmapEs2.default({src:"princess"},this.alias);this._princess.name="princess";this._actionLayer.setChildBottom(this._princess,this._princessActionConfig.bottom);this._princess.x=this.width/2-this._princess.width/2;this._actionLayer.addChild(this._princess);}},{key:"hidePrincess",value:function hidePrincess(){if(this._princess){this._princess.parent.removeChild(this._princess);delete this._princess;}}},{key:"showSmoke",value:function showSmoke(){var _this7=this;var smoke=new Sprite({spriteSheet:_smokeSpriteSheet2.default},this.alias);smoke.name="smoke";smoke.addEventListener("animationend",function(){smoke.stop();smoke.visible=false;_this7._frontLayer.removeChild(smoke);});this._frontLayer.addChild(smoke);this._frontLayer.setChildBottom(smoke,this._smokeConfig.bottom);this._frontLayer.setChildAlign("center",smoke);smoke.gotoAndPlay("smoke");}},{key:"openAction",value:function openAction(action,win){var _this8=this;this.hideLight();this.closeState(false);return new Promise(function(resolve,reject){createjs.Tween.get(_this8._frontLayer).to({scaleY:0.7},100).call(function(){_this8.openView();switch(action){case"ripAction":_this8.ripAction();break;case"lifeAction":_this8.lifeAction();break;case"princessAction":_this8.princessAction(win);break;case"winAction":_this8.winAction(win);break;}
_this8.showSmoke();}).to({scaleY:1.05},100).to({scaleY:1},50);createjs.Tween.get(_this8._backgroundLayer).to({scaleY:0.7},100).to({scaleY:1.05},100).to({scaleY:1},50);setTimeout(resolve,1500);});}},{key:"openView",value:function openView(){}},{key:"openState",value:function openState(){this.show();this.openView();this.hideHeart();this.hideMummy();this.hideWinAmount();this.hidePrincess();this.disableChoosing();}},{key:"closeView",value:function closeView(){}},{key:"closeState",value:function closeState(){var enableChoose=arguments.length<=0||arguments[0]===undefined?true:arguments[0];this.show();this.closeView();this.hideHeart();this.hideMummy();this.hideWinAmount();this.hidePrincess();this.hideDisable();if(enableChoose){this.enableChoosing();}}},{key:"disableState",value:function disableState(param){this.closeState(false);this.disableChoosing();var frontHeight=this._frontLayer.getBounds().height;switch(param){case"life":this._heart=new _BitmapEs2.default({src:"heart"},this.alias);this._heart.name="heart";this._frontLayer.addChild(this._heart);this._frontLayer.setChildAlign("center",this._heart);this._heart.y=this._frontLayer.height-this._heart.getBounds().height*this._heart.scaleY/2-frontHeight/2;break;case"rip":this._mummy=this.createMummy();this._frontLayer.addChild(this._mummy);this._frontLayer.setChildBottom(this._mummy,0);this._frontLayer.setChildLeft(this._mummy,this._mummyPosition.left);this._mummy.angry();break;case"princess":this._princess=new _BitmapEs2.default({src:"princess"},this.alias);this._princess.name="princess";this._frontLayer.setChildBottom(this._princess,0);this._frontLayer.setChildAlign("center",this._princess);this._frontLayer.addChild(this._princess);break;default:this._winAmount=this.createNumbers(param);this._frontLayer.addChild(this._winAmount);this._winAmount.scaleX=this._winAmount.scaleY=this._winActionConfig.scale;this._winAmount.y=this._frontLayer.height-this._winAmount.getBounds().height*this._winAmount.scaleY/2-frontHeight/2;this._winAmount.x=this.width/2-this._winAmount.getBounds().width*this._winAmount.scaleX/2;}
this.filters=[new createjs.ColorMatrixFilter(new createjs.ColorMatrix(0,-9,-70,25)),new createjs.ColorMatrixFilter(new createjs.ColorMatrix(10,0,0,0))];var rect=this.getBounds();this.cache(rect.x,rect.y,rect.width,rect.height);this._disableImage=new _BitmapEs2.default(this.cacheCanvas,this.alias);this.filters=[];this.uncache();this._disableImage.alpha=0;this._disableImage.x=rect.x;this._disableImage.y=rect.y;this.addChild(this._disableImage);this.hideHeart();this.hideMummy();this.hidePrincess();this.hideWinAmount();createjs.Tween.get(this._disableImage).to({alpha:1},200);}},{key:"hideDisable",value:function hideDisable(){if(this._disableImage){this._disableImage.parent.removeChild(this._disableImage);delete this._disableImage;}}},{key:"goto",value:function goto(action,param){var _this9=this;return new Promise(function(resolve,reject){if(action!=="winAction"&&action!=="lifeAction"&&action!=="princessAction"){_this9.hideWinEmitter();}
switch(action){case"hide":_this9.hide();resolve();break;case"showAction":_this9.showAction();resolve();break;case"close":_this9.closeState();resolve();break;case"winAction":case"ripAction":case"lifeAction":case"princessAction":_this9.openAction(action,param).then(resolve);break;case"win":_this9.win(param);resolve();break;case"rip":_this9.rip();resolve();break;case"life":_this9.life();resolve();break;case"disable":_this9.disableState(param);resolve();break;default:resolve();}});}}]);return BonusItem;}(_ContainerEs2.default);exports.default=BonusItem;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ContainerEs=__webpack_require__(11);var _ContainerEs2=_interopRequireDefault(_ContainerEs);var _SpriteSheetEs=__webpack_require__(16);var _SpriteSheetEs2=_interopRequireDefault(_SpriteSheetEs);var _SpriteEs=__webpack_require__(18);var _SpriteEs2=_interopRequireDefault(_SpriteEs);var _mummySpriteSheet=__webpack_require__(102);var _mummySpriteSheet2=_interopRequireDefault(_mummySpriteSheet);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Mummy=function(_Container){_inherits(Mummy,_Container);function Mummy(config,alias){_classCallCheck(this,Mummy);var _this=_possibleConstructorReturn(this,(Mummy.__proto__||Object.getPrototypeOf(Mummy)).call(this));_this.alias=alias;_this.init();return _this;}
_createClass(Mummy,[{key:"init",value:function init(){var _this2=this;this.name="mummy";var mummySpriteSheet=new _SpriteSheetEs2.default(_mummySpriteSheet2.default,this.alias);this._mummyBody=new _SpriteEs2.default({spriteSheet:mummySpriteSheet},this.alias);this._leftHand=new _SpriteEs2.default({spriteSheet:mummySpriteSheet},this.alias);this._rightHand=new _SpriteEs2.default({spriteSheet:mummySpriteSheet},this.alias);this._head=new _SpriteEs2.default({spriteSheet:mummySpriteSheet},this.alias);this.addChild(this._leftHand);this.addChild(this._rightHand);this.addChild(this._mummyBody);this.addChild(this._head);this._head.y=-40;this._head.x=15;this._mummyBody.x=-23;this._mummyBody.y=5;this._mummyBody.gotoAndPlay("mum_start");this._leftHand.scaleX=-1;this._head.visible=false;this._leftHand.visible=false;this._rightHand.visible=false;this.on("click",function(){_this2.playTween();});}},{key:"angry",value:function angry(callback){var _this3=this;$_services.getService("SoundService").play("audio_bg_mummy");createjs.Tween.get(this).call(function(){_this3._head.visible=false;_this3._leftHand.visible=false;_this3._rightHand.visible=false;_this3._mummyBody.gotoAndPlay("mum_start");_this3._mummyBody.x=-23;}).wait(4/30*1000).call(function(){_this3._mummyBody.x=0;_this3._head.visible=true;_this3._leftHand.visible=true;_this3._rightHand.visible=true;_this3._mummyBody.gotoAndPlay("mummy_body");_this3._leftHand.gotoAndPlay("mum_arm_start");_this3._leftHand.rotation=0;_this3._leftHand.x=57;_this3._leftHand.y=-83;_this3._rightHand.gotoAndPlay("mum_arm_start");_this3._rightHand.x=13;_this3._rightHand.y=-82;_this3._rightHand.rotation=8;_this3._rightHand.currentAnimationFrame=3;_this3._head.x=12;_this3._head.gotoAndPlay("mum_head_start");_this3._head.addEventListener("animationend",function(){_this3._head.x=15;_this3._head.removeAllEventListeners("animationend");});}).wait(1100).call(function(){_this3._leftHand.gotoAndPlay("mum_arm_idle");_this3._leftHand.x=43;_this3._leftHand.y=-42;_this3._leftHand.rotation=20;_this3._rightHand.gotoAndPlay("mum_arm_idle");_this3._rightHand.x=40;_this3._rightHand.y=-44;_this3._rightHand.rotation=0;_this3._rightHand.currentAnimationFrame=3;}).wait(1000).call(function(){if(typeof callback==="function"){callback();}});}},{key:"idle",value:function idle(){this._mummyBody.visible=true;this._mummyBody.x=0;this._mummyBody.y=1;this._mummyBody.gotoAndPlay("mummy_body");this._head.visible=true;this._head.gotoAndPlay("mum_head_idle");this._leftHand.visible=true;this._leftHand.gotoAndPlay("mum_arm_idle");this._leftHand.x=43;this._leftHand.y=-42;this._leftHand.rotation=20;this._rightHand.visible=true;this._rightHand.gotoAndPlay("mum_arm_idle");this._rightHand.x=40;this._rightHand.y=-44;this._rightHand.rotation=0;this._rightHand.currentAnimationFrame=3;}}]);return Mummy;}(_ContainerEs2.default);exports.default=Mummy;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var mummySpriteSheet={"images":"mummy","frames":[[1,1,109,133,0,0,0],[1,136,70,137,0,0,0],[1,136,70,137,0,0,0],[1,275,70,137,0,0,0],[1,275,70,137,0,0,0],[112,1,70,137,0,0,0],[112,1,70,137,0,0,0],[184,1,70,137,0,0,0],[184,1,70,137,0,0,0],[256,1,70,136,0,0,-1],[256,1,70,136,0,0,-1],[328,1,70,136,0,0,-1],[400,1,82,91,0,-28,-20],[1,414,68,101,0,-28,-10],[73,140,75,96,0,-27,-15],[73,238,61,103,0,-27,-8],[150,140,75,81,0,0,-4],[150,140,75,81,0,0,-4],[73,343,74,80,0,0,-5],[73,343,74,80,0,0,-5],[71,425,75,81,0,0,-4],[71,425,75,81,0,0,-4],[400,94,75,80,0,0,-5],[400,94,75,80,0,0,-5],[477,94,44,62,0,0,0],[477,94,44,62,0,0,0],[477,158,44,62,0,0,0],[477,158,44,62,0,0,0],[227,140,75,81,0,0,-4],[227,140,75,81,0,0,-4],[304,139,75,81,0,0,-4],[304,139,75,81,0,0,-4],[381,176,75,81,0,0,-4],[136,238,74,80,0,0,-5],[136,238,74,80,0,0,-5],[212,223,53,106,0,-27,-5],[267,223,45,106,0,-28,-5],[314,222,45,104,0,-29,-7],[361,259,45,62,0,-2,0],[361,259,45,62,0,-2,0],[408,259,45,62,0,-2,0],[149,320,45,62,0,-2,0],[149,384,46,58,0,-1,-4],[148,444,45,62,0,-2,0],[196,331,47,49,0,0,-13],[197,382,44,62,0,0,0],[195,446,44,62,0,0,0],[195,446,44,62,0,0,0],[245,331,47,53,0,0,-9],[243,386,45,59,0,-2,-3],[241,447,44,62,0,0,0],[241,447,44,62,0,0,0],[294,331,44,62,0,0,0],[294,331,44,62,0,0,0],[290,395,47,52,0,0,-10],[287,449,44,62,0,0,0],[287,449,44,62,0,0,0],[340,328,44,62,0,0,0],[340,328,44,62,0,0,0],[386,323,44,62,0,0,0],[386,323,44,62,0,0,0],[432,323,44,62,0,0,0],[432,323,44,62,0,0,0],[455,259,44,62,0,0,0],[455,259,44,62,0,0,0],[333,449,44,62,0,-3,0],[333,449,44,62,0,-3,0],[333,449,44,62,0,-3,0],[333,449,44,62,0,-3,0],[333,449,44,62,0,-3,0],[333,449,44,62,0,-3,0],[340,392,46,55,0,-1,-7],[388,387,44,62,0,-3,0],[388,387,44,62,0,-3,0],[388,387,44,62,0,-3,0],[434,387,44,62,0,-3,0],[434,387,44,62,0,-3,0],[434,387,44,62,0,-3,0],[434,387,44,62,0,-3,0],[379,451,44,62,0,-3,0],[425,451,44,62,0,-3,0]],"animations":{"mum_start":{"frames":[0]},"mummy_body":{"frames":[1,3,5,7,9,11,10,8,6,4,2],speed:12/25},"mum_arm_start":{"frames":[15,35,36,37,13,12,14],speed:30/25},"mum_arm_idle":{"frames":[18,33,23,21,17,28,30,32,31,29,16,20,22,34,19],speed:19/25},"mum_head_idle":{"frames":[24,26,64,62,60,58,56,53,51,47,45,46,50,52,55,57,59,61,63,27,25]},"mum_head_start":{"frames":[38,42,48,44,54,71,49,79,80,78,65,72,66,75,67,73,68,76,69,74,70,77,40,41,43,39],speed:25/25,next:"mum_head_idle"}},framerate:25};exports.default=mummySpriteSheet;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var numbersSpriteSheet={images:["bonus_numbers"],"frames":[[1,1,103,108,0,0,0],[116,1,93,111,0,0,0],[221,1,93,110,0,0,0],[326,1,93,109,0,0,0],[431,1,90,108,0,0,0],[533,1,86,110,0,0,0],[631,1,85,108,0,0,0],[728,1,84,110,0,0,0],[824,1,84,108,0,0,0],[920,1,54,109,0,0,0],[986,1,53,62,0,0,-60],[1051,1,48,50,0,0,-60]],"animations":{"0":{"frames":[0]},"4":{"frames":[1]},"9":{"frames":[2]},"6":{"frames":[3]},"2":{"frames":[4]},"8":{"frames":[5]},"5":{"frames":[6]},"7":{"frames":[7]},"3":{"frames":[8]},"1":{"frames":[9]},",":{"frames":[10]},".":{"frames":[11]}}};exports.default=numbersSpriteSheet;var numbersSmallSpriteSheet={images:["bonus_numbers_small"],"frames":[[1,1,21,25,0,0,0],[25,1,19,25,0,0,0],[47,1,18,26,0,0,0],[68,1,18,25,0,0,0],[89,1,18,25,0,0,0],[110,1,17,25,0,0,0],[130,1,17,25,0,0,0],[150,1,17,25,0,0,0],[170,1,17,25,0,0,0],[190,1,11,25,0,0,0],[204,1,11,15,0,0,-14],[218,1,9,11,0,0,-14]],"animations":{"0":{"frames":[0]},"2":{"frames":[1]},"4":{"frames":[2]},"6":{"frames":[3]},"9":{"frames":[4]},"3":{"frames":[5]},"5":{"frames":[6]},"7":{"frames":[7]},"8":{"frames":[8]},"1":{"frames":[9]},",":{"frames":[10]},".":{"frames":[11]}}};exports.numbersSmallSpriteSheet=numbersSmallSpriteSheet;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var smokeSpriteSheet={"images":["smoke"],"frames":[[1,1,173,106,0,0,-12],[176,1,173,106,0,0,-12],[351,1,156,92,0,-13,-23],[351,95,144,77,0,-19,-30],[1,109,173,104,0,0,-14],[176,109,173,101,0,0,0],[351,174,122,98,0,-28,-20],[176,212,171,111,0,0,-2],[349,274,161,97,0,-5,-20],[1,215,171,110,0,0,-3],[174,325,171,105,0,0,-2],[347,373,163,99,0,-5,-18],[1,327,171,105,0,0,0],[174,432,101,64,0,-42,-38],[277,432,53,38,0,-63,-57]],"animations":{"smoke":{"frames":[14,13,6,3,2,8,11,0,4,1,9,7,10,12,5]}},framerate:24};exports.default=smokeSpriteSheet;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var winParticlesConfig={"initializes":{"Mass":{"massPan":{"isArray":false,"a":5,"b":1,"center":false}},"ImageTarget":{"w":20,"h":20},"Life":{"lifePan":{"isArray":false,"a":4.2,"b":11.200000000000001,"center":false}},"Velocity":{"rPan":{"isArray":false,"a":0,"b":0,"center":false},"thaPan":{"isArray":false,"a":85,"b":-85,"center":false},"type":"polar"}},"behaviours":{"Alpha":{"id":"Behaviour_1","age":59206.61200206233,"energy":0.9893517181825577,"dead":false,"same":false,"a":{"isArray":false,"a":1,"b":1,"center":false},"b":{"isArray":false,"a":0,"b":0,"center":false}},"Attraction":{"energy":0.9893517181825577,"dead":false,"targetPosition":{"x":0,"y":0},"radius":200,"force":100,"radiusSq":40000,"attractionForce":{"x":-454.9840447773555,"y":-474.98184219193433},"lengthSq":432618.23141400627},"Gravity":{"force":{"x":0,"y":-50}},"RandomDrift":{"id":"Behaviour_3","age":59206.61200206233,"energy":0.9893517181825577,"dead":false,"panFoce":{"x":200,"y":0},"delay":0,"time":0},"Rotate":{"a":{"isArray":false,"a":0,"b":0,"center":false},"b":{"isArray":false,"a":0,"b":0,"center":false}},"Scale":{"a":{"isArray":false,"a":0.30000000000000004,"b":0.5,"center":false},"b":{"isArray":false,"a":0.2,"b":0.30000000000000004,"center":false}}},"rate":{"Rate":{"numPan":{"isArray":false,"a":2,"b":3,"center":false},"timePan":{"isArray":false,"a":0.2,"b":0.30000000000000004,"center":false}}}};exports.winParticlesConfig=winParticlesConfig;var targetSpriteSheetConfig={"images":"star_particle","frames":[[1,1,50,50,0,0,0]],"animations":{"star_particle_anim":{"frames":[0]}}};exports.targetSpriteSheetConfig=targetSpriteSheetConfig;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _bonusItem=__webpack_require__(100);var _bonusItem2=_interopRequireDefault(_bonusItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Chest_1=function(_BonusItem){_inherits(Chest_1,_BonusItem);function Chest_1(config,alias){_classCallCheck(this,Chest_1);var _this=_possibleConstructorReturn(this,(Chest_1.__proto__||Object.getPrototypeOf(Chest_1)).call(this,config,alias));_this._mummyPosition={bottom:40,left:18};return _this;}
_createClass(Chest_1,[{key:"initBackgroundLayer",value:function initBackgroundLayer(){var layer=new Container();this._chestOpenCap=new Bitmap("chest_1_open",this.alias);layer.addChild(this._chestOpenCap);this.setChildLeft(this._chestOpenCap,20);this.setChildBottom(this._chestOpenCap,this._chest.height);return layer;}},{key:"initFrontLayer",value:function initFrontLayer(){var layer=new Container();this._chest=new Bitmap("chest_1",this.alias);this._chestCloseCap=new Bitmap("chest_1_close",this.alias);layer.addChild(this._chest);layer.addChild(this._chestCloseCap);this.setChildAlign("center",this._chest);this.setChildAlign("center",this._chestCloseCap);this.setChildBottom(this._chest,0);this.setChildBottom(this._chestCloseCap,this._chest.height);return layer;}},{key:"openView",value:function openView(){this._chestOpenCap.visible=true;this._chestCloseCap.visible=false;}},{key:"closeView",value:function closeView(){this._chestOpenCap.visible=false;this._chestCloseCap.visible=true;}}]);return Chest_1;}(_bonusItem2.default);exports.default=Chest_1;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _bonusItem=__webpack_require__(100);var _bonusItem2=_interopRequireDefault(_bonusItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Chest_1=function(_BonusItem){_inherits(Chest_1,_BonusItem);function Chest_1(config,alias){_classCallCheck(this,Chest_1);var _this=_possibleConstructorReturn(this,(Chest_1.__proto__||Object.getPrototypeOf(Chest_1)).call(this,config,alias));_this._mummyPosition={bottom:25,left:18};return _this;}
_createClass(Chest_1,[{key:"initBackgroundLayer",value:function initBackgroundLayer(){var layer=new Container();return layer;}},{key:"initFrontLayer",value:function initFrontLayer(){var layer=new Container();this._chest=new Bitmap("chest_2",this.alias);this._chest_open=new Bitmap("chest_2_open",this.alias);layer.addChild(this._chest);layer.addChild(this._chest_open);this.setChildBottom(this._chest,0);this.setChildBottom(this._chest_open,0);this.setChildAlign("center",this._chest);this.setChildLeft(this._chest_open,-37);return layer;}},{key:"openView",value:function openView(){this._chest_open.visible=true;this._chest.visible=false;}},{key:"closeView",value:function closeView(){this._chest_open.visible=false;this._chest.visible=true;}}]);return Chest_1;}(_bonusItem2.default);exports.default=Chest_1;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _bonusItem=__webpack_require__(100);var _bonusItem2=_interopRequireDefault(_bonusItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Sarcophagus=function(_BonusItem){_inherits(Sarcophagus,_BonusItem);function Sarcophagus(config,alias){_classCallCheck(this,Sarcophagus);var _this=_possibleConstructorReturn(this,(Sarcophagus.__proto__||Object.getPrototypeOf(Sarcophagus)).call(this,config,alias));_this._mummyPosition={bottom:5,left:15};_this._winActionConfig.endY=-50;_this._lifeActionConfig.endY=-50;_this._princessActionConfig.bottom=0;return _this;}
_createClass(Sarcophagus,[{key:"initBackgroundLayer",value:function initBackgroundLayer(){var layer=new Container();return layer;}},{key:"initFrontLayer",value:function initFrontLayer(){var layer=new Container();this._sarcophagus=new Bitmap("sarcophagus",this.alias);this._sarcophagus_open=new Bitmap("sarcophagus_open",this.alias);layer.addChild(this._sarcophagus);layer.addChild(this._sarcophagus_open);this.setChildBottom(this._sarcophagus,0);this.setChildBottom(this._sarcophagus_open,0);return layer;}},{key:"openView",value:function openView(){this._sarcophagus_open.visible=true;this._sarcophagus.visible=false;}},{key:"closeView",value:function closeView(){this._sarcophagus_open.visible=false;this._sarcophagus.visible=true;}},{key:"ripAction",value:function ripAction(){this.hideMummy();this._mummy=this.createMummy();this._frontLayer.addChild(this._mummy);this._frontLayer.setChildBottom(this._mummy,this._mummyPosition.bottom);this._frontLayer.setChildLeft(this._mummy,this._mummyPosition.left);this._mummy.angry();}},{key:"rip",value:function rip(){this.openState();this._mummy=this.createMummy();this._frontLayer.addChild(this._mummy);this._frontLayer.setChildBottom(this._mummy,this._mummyPosition.bottom);this._frontLayer.setChildLeft(this._mummy,this._mummyPosition.left);this._mummy.idle();}},{key:"princessAction",value:function princessAction(win){this.hidePrincess();this._princess=new Bitmap({src:"princess"},this.alias);this.winAction(win,this._frontLayer.height-(this._princessActionConfig.bottom+this._princess.height+this._princessActionConfig.winOverPrincessY));this._princess.name="princess";this._princess.regY=this._princess.height;this._frontLayer.setChildBottom(this._princess,this._princessActionConfig.bottom-this._princess.regY);this._frontLayer.setChildAlign("center",this._princess);this._princess.scaleY=this._princessActionConfig.startScale;this._frontLayer.addChild(this._princess);createjs.Tween.get(this._princess).to({scaleY:this._princessActionConfig.endScale*1.15},this._princessActionConfig.time*0.7).to({scaleY:this._princessActionConfig.endScale},this._princessActionConfig.time*0.3).call(function(){});}}]);return Sarcophagus;}(_bonusItem2.default);exports.default=Sarcophagus;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _bonusItem=__webpack_require__(100);var _bonusItem2=_interopRequireDefault(_bonusItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Urn=function(_BonusItem){_inherits(Urn,_BonusItem);function Urn(config,alias){_classCallCheck(this,Urn);var _this=_possibleConstructorReturn(this,(Urn.__proto__||Object.getPrototypeOf(Urn)).call(this,config,alias));_this._mummyPosition={bottom:25,left:25};return _this;}
_createClass(Urn,[{key:"initBackgroundLayer",value:function initBackgroundLayer(){var layer=new Container();return layer;}},{key:"initFrontLayer",value:function initFrontLayer(){var layer=new Container();this._urn=new Bitmap("urn",this.alias);this._urn_open=new Bitmap("urn_open",this.alias);layer.addChild(this._urn);layer.addChild(this._urn_open);this.setChildBottom(this._urn,0);this.setChildBottom(this._urn_open,0);this.setChildLeft(this._urn_open,-31);return layer;}},{key:"openView",value:function openView(){this._urn.visible=false;this._urn_open.visible=true;}},{key:"closeView",value:function closeView(){this._urn.visible=true;this._urn_open.visible=false;}}]);return Urn;}(_bonusItem2.default);exports.default=Urn;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _bonusItem=__webpack_require__(100);var _bonusItem2=_interopRequireDefault(_bonusItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Vase=function(_BonusItem){_inherits(Vase,_BonusItem);function Vase(config,alias){_classCallCheck(this,Vase);var _this=_possibleConstructorReturn(this,(Vase.__proto__||Object.getPrototypeOf(Vase)).call(this,config,alias));_this._mummyPosition={bottom:7,left:20};return _this;}
_createClass(Vase,[{key:"initBackgroundLayer",value:function initBackgroundLayer(){var layer=new Container();return layer;}},{key:"initFrontLayer",value:function initFrontLayer(){var layer=new Container();this._vase=new Bitmap("vase",this.alias);this._vase_open=new Bitmap("vase_open",this.alias);layer.addChild(this._vase);layer.addChild(this._vase_open);this.setChildBottom(this._vase,0);this.setChildAlign("center",this._vase);this.setChildBottom(this._vase_open,0);this._vase_open.x=-30;return layer;}},{key:"openView",value:function openView(){this._vase.visible=false;this._vase_open.visible=true;}},{key:"closeView",value:function closeView(){this._vase.visible=true;this._vase_open.visible=false;}}]);return Vase;}(_bonusItem2.default);exports.default=Vase;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};var _ViewCanvasHandlerEs=__webpack_require__(82);var _ViewCanvasHandlerEs2=_interopRequireDefault(_ViewCanvasHandlerEs);var _config=__webpack_require__(112);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BonusStartPopup=function(_ViewCanvasHandler){_inherits(BonusStartPopup,_ViewCanvasHandler);function BonusStartPopup(config,alias){_classCallCheck(this,BonusStartPopup);var _this=_possibleConstructorReturn(this,(BonusStartPopup.__proto__||Object.getPrototypeOf(BonusStartPopup)).call(this,{alias:alias}));_this.initHandler();return _this;}
_createClass(BonusStartPopup,[{key:"initHandler",value:function initHandler(){this._container=new Container({width:this.getLayout().width,height:this.getLayout().height});this.initChildrenContainer(this._container,_config2.default.children);}},{key:"show",value:function show(resolve){this._popupLayer=this.getLayout("popup");this.enableModalMode(this._popupLayer);this._screenshot=this.getStageScreenshot();this._popupContainer=this.getHandler("popup").querySelector("gameBlockPopup");this._container.addChildAt(this._screenshot,0);this._popupContainer.addChild(this._container);this._container.alpha=1;var cachedText=this._container.getChildByName('youWonText'),textRec=cachedText.getBounds(),cachedStroke=this._container.getChildByName('youWonStroke'),strokeRec=cachedStroke.getBounds();cachedText.cache(textRec.x-5,textRec.y-5,textRec.width+10,textRec.height+10);cachedStroke.cache(strokeRec.x-5,strokeRec.y-5,strokeRec.width+10,strokeRec.height+10);var shape=new Bitmap("start_big",this.alias);shape.x=this.getLayout().width/2;shape.y=this.getLayout().height/2;shape.regX=shape.width/2;shape.regY=shape.height/2;shape.scaleX=shape.scaleY=4;shape.alpha=0.4;var shape2=new Bitmap("start_big",this.alias);shape2.x=this.getLayout().width/2;shape2.y=this.getLayout().height/2;shape2.regX=shape2.width/2;shape2.regY=shape2.height/2;shape2.scaleX=shape2.scaleY=4;shape2.alpha=0.4;this._container.addChildAt(shape,2);this._container.addChildAt(shape2,3);this._shape=shape;this._shape2=shape2;createjs.Tween.get(cachedText).to({scaleX:.4,scaleY:.4},0).to({scaleX:1.15,scaleY:1.15},160).to({scaleX:1,scaleY:1},100).to({scaleX:1.25,scaleY:1.25},2500*1.5);createjs.Tween.get(cachedStroke).to({scaleX:.4,scaleY:.4},0).to({scaleX:1.15,scaleY:1.15},160).to({scaleX:1,scaleY:1},100).to({scaleX:1.25,scaleY:1.25},2500*1.5).call(resolve);createjs.Tween.get(shape,{loop:true}).to({rotation:-360},10000);createjs.Tween.get(shape2,{loop:true}).to({rotation:360},15000);}},{key:"hide",value:function hide(){var _this2=this;return new Promise(function(resolve,reject){createjs.Tween.get(_this2._container).to({alpha:1},0).to({alpha:0},300).call(function(){_this2._container.removeChild(_this2._shape);delete _this2._shape;_this2._container.removeChild(_this2._shape2);delete _this2._shape2;_this2._container.parent.removeChild(_this2._container);_this2._screenshot.parent.removeChild(_this2._screenshot);delete _this2._screenshot;_this2.disableModalMode(_this2._popupLayer);resolve();});});}},{key:"getLayout",value:function getLayout(){var alias=arguments.length<=0||arguments[0]===undefined?this.alias:arguments[0];return _get(BonusStartPopup.prototype.__proto__||Object.getPrototypeOf(BonusStartPopup.prototype),"getLayout",this).call(this,alias);}}]);return BonusStartPopup;}(_ViewCanvasHandlerEs2.default);exports.default=BonusStartPopup;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var config={children:{black:{type:"Container",width:"100%",height:"100%",backgroundColor:"#000000",alpha:0.7},youWonStroke:{type:"Text",text:"You won Bonus game!",left:"50%",top:"50%",textBaseline:"middle",font:"bold 60px Arial",color:"#923831",textAlign:"center",outline:7},youWonText:{type:"Text",text:"You won Bonus game!",left:"50%",top:"50%",textBaseline:"middle",textAlign:"center",font:"bold 60px Arial",color:"#ffde8a",stroke:{color:"#e67b2c",outline:3}}}};exports.default=config;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};var _ViewCanvasHandlerEs=__webpack_require__(82);var _ViewCanvasHandlerEs2=_interopRequireDefault(_ViewCanvasHandlerEs);var _particleConfig=__webpack_require__(114);var _particleConfig2=_interopRequireDefault(_particleConfig);var _numbersSpriteSheet=__webpack_require__(103);var _numbersSpriteSheet2=_interopRequireDefault(_numbersSpriteSheet);var _config=__webpack_require__(115);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BonusEndPopup=function(_ViewCanvasHandler){_inherits(BonusEndPopup,_ViewCanvasHandler);function BonusEndPopup(config,alias){_classCallCheck(this,BonusEndPopup);var _this=_possibleConstructorReturn(this,(BonusEndPopup.__proto__||Object.getPrototypeOf(BonusEndPopup)).call(this,{alias:alias}));_this.initHandler();return _this;}
_createClass(BonusEndPopup,[{key:"initHandler",value:function initHandler(){this._container=new Container({width:this.getLayout().width,height:this.getLayout().height});this.initChildrenContainer(this._container,_config2.default.children);}},{key:"counterEffect",value:function counterEffect(target,start,end,onCountEndCallback){target.text=Number(start).toFixed(2).toString();target.value=start;target.scaleX=target.scaleY=0.5;target.regX=target.getBounds().width/2;target.regY=target.getBounds().height/2;var dif=end-start,step=dif/95,currentValue=start,finished=false,lastInterval=180,tween=createjs.Tween.get(target).to({value:end,scaleX:1.15,scaleY:1.15},850).call(function(){if(typeof onCountEndCallback==="function"){onCountEndCallback();}}).to({scaleX:1,scaleY:1},lastInterval).addEventListener("change",function(ev){if(target.value-currentValue>step){currentValue=target.value;target.text=Number(target.value).toFixed(2).toString();target.regX=target.getBounds().width/2;target.regY=target.getBounds().height/2;}else if(ev.target.position>ev.target.duration-lastInterval&&!finished){target.text=Number(target.value).toFixed(2).toString();target.regX=target.getBounds().width/2;target.regY=target.getBounds().height/2;finished=true;}});}},{key:"startAnimation",value:function startAnimation(){var _this2=this;var success=arguments.length<=0||arguments[0]===undefined?false:arguments[0];this._successState=undefined;var totalWinPosition={x:640,y:400};if(success){totalWinPosition={x:760,y:400};}
var data=this.getService("BonusService").getBonusContext();this._screenshot=this.getStageScreenshot();this._container.addChildAt(this._screenshot,0);var finalText=new Text({text:success?"bonus_success_text":"bonus_lose_text",font:"bold 35pt Arial",textAlign:"center",color:"#FFDE98",lineWidth:500,textBaseline:"bottom",stroke:{outline:3,color:"#342C1A",offsetY:3}}),finalTRec=finalText.getBounds();finalText.name="finalText";finalText.x=640;finalText.y=300;finalText.cache(finalTRec.x,finalTRec.y,finalTRec.width,finalTRec.height);finalText.regY=finalText.cacheCanvas.height;var princessContainer=new Container();princessContainer.name="princessContainer";princessContainer.x=360;princessContainer.alpha=0;var princess=new Bitmap("princess_big",this.alias);princess.name="princess";princessContainer.addChild(princess);var princessEye=new Bitmap("princess_eye",this.alias);princessEye.name="princessEye";princessEye.x=143;princessEye.y=88;princessEye.alpha=0;princessContainer.addChild(princessEye);var winCounter=new BitmapText({text:"0",spriteSheet:_numbersSpriteSheet2.default},this.alias);winCounter.name="winCounter";winCounter.x=totalWinPosition.x;winCounter.y=totalWinPosition.y;var shape=new Bitmap("shape",this.alias);shape.x=totalWinPosition.x;shape.y=totalWinPosition.y;shape.regX=shape.width/2;shape.regY=shape.height/2;shape.scaleX=shape.scaleY=3;var shape2=new Bitmap("shape",this.alias);shape2.x=totalWinPosition.x;shape2.y=totalWinPosition.y;shape2.regX=shape2.width/2;shape2.regY=shape2.height/2;shape2.scaleX=shape2.scaleY=3;var target=new Sprite({spriteSheet:{"images":["star_particle"],"frames":[[1,1,50,50,0,0,0]],"animations":{"star_particle_anim":{"frames":[0]}}}},this.alias);target.gotoAndPlay("star_particle_anim");target.regX=25;target.regY=25;this._finalEmitter=new ProtonEmitter({left:totalWinPosition.x,top:totalWinPosition.y,target:target,emitterConfig:_particleConfig2.default},this.alias);this._finalEmitter.emitter.rate.timePan.a=0;this._finalEmitter.emitter.rate.timePan.b=0;setTimeout(function(){_this2._finalEmitter.emitter.rate.numPan.a=0;_this2._finalEmitter.emitter.rate.numPan.b=0;},200);var showCircleParticles=function showCircleParticles(){_this2._finalEmitter.emitter.rate.numPan.a=20;_this2._finalEmitter.emitter.rate.numPan.b=30;_this2._finalEmitter.emitter.initializes.forEach(function(beh){var name=beh.constructor.name;if(name==='Velocity'){beh.rPan.a=3;beh.rPan.b=4;}});setTimeout(function(){_this2._finalEmitter.emitter.rate.numPan.a=0;_this2._finalEmitter.emitter.rate.numPan.b=0;},80);};var totalWin=data.total_win/100;if(success){this._container.addChild(princessContainer);this._container.setChildBottom(princessContainer,0);}
this._container.addChild(shape);this._container.addChild(shape2);this._container.addChild(this._finalEmitter);this._container.addChild(winCounter);this._container.addChild(finalText);this._finalPrincess=princessContainer;this._finalText=finalText;this._finalWinCounter=winCounter;this._shape=shape;this._shape2=shape2;this._container.getChildByName('black').alpha=0;this._finalPrincess.alpha=1;this._finalText.alpha=1;this._finalWinCounter.alpha=1;this._finalEmitter.alpha=1;this._shape.alpha=0;this._shape2.alpha=0;this._container.alpha=1;this._finalText.scaleX=this._finalText.scaleY=.4;return new Promise(function(resolve,reject){createjs.Tween.get(_this2._container.getChildByName('black')).to({alpha:0},0).to({alpha:.7},300).to({alpha:.7},700).call(function(){resolve();});if(success){_this2._successState=true;createjs.Tween.get(princessEye).wait(1000).to({alpha:1},100).wait(30).to({alpha:0},200);createjs.Tween.get(princessContainer,{override:true}).to({alpha:1,x:200},400).to({x:160,rotation:0.5},20000).to({x:200,rotation:0},20000);}
createjs.Tween.get(shape,{loop:true}).to({rotation:-360},10000);createjs.Tween.get(shape2,{loop:true}).to({rotation:360},15000);createjs.Tween.get(shape).to({alpha:.4},500);createjs.Tween.get(shape2).to({alpha:.4},500);createjs.Tween.get(_this2._finalText).to({scaleX:1.15,scaleY:1.15},160).to({scaleX:1,scaleY:1},100).to({scaleX:1.25,scaleY:1.25},4000);_this2.counterEffect(winCounter,0,totalWin,showCircleParticles);_this2._finalEmitter.emitter.emit();});}},{key:"endAnimation",value:function endAnimation(){if(this._screenshot){this._screenshot.parent.removeChild(this._screenshot);delete this._screenshot;}
this._container.removeChild(this._finalPrincess);delete this._finalPrincess;this._container.removeChild(this._finalText);delete this._finalText;this._container.removeChild(this._finalWinCounter);delete this._finalWinCounter;this._container.removeChild(this._finalEmitter);delete this._finalEmitter;this._container.removeChild(this._shape);delete this._shape;this._container.removeChild(this._shape2);delete this._shape2;}},{key:"show",value:function show(success){this.enableModalMode();this._popupContainer=this.getHandler("popup").querySelector("gameBlockPopup");this._popupContainer.addChild(this._container);return this.startAnimation(success);}},{key:"hide",value:function hide(){var _this3=this;return new Promise(function(resolve,reject){_this3.makeBlack(resolve);});}},{key:"makeBlack",value:function makeBlack(resolve){var _this4=this;createjs.Tween.get(this._container.getChildByName('black')).to({alpha:1},500).call(function(){resolve();_this4._container.removeChild(_this4._screenshot);delete _this4._screenshot;}).to({alpha:0},500);createjs.Tween.get(this._finalPrincess).to({alpha:0},500).to({alpha:0},500);createjs.Tween.get(this._finalText).to({alpha:0},500).to({alpha:0},500);createjs.Tween.get(this._finalWinCounter).to({alpha:0},500).to({alpha:0},500);createjs.Tween.get(this._finalEmitter).to({alpha:0},500).to({alpha:0},500);createjs.Tween.get(this._shape).to({alpha:0},500).to({alpha:0},500);if(this._successState){this._successState=undefined;createjs.Tween.removeTweens(this._finalPrincess);createjs.Tween.get(this._finalPrincess).to({alpha:0},500).call(function(){_this4._container.removeChild(_this4._finalPrincess);});}
createjs.Tween.get(this._shape2).to({alpha:0},500).to({alpha:0},500);createjs.Tween.get(this._container).to({alpha:1},500).call(function(){_this4._screenshot.parent.removeChild(_this4._screenshot);delete _this4._screenshot;}).to({alpha:1},500).call(function(){_this4._container.parent.removeChild(_this4._container);_this4.endAnimation();_this4.disableModalMode();});}},{key:"getLayout",value:function getLayout(){var alias=arguments.length<=0||arguments[0]===undefined?this.alias:arguments[0];return _get(BonusEndPopup.prototype.__proto__||Object.getPrototypeOf(BonusEndPopup.prototype),"getLayout",this).call(this,alias);}}]);return BonusEndPopup;}(_ViewCanvasHandlerEs2.default);exports.default=BonusEndPopup;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var particleConfig={"initializes":{"Mass":{"massPan":{"isArray":false,"a":5,"b":1,"center":false}},"ImageTarget":{"w":20,"h":20},"Life":{"lifePan":{"isArray":false,"a":18.5,"b":17.3,"center":false}},"Velocity":{"rPan":{"isArray":false,"a":1,"b":5,"center":false},"thaPan":{"isArray":false,"a":-360,"b":360,"center":false},"type":"polar"}},"behaviours":{"Alpha":{"id":"Behaviour_1","age":1173790.9709534035,"energy":0.740220705148827,"dead":false,"same":false,"a":{"isArray":false,"a":1,"b":1,"center":false},"b":{"isArray":false,"a":1,"b":1,"center":false}},"Attraction":{"energy":0.740220705148827,"dead":false,"targetPosition":{"x":0,"y":0},"radius":200,"force":100,"radiusSq":40000,"attractionForce":{"x":-881.1885136093837,"y":-133.72528661154678},"lengthSq":794375.6487964554},"Gravity":{"force":{"x":0,"y":50}},"RandomDrift":{"id":"Behaviour_3","age":1173790.9709534035,"energy":0.740220705148827,"dead":false,"panFoce":{"x":0,"y":0},"delay":0,"time":0},"Rotate":{"a":{"isArray":false,"a":-1,"b":3,"center":false},"b":{"isArray":false,"a":-1,"b":2,"center":false}},"Scale":{"a":{"isArray":false,"a":0.4,"b":1.1,"center":false},"b":{"isArray":false,"a":0,"b":0,"center":false}}},"rate":{"Rate":{"numPan":{"isArray":false,"a":40,"b":60,"center":false},"timePan":{"isArray":false,"a":10,"b":0,"center":false}}}};exports.default=particleConfig;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var config={children:{black:{type:"Container",width:"100%",height:"100%",backgroundColor:"#000000",alpha:0}}};exports.default=config;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};var _ViewCanvasHandlerEs=__webpack_require__(82);var _ViewCanvasHandlerEs2=_interopRequireDefault(_ViewCanvasHandlerEs);var _config=__webpack_require__(117);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BonusResumePopup=function(_ViewCanvasHandler){_inherits(BonusResumePopup,_ViewCanvasHandler);function BonusResumePopup(config,alias){_classCallCheck(this,BonusResumePopup);var _this=_possibleConstructorReturn(this,(BonusResumePopup.__proto__||Object.getPrototypeOf(BonusResumePopup)).call(this,{alias:alias}));_this.initHandler();return _this;}
_createClass(BonusResumePopup,[{key:"initHandler",value:function initHandler(){this._container=new Container({width:this.getLayout().width,height:this.getLayout().height});this.initChildrenContainer(this._container,_config2.default.children);}},{key:"show",value:function show(resolve){this._popupLayer=this.getLayout("popup");this.enableModalMode(this._popupLayer);this._popupContainer=this.getHandler("popup").querySelector("gameBlockPopup");this._screenshot=this.getStageScreenshot();this._container.addChildAt(this._screenshot,0);this._popupContainer.addChild(this._container);this._container.alpha=1;var cachedText=this._container.getChildByName('youWonText'),textRec=cachedText.getBounds(),cachedStroke=this._container.getChildByName('youWonStroke'),strokeRec=cachedStroke.getBounds();cachedText.cache(textRec.x-5,textRec.y-5,textRec.width+10,textRec.height+10);cachedStroke.cache(strokeRec.x-5,strokeRec.y-5,strokeRec.width+10,strokeRec.height+10);cachedText.scaleX=cachedText.scaleY=.4;cachedStroke.scaleX=cachedStroke.scaleY=.4;var shape=new Bitmap("start_big",this.alias);shape.x=this.getLayout().width/2;shape.y=this.getLayout().height/2;shape.regX=shape.width/2;shape.regY=shape.height/2;shape.scaleX=shape.scaleY=4;shape.alpha=0.4;var shape2=new Bitmap("start_big",this.alias);shape2.x=this.getLayout().width/2;shape2.y=this.getLayout().height/2;shape2.regX=shape2.width/2;shape2.regY=shape2.height/2;shape2.scaleX=shape2.scaleY=4;shape2.alpha=0.4;this._container.addChildAt(shape,2);this._container.addChildAt(shape2,3);this._shape=shape;this._shape2=shape2;createjs.Tween.get(cachedText).to({scaleX:.4,scaleY:.4},200).to({scaleX:1.15,scaleY:1.15},160).to({scaleX:1,scaleY:1},100).to({scaleX:1.25,scaleY:1.25},2500*1.5);createjs.Tween.get(cachedStroke).to({scaleX:.4,scaleY:.4},200).to({scaleX:1.15,scaleY:1.15},160).to({scaleX:1,scaleY:1},100).to({scaleX:1.25,scaleY:1.25},2500*1.5).call(resolve);createjs.Tween.get(shape,{loop:true}).to({rotation:-360},10000);createjs.Tween.get(shape2,{loop:true}).to({rotation:360},15000);}},{key:"hide",value:function hide(resolveMain){var _this2=this;return new Promise(function(resolve,reject){createjs.Tween.get(_this2._container).to({alpha:1},0).to({alpha:0},300).call(resolveMain).call(function(){if(_this2._container){_this2._container.removeChild(_this2._shape);_this2._container.removeChild(_this2._shape2);_this2._container.parent.removeChild(_this2._container);delete _this2._shape;delete _this2._shape2;}
if(_this2._screenshot){_this2._screenshot.parent.removeChild(_this2._screenshot);delete _this2._screenshot;}
_this2.disableModalMode(_this2._popupLayer);resolve();});});}},{key:"getLayout",value:function getLayout(){var alias=arguments.length<=0||arguments[0]===undefined?this.alias:arguments[0];return _get(BonusResumePopup.prototype.__proto__||Object.getPrototypeOf(BonusResumePopup.prototype),"getLayout",this).call(this,alias);}}]);return BonusResumePopup;}(_ViewCanvasHandlerEs2.default);exports.default=BonusResumePopup;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var config={children:{black:{type:"Container",width:"100%",height:"100%",backgroundColor:"#000000",alpha:0.7},youWonStroke:{type:"Text",text:"You won Bonus game!",left:"50%",top:"50%",textBaseline:"middle",font:"bold 60px Arial",color:"#923831",textAlign:"center",outline:7},youWonText:{type:"Text",text:"You won Bonus game!",left:"50%",top:"50%",textBaseline:"middle",textAlign:"center",font:"bold 60px Arial",color:"#ffde8a",stroke:{color:"#e67b2c",outline:3}}}};exports.default=config;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _stateInterfaceEs=__webpack_require__(76);var _stateInterfaceEs2=_interopRequireDefault(_stateInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BonusIntroState=function(_StateInterface){_inherits(BonusIntroState,_StateInterface);function BonusIntroState(){_classCallCheck(this,BonusIntroState);var _this=_possibleConstructorReturn(this,(BonusIntroState.__proto__||Object.getPrototypeOf(BonusIntroState)).call(this));_this.on(_stateInterfaceEs2.default.BEFORE_ENTER_STATE_TRANSITION,_this.checkBonusActive);_this.on(_stateInterfaceEs2.default.ENTER_STATE_TRANSITION,_this.enterBonus);_this.on(_stateInterfaceEs2.default.AFTER_ENTER_STATE_TRANSITION,_this.afterEnterBonus);_this.on(_stateInterfaceEs2.default.AFTER_EXECUTE_STATE,_this.startGamePlay);return _this;}
_createClass(BonusIntroState,[{key:"_transitionBonusInit",value:function _transitionBonusInit(){this.getHandler("control").showBonusPanel();this.getHandler("reels").hideLayout();try{this.getHandler("paytable").hideMiniPaytable();}catch(e){}
this.getHandler("lines").hideLayout();this.getController("audio").changeBackgroundSound("bonus");this.getHandler().initBonusGame();this.getService("TickerTapeService").bonusGameInfo();}},{key:"checkBonusActive",value:function checkBonusActive(resolve,reject){if(!this.from||this.stateMachine.router.restartGame===true){this._transitionBonusInit();resolve();return;}
var actions=this.getController("protocol").actions;if(this.from.indexOf("STATE_BONUS")==-1&&actions.current=="bonus"){this._transitionBonusInit();}
resolve();}},{key:"enterBonus",value:function enterBonus(resolve,reject){var _this2=this;if(this.stateMachine.router.restartGame===false&&this.from.indexOf("STATE_BONUS")!=-1){resolve();return;}
this.stateMachine.router.restartGame=false;var actions=this.getController("protocol").actions;if(!this.from||["bonus","bonus_end"].indexOf(actions.current)!=-1){new Promise(function(res){_this2.getController().restoreGame(res);}).then(function(){return new Promise(function(res){if(!_this2.from){_this2.getHandler().getLayout().visible=true;}
res();resolve();});});}else{new Promise(function(res){_this2.getController().startIntro(res);}).then(resolve);}}},{key:"afterEnterBonus",value:function afterEnterBonus(resolve,reject){var actions=this.getController("protocol").actions;if(actions.current=="bonus"){resolve();return;}
var accessEnterTransition=["START_ROUTER","STATE_FREE_SPINS_OUTRO","STATE_SPINS_OUTRO"];if(accessEnterTransition.indexOf(this.from)==-1){resolve();return;}
this._transitionBonusInit();resolve();}},{key:"execute",value:function execute(resolve,reject){var _this3=this;var actives=this.getController("protocol").actions;if(actives.available.indexOf("bonus_init")!=-1){var promise=new Promise(function(res,rej){_this3.getController("protocol").sendData("bonusStartSendAction",res);});promise=promise.then(function(){return new Promise(function(res){_this3.getController().endIntro(res);});});promise=promise.then(function(){return new Promise(function(res){_this3.getHandler().initGameState(false);res();});});promise.then(function(){return new Promise(function(res){_this3.getHandler("control").showBonusPanel();resolve();res();});});}else if(actives.available.indexOf("bonus_stop")!=-1){this.goToState("STATE_BONUS_OUTRO");this.continue();resolve();}else{if(this.from.indexOf("STATE_BONUS_")!=-1){resolve();return;}
resolve();}}},{key:"startGamePlay",value:function startGamePlay(resolve,reject){this.nextState();resolve();}}]);return BonusIntroState;}(_stateInterfaceEs2.default);exports.default=BonusIntroState;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _stateInterfaceEs=__webpack_require__(76);var _stateInterfaceEs2=_interopRequireDefault(_stateInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BonusIdleState=function(_StateInterface){_inherits(BonusIdleState,_StateInterface);function BonusIdleState(){_classCallCheck(this,BonusIdleState);var _this=_possibleConstructorReturn(this,(BonusIdleState.__proto__||Object.getPrototypeOf(BonusIdleState)).call(this));_this.on(_stateInterfaceEs2.default.ENTER_STATE_TRANSITION,_this.clearPromise);_this.on(_stateInterfaceEs2.default.AFTER_EXECUTE_STATE,_this.sendChooseRequest);_this.lastPromiseCallback=null;return _this;}
_createClass(BonusIdleState,[{key:"clearPromise",value:function clearPromise(resolve,reject){this.lastPromiseCallback=null;resolve();}},{key:"execute",value:function execute(resolve,reject){var _this2=this;this.lastPromiseCallback=function(chooseID){var promise=new Promise(function(res,rej){if(HelperFlags.get("noSpin")){_this2.continue();return res();}
_this2.getController("protocol").sendData("bonusSendAction",res,chooseID);});promise.then(resolve);};console.error('---0');}},{key:"selectObject",value:function selectObject(number){console.error('---1');this.lastPromiseCallback(number);}},{key:"sendChooseRequest",value:function sendChooseRequest(resolve,reject){console.error('---2');this.nextState();resolve();}}]);return BonusIdleState;}(_stateInterfaceEs2.default);exports.default=BonusIdleState;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _stateInterfaceEs=__webpack_require__(76);var _stateInterfaceEs2=_interopRequireDefault(_stateInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BonusResultState=function(_StateInterface){_inherits(BonusResultState,_StateInterface);function BonusResultState(){_classCallCheck(this,BonusResultState);var _this=_possibleConstructorReturn(this,(BonusResultState.__proto__||Object.getPrototypeOf(BonusResultState)).call(this));_this.on(_stateInterfaceEs2.default.AFTER_EXECUTE_STATE,_this.nextAction);return _this;}
_createClass(BonusResultState,[{key:"execute",value:function execute(resolve,reject){this.getHandler("control").showBonusPanel();this.getHandler().showResult(resolve);}},{key:"nextAction",value:function nextAction(resolve,reject){this.nextState();resolve();}}]);return BonusResultState;}(_stateInterfaceEs2.default);exports.default=BonusResultState;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _stateInterfaceEs=__webpack_require__(76);var _stateInterfaceEs2=_interopRequireDefault(_stateInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BonusOutroState=function(_StateInterface){_inherits(BonusOutroState,_StateInterface);function BonusOutroState(){_classCallCheck(this,BonusOutroState);var _this=_possibleConstructorReturn(this,(BonusOutroState.__proto__||Object.getPrototypeOf(BonusOutroState)).call(this));_this.on(_stateInterfaceEs2.default.AFTER_EXECUTE_STATE,_this.nextBonusAction);return _this;}
_createClass(BonusOutroState,[{key:"execute",value:function execute(resolve,reject){var _this2=this;var actives=this.getController("protocol").actions;if(actives.available.indexOf("bonus_stop")!=-1){var promise_=new Promise(function(res){_this2.getController().startOutro(res);});promise_=promise_.then(function(){new Promise(function(res,rej){_this2.getController("protocol").sendData("bonusEndSendAction",res);});});promise_=promise_.then(function(){return new Promise(function(res){_this2.getController().endOutro(res);});});promise_.then(resolve);}else{resolve();}}},{key:"_bonusCloseTransition",value:function _bonusCloseTransition(){this.getHandler().endBonus();this.getHandler().getLayout().visible=false;}},{key:"nextBonusAction",value:function nextBonusAction(resolve,reject){this.nextState();resolve();}}]);return BonusOutroState;}(_stateInterfaceEs2.default);exports.default=BonusOutroState;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ControllerEs=__webpack_require__(6);var _ControllerEs2=_interopRequireDefault(_ControllerEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var FreespinsController=function(_Controller){_inherits(FreespinsController,_Controller);function FreespinsController(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,FreespinsController);return _possibleConstructorReturn(this,(FreespinsController.__proto__||Object.getPrototypeOf(FreespinsController)).call(this,data));}
_createClass(FreespinsController,[{key:"checkFreeSpinEnd",value:function checkFreeSpinEnd(){if(this.getService("FreeSpinService").getFreeSpinLeft()>0){setTimeout(function(){$_signal.goTo('freespins.game.play');},300);}}},{key:"selectMultiplier",value:function selectMultiplier(symbolID){this.getService("SoundService").raiseGroup("main");this.chooseIdle=symbolID;}},{key:"startIntro",value:function startIntro(){this.chooseIdle=null;if(this.getService("AutoPlayService").isActive()&&this.getService("AutoPlayService").isStopOnFreeGameEnabled()){this.getService("AutoPlayService").stopAutoSpins();}}},{key:"endIntro",value:function endIntro(resolve){this.getHandler().showSelectedHeader();setTimeout(function(){resolve();},500);}},{key:"startGame",value:function startGame(){setTimeout(function(){},500);}},{key:"restoreGame",value:function restoreGame(resolve){var _this2=this;this.getHandler().showResumePopup().then(function(){resolve(_this2.getService("FreeSpinService").getFreeSpinLeft()>0);});}},{key:"startOutro",value:function startOutro(resolve){this._outroStartTime=new Date();this.getHandler().showEndPopup().then(function(){resolve();});}},{key:"endOutro",value:function endOutro(resolve){var _this3=this;var now=new Date();var diff=Math.max(0,now.getMilliseconds()-this._outroStartTime.getMilliseconds());setTimeout(function(){resolve();_this3.getHandler().hideLayout();_this3.getHandler().hideEndPopup().then(function(){});},3000-diff);}}]);return FreespinsController;}(_ControllerEs2.default);exports.default=FreespinsController;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _EventsEs=__webpack_require__(7);var _EventsEs2=_interopRequireDefault(_EventsEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var FreespinsEvent=function(_Events){_inherits(FreespinsEvent,_Events);function FreespinsEvent(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,FreespinsEvent);return _possibleConstructorReturn(this,(FreespinsEvent.__proto__||Object.getPrototypeOf(FreespinsEvent)).call(this,data));}
_createClass(FreespinsEvent,[{key:"run",value:function run(){this.setSubscriber("horizontalMode");this.setSubscriber("verticalMode");}},{key:"horizontalModeEvent",value:function horizontalModeEvent(){this.getHandler().activateHorizontalMode();}},{key:"verticalModeEvent",value:function verticalModeEvent(){this.getHandler().activateVerticalMode();}}]);return FreespinsEvent;}(_EventsEs2.default);exports.default=FreespinsEvent;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ViewCanvasHandler2=__webpack_require__(82);var _ViewCanvasHandler3=_interopRequireDefault(_ViewCanvasHandler2);var _config=__webpack_require__(125);var _config2=_interopRequireDefault(_config);var _freeSpinStartPopup=__webpack_require__(127);var _freeSpinStartPopup2=_interopRequireDefault(_freeSpinStartPopup);var _freeSpinEndPopup=__webpack_require__(129);var _freeSpinEndPopup2=_interopRequireDefault(_freeSpinEndPopup);var _freeSpinResumePopup=__webpack_require__(132);var _freeSpinResumePopup2=_interopRequireDefault(_freeSpinResumePopup);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var FreespinsViewHandler=function(_ViewCanvasHandler){_inherits(FreespinsViewHandler,_ViewCanvasHandler);function FreespinsViewHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,FreespinsViewHandler);var _this=_possibleConstructorReturn(this,(FreespinsViewHandler.__proto__||Object.getPrototypeOf(FreespinsViewHandler)).call(this,data));_this._inited=false;return _this;}
_createClass(FreespinsViewHandler,[{key:"initHandler",value:function initHandler(){if(this._inited){return;}
this.initLayout(_config2.default);this.initChildren(_config2.default.children);this._startPopup=new _freeSpinStartPopup2.default({},this.alias);this._endPopup=new _freeSpinEndPopup2.default({},this.alias);this._resumePopup=new _freeSpinResumePopup2.default({},this.alias);this.getLayout().visible=false;this._inited=true;}},{key:"showStartPopup",value:function showStartPopup(resolve){this._startPopup.show(resolve);}},{key:"showEndPopup",value:function showEndPopup(){return this._endPopup.show();}},{key:"hideEndPopup",value:function hideEndPopup(){return this._endPopup.hide();}},{key:"showResumePopup",value:function showResumePopup(){return this._resumePopup.show();}},{key:"showSelectedHeader",value:function showSelectedHeader(){var data=this.getService("ProtocolService").getCurrentReelsData("freespins");if(!data){return;}
var wildId=data.wildId;var header=this.querySelector("header");if(wildId>=10&&wildId<=12){header.gotoAndStop("Cut_head_"+wildId);}}},{key:"activateVerticalMode",value:function activateVerticalMode(){}},{key:"activateHorizontalMode",value:function activateHorizontalMode(){}}]);return FreespinsViewHandler;}(_ViewCanvasHandler3.default);exports.default=FreespinsViewHandler;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _spriteSheetConfig=__webpack_require__(126);var _spriteSheetConfig2=_interopRequireDefault(_spriteSheetConfig);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var config={layerSizeType:"fullsize",zIndex:60,children:{girl:{type:"Sprite",top:407,left:159,spriteSheet:_spriteSheetConfig2.default,defaultAnimation:"freespins_girl",framerate:18},cutLine:{type:"Bitmap",top:50,align:"center",src:"cut_line"},corner:{type:"Bitmap",top:482,left:952,src:"corner"},header:{type:"Sprite",top:42,left:511,spriteSheet:_spriteSheetConfig2.default,defaultAnimation:"Cut_head_10"}}};exports.default=config;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var spriteSheet={"images":["freespinsAtlas"],"frames":[[1,1,221,417,0,0,0],[1,420,221,417,0,0,0],[1,839,263,55,0,0,0],[224,1,221,417,0,0,0],[224,420,104,179,0,-10,-3],[224,601,104,179,0,-10,-3],[224,782,263,55,0,0,0],[266,839,263,55,0,0,0],[330,420,104,179,0,-10,-3],[330,601,103,179,0,-11,-3],[435,601,103,179,0,-11,-3],[436,420,103,179,0,-11,-3],[540,601,103,179,0,-11,-3],[447,1,103,179,0,-11,-3],[447,182,103,179,0,-11,-3],[541,363,103,179,0,-11,-3],[645,544,103,179,0,-11,-3],[645,725,102,179,0,-12,-3],[749,725,102,179,0,-12,-3],[750,1,102,179,0,-12,-3],[646,1,101,179,0,-12,-3],[552,182,101,179,0,-12,-3],[646,363,101,179,0,-12,-3],[655,182,100,179,0,-13,-3],[749,363,100,179,0,-13,-3],[757,182,100,179,0,-13,-3],[750,544,100,179,0,-13,-3]],"animations":{"fs_menu_1":{"frames":[0]},"fs_menu_2":{"frames":[1]},"Cut_head_10":{"frames":[2]},"fs_menu_3":{"frames":[3]},"freespins_girl":{"frames":[23,24,20,21,17,9,10,11,12,4,5,8,13,14,15,16,18,19,22,25,26]},"Cut_head_11":{"frames":[6]},"Cut_head_12":{"frames":[7]}}};exports.default=spriteSheet;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};var _ViewCanvasHandlerEs=__webpack_require__(82);var _ViewCanvasHandlerEs2=_interopRequireDefault(_ViewCanvasHandlerEs);var _config=__webpack_require__(128);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var FreeSpinStartPopup=function(_ViewCanvasHandler){_inherits(FreeSpinStartPopup,_ViewCanvasHandler);function FreeSpinStartPopup(config,alias){_classCallCheck(this,FreeSpinStartPopup);var _this=_possibleConstructorReturn(this,(FreeSpinStartPopup.__proto__||Object.getPrototypeOf(FreeSpinStartPopup)).call(this,{alias:alias}));_this.tempTweens=[];_this.initHandler();_this.suspendTweensColumns=false;return _this;}
_createClass(FreeSpinStartPopup,[{key:"initHandler",value:function initHandler(){var _this2=this;this.multipliersSelectable=false;this._container=new Container({width:this.getLayout().width,height:this.getLayout().height});this.initChildrenContainer(this._container,_config2.default.children);var popups={left:this._container.getChildByName("left"),center:this._container.getChildByName("center"),right:this._container.getChildByName("right")};var scale=0.1;var countScale=0.2;var _loop=function _loop(p){var popup=popups[p];var freespinsCount=popup.getChildByName("value");var freespinsCountDefaultScale=freespinsCount.scaleX;popup.cursor="pointer";var onRollOverAction=function onRollOverAction(e){if(!_this2.multipliersSelectable){return;}
_this2.suspendAttraction();if(popup.mouseDown){popup.scaleX=popup.scaleY=1-scale;freespinsCount.scaleX=freespinsCount.scaleY=freespinsCountDefaultScale;}else{popup.scaleX=popup.scaleY=1+scale;freespinsCount.scaleX=freespinsCount.scaleY=(1+countScale)*freespinsCountDefaultScale;}
_this2._container.setChildIndex(popup,_this2._container.getNumChildren()-1);};var onRollOutAction=function onRollOutAction(e){_this2.resumeAttraction();if(!_this2.multipliersSelectable){return;}
popup.scaleX=popup.scaleY=1;freespinsCount.scaleX=freespinsCount.scaleY=1*freespinsCountDefaultScale;};var onMouseDownAction=function onMouseDownAction(e){if(!_this2.multipliersSelectable){return;}
_this2.suspendAttraction();popup.mouseDown=true;popup.scaleX=popup.scaleY=1-scale;freespinsCount.scaleX=freespinsCount.scaleY=freespinsCountDefaultScale;};var onClickAction=function onClickAction(e){if(!_this2.multipliersSelectable){return;}
_this2.multipliersSelectable=false;_this2.stopAttraction();popup.scaleX=popup.scaleY=1;freespinsCount.scaleX=freespinsCount.scaleY=1*freespinsCountDefaultScale;for(var pop in popups){popups[pop].cursor="";}
var symbol=popup.getChildByName("symbol");switch(symbol.symbolID){case 10:_this2.getService("SoundService").play("el_wild_pharaon_silmple","audio");_this2.getService("SoundService").play("sound_7","audio");break;case 11:_this2.getService("SoundService").play("el_wild_pharaon_red","audio");_this2.getService("SoundService").play("sound_8","audio");break;case 12:_this2.getService("SoundService").play("el_wild_pharaon_gold","audio");_this2.getService("SoundService").play("sound_9","audio");break;}
symbol.framerate=27;symbol.scaleX=symbol.scaleY=1.33;symbol.gotoAndPlay("short_"+symbol.symbolID);_this2.tempTweens.push(createjs.Tween.get(_this2._container.getChildByName('black')).to({alpha:1},2000));symbol.addEventListener("animationend",function(){symbol.removeAllEventListeners("animationend");symbol.gotoAndPlay("def_"+symbol.symbolID);symbol.scaleX=symbol.scaleY=1;_this2.getController().selectMultiplier(symbol.symbolID);_this2.hide();});popup.selected=true;for(var _pop in popups){popups[_pop].cursor="";if(popup.id!==popups[_pop].id){popups[_pop].filters=[new createjs.ColorMatrixFilter(new createjs.ColorMatrix(0,-9,-70,25)),new createjs.ColorMatrixFilter(new createjs.ColorMatrix(10,0,0,0))];var rect=popups[_pop].getBounds();popups[_pop].cache(rect.x,rect.y,rect.width,rect.height);}}};var onPressUpAction=function onPressUpAction(e){if(!_this2.multipliersSelectable){return;}
if(e.currentTarget.mouseDown&&e.localX>=0&&e.localX<=e.currentTarget.width&&e.localY>=0&&e.localY<=e.currentTarget.height){onClickAction();}
popup.mouseDown=false;};popup.addEventListener("rollover",onRollOverAction);popup.addEventListener("rollout",onRollOutAction);popup.addEventListener("mousedown",onMouseDownAction);popup.addEventListener("pressup",onPressUpAction);popup.addEventListener("click",onClickAction);_this2.startAttraction();};for(var p in popups){_loop(p);}
this._popups=popups;}},{key:"_resetDefaultState",value:function _resetDefaultState(){for(var pop in this._popups){var _popup=this._popups[pop];_popup.cursor="pointer";_popup.selected=false;_popup.mouseDown=false;_popup.scaleX=_popup.scaleY=1;_popup.filters=[];_popup.uncache();}}},{key:"startAttraction",value:function startAttraction(){var _this3=this;this._attractionInterval=setInterval(function(){if(_this3.suspendTweensColumns===true){_this3.startAttraction();return;}
if(!_this3.multipliersSelectable){return;}
_this3.showAttraction();},5000);}},{key:"suspendAttraction",value:function suspendAttraction(){this.suspendTweensColumns=true;}},{key:"resumeAttraction",value:function resumeAttraction(){this.suspendTweensColumns=false;}},{key:"stopAttraction",value:function stopAttraction(){clearInterval(this._attractionInterval);for(var p in this._popups){var _popup2=this._popups[p];_popup2.scaleX=_popup2.scaleY=1;}}},{key:"show",value:function show(resolve){var _this4=this;this.promise=resolve;this._container.getChildByName("left").alpha=1;this._container.getChildByName("center").alpha=1;this._container.getChildByName("right").alpha=1;this._container.getChildByName("message").alpha=1;return new Promise(function(resolve,reject){var count=0;var _loop2=function _loop2(p){var popup=_this4._popups[p];popup.visible=false;_this4.tempTweens.push(createjs.Tween.get(popup).wait(300+count*100).to({visible:true,scaleX:0.5,scaleY:0.5}).to({scaleX:1.1,scaleY:1.1},200).to({scaleX:1,scaleY:1},200).call(function(){if(popup.name==="right"){_this4.multipliersSelectable=true;}}));count++;};for(var p in _this4._popups){_loop2(p);}
_this4._popupContainer=_this4.getHandler("popup").querySelector("gameBlockPopup");_this4._popupLayer=_this4.getLayout("popup");_this4.enableModalMode(_this4._popupLayer);_this4._screenshot=_this4.getStageScreenshot();_this4._screenshot.alpha=0;_this4._container.addChildAt(_this4._screenshot,0);_this4._container.alpha=0;_this4._popupContainer.addChild(_this4._container);createjs.Tween.get(_this4._container,{loop:false}).to({alpha:1},100);createjs.Tween.get(_this4._container.getChildByName('black')).to({alpha:0},0).to({alpha:0.75},600).call(resolve);});}},{key:"hide",value:function hide(){var _this5=this;return new Promise(function(resolve,reject){_this5.tempTweens.push(createjs.Tween.get(_this5._container.getChildByName("left")).to({alpha:0},250));_this5.tempTweens.push(createjs.Tween.get(_this5._container.getChildByName("center")).to({alpha:0},250));_this5.tempTweens.push(createjs.Tween.get(_this5._container.getChildByName("right")).to({alpha:0},250));_this5.tempTweens.push(createjs.Tween.get(_this5._container.getChildByName("message")).to({alpha:0},250));_this5.tempTweens.push(createjs.Tween.get(_this5._container.getChildByName('black')).to({alpha:1},250).call(function(){_this5._screenshot.parent.removeChild(_this5._screenshot);_this5._screenshot=_this5.getStageScreenshot();}).call(function(){if(_this5.promise){_this5.promise();}}).to({alpha:0},500).call(function(){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=_this5.tempTweens[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var tween=_step.value;createjs.Tween.removeTweens(tween);}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}
_this5.tempTweens=[];createjs.Tween.removeAllTweens();_this5.disableModalMode();_this5.stopAttraction();_this5._resetDefaultState();_this5._container.parent.removeChild(_this5._container);resolve();}));});}},{key:"showAttraction",value:function showAttraction(){var count=0;for(var p in this._popups){var _popup3=this._popups[p];var currentScale=_popup3.scaleX;this.tempTweens.push(createjs.Tween.get(_popup3).wait(count*140).to({scaleX:0.98*currentScale,scaleY:0.98*currentScale},150).to({scaleX:1.05*currentScale,scaleY:1.05*currentScale},150).to({scaleX:currentScale,scaleY:currentScale},150));count++;}}},{key:"getLayout",value:function getLayout(){var alias=arguments.length<=0||arguments[0]===undefined?this.alias:arguments[0];return _get(FreeSpinStartPopup.prototype.__proto__||Object.getPrototypeOf(FreeSpinStartPopup.prototype),"getLayout",this).call(this,alias);}}]);return FreeSpinStartPopup;}(_ViewCanvasHandlerEs2.default);exports.default=FreeSpinStartPopup;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.right=exports.center=exports.left=undefined;var _spriteSheetConfig=__webpack_require__(126);var _spriteSheetConfig2=_interopRequireDefault(_spriteSheetConfig);var _numbersSpriteSheet=__webpack_require__(103);var _numbersSpriteSheet2=_interopRequireDefault(_numbersSpriteSheet);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var singlePopup={type:"Container",width:221,top:390,cursor:"pointer",regX:110,regY:209,children:{background:{type:"Sprite",spriteSheet:_spriteSheetConfig2.default,alias:"freespins",defaultAnimation:"fs_menu_1"},symbol:{type:"ReelSymbol",symbolNumber:10,align:"center",top:50},value:{type:"BitmapText",spriteSheet:_numbersSpriteSheet2.default,text:"15",left:"50%",top:214+36,scaleX:0.75,scaleY:0.75,regX:"50%",regY:"50%",alias:"bonus"},attemptText:{type:"Text",text:"freespins_start_popup_bottom_text",font:"bold 16pt Arial",color:"#ECCB1F",left:"50%",textAlign:"center",top:308,lineWidth:200,stroke:{color:"#292020",outline:3}}},left:"32%"};var left=getClone(singlePopup);var center=getClone(singlePopup);center.left="50%";center.children.background.defaultAnimation="fs_menu_2";center.children.symbol.symbolNumber=11;center.children.value.text="10";var right=getClone(singlePopup);right.left="68%";right.children.background.defaultAnimation="fs_menu_3";right.children.symbol.symbolNumber=12;right.children.value.text="5";var startPopupConfig={children:{black:{type:"Container",width:"100%",height:"100%",backgroundColor:"#000000",alpha:1},left:left,center:center,right:right,message:{type:"Text",text:"freespins_start_popup_top_text",font:"bold 16pt Arial",color:"#ECCB1F",left:"50%",textAlign:"center",stroke:{color:"#623C00",outline:3},top:130}}};exports.left=left;exports.center=center;exports.right=right;exports.default=startPopupConfig;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};var _ViewCanvasHandlerEs=__webpack_require__(82);var _ViewCanvasHandlerEs2=_interopRequireDefault(_ViewCanvasHandlerEs);var _config=__webpack_require__(130);var _config2=_interopRequireDefault(_config);var _numbersSpriteSheet=__webpack_require__(131);var _numbersSpriteSheet2=_interopRequireDefault(_numbersSpriteSheet);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var FreeSpinEndPopup=function(_ViewCanvasHandler){_inherits(FreeSpinEndPopup,_ViewCanvasHandler);function FreeSpinEndPopup(config,alias){_classCallCheck(this,FreeSpinEndPopup);var _this=_possibleConstructorReturn(this,(FreeSpinEndPopup.__proto__||Object.getPrototypeOf(FreeSpinEndPopup)).call(this,{alias:alias}));_this.initHandler();return _this;}
_createClass(FreeSpinEndPopup,[{key:"initHandler",value:function initHandler(){this._container=new Container({width:this.getLayout().width,height:this.getLayout().height});this.initChildrenContainer(this._container,_config2.default.children);this._emitter=this._container.getChildByName("emitter");var winCounter=new BitmapText({text:"0",spriteSheet:_numbersSpriteSheet2.default},this.alias);winCounter.name="winCounter";winCounter.x=this.getLayout().width/2;winCounter.y=this.getLayout().height/2;this._container.addChild(winCounter);this._finalWinCounter=winCounter;}},{key:"counterEffect",value:function counterEffect(target,start,end,onCountEndCallback){if(target){target.text=Number(start).toFixed(2).toString();target.value=start;target.scaleX=target.scaleY=0.5;target.regX=target.getBounds().width/2;target.regY=target.getBounds().height/2;}
var dif=end-start,step=dif/95,currentValue=start,finished=false,lastInterval=180,tween=createjs.Tween.get(target).to({value:end,scaleX:1.15,scaleY:1.15},850).call(function(){if(typeof onCountEndCallback==="function"){onCountEndCallback();}}).to({scaleX:1,scaleY:1},lastInterval).addEventListener("change",function(ev){if(target.value-currentValue>step){currentValue=target.value;target.text=Number(target.value).toFixed(2).toString();target.regX=target.getBounds().width/2;target.regY=target.getBounds().height/2;}else if(ev.target.position>ev.target.duration-lastInterval&&!finished){target.text=Number(target.value).toFixed(2).toString();target.regX=target.getBounds().width/2;target.regY=target.getBounds().height/2;finished=true;}});}},{key:"show",value:function show(promise){var _this2=this;var success=arguments.length<=1||arguments[1]===undefined?false:arguments[1];this._emitter.alpha=1;if(this._finalWinCounter){this._finalWinCounter.alpha=1;this._finalWinCounter.scaleX=this._finalWinCounter.scaleY=0.01;}
this._container.getChildByName("congratulationText").alpha=1;this._container.getChildByName("congratulationStroke").alpha=1;this._container.getChildByName("youWonText").alpha=1;this._container.getChildByName("youWonStroke").alpha=1;var cachedText=this._container.getChildByName('youWonText'),textRec=cachedText.getBounds(),cachedStroke=this._container.getChildByName('youWonStroke'),strokeRec=cachedStroke.getBounds(),cachedText2=this._container.getChildByName('congratulationText'),textRec2=cachedText2.getBounds(),cachedStroke2=this._container.getChildByName('congratulationStroke'),strokeRec2=cachedStroke2.getBounds();cachedText.cache(textRec.x-5,textRec.y-5,textRec.width+10,textRec.height+10);cachedStroke.cache(strokeRec.x-5,strokeRec.y-5,strokeRec.width+10,strokeRec.height+10);cachedText2.cache(textRec2.x-5,textRec2.y-10,textRec2.width+10,textRec2.height+20);cachedStroke2.cache(strokeRec2.x-5,strokeRec2.y-10,strokeRec2.width+10,strokeRec2.height+20);cachedText.scaleX=cachedText.scaleY=.4;cachedStroke.scaleX=cachedStroke.scaleY=.4;cachedText2.scaleX=cachedText2.scaleY=.4;cachedStroke2.scaleX=cachedStroke2.scaleY=.4;return new Promise(function(resolve,reject){var totalWin=_this2.getService("FreeSpinService").getTotalWin()/100;_this2._popupLayer=_this2.getLayout("popup");_this2.enableModalMode(_this2._popupLayer);_this2._screenshot=_this2.getStageScreenshot();_this2._screenshot.alpha=0;_this2._container.addChildAt(_this2._screenshot,0);_this2._popupContainer=_this2.getHandler("popup").querySelector("gameBlockPopup");_this2._container.alpha=0;_this2._popupContainer.addChild(_this2._container);createjs.Tween.get(_this2._container,{loop:false}).to({alpha:1},100).call(function(){_this2._emitter.emitter.emit();_this2.counterEffect(_this2._finalWinCounter,0,totalWin.toString(),resolve);createjs.Tween.get(_this2._container.getChildByName('black')).to({alpha:.75},600).call(promise);createjs.Tween.get(cachedText).to({scaleX:1.15,scaleY:1.15},160).to({scaleX:1,scaleY:1},100).to({scaleX:1.25,scaleY:1.25},4000);createjs.Tween.get(cachedStroke).to({scaleX:1.15,scaleY:1.15},160).to({scaleX:1,scaleY:1},100).to({scaleX:1.25,scaleY:1.25},4000);createjs.Tween.get(cachedText2).to({scaleX:1.15,scaleY:1.15},160).to({scaleX:1,scaleY:1},100).to({scaleX:1.25,scaleY:1.25},4000);createjs.Tween.get(cachedStroke2).to({scaleX:1.15,scaleY:1.15},160).to({scaleX:1,scaleY:1},100).to({scaleX:1.25,scaleY:1.25},4000);});});}},{key:"hide",value:function hide(){var _this3=this;return new Promise(function(resolve,reject){createjs.Tween.get(_this3._emitter).to({alpha:0},250);createjs.Tween.get(_this3._finalWinCounter).to({alpha:0},250);createjs.Tween.get(_this3._container.getChildByName("youWonStroke")).to({alpha:0},250);createjs.Tween.get(_this3._container.getChildByName("youWonText")).to({alpha:0},250);createjs.Tween.get(_this3._container.getChildByName("congratulationText")).to({alpha:0},250);createjs.Tween.get(_this3._container.getChildByName("congratulationStroke")).to({alpha:0},250);createjs.Tween.get(_this3._container.getChildByName('black')).to({alpha:1},250).call(function(){_this3._screenshot.parent.removeChild(_this3._screenshot);delete _this3._screenshot;}).to({alpha:0},500).call(function(){_this3._container.parent.removeChild(_this3._container);_this3._emitter.emitter.stopEmit();_this3.disableModalMode(_this3._popupLayer);resolve();});});}},{key:"getLayout",value:function getLayout(){var alias=arguments.length<=0||arguments[0]===undefined?this.alias:arguments[0];return _get(FreeSpinEndPopup.prototype.__proto__||Object.getPrototypeOf(FreeSpinEndPopup.prototype),"getLayout",this).call(this,alias);}}]);return FreeSpinEndPopup;}(_ViewCanvasHandlerEs2.default);exports.default=FreeSpinEndPopup;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var config={children:{black:{type:"Container",width:"100%",height:"100%",backgroundColor:"#000000",alpha:0.75},emitter:{type:"ProtonEmitter",top:"50%",left:"50%",targetConfig:{spriteSheet:{"images":"starParticle","frames":[[1,1,194,195,0,0,0]],"animations":{"star":{"frames":[0]}},framerate:10},regX:99,regY:99},emitterConfig:{"initializes":{"Mass":{"massPan":{"isArray":false,"a":1,"b":1,"center":false}},"ImageTarget":{"w":20,"h":20},"Life":{"lifePan":{"isArray":false,"a":1.6,"b":2.8000000000000003,"center":false}},"Velocity":{"rPan":{"isArray":false,"a":0,"b":0,"center":false},"thaPan":{"isArray":false,"a":0,"b":0,"center":false},"type":"polar"}},"behaviours":{"Alpha":{"id":"Behaviour_1","age":105926.84401473704,"energy":0.9430678691418031,"dead":false,"same":false,"a":{"isArray":false,"a":0,"b":0.6000000000000001,"center":false},"b":{"isArray":false,"a":0,"b":0,"center":false}},"Attraction":{"energy":0.9430678691418031,"dead":false,"targetPosition":{"x":0,"y":0},"radius":200,"force":100,"radiusSq":40000,"attractionForce":{"x":-640,"y":-360},"lengthSq":539200},"Gravity":{"force":{"x":0,"y":0}},"RandomDrift":{"id":"Behaviour_3","age":105926.84401473704,"energy":0.9430678691418031,"dead":false,"panFoce":{"x":0,"y":0},"delay":0,"time":0},"Rotate":{"a":{"isArray":false,"a":0,"b":0,"center":false},"b":{"isArray":false,"a":-1,"b":1,"center":false}},"Scale":{"a":{"isArray":false,"a":1.5,"b":1.5,"center":false},"b":{"isArray":false,"a":7.800000000000001,"b":10,"center":false}}},"rate":{"Rate":{"numPan":{"isArray":false,"a":1,"b":1,"center":false},"timePan":{"isArray":false,"a":0.1,"b":0.2,"center":false}}}}},congratulationStroke:{type:"Text",text:"free_spins_end_popup_congratulations",left:"50%",top:220,font:"bold 60px Arial",color:"#923831",textBaseline:"bottom",textAlign:"center",outline:7},congratulationText:{type:"Text",text:"free_spins_end_popup_congratulations",left:"50%",top:220,font:"bold 60px Arial",color:"#ffde8a",textBaseline:"bottom",textAlign:"center",stroke:{color:"#e67b2c",outline:3}},youWonStroke:{type:"Text",text:"free_spins_end_you_won",top:480,left:"50%",font:"bold 60px Arial",color:"#923831",textBaseline:"top",textAlign:"center",outline:7},youWonText:{type:"Text",text:"free_spins_end_you_won",top:480,left:"50%",font:"bold 60px Arial",color:"#ffde8a",textBaseline:"top",textAlign:"center",stroke:{color:"#e67b2c",outline:3}}}};exports.default=config;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var numbersSpriteSheet={images:["bonus_numbers"],"frames":[[1,1,103,108,0,0,0],[116,1,93,111,0,0,0],[221,1,93,110,0,0,0],[326,1,93,109,0,0,0],[431,1,90,108,0,0,0],[533,1,86,110,0,0,0],[631,1,85,108,0,0,0],[728,1,84,110,0,0,0],[824,1,84,108,0,0,0],[920,1,54,109,0,0,0],[986,1,53,62,0,0,-60],[1051,1,48,50,0,0,-60]],"animations":{"0":{"frames":[0]},"4":{"frames":[1]},"9":{"frames":[2]},"6":{"frames":[3]},"2":{"frames":[4]},"8":{"frames":[5]},"5":{"frames":[6]},"7":{"frames":[7]},"3":{"frames":[8]},"1":{"frames":[9]},",":{"frames":[10]},".":{"frames":[11]}}};exports.default=numbersSpriteSheet;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};var _ViewCanvasHandlerEs=__webpack_require__(82);var _ViewCanvasHandlerEs2=_interopRequireDefault(_ViewCanvasHandlerEs);var _config=__webpack_require__(133);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var FreeSpinResumePopup=function(_ViewCanvasHandler){_inherits(FreeSpinResumePopup,_ViewCanvasHandler);function FreeSpinResumePopup(config,alias){_classCallCheck(this,FreeSpinResumePopup);var _this=_possibleConstructorReturn(this,(FreeSpinResumePopup.__proto__||Object.getPrototypeOf(FreeSpinResumePopup)).call(this,{alias:alias}));_this.initHandler();return _this;}
_createClass(FreeSpinResumePopup,[{key:"initHandler",value:function initHandler(){this._container=new Container();this._container.name="resumePopup";this._container.visible=false;this.getLayout().setChildWidth(this._container,"100%");this.getLayout().setChildHeight(this._container,"100%");this.initChildrenContainer(this._container,_config2.default.children);this._popups={left:this._container.getChildByName("left"),center:this._container.getChildByName("center"),right:this._container.getChildByName("right")};}},{key:"_getWildID",value:function _getWildID(){return this.getService("ProtocolService").getCurrentReelsData("freespins").wildId;}},{key:"show",value:function show(){var _this2=this;var wildId=this._getWildID();for(var p in this._popups){var popup=this._popups[p];var symbolID=popup.getChildByName("symbol").symbolID;if(symbolID===wildId){popup.visible=true;var value=popup.getChildByName("value");value.text=this.getService("FreeSpinService").getFreeSpinLeft().toString();value.regX=value.getBounds().width/2;}else{popup.visible=false;}}
this._popupLayer=this.getLayout("popup");this.enableModalMode(this._popupLayer);this._popupContainer=this.getHandler("popup").querySelector("gameBlockPopup");this._popupContainer.addChild(this._container);this._screenshot=this.getStageScreenshot();this._container.addChildAt(this._screenshot,0);this._container.visible=true;return new Promise(function(resolve,reject){setTimeout(function(){_this2.hide().then(resolve);},1000);});}},{key:"hide",value:function hide(){var _this3=this;return new Promise(function(resolve,reject){createjs.Tween.get(_this3._container).to({alpha:0},300).call(function(){_this3._container.parent.removeChild(_this3._container);_this3._screenshot.parent.removeChild(_this3._screenshot);delete _this3._screenshot;_this3.disableModalMode(_this3._popupLayer);resolve();});});}},{key:"showAttraction",value:function showAttraction(){var count=0;for(var p in this._popups){var popup=this._popups[p];var currentScale=popup.scaleX;createjs.Tween.get(popup).wait(count*140).to({scaleX:0.98*currentScale,scaleY:0.98*currentScale},150).to({scaleX:1.05*currentScale,scaleY:1.05*currentScale},150).to({scaleX:currentScale,scaleY:currentScale},150);count++;}}},{key:"getLayout",value:function getLayout(){var alias=arguments.length<=0||arguments[0]===undefined?this.alias:arguments[0];return _get(FreeSpinResumePopup.prototype.__proto__||Object.getPrototypeOf(FreeSpinResumePopup.prototype),"getLayout",this).call(this,alias);}}]);return FreeSpinResumePopup;}(_ViewCanvasHandlerEs2.default);exports.default=FreeSpinResumePopup;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _spriteSheetConfig=__webpack_require__(126);var _spriteSheetConfig2=_interopRequireDefault(_spriteSheetConfig);var _numbersSpriteSheet=__webpack_require__(103);var _numbersSpriteSheet2=_interopRequireDefault(_numbersSpriteSheet);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var singlePopup={type:"Container",width:221,top:"53%",left:"50%",cursor:"pointer",regX:110,regY:209,visible:false,children:{background:{type:"Sprite",spriteSheet:_spriteSheetConfig2.default,defaultAnimation:"fs_menu_1"},symbol:{type:"ReelSymbol",symbolNumber:10,align:"center",top:50},value:{type:"BitmapText",spriteSheet:_numbersSpriteSheet2.default,text:"15",left:"50%",top:214+36,scaleX:0.75,scaleY:0.75,regX:"50%",regY:"50%",alias:"bonus"},attemptText:{type:"Text",text:"freespins_start_popup_bottom_text",font:"bold 16pt Arial",color:"#ECCB1F",left:"50%",textAlign:"center",top:308,lineWidth:200,stroke:{color:"#292020",outline:3}}}};var left=getClone(singlePopup);var center=getClone(singlePopup);center.children.background.defaultAnimation="fs_menu_2";center.children.symbol.symbolNumber=11;center.children.value.text="10";var right=getClone(singlePopup);right.children.background.defaultAnimation="fs_menu_3";right.children.symbol.symbolNumber=12;right.children.value.text="5";var startPopupConfig={children:{black:{type:"Container",width:"100%",height:"100%",backgroundColor:"#000000",alpha:.75},left:left,center:center,right:right,message:{type:"Text",text:"freespins_resume_popup_top_text",font:"bold 16pt Arial",color:"#ECCB1F",top:"14%",left:"50%",textAlign:"center",stroke:{color:"#623C00",outline:3}}}};exports.default=startPopupConfig;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _stateInterfaceEs=__webpack_require__(76);var _stateInterfaceEs2=_interopRequireDefault(_stateInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var FreeSpinIntroState=function(_StateInterface){_inherits(FreeSpinIntroState,_StateInterface);function FreeSpinIntroState(){_classCallCheck(this,FreeSpinIntroState);var _this=_possibleConstructorReturn(this,(FreeSpinIntroState.__proto__||Object.getPrototypeOf(FreeSpinIntroState)).call(this));_this.on(_stateInterfaceEs2.default.ENTER_STATE_TRANSITION,_this.checkFreeSpinActive);_this.on(_stateInterfaceEs2.default.AFTER_ENTER_STATE_TRANSITION,_this.enterFreeSpin);_this.on(_stateInterfaceEs2.default.BEFORE_EXECUTE_STATE,_this.afterEnterFreeSpin);_this.on(_stateInterfaceEs2.default.AFTER_EXECUTE_STATE,_this.startGamePlay);return _this;}
_createClass(FreeSpinIntroState,[{key:"_transitionFreeSpinInit",value:function _transitionFreeSpinInit(){var _this2=this;HelperFlags.set("freeSpinsEnabled",true);this.getHandler("control").enableAllButtons();this.getHandler("control").showFreePanel();this.getHandler("control").changeTotalWinValue();this.getHandler("reels").showLayout();this.getHandler("reels").showDefaultMask();this.getHandler("reels").showFreeSpinBackground();this.getHandler("lines").showLayout();this.getHandler("control").changeWinValue(null);this.getHandler("control").changeFreeCounterBeforeSpin();if(this.getService("FreeSpinService").getFreeSpinLeft()>0){this.getHandler("control").setSpinCounterValue(this.getService("FreeSpinService").getFreeSpinLeft()-1);}else{this.getHandler("control").setSpinCounterValue(0);}
this.getController("audio").changeBackgroundSound("freespins");this.getService("TickerTapeService").freeSpinGameInfo();this.getHandler().showLayout();this.getHandler().showSelectedHeader();if(__RunPartialApplication.type=="mobile"){setTimeout(function(){_this2.getHandler("background").showFreeSpinBackground();},10);}else{this.getHandler("background").showFreeSpinBackground();}}},{key:"checkFreeSpinActive",value:function checkFreeSpinActive(resolve,reject){if(this.stateMachine.router.restartGame==true){this._transitionFreeSpinInit();}
var actions=this.getController("protocol").actions;if(this.stateMachine.router.restartGame===false&&actions.current=="freespins"&&(!this.from||this.from.indexOf("STATE_FREE_SPINS")==-1)){this._transitionFreeSpinInit();}else if(actions.current=="freespins"&&__RunPartialApplication.type=="mobile"){this.getHandler("control").changeSpinState();if(this.getService("FreeSpinService").getFreeSpinLeft()>0){this.getHandler("control").setSpinCounterValue(this.getService("FreeSpinService").getFreeSpinLeft()-1);}else{this.getHandler("control").setSpinCounterValue(0);}}
resolve();}},{key:"enterFreeSpin",value:function enterFreeSpin(resolve,reject){var _this3=this;if(this.from.indexOf("STATE_FREE_SPINS")!=-1){resolve();return;}
this.stateMachine.router.restartGame=false;this.getController().startIntro();var actions=this.getController("protocol").actions;if(actions.current=="freespins"){this.getController().restoreGame(function(resume){if(!resume){_this3.goToState("STATE_FREE_SPINS_OUTRO");_this3.continue();}
resolve();});return;}else{this.getHandler().showStartPopup(function(){resolve();});}}},{key:"afterEnterFreeSpin",value:function afterEnterFreeSpin(resolve,reject){var actions=this.getController("protocol").actions;if(actions.current=="freespins"){resolve();return;}
var accessEnterTransition=["START_ROUTER","STATE_BONUS_OUTRO","STATE_SPINS_OUTRO"];if(accessEnterTransition.indexOf(this.from)==-1){resolve();return;}
this._transitionFreeSpinInit();resolve();}},{key:"execute",value:function execute(resolve,reject){var _this4=this;var actives=this.getController("protocol").actions;if(actives.available.indexOf("freespin_init")!=-1){var counts={10:15,11:10,12:5};this.getHandler("control").setSpinCounterValue(counts[this.getController().chooseIdle]-1);var promise=new Promise(function(res,rej){_this4.getController("protocol").sendData("freeSpinInitSendAction",res,_this4.getController().chooseIdle);});promise=promise.then(function(){return new Promise(function(res,rej){_this4.getController().endIntro(res);});});promise.then(resolve);}else if(actives.available.indexOf("freespin_stop")!=-1){this.goToState("STATE_FREE_SPINS_OUTRO");this.continue();resolve();}else{this.getController().endIntro(resolve);}}},{key:"startGamePlay",value:function startGamePlay(resolve,reject){this.nextState();resolve();}}]);return FreeSpinIntroState;}(_stateInterfaceEs2.default);exports.default=FreeSpinIntroState;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _stateInterfaceEs=__webpack_require__(76);var _stateInterfaceEs2=_interopRequireDefault(_stateInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var FreeSpinAddedState=function(_StateInterface){_inherits(FreeSpinAddedState,_StateInterface);function FreeSpinAddedState(){_classCallCheck(this,FreeSpinAddedState);return _possibleConstructorReturn(this,(FreeSpinAddedState.__proto__||Object.getPrototypeOf(FreeSpinAddedState)).call(this));}
_createClass(FreeSpinAddedState,[{key:"execute",value:function execute(resolve,reject){console.log("Execute state "+this.name);resolve();}}]);return FreeSpinAddedState;}(_stateInterfaceEs2.default);exports.default=FreeSpinAddedState;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _stateInterfaceEs=__webpack_require__(76);var _stateInterfaceEs2=_interopRequireDefault(_stateInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var FreeSpinSpinningState=function(_StateInterface){_inherits(FreeSpinSpinningState,_StateInterface);function FreeSpinSpinningState(){_classCallCheck(this,FreeSpinSpinningState);var _this=_possibleConstructorReturn(this,(FreeSpinSpinningState.__proto__||Object.getPrototypeOf(FreeSpinSpinningState)).call(this));_this.on(_stateInterfaceEs2.default.ENTER_STATE_TRANSITION,_this.startSpinning);_this.on(_stateInterfaceEs2.default.AFTER_EXECUTE_STATE,_this.showResult);return _this;}
_createClass(FreeSpinSpinningState,[{key:"startSpinning",value:function startSpinning(resolve,reject){this.getHandler("control").disableAllButtons();this.getHandler("control").changeWinValue(null);this.getHandler("control").changeFreeCounterBeforeSpin();this.getHandler("lines").startSpinAction();this.getHandler("settings").showFastToolbarMessage("fast_click_spin_message");resolve();}},{key:"execute",value:function execute(resolve,reject){var _this2=this;$_event.setEvent("spinAction");this.getHandler("reels").startReels();this.getService("SoundService").stopGroup("main");this.getService("SoundService").play("audio_freespin_numbers");this.getService("SoundService").play("audio_reel_rotate",null,{"loop":true});var promise=new Promise(function(res,rej){_this2.getController("protocol").sendData("spinSendAction",res,"freespin");});promise.then(function(){_this2.getHandler("reels").stopFreeSpinReels(resolve);});}},{key:"showResult",value:function showResult(resolve,reject){this.nextState();resolve();}}]);return FreeSpinSpinningState;}(_stateInterfaceEs2.default);exports.default=FreeSpinSpinningState;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _stateInterfaceEs=__webpack_require__(76);var _stateInterfaceEs2=_interopRequireDefault(_stateInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var FreeSpinResultState=function(_StateInterface){_inherits(FreeSpinResultState,_StateInterface);function FreeSpinResultState(){_classCallCheck(this,FreeSpinResultState);var _this=_possibleConstructorReturn(this,(FreeSpinResultState.__proto__||Object.getPrototypeOf(FreeSpinResultState)).call(this));_this.on(_stateInterfaceEs2.default.AFTER_EXECUTE_STATE,_this.leaveResult);return _this;}
_createClass(FreeSpinResultState,[{key:"execute",value:function execute(resolve,reject){var _this2=this;var promise=new Promise(function(res,rej){_this2.getController("win").checkBigWin(res);});this.getHandler("reels").setWinElements();this.getHandler("control").enableAllButtons();this.getHandler("control").changeWinValue();this.getHandler("control").changeTotalWinValue();this.getHandler("control").changeBalanceValue();this.getService("SoundService").stop("audio_reel_rotate");promise=promise.then(function(){return new Promise(function(res,rej){_this2.getHandler("lines").stopFreeSpinsAction(res,rej);});});promise.then(resolve);}},{key:"leaveResult",value:function leaveResult(resolve,reject){this.nextState();resolve();}}]);return FreeSpinResultState;}(_stateInterfaceEs2.default);exports.default=FreeSpinResultState;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _stateInterfaceEs=__webpack_require__(76);var _stateInterfaceEs2=_interopRequireDefault(_stateInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var FreeSpinOutroState=function(_StateInterface){_inherits(FreeSpinOutroState,_StateInterface);function FreeSpinOutroState(){_classCallCheck(this,FreeSpinOutroState);var _this=_possibleConstructorReturn(this,(FreeSpinOutroState.__proto__||Object.getPrototypeOf(FreeSpinOutroState)).call(this));_this.on(_stateInterfaceEs2.default.AFTER_EXECUTE_STATE,_this.nextFreeSpinAction);_this.on(_stateInterfaceEs2.default.LEAVE_STATE_TRANSITION,_this.leaveOutro);return _this;}
_createClass(FreeSpinOutroState,[{key:"_transitionOutro",value:function _transitionOutro(){this.getHandler("reels").hideFreeSpinBackground();this.getHandler().hideLayout();HelperFlags.set("freeSpinsEnabled",null);if(__RunPartialApplication.type=="mobile"){this.getHandler("control").hideFreePanel();}}},{key:"execute",value:function execute(resolve,reject){var _this2=this;var actives=this.getController("protocol").actions;if(actives.available.indexOf("freespin_stop")!=-1){var promise_=new Promise(function(res){_this2.getController().startOutro(res);});promise_=promise_.then(function(){return new Promise(function(res,rej){_this2.getController("protocol").sendData("freeSpinEndSendAction",res);});});promise_=promise_.then(function(){return new Promise(function(res){_this2.getController().endOutro(res);});});promise_.then(resolve);}else{resolve();}}},{key:"nextFreeSpinAction",value:function nextFreeSpinAction(resolve,reject){this.nextState();resolve();}},{key:"leaveOutro",value:function leaveOutro(resolve,reject){if(this.to.indexOf("STATE_FREE_SPINS")==-1){this._transitionOutro();}
resolve();}}]);return FreeSpinOutroState;}(_stateInterfaceEs2.default);exports.default=FreeSpinOutroState;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ControllerEs=__webpack_require__(6);var _ControllerEs2=_interopRequireDefault(_ControllerEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var WinController=function(_Controller){_inherits(WinController,_Controller);function WinController(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,WinController);return _possibleConstructorReturn(this,(WinController.__proto__||Object.getPrototypeOf(WinController)).call(this,data));}
_createClass(WinController,[{key:"checkBigWin",value:function checkBigWin(){var _this2=this;var nextAction=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(HelperFlags.get("justStarted")){return nextAction();}
try{(function(){var totalWin=_this2.getService("ProtocolService").getCurrentWin();var bet=_this2.getService("BetService").getCurrentValue();var lines=_this2.getService("LinesService").getCurrentValue();var totalBet=bet*lines*_this2.getService("ProtocolService").getCurrentDenominator();var winType=totalBet*25<=totalWin?'SuperMega':totalBet*20<=totalWin?'Super':totalBet*15<=totalWin?'Mega':totalBet*10<=totalWin?'Big':false;if(totalWin>0&&winType!==false){$_signal.goTo("!settings.toolbar.fastMessage","fast_big_win");new Promise(function(resolve,reject){try{_this2.getHandler().showBigWin(nextAction,winType);}catch(e){console.error('big win',e);nextAction();}}).then(function(){if(typeof nextAction=="function"){nextAction();}});}else{if(typeof nextAction=="function"){nextAction();}}})();}catch(e){$_log.error("WinController::checkBigWin",e);if(typeof nextAction=="function"){nextAction();}}}}]);return WinController;}(_ControllerEs2.default);exports.default=WinController;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _EventsEs=__webpack_require__(7);var _EventsEs2=_interopRequireDefault(_EventsEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var WinCommonEvent=function(_Events){_inherits(WinCommonEvent,_Events);function WinCommonEvent(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,WinCommonEvent);var _this=_possibleConstructorReturn(this,(WinCommonEvent.__proto__||Object.getPrototypeOf(WinCommonEvent)).call(this,data));_this.init(data);return _this;}
_createClass(WinCommonEvent,[{key:"initGameEvent",value:function initGameEvent(){}},{key:"spinActionEvent",value:function spinActionEvent(){this.handler.stopBigWinAnimation();}}]);return WinCommonEvent;}(_EventsEs2.default);exports.default=WinCommonEvent;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ViewCanvasHandlerEs=__webpack_require__(82);var _ViewCanvasHandlerEs2=_interopRequireDefault(_ViewCanvasHandlerEs);var _numbersSpriteSheet=__webpack_require__(103);var _numbersSpriteSheet2=_interopRequireDefault(_numbersSpriteSheet);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var WinCommonViewHandler=function(_ViewCanvasHandler){_inherits(WinCommonViewHandler,_ViewCanvasHandler);function WinCommonViewHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,WinCommonViewHandler);var _this=_possibleConstructorReturn(this,(WinCommonViewHandler.__proto__||Object.getPrototypeOf(WinCommonViewHandler)).call(this,data));_this.init(data);_this.availableBigAnimation=null;_this.bigWin=null;_this.bigWinPromise=null;_this.activeBigWin=false;_this.isQuickStop=false;return _this;}
_createClass(WinCommonViewHandler,[{key:"initHandler",value:function initHandler(){this.config={zIndex:20};if(!this.ready){this.initLayout(this.config);this.ready=true;}
this.getLayout().width=this.getCanvas().width;this.getLayout().height=this.getCanvas().height;this.getLayout().x=-this.getLayout().parent.x;}},{key:"counterEffect",value:function counterEffect(target,start,end){var _this2=this;target.text=Number(start).toFixed(2).toString();target.value=start;var dif=end-start;var step1=dif/10;var step2=dif/100;var end1=end-step1;var end2=end;var currentValue=start;var step=void 0;var tween=createjs.Tween.get(target).call(function(){step=step1;}).to({value:end1},600).call(function(){step=step2;}).to({value:end2},1000,createjs.Ease.getPowOut(2)).call(function(){target.text=Number(end).toFixed(2).toString();}).addEventListener("change",function(){if(target.value-currentValue>step){currentValue=target.value;target.text=Number(target.value).toFixed(2).toString();target.x=_this2.getGameContainer().width/2-target.getBounds().width/2;}});}},{key:"hideBigWin",value:function hideBigWin(){if(!this.ready){return;}
if(this.bigWins){for(var i=0;i<this.bigWins.length;i++){delete this.bigWins[i];}}
delete this.bigWins;delete this.labelContainer;delete this.winValue;this.bigWinPromise=null;}},{key:"stopBigWinAnimation",value:function stopBigWinAnimation(resolveMain){if(this.activeBigWin===true){this.hideBigWin(resolveMain);this.activeBigWin=false;}}}]);return WinCommonViewHandler;}(_ViewCanvasHandlerEs2.default);exports.default=WinCommonViewHandler;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ControllerEs=__webpack_require__(6);var _ControllerEs2=_interopRequireDefault(_ControllerEs);var _audioConditionsEs=__webpack_require__(71);var _audioConditionsEs2=_interopRequireDefault(_audioConditionsEs);var _config=__webpack_require__(143);var _config2=_interopRequireDefault(_config);var _volumes=__webpack_require__(144);var _volumes2=_interopRequireDefault(_volumes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var AudioController=function(_Controller){_inherits(AudioController,_Controller);function AudioController(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,AudioController);var _this=_possibleConstructorReturn(this,(AudioController.__proto__||Object.getPrototypeOf(AudioController)).call(this,data));createjs.Sound.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin]);_this._backgroundPlay=[];_this._backgroundOut=false;_this._tryPlayBgSound=50;_this._tryPlayBgSoundCounter=0;_this._prewLastSound=null;_this._promiseBackground=[];_this._promiseBgInt=null;_this.getService("SoundService").setVolumeAudio(_volumes2.default);return _this;}
_createClass(AudioController,[{key:"playLineCombination",value:function playLineCombination(winLine,hasWild,resolve){var _this2=this;var volume=arguments.length<=3||arguments[3]===undefined?0.4:arguments[3];if(hasWild){this.playWildCombination(resolve,volume);return null;}
this.backgroundSoundFadeOut();var condition=new _audioConditionsEs2.default(_config2.default.combinations,[winLine.amount,winLine.line,winLine.occurrences,winLine.symbol],{exec:"play",params:"amount,line,occurrences,symbol"});condition.setCallback("play",function(a,b){console.log('!!! FIND ',a,volume);var promises=[];a.forEach(function(sound){promises.push(_this2.getService("SoundService").playPromise(sound,_this2.alias,{volume:volume}));});Promise.all(promises).then(function(){resolve();});});condition.setCallback(ConditionInterface._DEFAULT,function(){console.log('!!! NO FIND ');resolve();});condition.execute();}},{key:"playMaxOfLineCombination",value:function playMaxOfLineCombination(winLines,hasWild,resolve){var max=0,keyMax=null;if(!(winLines instanceof Array)||winLines.length==0){resolve();return null;}
if(hasWild){this.playWildCombination(resolve);return null;}
winLines.forEach(function(data,i){if(data.amount>=max&&!data.trigger){max=data.amount;keyMax=i;}});if(keyMax===null){resolve();return;}
this.playLineCombination(winLines[keyMax],hasWild,resolve,0.5);}},{key:"playWildCombination",value:function playWildCombination(){var resolve=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var volume=arguments.length<=1||arguments[1]===undefined?0.4:arguments[1];this.backgroundSoundFadeOut();var promises=[];promises.push(this.getService("SoundService").playPromise("sound_7",this.alias,{volume:volume}));Promise.all(promises).then(function(){resolve();});}},{key:"playLineBonusCombination",value:function playLineBonusCombination(symbolID,resolve){var _this3=this;this.backgroundSoundFadeOut();var condition=new _audioConditionsEs2.default(_config2.default.combinations,[3,symbolID],{exec:"play",params:"occurrences,symbol"});condition.setCallback("play",function(a,b){var promises=[];a.forEach(function(sound){promises.push(_this3.getService("SoundService").playPromise(sound,_this3.alias));});Promise.all(promises).then(function(){resolve();});});condition.setCallback(ConditionInterface._DEFAULT,function(){resolve();});condition.execute();}},{key:"playSound",value:function playSound(name){var resolve=arguments.length<=1||arguments[1]===undefined?null:arguments[1];var volume=arguments.length<=2||arguments[2]===undefined?1:arguments[2];var loop=arguments.length<=3||arguments[3]===undefined?false:arguments[3];var _p=[];_p.push(this.getService("SoundService").playPromise(name,this.alias,{volume:volume,loop:loop}));Promise.all(_p).then(resolve);}},{key:"_changeBackgroundSound",value:function _changeBackgroundSound(){var _this4=this;var action=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(!this.getService("SoundService").isBackgroundLoaded()){this.getService("SoundService").backgroundLoadSubscribe=action;return null;}
var config={"spins":"mainform_track","freespins":"mainform_freespin","bonus":"mainform_bonus"};if(config[action]==undefined){return;}
var enableVolume=this.getService("SoundService").getGameSound();var dropNoUsed=function dropNoUsed(){if(_this4._backgroundPlay.length==0){return;}
var current=createjs.indexOf(_this4._backgroundPlay,getLastSound());_this4._backgroundPlay.forEach(function(el,re){if(re==current){return;}
el.setPaused(true);el.stop();_this4.getService("SoundService").removeInstance(el);setTimeout(function(){var index=createjs.indexOf(_this4._backgroundPlay,el);if(index>-1){_this4._backgroundPlay.splice(index,1);}},500);});};var getLastSound=function getLastSound(){if(_this4._backgroundPlay.length==0){return null;}
var current=_this4._backgroundPlay[_this4._backgroundPlay.length-1];if(current){return current;}
return null;};var last=getLastSound();if(last&&last._aliasName==config[action]){return;}
if(this._promiseBgInt!==null){clearTimeout(this._promiseBgInt);}
this._promiseBackground=[];var promise=new Promise(function(res,rej){_this4._prewLastSound=getLastSound();var background=_this4.getService("SoundService").play(config[action],"audio",{loop:true,volume:0});background.__name="audio_"+config[action];if(background&&background.playState=="playFailed"&&_this4._tryPlayBgSoundCounter<_this4._tryPlayBgSound){rej();return;}
_this4._backgroundPlay.push(background);res(background);});promise.catch(function(){_this4._promiseBgInt=setTimeout(function(){_this4.changeBackgroundSound();_this4._tryPlayBgSoundCounter++;},500);});this._promiseBackground.push(promise);Promise.all(this._promiseBackground).then(function(res){var _res=_slicedToArray(res,1);var audio=_res[0];if(_this4._prewLastSound){if(_this4._prewLastSound.__name==audio.__name){return null;}
_this4._promiseBackground.push(new Promise(function(res1,reg1){_this4.getService("SoundService").fadeSound(_this4._prewLastSound.__name,null,1000,res1,0);}));}
_this4._promiseBackground.push(new Promise(function(res2,reg2){_this4.getService("SoundService").fadeSound(audio.__name,null,600,res2,enableVolume?0.6:0);}));Promise.all(_this4._promiseBackground).then(function(res){_this4._prewLastSound=null;dropNoUsed();});}).catch(function(e){$_log.error(e);});}},{key:"changeBackgroundSound",value:function changeBackgroundSound(){var action=arguments.length<=0||arguments[0]===undefined?this.getService("ProtocolService").getCurrentAction():arguments[0];try{this._changeBackgroundSound(action);}catch(e){$_log.error("changeBackgroundSound",e);}}},{key:"backgroundSoundFadeIn",value:function backgroundSoundFadeIn(){var resolve=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(this.getService("SoundService").getGameSound()===false||this.getService("SoundService").getGameEffects()===false){return;}
this._backgroundOut=false;this.getService("SoundService").fadeGroup("background","in",1000,resolve);}},{key:"backgroundSoundFadeOut",value:function backgroundSoundFadeOut(){var resolve=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var volume=arguments.length<=1||arguments[1]===undefined?null:arguments[1];if(this.getService("SoundService").getGameSound()===false||this.getService("SoundService").getGameEffects()===false){return;}
this._backgroundOut=true;this.getService("SoundService").fadeGroup("background","out",200,resolve,volume);}}]);return AudioController;}(_ControllerEs2.default);exports.default=AudioController;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var config={"combinations":[{condition:"occurrences >= 3 && symbol == 1",exec:["play",["el_10","sound_1"]]},{condition:"occurrences >= 3 && symbol == 2",exec:["play",["el_J","sound_1"]]},{condition:"occurrences >= 3 && symbol == 3",exec:["play",["el_Q","sound_1"]]},{condition:"occurrences >= 3 && symbol == 4",exec:["play",["el_K","sound_2"]]},{condition:"occurrences >= 3 && symbol == 5",exec:["play",["el_A","sound_2"]]},{condition:"occurrences >= 3 && symbol == 6",exec:["play",["el_scorpion","sound_3"]]},{condition:"occurrences >= 3 && symbol == 7",exec:["play",["el_cobra","sound_4"]]},{condition:"occurrences >= 2 && symbol == 8",exec:["play",["el_black_cat","sound_5"]]},{condition:"occurrences >= 2 && symbol == 9",exec:["play",["el_Nefertiti","sound_6"]]},{condition:"occurrences >= 2 && symbol == 10",exec:["play",["el_wild_pharaon_silmple","sound_7"]]},{condition:"occurrences >= 2 && symbol == 11",exec:["play",["el_wild_pharaon_red","sound_8"]]},{condition:"occurrences >= 2 && symbol == 12",exec:["play",["el_wild_pharaon_gold","sound_9"]]},{condition:"occurrences >= 2 && symbol == 13",exec:["play",["el_scatter","sound_10"]]},{condition:"occurrences >= 2 && symbol == 14",exec:["play",["el_bonus","sound_11"]]}]};exports.default=config;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var volumes={"audio_mainform_bonus":0.4,"audio_options":0.2,"audio_button_all_onMouseOver":0.3,"audio_spin_mbet":0.3,"audio_auto_play":0.3,"audio_paytable_buttons_on_MouseOver":0.3,"audio_paytable_slide":0.5,"audio_quick_spin":0.3,"audio_reel_stop":0.35,"audio_line_onMouseOver":0.2,"audio_reel_rotate":1,"audio_freespin_numbers":0.5,"audio_hammer":1,"audio_sound_multiplier":1,"audio_cell_popup_over":1};exports.default=volumes;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _EventsEs=__webpack_require__(7);var _EventsEs2=_interopRequireDefault(_EventsEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var AudioEvents=function(_Event){_inherits(AudioEvents,_Event);function AudioEvents(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,AudioEvents);return _possibleConstructorReturn(this,(AudioEvents.__proto__||Object.getPrototypeOf(AudioEvents)).call(this,data));}
_createClass(AudioEvents,[{key:"run",value:function run(){this.setSubscriber('spinAction');}},{key:"spinActionEvent",value:function spinActionEvent(){$_signal.goTo("!audio.background.fadeIn");}}]);return AudioEvents;}(_EventsEs2.default);exports.default=AudioEvents;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ControllerEs=__webpack_require__(6);var _ControllerEs2=_interopRequireDefault(_ControllerEs);var _listEvents=__webpack_require__(147);var _listEvents2=_interopRequireDefault(_listEvents);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var ControlCommonController=function(_Controller){_inherits(ControlCommonController,_Controller);function ControlCommonController(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,ControlCommonController);var _this=_possibleConstructorReturn(this,(ControlCommonController.__proto__||Object.getPrototypeOf(ControlCommonController)).call(this,data));_this.autoPlayRange=[0,10,25,50,100,200,500,1000,-2];_this.getService("AutoPlayService").setAutoPlayRange(_this.autoPlayRange);_this.lastCountFreeSpins=0;return _this;}
_createClass(ControlCommonController,[{key:"maxBetButtonClickAction",value:function maxBetButtonClickAction(){}},{key:"autoPlayButtonClickAction",value:function autoPlayButtonClickAction(){}},{key:"isPositiveBalance",value:function isPositiveBalance(){var balance=this.getService("ProtocolService").getCurrentBalance();var bet=this.getService("BetService").getCurrentValue();var lines=this.getService("LinesService").getCurrentValue();var min_bet=array_min(this.getService("BetService").getBetRange());var min_lines=array_min(this.getService("LinesService").getLinesRange());if(this.getService("ProtocolService").hasFreeBets()){return true;}
if(balance<parseFloat(Number(min_bet/100)*min_lines).toPrecision(2)){this.getService("PopupService").addInfoPopup("funds_exceed",{message:$_t.get("FUNDS_EXCEED")});return false;}
if(balance<parseFloat(Number(bet/100*lines).toPrecision(2))){this.getService("PopupService").addInfoPopup("bet_exceed",{message:$_t.get("BET_EXCEED")});$_signal.goTo("!settings.toolbar.fastMessage","bet_exceed_fast_message");return false;}
return true;}},{key:"spinButtonClickAction",value:function spinButtonClickAction(){if(HelperFlags.get("noSpin")===true){return;}
if(this.getService("ProtocolService").getNextAction()!=="spin"&&$_signal_history.getLast().alias!="protocol.spins.init"){return;}
if($_signal_history.find("protocol.freebets.reload")>=0&&$_signal_history.find("control.freebets.hide")==-1){return;}
var slotMachine=this.getService("SlotMachineService").getInstance();if(slotMachine.isEnableQuickMode()){this.getHandler().disabledSpinButton();}
if(slotMachine.isRunning()){this.stopSpinAction();this.getHandler().disabledSpinButton();}else{this.spinAction();}}},{key:"spinAction",value:function spinAction(){if(!this.isPositiveBalance()){if(this.getService("AutoPlayService").isActive()){this.getService("AutoPlayService").stopAutoSpins();}
return;}
$_event.setEvent(_listEvents2.default.RoundStart);}},{key:"stopSpinAction",value:function stopSpinAction(){var slotMachine=this.getService("SlotMachineService").getInstance();slotMachine.needFastStop();}},{key:"enableQuickMode",value:function enableQuickMode(){}},{key:"disableQuickMode",value:function disableQuickMode(){}},{key:"showStartFreeSpins",value:function showStartFreeSpins(){if(this.getService("ProtocolService").getNextAction()=="freespin_stop"){$_signal.goTo("protocol.freespin_stops.init");}else{if(this.getService("AutoPlayService").isActive()&&this.getService("AutoPlayService").isStopOnFreeGameEnabled()){this.getService("AutoPlayService").stopAutoSpins();}
this.getService("PopupService").addGamePopup("freespin",{"states":[["popup.popups.freeSpinStart"]]},this.getService("FreeSpinService").getFreeSpinLeft());this.getService("PopupService").addWaitGamePopup("freespin",2);}
this.lastCountFreeSpins=this.getService("FreeSpinService").getFreeSpinLeft();}},{key:"showAdditionalFreeSpins",value:function showAdditionalFreeSpins(count){this.getService("PopupService").addGamePopup("freespin",{"states":[["popup.popups.freeSpinAdd"]]},count);}},{key:"showEndFreeSpins",value:function showEndFreeSpins(){var state=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];this.getService("PopupService").addGamePopup("freespin",{"states":[["popup.popups.freeSpinFinish"]]},this.getService("FreeSpinService").getTotalWin(),state);this.getService("PopupService").addWaitGamePopup("freespin",2);this.lastCountFreeSpins=0;}},{key:"detectAutoSpins",value:function detectAutoSpins(){if(this.getService("AutoPlayService").isActive()){$_event.setEvent(_listEvents2.default.RoundStart);}}},{key:"detectFreeSpins",value:function detectFreeSpins(){if(["freespins"].indexOf(this.getService("ProtocolService").getCurrentAction())>-1){var addFreeSpins=this.getService("FreeSpinService").getAdditionalFreeSpins();if(addFreeSpins!==false){this.getService("PopupService").addGamePopup("addFreeSpins",{states:[["popup.popups.freeSpinAdd",addFreeSpins]]});}else{setTimeout(function(){$_signal.goTo('control.freespins.play');},300);}}
if(["freespins_stop"].indexOf(this.getService("ProtocolService").getCurrentAction())>-1){this.getService("GameActionService").next();}}},{key:"playAutoSpins",value:function playAutoSpins(){var _this2=this;var resolve=arguments.length<=0||arguments[0]===undefined?function(){}:arguments[0];if(this.getService("AutoPlayService").isActive()){if(!this.isPositiveBalance()){this.getService("AutoPlayService").stopAutoSpins();$_signal.goTo("control.autoSpins.stopAutoSpins");return;}
var nextSpin=this.getService("AutoPlayService").nextSpin();if(nextSpin>=0||nextSpin===-2){setTimeout(function(){$_event.setEvent(_listEvents2.default.RoundStart);resolve();},300);}else if(nextSpin===-1){this.getService("PopupService").addGamePopup("autoSpin",{states:[["popup.popups.autoSpinFinish"]]},{state:"control.autoSpins.stopAutoSpins",lastCount:this.getService("AutoPlayService").getLastStartValue(),retryFunc:function retryFunc(){_this2.getService("AutoPlayService").retryAutoSpins();$_event.setEvent(_listEvents2.default.RoundStart);}});setTimeout(function(){_this2.getHandler("popup").updateBlur(true);resolve();},20);}}else{this.getHandler().hideAutoPlayInterface();this.getHandler().enableAllButtons();this.getController().checkSpinButtonActive();this.getService("PopupService").removeGamePopup("autoPlay");}}},{key:"checkFreeSpinEnd",value:function checkFreeSpinEnd(){if(this.getService("FreeSpinService").getFreeSpinLeft()>0){var addFreeSpins=this.getService("FreeSpinService").getAdditionalFreeSpins();if(addFreeSpins!==false){this.getService("PopupService").addGamePopup("addFreeSpins",{states:[["popup.popups.freeSpinAdd",addFreeSpins]]});}else{setTimeout(function(){$_signal.goTo('control.freespins.play');},300);}}}},{key:"checkSpinEnd",value:function checkSpinEnd(){}}]);return ControlCommonController;}(_ControllerEs2.default);exports.default=ControlCommonController;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var StateEvents={};StateEvents.startSpinGame="stateStartSpinGame";StateEvents.startFreeSpinGame="stateStartFreeSpinGame";StateEvents.startBonusGame="stateStartBonusGame";StateEvents.RoundStart="spinAction";StateEvents.changeBet="stateChangeBet";StateEvents.changeBetEnd="stateChangeBetEnd";StateEvents.openMiniPaytable="stateOpenMiniPaytable";StateEvents.closeMiniPaytable="stateCloseMiniPaytable";StateEvents.openPayTable="stateOpenPayTable";StateEvents.closePayTable="stateClosePayTable";StateEvents.clickOk="stateClickOk";StateEvents.openAddedFreeSpins="stateOpenAddedFreeSpins";StateEvents.showInfoPopup="stateShowInfoPopup";StateEvents.showErrorPopup="stateShowErrorPopup";exports.default=StateEvents;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ControllerEs=__webpack_require__(6);var _ControllerEs2=_interopRequireDefault(_ControllerEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var PreloaderController=function(_Controller){_inherits(PreloaderController,_Controller);function PreloaderController(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,PreloaderController);var _this=_possibleConstructorReturn(this,(PreloaderController.__proto__||Object.getPrototypeOf(PreloaderController)).call(this,data));_this.fullscreenIOS=null;_this.fullscreenAndroid=null;_this.scrollable=["._scroll",".visibleZone"];_this.rows=null;_this._unscroll=null;_this._activeFullscreen=false;_this.is_chrome=navigator.userAgent.indexOf('CriOS')>-1;_this.is_explorer=navigator.userAgent.indexOf('MSIE')>-1;_this.is_firefox=navigator.userAgent.indexOf('Firefox')>-1;_this.is_safari=navigator.userAgent.indexOf("Safari")>-1;_this.is_opera=navigator.userAgent.toLowerCase().indexOf("op")>-1;if(_this.is_chrome&&_this.is_safari){_this.is_safari=false;}
if(_this.is_chrome&&_this.is_opera){_this.is_chrome=false;}
_this.isIPhone=window.navigator.userAgent&&window.navigator.userAgent.match(/iPhone/i)?true:false;_this.isIPad=window.navigator.userAgent&&window.navigator.userAgent.match(/iPad/i)?true:false;_this.isIOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;_this.isAndroid=window.navigator.userAgent&&window.navigator.userAgent.match(/Android/i)?true:false;_this.iOSVersion=_this.getiOSVersion();var nua=navigator.userAgent;_this.is_android_native=nua.indexOf('Mozilla/5.0')>-1&&nua.indexOf('Android ')>-1&&nua.indexOf('AppleWebKit')>-1&&!(nua.indexOf('Chrome')>-1)||nua.indexOf('SamsungBrowser')>-1;_this._readyLoad=0;_this.init(data);_this.keyStart=false;return _this;}
_createClass(PreloaderController,[{key:"getiOSVersion",value:function getiOSVersion(){var userOS;var userOSver;var ua=navigator.userAgent;var uaindex;if(ua.match(/iPad/i)||ua.match(/iPhone/i)){userOS='iOS';uaindex=ua.indexOf('OS ');}else{return false;}
if(userOS==='iOS'&&uaindex>-1){userOSver=ua.substr(uaindex+3,3).replace('_','.');}
return Number(userOSver);}},{key:"_runGameCheck",value:function _runGameCheck(isIOS){var _audio=function _audio(){$_audio_interface.play('reelrun','audio',false,0);$_audio_interface.stop('reelrun','audio');$_audio_interface.play('buttonPaytbl','audio',false,0);$_audio_interface.stop('buttonPaytbl','audio');};var yesBtn=document.getElementById('yesBtn'),noBtn=document.getElementById('noBtn');yesBtn.addEventListener('touchstart',onTouchStart);yesBtn.addEventListener('touchend',onTouchEnd);noBtn.addEventListener('touchstart',onTouchStart);noBtn.addEventListener('touchend',onTouchEnd);function onTouchStart(){if(AudioMaker.unlock()==false){_audio();}
yesBtn.removeEventListener('touchstart',onTouchStart);noBtn.removeEventListener('touchstart',onTouchStart);}
function onTouchEnd(){if(AudioMaker.unlock()==false){_audio();}
yesBtn.removeEventListener('touchend',onTouchEnd);noBtn.removeEventListener('touchend',onTouchEnd);}}},{key:"startEarlyLoading",value:function startEarlyLoading(){var _audioComponent=this.getInstCross("AudioViewHandler","audio");var yesBtn=document.getElementById('yesBtn'),noBtn=document.getElementById('noBtn');_audioComponent.frameReelsInit=function(){};$_event.setEvent('checkInitProtocol');HelperFlags.set('initProtocolChecked',true,'init');yesBtn.addEventListener(HelperKeyEvent.check('startEvent',true),onBtnClick);noBtn.addEventListener(HelperKeyEvent.check('startEvent',true),onBtnClick);$(document.body).addClass('sound-selection');function onBtnClick(){$(document.body).removeClass('sound-selection');_audioComponent.getContainerID(true).fadeOut();}}},{key:"endLoadAction",value:function endLoadAction(object){var self=this;this.startEarlyLoading();visibly.onVisible(function(){if(self.getFlagGlobal('paytableOpened')){return;}
$_event_blocked.setEvent(1);alert(1);});visibly.onHidden(function(){$_event_blocked.setEvent(0);alert(2);});FastClick.attach(document.body);this.setFlag("isIOS",this.isIOS);this.setFlag("iOSVersion",this.iOSVersion);if(this._activeFullscreen!==false){return null;}
this._activeFullscreen=true;if(this.isIOS===true){this._runGameCheck(true);this.fullscreenIOS.run(object,this);}else if(this.isAndroid===true){this._runGameCheck();this.fullscreenAndroid.run(object,this);}else{this.avaibleNoScroll();}
this.disableMultiClickEvents();}},{key:"avaibleNoScroll",value:function avaibleNoScroll(){}},{key:"unavalaibleNoScroll",value:function unavalaibleNoScroll(){$(document).undelegate('div','touchmove',_scrollEvent);}},{key:"disablePullToReload",value:function disablePullToReload(){var initialY=null,previousY=null;var blockScrollTop=function blockScrollTop(e){if(previousY&&previousY<e.touches[0].clientY){e.preventDefault();}else if(initialY>=e.touches[0].clientY){document.removeEventListener("touchmove",blockScrollTop);}
previousY=e.touches[0].clientY;};var blockScrollBottom=function blockScrollBottom(e){if(previousY&&previousY<e.touches[0].clientY){document.removeEventListener("touchmove",blockScrollBottom);}else if(initialY>=e.touches[0].clientY){e.preventDefault();}
previousY=e.touches[0].clientY;};var onTouchStartScroll=function onTouchStartScroll(e){previousY=initialY=e.touches[0].clientY;var _scroll=e.currentTarget;if(_scroll&&_scroll.scrollTop<=0){document.addEventListener("touchmove",blockScrollTop);}
if(_scroll&&_scroll.scrollTop>=_scroll.scrollHeight-_scroll.clientHeight){document.addEventListener("touchmove",blockScrollBottom);}};var onTouchEndScroll=function onTouchEndScroll(e){document.removeEventListener("touchmove",blockScrollTop);document.removeEventListener("touchmove",blockScrollBottom);};var scrollable=this.scrollable;for(var i=0;i<scrollable.length;i++){var targets=document.querySelectorAll(scrollable[i]);for(var j=0;j<targets.length;j++){targets[j].addEventListener("touchstart",onTouchStartScroll);targets[j].addEventListener("touchend",onTouchEndScroll);}}}},{key:"disableScroll",value:function disableScroll(exceptions){var onTouchMoveScroll=function onTouchMoveScroll(e){var $target=$(e.target);if(exceptions&&exceptions.length>0){if(typeof exceptions==="string"){if($target.closest(exceptions).length){return;}}else if(exceptions instanceof Array){for(var i=0;i<exceptions.length;i++){if($target.closest(exceptions[i]).length){return;}}}}
e.preventDefault();};document.addEventListener("touchmove",onTouchMoveScroll);}},{key:"disableMultiClickEvents",value:function disableMultiClickEvents(){var scrollable=this.scrollable;var overlay=$('<div id="overlay"/>');$('body').append(overlay);var disableEvents=$.debounce(300,true,function(e){if($(e.target).closest('.allowMultiClick').length){return;}
for(var i=0;i<scrollable.length;i++){if($(e.target).closest(scrollable[i]).length){return;}}
overlay.css('display','block');});var enableEvents=$.debounce(350,function(e){overlay.css('display','none');});document.addEventListener("touchstart",disableEvents,false);document.addEventListener("touchstart",enableEvents,true);}},{key:"readyInc",value:function readyInc(){var _this2=this;this._readyLoad++;if(this._readyLoad==2){try{this.getState().nextState();}catch(e){setTimeout(function(){$_log.error("Try run StateMachine");_this2.getState().nextState();},20);}}}}]);return PreloaderController;}(_ControllerEs2.default);exports.default=PreloaderController;;},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _EventsEs=__webpack_require__(7);var _EventsEs2=_interopRequireDefault(_EventsEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var PreloaderInitEvent=function(_Events){_inherits(PreloaderInitEvent,_Events);function PreloaderInitEvent(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,PreloaderInitEvent);var _this=_possibleConstructorReturn(this,(PreloaderInitEvent.__proto__||Object.getPrototypeOf(PreloaderInitEvent)).call(this,data));_this._preloaderImageLoad=false;_this.init(data);return _this;}
_createClass(PreloaderInitEvent,[{key:'run',value:function run(){this.setSubscriber('preloaderFinishedLoading');this.setSubscriber('loadingProcess');this.setSubscriber('mainFinishedLoading');}},{key:'preloaderFinishedLoadingEvent',value:function preloaderFinishedLoadingEvent(){this.setEvent("init",null);$_stateMachine.goToState("STATE_LOADING");this._preloaderImageLoad=true;}},{key:'loadingProcessEvent',value:function loadingProcessEvent(percent){if(this._preloaderImageLoad===false){return false;}
this.getHandler().progressHandler(percent);}},{key:'mainFinishedLoadingEvent',value:function mainFinishedLoadingEvent(){$_signal.goTo("protocol.checkInit");this.setEvent('showAudioQuestion',null);}}]);return PreloaderInitEvent;}(_EventsEs2.default);exports.default=PreloaderInitEvent;;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ViewCanvasHandlerEs=__webpack_require__(82);var _ViewCanvasHandlerEs2=_interopRequireDefault(_ViewCanvasHandlerEs);var _config=__webpack_require__(151);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var PreloaderCommonViewHandler=function(_ViewCanvasHandler){_inherits(PreloaderCommonViewHandler,_ViewCanvasHandler);function PreloaderCommonViewHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,PreloaderCommonViewHandler);var _this=_possibleConstructorReturn(this,(PreloaderCommonViewHandler.__proto__||Object.getPrototypeOf(PreloaderCommonViewHandler)).call(this,data));_this.init(data);_this.preloaderImage=null;_this.progressBar=null;_this._prevProgress=0;return _this;}
_createClass(PreloaderCommonViewHandler,[{key:"initHandler",value:function initHandler(){var _this2=this;this.initLayout(_config2.default);this.initChildren(_config2.default.children);this.mainLoaded=false;if(this.getService("PopupService").hasCritError()){this.getLayout().visible=false;}
var logoCompany=this.querySelector("logoCompany");var logoGame=this.querySelector("logoGame");var tweenID=this.startTweenTarget(logoCompany);logoCompany.play();logoCompany.addEventListener("animationend",function(){logoCompany.gotoAndStop(11);createjs.Tween.get(logoCompany).to({alpha:0},600).call(function(){_this2.endTween(tweenID);logoCompany.visible=false;logoCompany.alpha=1;logoGame.alpha=0;logoGame.visible=true;var tweenID=_this2.startTweenTarget(logoGame);createjs.Tween.get(logoGame).to({alpha:1},600).call(function(){_this2.endTween(tweenID);_this2.requestUpdateTarget(logoGame);});});});}},{key:"progressHandler",value:function progressHandler(progress){if(this.mainLoaded){return;}
if(this.getService("PopupService").hasCritError()){this.getLayout().visible=false;}
var loadingText=this.querySelector("loadingText");loadingText.setText(progress+"%");this.requestUpdateTarget(loadingText);var progressbar=this.querySelector("progressbar");var mask=new createjs.Shape();mask.graphics.drawRect(progressbar.x,progressbar.y,progressbar.width/100*progress,progressbar.height);progressbar.mask=mask;this.requestUpdateTarget(progressbar);if(progress===100&&!this.mainLoaded){this.mainLoaded=true;}}},{key:"hide",value:function hide(){var _this3=this;var layout=this.getLayout();layout.cache(0,0,layout.width,layout.height);var tweenID=this.startTween();var stage=this.getStage();setTimeout(function(){createjs.Tween.get(layout,{ignoreGlobalPause:true}).to({alpha:0,visible:false},300).call(function(){layout.visible=false;_this3.endTween(tweenID);var stage=_this3.getStage();stage.removeChild(layout);stage.requestUpdate();}).addEventListener("change",function(){layout.updateCache();stage.requestUpdate();});},300);}}]);return PreloaderCommonViewHandler;}(_ViewCanvasHandlerEs2.default);exports.default=PreloaderCommonViewHandler;;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var config={"layerSizeType":"overLayer",zIndex:100,"children":{"main":{type:"Container",backgroundColor:"#000",width:"100%",height:"100%",children:{logoCompany:{type:"Sprite",framerate:30,align:"center",top:"40%",spriteSheet:{images:["logo"],frames:{width:254,height:60,count:12,framerate:10},animations:{last:39}}},logoGame:{type:"Container",align:"center",verticalAlign:"middle",height:530,visible:false,children:{"preloaderImage":{"type":"Bitmap","src":"loader"},"loadingText":{type:"Text",text:"30%",font:"bold 23px Arial",color:"#9cdfb6",left:"50%",textAlign:"center",textBaseline:"bottom",bottom:25,visible:false},"progressContainer":{type:"Container",left:305,bottom:19,width:500,height:30,children:{"progressbarBackground":{type:"Bitmap",src:"progressbar_background"},"progressbar":{type:"Bitmap",src:"progressbar",top:4}}}}}}}}};exports.default=config;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _stateInterfaceEs=__webpack_require__(76);var _stateInterfaceEs2=_interopRequireDefault(_stateInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var StateLoading=function(_StateInterface){_inherits(StateLoading,_StateInterface);function StateLoading(){_classCallCheck(this,StateLoading);var _this=_possibleConstructorReturn(this,(StateLoading.__proto__||Object.getPrototypeOf(StateLoading)).call(this));_this.on(_stateInterfaceEs2.default.ENTER_STATE_TRANSITION,_this.showPanel);_this.on(_stateInterfaceEs2.default.LEAVE_STATE_TRANSITION,_this.hidePanel);return _this;}
_createClass(StateLoading,[{key:"showPanel",value:function showPanel(resolve,reject){this.getHandler().initHandler();this.getHandler("popup").initHandler();this.getController("popup").initController();resolve();}},{key:"execute",value:function execute(resolve,reject){resolve();}},{key:"hidePanel",value:function hidePanel(resolve,reject){this.getHandler().hide();resolve();}}]);return StateLoading;}(_stateInterfaceEs2.default);exports.default=StateLoading;},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _EventsEs=__webpack_require__(7);var _EventsEs2=_interopRequireDefault(_EventsEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var InitReels=function(_Events){_inherits(InitReels,_Events);function InitReels(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,InitReels);var _this=_possibleConstructorReturn(this,(InitReels.__proto__||Object.getPrototypeOf(InitReels)).call(this,data));_this._handler=null;_this._scatter=null;_this.init(data);return _this;}
_createClass(InitReels,[{key:'run',value:function run(){this.setSubscriber('readyToSpin');this.setSubscriber('stopSpinAction');this.setSubscriber('spinResult');this.setSubscriber('setToSlotMachineWinSymbols');this.setSubscriber('fastStop');this.setSubscriber('setToSlotMachineBonusSymbols');this.setSubscriber('setScatter');this.setSubscriber('stopAnimation');this.setSubscriber('reelStopped');this.setSubscriber('endCallbackAnimationReels');this._handler=this.getInst('ReelHandler');}},{key:'initGameEvent',value:function initGameEvent(){}},{key:'readyToSpinEvent',value:function readyToSpinEvent(data){}},{key:'spinActionEvent',value:function spinActionEvent(){}},{key:'fastStopEvent',value:function fastStopEvent(){}},{key:'stopSpinActionEvent',value:function stopSpinActionEvent(){}},{key:'endAnimationReelsEvent',value:function endAnimationReelsEvent(data){}},{key:'spinResultEvent',value:function spinResultEvent(data){}},{key:'setToSlotMachineWinSymbolsEvent',value:function setToSlotMachineWinSymbolsEvent(list,countWin){this._handler.setWinElements(list,countWin);}},{key:'setScatterEvent',value:function setScatterEvent(scatterID){if(scatterID!==this._scatter){this._scatter=scatterID;}}},{key:'setToSlotMachineBonusSymbolsEvent',value:function setToSlotMachineBonusSymbolsEvent(data){}},{key:'stopAnimationEvent',value:function stopAnimationEvent(){}},{key:'endCallbackAnimationReelsEvent',value:function endCallbackAnimationReelsEvent(data){this.setEvent('endAnimationReels',data);}},{key:'reelStoppedEvent',value:function reelStoppedEvent(reelNumber){this._handler.stopAdditionalReelAnimation(reelNumber);}}]);return InitReels;}(_EventsEs2.default);exports.default=InitReels;;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ViewCanvasHandlerEs=__webpack_require__(82);var _ViewCanvasHandlerEs2=_interopRequireDefault(_ViewCanvasHandlerEs);var _slotMachineService=__webpack_require__(34);var _slotMachineService2=_interopRequireDefault(_slotMachineService);var _CoreEs=__webpack_require__(25);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var ReelHandler=function(_ViewCanvasHandler){_inherits(ReelHandler,_ViewCanvasHandler);function ReelHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var config=arguments.length<=1||arguments[1]===undefined?null:arguments[1];_classCallCheck(this,ReelHandler);var _this=_possibleConstructorReturn(this,(ReelHandler.__proto__||Object.getPrototypeOf(ReelHandler)).call(this,data));if(config===null){var _ret;return _ret=false,_possibleConstructorReturn(_this,_ret);}
_this.config=config;_this.slotMachineService=new _slotMachineService2.default();_this.columns=5;_this.rows=3;_this.reels=[];_this.elements={};_this._slotMachine=null;_this.init(data);_this.ready=false;_this.readyCallback=null;_this._overheadLineContainer=null;return _this;}
_createClass(ReelHandler,[{key:"initGameReels",value:function initGameReels(){var layout=this.initLayout(this.config);layout.visible=false;this.initChildren(this.config.children);this._slotMachine=this.getChildByName("slotMachine");this.updateReelsSets();this.ready=true;if(this.readyCallback!==null){this.readyCallback();}
if(this.config.reelAnimationsAtlasConfig){this.animationsSpriteSheet=new SpriteSheet(this.config.reelAnimationsAtlasConfig,this.alias);}}},{key:"initOverheadContainer",value:function initOverheadContainer(){this._overheadLineContainer=$_view_canvas.initLayout({width:960,height:540,top:0,left:0},"overheadLines");}},{key:"getOverheadContainer",value:function getOverheadContainer(){return this._overheadLineContainer;}},{key:"initTopLayout",value:function initTopLayout(){var topContainer={children:{top:{type:"Container",top:this.config.children.slotMachine.top,left:this.config.children.slotMachine.left,width:this.config.children.slotMachine.width,height:this.config.children.slotMachine.height}}};this.initLayout({zIndex:20},"top-reels");}},{key:"updateReelsSets",value:function updateReelsSets(){var slotMachine=this._slotMachine;var winLines=this.getService("LinesService").getWinLines();slotMachine.setSymbols(this.slotMachineService.getMatrix());var lastAction=this.getService("ProtocolService").getLastAction();var currentAction=this.getService("ProtocolService").getCurrentAction();var nextAction=this.getService("ProtocolService").getNextAction();var respinsAvailable=lastAction==="respin"||nextAction==="respin";var bigWildPositions=[];var winReels=[];var wildReels=[];for(var i=0;i<slotMachine.reels.length;i++){var reel=slotMachine.reels[i];for(var j=1;j<reel.elements.length-1;j++){if(reel.getElement(j).isWild()){wildReels[i]=j;}}}
for(var line in winLines){for(var r in winLines[line].positions){var _winLines$line$positi=_slicedToArray(winLines[line].positions[r],2);var col=_winLines$line$positi[0];var row=_winLines$line$positi[1];winReels[col]=true;}}
if(respinsAvailable){for(var _reel in wildReels){bigWildPositions.push({reel:_reel,row:wildReels[_reel]});}}else{for(var _reel2 in winReels){if(wildReels[_reel2]!==undefined){bigWildPositions.push({reel:_reel2,row:wildReels[_reel2]});}}}
for(var position in bigWildPositions){slotMachine.reels[bigWildPositions[position].reel].showStaticBigWild(bigWildPositions[position].row);}}},{key:"startReels",value:function startReels(){this._slotMachine.startReels();this.startAdditionalReelAnimation();}},{key:"generateRandomValues",value:function generateRandomValues(){var stopValues=[];for(var i=0;i<this._slotMachine.reels.length;i++){var reelValue=[];for(var j=0;j<this._slotMachine.reels[i].numChildren-2;j++){reelValue.push(Math.floor(Math.random()*this._slotMachine.config.defaultReel.numOfSymbols)+1);}
stopValues.push(reelValue);}
return stopValues;}},{key:"stopReels",value:function stopReels(){var _this2=this;var resolve=arguments.length<=0||arguments[0]===undefined?function(){}:arguments[0];this._slotMachine.stopReels(this.slotMachineService.getMatrix()).then(function(){_this2.stopAdditionalReelAnimation();resolve();});}},{key:"addNewReel",value:function addNewReel(){var _this3=this;var showNewReel=function showNewReel(){return new Promise(function(resolve,reject){var reelConfig={left:_this3._slotMachine.config.width,width:_this3._slotMachine.reels[0].width};_this3._slotMachine.addReel(reelConfig);var reel=_this3._slotMachine.reels[_this3._slotMachine.reels.length-1];var newX=_this3._slotMachine.getReelAutoX(_this3._slotMachine.reels.length-1);createjs.Tween.get(reel).to({x:newX},3000).call(function(){reel.start();setTimeout(resolve,500);});});};var offset=0;var promises=[];var _loop=function _loop(r){var reel=_this3._slotMachine.reels[r];var numOfReels=_this3._slotMachine.reels.length;var width=reel.width;promises.push(new Promise(function(resolve){createjs.Tween.get(reel).to({width:width*numOfReels/(numOfReels+1),x:reel.x-offset},3000).call(resolve);}));offset+=width/(numOfReels+1);};for(var r in this._slotMachine.reels){_loop(r);}
return Promise.all(promises).then(function(){return showNewReel();});}},{key:"fastStopReels",value:function fastStopReels(){var stopValues=arguments.length<=0||arguments[0]===undefined?this.generateRandomValues():arguments[0];this._slotMachine.fastStop(stopValues);}},{key:"showDefaultMask",value:function showDefaultMask(){var maskShape=new Shape();maskShape.graphics.drawRect(this._slotMachine.x,this._slotMachine.y,this._slotMachine.width,this._slotMachine.height);this._slotMachine.mask=maskShape;}},{key:"showFreeSpinMask",value:function showFreeSpinMask(){}},{key:"initDefaultBackground",value:function initDefaultBackground(){this.showDefaultMask();}},{key:"showFreeSpinBackground",value:function showFreeSpinBackground(){this.showFreeSpinMask();if(this.ready!==true){this.readyCallback=this.showFreeSpinBackground;}}},{key:"hideFreeSpinBackground",value:function hideFreeSpinBackground(){}},{key:"setWinElements",value:function setWinElements(){}},{key:"startRespinReels",value:function startRespinReels(){this.startReels();this._slotMachine.reels[1].setAnimation("freez");this._slotMachine.reels[3].setAnimation("freez");}},{key:"stopRespinReels",value:function stopRespinReels(){this._slotMachine.reels[1].setAnimation("standart");this._slotMachine.reels[3].setAnimation("standart");}},{key:"stopReelSound",value:function stopReelSound(){var number=arguments.length<=0||arguments[0]===undefined?0:arguments[0];if(!this.getService("SlotMachineService").getInstance().isEnableQuickMode()){this.getService("SoundService").play("audio_reel_stop",null,{"volume":0.6});}else if(number==4){this.getService("SoundService").play("audio_reel_short",null,{"volume":0.6});}}},{key:"startAdditionalReelAnimation",value:function startAdditionalReelAnimation(){if(!this.animationsSpriteSheet){return;}
this._tops=[];this._bottoms=[];for(var i=0;i<this._slotMachine.reels.length;i++){this._tops[i]=new _CoreEs.Sprite({spriteSheet:this.animationsSpriteSheet},this.alias);this._tops[i].gotoAndPlay("top_reels_animation");var numOfFrames=this.animationsSpriteSheet.getNumFrames(this._tops[i].currentAnimation);this._tops[i].currentAnimationFrame=Math.floor(Math.random()*numOfFrames);var el=this._slotMachine.reels[i].getElement(1);el.localToLocal(0,0,this.getLayout(),this._tops[i]);this._tops[i].y=101;this.getLayout().addChild(this._tops[i]);this._bottoms[i]=new _CoreEs.Sprite({spriteSheet:this.animationsSpriteSheet},this.alias);if(this.getFlagGlobal("freeSpinsEnabled")){this._bottoms[i].gotoAndPlay("freespins_reels_animation");this._bottoms[i].y=510;}else{this._bottoms[i].gotoAndPlay("main_reels_animation");this._bottoms[i].y=496;}
numOfFrames=this.animationsSpriteSheet.getNumFrames(this._bottoms[i].currentAnimation);this._bottoms[i].currentAnimationFrame=Math.floor(Math.random()*numOfFrames);el=this._slotMachine.reels[i].getElement(4);this._bottoms[i].x=el.localToLocal(0,0,this.getLayout()).x;this.getLayout().addChild(this._bottoms[i]);}}},{key:"stopAdditionalReelAnimation",value:function stopAdditionalReelAnimation(reelNumber){var _this4=this;if(this._tops&&this._tops[reelNumber]){createjs.Tween.get(this._tops[reelNumber]).to({alpha:0},150).call(function(){_this4.getLayout().removeChild(_this4._tops[reelNumber]);});}
if(this._bottoms&&this._bottoms[reelNumber]){createjs.Tween.get(this._bottoms[reelNumber]).to({alpha:0},150).call(function(){_this4.getLayout().removeChild(_this4._bottoms[reelNumber]);});}}},{key:"stopSpinReels",value:function stopSpinReels(resolve){var _this5=this;var matrix=this.slotMachineService.getMatrix();var slot=this.slotMachineService.getInstance();var freeZes=[0,0,0,0,0],eventsStart=[null,null,null,null,null],eventsEnd=[null,null,null,null,null],successively=true;var scaleSymbol=function scaleSymbol(element,id){var typeAnimation={13:{src:"scatterElementBlend",width:75,height:75,scaleX:2*1.5,scaleY:2*1.5},14:{src:"bonusElementBlend",width:80,height:80,scaleX:2*1.5,scaleY:2*1.5}};var el=element.clone(true);el.x=element.parent.x+element.parent.parent.x;el.y=element.y+element.parent.y+element.parent.parent.y;el.width=element._width;el.height=element._height;_this5.getOverheadContainer().addChild(el);var ghost=new Bitmap(typeAnimation[id],_this5.alias);ghost.x=el.x-(ghost.width*1.3-ghost.width)/2;ghost.y=el.y-(ghost.height*1.3-ghost.height)/2;ghost.compositeOperation="screen";ghost.alpha=0;_this5.getOverheadContainer().addChild(ghost);var _const={x:el.x,y:el.y,width:el.width,height:el.height};var scale=1.3;var _def={x:_const.x-(_const.width*scale-_const.width)/2,y:_const.y-(_const.height*scale-_const.height)/2};createjs.Tween.get(ghost,{loop:false}).to({alpha:1},1).to({scaleX:2,scaleY:2,x:_const.x-5,y:_const.y-5},300).to({alpha:0},400).call(function(){_this5.getOverheadContainer().removeChild(ghost);ghost=null;});createjs.Tween.get(el,{loop:false}).to({scaleX:scale,scaleY:scale,x:_def.x,y:_def.y},150).wait(50).to({scaleX:1,scaleY:1,x:_const.x,y:_const.y},100).call(function(){_this5.getOverheadContainer().removeChild(el);el=null;});};var redBlend=function redBlend(){var name=arguments.length<=0||arguments[0]===undefined?null:arguments[0];return new Bitmap({src:name,width:200,height:506},_this5.alias);};var findBonus=matrix[1].indexOf(14);if(findBonus>-1){(function(){freeZes=[0,1,0,1000,0];var conReel1=slot.reels[1];var btm1=redBlend("bonusBlendReel");conReel1.parent.addChild(btm1);btm1.y=-30;btm1.x=conReel1.x-30;btm1.alpha=0;btm1.compositeOperation="screen";eventsStart[1]=function(){if(slot.quickMode||slot.onceFastStop){return;}
createjs.Tween.get(btm1,{loop:false}).to({alpha:1},200).wait(100).to({alpha:0},150).call(function(){conReel1.parent.removeChild(btm1);});};eventsEnd[1]=function(){if(slot.quickMode||slot.onceFastStop){return;}
scaleSymbol(conReel1.elements[findBonus+1],14);};var conReel3=slot.reels[3];var btm3=redBlend("bonusBlendReel");conReel3.parent.addChild(btm3);btm3.y=-30;btm3.x=conReel3.x-30;btm3.alpha=0;btm3.compositeOperation="screen";eventsStart[3]=function(){if(slot.quickMode||slot.onceFastStop){return;}
conReel3.intrigueMode=true;createjs.Tween.get(btm3,{loop:false}).to({alpha:1},100);};eventsEnd[3]=function(){conReel3.intrigueMode=false;if(slot.quickMode||slot.onceFastStop){conReel3.parent.removeChild(btm3);}else{var find=matrix[3].indexOf(14);if(find>-1){scaleSymbol(conReel3.elements[find+1],14);}
createjs.Tween.get(btm3,{loop:false}).to({alpha:0},150).call(function(){conReel3.parent.removeChild(btm3);});}};successively=false;})();}
var findScatter=matrix[1].indexOf(13);if(findScatter>-1){(function(){freeZes=[0,1,1000,2000,0];if(matrix[2].indexOf(13)==-1){freeZes[3]=10;}
var conReel1=slot.reels[1];var btm1=redBlend("scatterBlendReel");conReel1.parent.addChild(btm1);btm1.y=-30;btm1.x=conReel1.x-25;btm1.alpha=0;btm1.compositeOperation="screen";eventsStart[1]=function(){if(slot.quickMode||slot.onceFastStop){return;}
createjs.Tween.get(btm1,{loop:false}).to({alpha:1},200).wait(100).to({alpha:0},150).call(function(){conReel1.parent.removeChild(btm1);});};eventsEnd[1]=function(){if(slot.quickMode||slot.onceFastStop){return;}
scaleSymbol(conReel1.elements[findScatter+1],13);};var btm2=redBlend("scatterBlendReel");var btm3=redBlend("scatterBlendReel");var conReel2=slot.reels[2];conReel2.parent.parent.addChild(btm2);btm2.y=conReel2.parent.y-30;btm2.x=conReel2.parent.x+conReel2.x-30;btm2.alpha=0;btm2.compositeOperation="screen";eventsStart[2]=function(){if(slot.quickMode||slot.onceFastStop){return;}
createjs.Tween.get(btm2,{loop:false}).to({alpha:1},300);};eventsEnd[2]=function(){if(slot.quickMode||slot.onceFastStop){conReel2.parent.parent.removeChild(btm2);}else{var find=matrix[2].indexOf(13);if(find>-1){scaleSymbol(conReel2.elements[find+1],13);}
createjs.Tween.get(btm2,{loop:false}).to({alpha:0},150).call(function(){conReel2.parent.parent.removeChild(btm2);});}};var conReel3=slot.reels[3];conReel3.parent.parent.addChild(btm3);btm3.y=conReel3.parent.y-30;btm3.x=conReel3.parent.x+conReel3.x-30;btm3.alpha=0;btm3.compositeOperation="screen";eventsStart[3]=function(){if(slot.quickMode||slot.onceFastStop){return;}
conReel3.intrigueMode=true;createjs.Tween.get(btm3,{loop:false}).to({alpha:1},300);};eventsEnd[3]=function(){conReel3.intrigueMode=false;if(slot.quickMode||slot.onceFastStop){conReel3.parent.parent.removeChild(btm3);}else{var find=matrix[3].indexOf(13);if(find>-1){scaleSymbol(conReel3.elements[find+1],13);}
createjs.Tween.get(btm3,{loop:false}).to({alpha:0},150).call(function(){conReel3.parent.parent.removeChild(btm3);});}};successively=false;})();}
this._slotMachine.stopReels(matrix,freeZes,eventsStart,[],eventsEnd).then(function(){_this5.stopAdditionalReelAnimation();resolve();});}},{key:"stopFreeSpinReels",value:function stopFreeSpinReels(resolve){var _this6=this;var getId=function getId(){var data=_this6.getService("ProtocolService").getCurrentReelsData("freespins");if(!data){return null;}
return data.wildId;};var matrix=this.slotMachineService.getMatrix();var freeZes=[0,0,0,0,0],eventsStart=[null,null,null,null,null],eventsEnd=[null,null,null,null,null];var redBlend=function redBlend(){var id=getId();var ids={10:"X2",11:"X3",12:"X5"};return new Bitmap({src:id===null?"Wild_X2_BlendReel":"Wild_"+ids[id]+"_BlendReel",width:190,height:516},_this6.alias);};if(matrix[2].indexOf(10)>-1||matrix[2].indexOf(11)>-1||matrix[2].indexOf(12)>-1){(function(){freeZes=[0,0,1,0,0];var conReel3=_this6.slotMachineService.getInstance().reels[2];var btm3=redBlend();conReel3.parent.parent.parent.addChild(btm3);btm3.y=35;btm3.x=conReel3.parent.x+conReel3.x-27;btm3.alpha=0;btm3.compositeOperation="screen";if(_this6.slotMachineService.getInstance().quickMode){createjs.Tween.get(btm3,{loop:false}).to({alpha:0.8},170);}else{createjs.Tween.get(btm3,{loop:false}).to({alpha:1},200);}
eventsEnd[2]=function(){if(_this6.slotMachineService.getInstance().quickMode){createjs.Tween.get(btm3,{loop:false}).to({alpha:0},500).call(function(){conReel3.parent.parent.parent.removeChild(btm3);});}else{createjs.Tween.get(btm3,{loop:false}).to({alpha:0},300).call(function(){conReel3.parent.parent.parent.removeChild(btm3);});}};})();}
this._slotMachine.stopReels(matrix,freeZes,eventsStart,[],eventsEnd).then(function(){_this6.stopAdditionalReelAnimation();resolve();});}}]);return ReelHandler;}(_ViewCanvasHandlerEs2.default);exports.default=ReelHandler;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _EventsEs=__webpack_require__(7);var _EventsEs2=_interopRequireDefault(_EventsEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var LinesEvent=function(_Events){_inherits(LinesEvent,_Events);function LinesEvent(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,LinesEvent);var _this=_possibleConstructorReturn(this,(LinesEvent.__proto__||Object.getPrototypeOf(LinesEvent)).call(this,data));_this.init(data);return _this;}
_createClass(LinesEvent,[{key:"run",value:function run(){this.handler=this.getHandler();this.setSubscriber('spinAction');}},{key:"initGameEvent",value:function initGameEvent(){}},{key:"spinActionEvent",value:function spinActionEvent(){this.handler.clearPlayStartTimer();}}]);return LinesEvent;}(_EventsEs2.default);exports.default=LinesEvent;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ViewCanvasHandlerEs=__webpack_require__(82);var _ViewCanvasHandlerEs2=_interopRequireDefault(_ViewCanvasHandlerEs);var _CoreEs=__webpack_require__(25);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var linesManager=void 0,fadeInterval=void 0,CONFIG={framerate:27,positionCrunch:{x:-10,y:-10}};var LinesViewHandler=function(_ViewCanvasHandler){_inherits(LinesViewHandler,_ViewCanvasHandler);function LinesViewHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var config=arguments.length<=1||arguments[1]===undefined?null:arguments[1];_classCallCheck(this,LinesViewHandler);var _this=_possibleConstructorReturn(this,(LinesViewHandler.__proto__||Object.getPrototypeOf(LinesViewHandler)).call(this,data));if(!config){var _ret;return _ret=false,_possibleConstructorReturn(_this,_ret);}
_this.config=config;_this.init(data);_this.actives=_this.preActives=false;_this.roundEnd=true;_this.lastLine=null;_this.overSymbols=[];_this.subscribeArrayEnded=[];_this._startTimer=null;_this.promiseResolve=function(){};_this.promiseAllResolve=function(){};_this._isBigWild=null;return _this;}
_createClass(LinesViewHandler,[{key:"initHandler",value:function initHandler(){this.initLayout(this.config);this.getLayout().visible=false;this.initChildren(this.config.children);linesManager=this.querySelector("linesManager");var pt=this.getLayout().localToGlobal(linesManager.x,linesManager.y);this.rect=new createjs.Rectangle(pt.x,pt.y,linesManager.width,linesManager.height);var slotMachine=this.getService("SlotMachineService").getInstance();this.tweens=[];for(var i=0;i<slotMachine.reels.length;i++){this.tweens[i]=[];}
this.initLabelHandlers();this.hideAllLines();}},{key:"playStartWinLines",value:function playStartWinLines(){var _this2=this;var currentAction=this.getService("ProtocolService").getCurrentAction();var lastAction=this.getService("ProtocolService").getLastAction();var nextAction=this.getService("ProtocolService").getNextAction();var slotMachine=this.getService("SlotMachineService").getInstance();var numOfActiveLines=this.getService("LinesService").getCurrentValue();this.checkBetLinesShow();if(currentAction==="spins"){if(this.getService("LinesService").getWinLines().length>0){this.stopSpinAction();}else{for(var i=1;i<=numOfActiveLines;i++){linesManager.showLine(i);}
this._startTimer=setTimeout(function(){_this2.hideAllLines();_this2.getService("GameActionService").next();},2000);}}else if(currentAction==="freespins"){}else if(currentAction==="respins"){}}},{key:"showStartLines",value:function showStartLines(){var _this3=this;var resolve=arguments.length<=0||arguments[0]===undefined?function(){}:arguments[0];this._startShowLinesResolve=resolve;linesManager.disableMouseOverForLabels();var numOfActiveLines=this.getService("LinesService").getCurrentValue();for(var i=1;i<=numOfActiveLines;i++){linesManager.showLine(i);}
this._startTimer=setTimeout(function(){_this3.hideAllLines();linesManager.enableMouseOverForLabels();resolve();},2000);}},{key:"clearPlayStartTimer",value:function clearPlayStartTimer(){if(this._startShowLinesResolve){if(this._startTimer){clearTimeout(this._startTimer);}
this.hideAllLines();this._startShowLinesResolve();this._startShowLinesResolve=undefined;}}},{key:"initLabelHandlers",value:function initLabelHandlers(){var _this4=this;linesManager=this.querySelector("linesManager");var addHandler=function addHandler(line,label){label.cursor="pointer";label.addEventListener("rollover",function(){if(!line.disabledMouseLabels){line.showLine();line.showOverLabel();_this4.requestUpdate();_this4.getService("SoundService").play("audio_line_onMouseOver");}});label.addEventListener("rollout",function(){if(!line.disabledMouseLabels){line.hideLine();line.showStandardLabel();_this4.requestUpdate();}});};for(var line in linesManager.lines){var l=linesManager.lines[line];if(l.rightLabel){addHandler(l,l.rightLabel);}
if(l.leftLabel){addHandler(l,l.leftLabel);}}}},{key:"showWinLineAmount",value:function showWinLineAmount(winLine){if(winLine.amount<=0){return;}
var showOnReel=2;var slotMachine=this.getService("SlotMachineService").getInstance();var winLineAmount=this.querySelector("winLineAmount");var valueText=winLineAmount.getChildByName("value");var background=winLineAmount.getChildByName("background");valueText.text=Number(winLine.amount/100).toFixed(2);winLineAmount.visible=true;background.visible=true;var rect=valueText.getBounds();valueText.x=winLineAmount.width/2-rect.width/2*valueText.scaleX;valueText.y=winLineAmount.height/2-rect.height/2*valueText.scaleY;var showOnRow=void 0;for(var pos in winLine.positions){var _winLine$positions$po=_slicedToArray(winLine.positions[pos],2);var reel=_winLine$positions$po[0];var row=_winLine$positions$po[1];if(reel===showOnReel){break;}}
if(showOnRow===undefined){showOnRow=winLine.positions[0][1]+1;showOnReel=winLine.positions[0][0];}
var el=slotMachine.reels[showOnReel].getElement(showOnRow);var pt=el.localToLocal(el.width/2,el.height,this.getLayout());winLineAmount.x=pt.x;winLineAmount.y=pt.y;winLineAmount.regX=winLineAmount.width/2;winLineAmount.regY=winLineAmount.height/2;background.regX=background.width/2;background.regY=background.height/2;var time=90;createjs.Tween.get(winLineAmount,{override:true}).to({scaleX:1.3,scaleY:1.3},time).to({scaleX:0.8,scaleY:0.8},time).to({scaleX:1.1,scaleY:1.1},time).to({scaleX:0.95,scaleY:0.95},time).to({scaleX:1,scaleY:1},time).wait(900).to({scaleX:1.3,scaleY:1.3},time).to({scaleX:0.8,scaleY:0.8},time).to({scaleX:1.1,scaleY:1.1},time).to({scaleX:0.95,scaleY:0.95},time).to({scaleX:1,scaleY:1},time);}},{key:"hideWinLineAmount",value:function hideWinLineAmount(){var winLineAmount=this.querySelector("winLineAmount");winLineAmount.visible=false;}},{key:"showWinLine",value:function showWinLine(data){var _this5=this;var slotMachine=this.getService("SlotMachineService").getInstance();var _data=_slicedToArray(data,2);var winLine=_data[0];var needSound=_data[1];var soundPromise=new Promise(function(resolve,reject){if(winLine&&winLine.trigger){needSound=true;}
if(needSound){$_signal.goTo("!audio.lineAudio.one",winLine,_this5._isBigWild,resolve);}else{$_signal.goTo("!audio.background.fadeIn");_this5.getService("SoundService").stop("audio_el_wild_cycle_",null);resolve();}});if(winLine&&winLine.line!==undefined){linesManager.showWinLine(winLine.line);}
if(HelperFlags.get("justStarted")==null){this.showWinLineAmount(winLine);}
this.requestUpdate();var animatedSymbols=[];for(var i=0;i<slotMachine.reels.length;i++){animatedSymbols[i]=[];for(var j=0;j<slotMachine.reels[i].elements.length;j++){animatedSymbols[i][j]=false;}}
for(var _j in winLine.positions){var _winLine$positions$_j=_slicedToArray(winLine.positions[_j],2);var col=_winLine$positions$_j[0];var row=_winLine$positions$_j[1];animatedSymbols[col][row+1]=true;}
return Promise.all([soundPromise,this.showAnimatedSymbols(animatedSymbols)]);}},{key:"showNextWinLine",value:function showNextWinLine(){var _this6=this;var soundOneLine=arguments.length<=0||arguments[0]===undefined?false:arguments[0];if(this.spinAction||false&&this.quickStop){return;}
var data=this.getService("LinesService").getNextLine(HelperFlags.get("justStarted")?LinesService.TYPE_SORT_START_TRIGGER:LinesService.TYPE_SORT_MIN_MAX);if(data[0]){this.currentWinLine=data;this.showWinLine([data[0],soundOneLine]).then(function(){_this6.hideAllAnimations();if(_this6.spinAction){return;}
if(data[1]===true&&_this6.getService("LinesService").isUpdateCounter()===true){_this6.promiseResolve();_this6.promiseAllResolve();}else{_this6.showNextWinLine();}}).then(function(){_this6.getService("SoundService").stop("audio_el_wild_cycle_",null);$_signal.goTo("!audio.background.fadeIn");});}else{this.promiseAllResolve();this.promiseResolve();}}},{key:"showActiveLines",value:function showActiveLines(){var _this7=this;var numOfActiveLines=this.getService("LinesService").getCurrentValue();if(fadeInterval){clearInterval(fadeInterval);linesManager.hideAllLines();}
for(var i=1;i<=numOfActiveLines;i++){linesManager.showLine(i);}
this.requestUpdate();fadeInterval=setTimeout(function(){linesManager.hideAllLines();_this7.requestUpdate();},1000);}},{key:"interruptAnimations",value:function interruptAnimations(){if(!this.getService("FreeSpinService").isActive()){this.spinAction=true;this.hideAllAnimations();}}},{key:"hideAllWinLines",value:function hideAllWinLines(qs){linesManager.hideAllLines();this.hideAllAnimations();this.getService("SoundService").stop("audio_el_wild_cycle_",null);}},{key:"hideAllLines",value:function hideAllLines(){linesManager.hideAllLines();this.requestUpdate();}},{key:"hideAllAnimations",value:function hideAllAnimations(){var slotMachine=this.getService("SlotMachineService").getInstance();for(var i=0;i<slotMachine.reels.length;i++){for(var j=1;j<slotMachine.reels[i].elements.length-1;j++){slotMachine.setSymbolType(i,j,"def");}}
linesManager.hideAllLines();this.hideWinLineAmount();}},{key:"setTopLayoutSymbol",value:function setTopLayoutSymbol(overhead,element,parent){var _parent$localToLocal=parent.localToLocal(overhead._x,overhead._y,this.getLayout("reels"));var x=_parent$localToLocal.x;var y=_parent$localToLocal.y;var container=new _CoreEs.Container();container._x=x;container._y=y;overhead.addChild(container);container.children.push(element);return[container,element];}},{key:"showAnimatedSymbols",value:function showAnimatedSymbols(animatedSymbols){var _this8=this;var slotMachine=this.getService("SlotMachineService").getInstance();var promises=[];var overhead=this.getHandler("reels").getOverheadContainer();var _loop=function _loop(reel){var _loop2=function _loop2(row){if(animatedSymbols[reel][row]!==false){var promise=new Promise(function(resolve,reject){if(slotMachine.reels[reel].bigWild){resolve();return;}
if(slotMachine.fullAtlasLoaded!==true){setTimeout(resolve,2000);return;}
slotMachine.setSymbolType(reel,row,"short");if(slotMachine.fullAtlasLoaded===true){(function(){var symbol=slotMachine.reels[reel].getElement(row);var tweenID=_this8.startTweenTarget(symbol);_this8.tweens[reel][row]=tweenID;symbol.getContent().addEventListener("animationend",function(){_this8.endTween(tweenID);_this8.tweens[reel][row]=null;symbol.getContent().removeAllEventListeners("animationend");slotMachine.setSymbolType(reel,row,"def");resolve();});})();}else{setTimeout(resolve,2000);}});promises.push(promise);}else{slotMachine.setSymbolType(reel,row,"disable");}};for(var row=0;row<animatedSymbols[reel].length;row++){_loop2(row);}};for(var reel=0;reel<animatedSymbols.length;reel++){_loop(reel);}
return Promise.all(promises);}},{key:"showAllWinLines",value:function showAllWinLines(){var _this9=this;var winLines=this.getService("LinesService").getWinLines();var slotMachine=this.getService("SlotMachineService").getInstance();var promises=[];var animatedSymbols=[];for(var i=0;i<slotMachine.reels.length;i++){animatedSymbols[i]=[];for(var j=0;j<slotMachine.reels[i].elements.length;j++){animatedSymbols[i][j]=false;}}
var isTrigger=false;for(var line in winLines){if(winLines[line].trigger){isTrigger=true;}}
if(winLines.length===1&&isTrigger){return new Promise(function(resolve,reject){resolve();});}
var soundPromise=new Promise(function(resolve,reject){try{$_signal.goTo("!audio.lineAudio.max",winLines,_this9._isBigWild,resolve);}catch(e){reject();}});for(var _line in winLines){var winLine=winLines[_line];if(winLine.line!==undefined){linesManager.showWinLine(winLine.line);for(var r in winLine.positions){var _winLine$positions$r=_slicedToArray(winLine.positions[r],2);var col=_winLine$positions$r[0];var row=_winLine$positions$r[1];animatedSymbols[col][row+1]=true;}}
this.requestUpdate();}
return new Promise(function(resolve,reject){Promise.all([soundPromise,_this9.showAnimatedSymbols(animatedSymbols)]).then(function(){_this9.hideAllWinLines();_this9.checkAnimationEnded();_this9.requestUpdate();resolve();});});}},{key:"startSpinAction",value:function startSpinAction(){this.spinAction=true;if(!this.getService("ProtocolService").isAvailableReSpinGame()){this.putAllOverAnimationsToReel();}
this.hideAllLines();this.hideAllAnimations();linesManager.disableMouseOverForLabels();}},{key:"detectBigWild",value:function detectBigWild(){var slotMachine=this.getService("SlotMachineService").getInstance();var winLines=this.getService("LinesService").getWinLines();var respinsAvailable=this.getService("ProtocolService").isAvailableReSpinGame();var bigWildPositions=[];var winReels=[];var wildReels=[];for(var i=0;i<slotMachine.reels.length;i++){var reel=slotMachine.reels[i];for(var j=1;j<reel.elements.length-1;j++){if(reel.getElement(j).isWild()){wildReels[i]=j;}}}
for(var line in winLines){for(var r in winLines[line].positions){var _winLines$line$positi=_slicedToArray(winLines[line].positions[r],2);var col=_winLines$line$positi[0];var row=_winLines$line$positi[1];winReels[col]=true;}}
if(respinsAvailable){for(var _reel in wildReels){bigWildPositions.push({reel:_reel,row:wildReels[_reel]});}}else{for(var _reel2 in winReels){if(wildReels[_reel2]!==undefined){bigWildPositions.push({reel:_reel2,row:wildReels[_reel2]});}}}
if(bigWildPositions.length>0){this._isBigWild=true;return bigWildPositions;}else{return this._isBigWild=null;}}},{key:"bigWildAnimation",value:function bigWildAnimation(){var _this10=this;var slotMachine=this.getService("SlotMachineService").getInstance();var promises=[];var bigWildPositions=this.detectBigWild();if(bigWildPositions){if(bigWildPositions.length>1){$_signal.goTo("!settings.toolbar.fastMessage","fast_respin_win");}else{$_signal.goTo("!settings.toolbar.fastMessage","fast_win");}
promises.push(this.getService("SoundService").playPromise("audio_el_wild_center"));for(var position in bigWildPositions){promises.push(slotMachine.reels[bigWildPositions[position].reel].showBigWild(bigWildPositions[position].row));}
Promise.all(promises).then(function(){var prom=[];promises.push(_this10.getService("SoundService").playPromise("audio_el_wild_cycle_",null,{loop:true}));return Promise.all(prom);});}else if(this.getService("LinesService").getWinLines().length>0){$_signal.goTo("!settings.toolbar.fastMessage","fast_win");}
return Promise.all(promises);}},{key:"showTriggerLine",value:function showTriggerLine(){var _this11=this;var winLines=this.getService("LinesService").getWinLines();return new Promise(function(resolve,reject){if(winLines.length>0&&winLines[winLines.length-1].trigger!==undefined){_this11.showWinLine([winLines[winLines.length-1],true]).then(function(){_this11.hideAllWinLines();resolve();});}else{resolve();}});}},{key:"stopSpinAction",value:function stopSpinAction(res,rej){var _this12=this;var allRes=arguments.length<=2||arguments[2]===undefined?function(){}:arguments[2];this.promiseResolve=res;this.promiseAllResolve=allRes;this.spinAction=false;var winLines=this.getService("LinesService").getWinLines();if(HelperFlags.get("justStarted")){winLines=this.getService("LinesService").getWinStartTrigger();}
this.showFreezScatters();this.bigWildAnimation().then(function(){if(_this12.spinAction){return;}
if(_this12.getService("ProtocolService").isAvailableReSpinGame()){_this12.showAllWinLines().then(function(){_this12.promiseResolve();});return;}
if(winLines.length>0){var isTrigger=false;for(var line in winLines){if(winLines[line].trigger){isTrigger=true;}}
if(winLines.length>2&&isTrigger||winLines.length>1&&!isTrigger){_this12.showAllWinLines().then(function(){if(_this12.spinAction){return;}
if(_this12.getService("AutoPlayService").isActive()){_this12.promiseResolve();}else{_this12.showNextWinLine();}});}else{_this12.showNextWinLine(true);}
if(!isTrigger&&!_this12.getService("AutoPlayService").isActive()){_this12.promiseResolve();}}else{linesManager.enableMouseOverForLabels();_this12.checkAnimationEnded();_this12.promiseResolve();_this12.promiseAllResolve();}});}},{key:"stopAutoSpinAction",value:function stopAutoSpinAction(){var _this13=this;this.spinAction=false;this.showFreezScatters();this.bigWildAnimation().then(function(){if(_this13.spinAction){return;}
_this13.showAllWinLines().then(function(){if(_this13.spinAction){return;}
if(_this13.getService("AutoPlayService").isActive()){_this13.showTriggerLine().then(function(){_this13.checkAnimationEnded();_this13.getService("GameActionService").next();});}else{if(_this13.getService("ProtocolService").isAvailableReSpinGame()){_this13.checkAnimationEnded();_this13.getService("GameActionService").next();}else{_this13.showNextWinLine();}}});});}},{key:"stopFreeSpinsAction",value:function stopFreeSpinsAction(res,rej){var _this14=this;this.promiseResolve=res;this.spinAction=false;this.showFreezScatters();this.bigWildAnimation().then(function(){if(_this14.spinAction){return;}
_this14.showAllWinLines().then(function(){if(_this14.spinAction){return;}
_this14.showTriggerLine().then(function(){_this14.checkAnimationEnded();_this14.promiseResolve();});});});}},{key:"stopRespinAction",value:function stopRespinAction(){var _this15=this;this.spinAction=false;$_signal.goTo("!settings.toolbar.fastMessage","fast_respin_more_win");if(this.getService("ProtocolService").isAvailableFreeSpinsInit()||this.getService("FreeSpinService").isActive()&&this.getService("FreeSpinService").getAdditionalFreeSpins()){this.hideOverSymbols();}else{this.putAllOverAnimationsToReel();}
if(this.getService("ProtocolService").isAvailableFreeSpins()||this.getService("AutoPlayService").isActive()){this.showAllWinLines().then(function(){if(_this15.spinAction){return;}
_this15.showTriggerLine().then(function(){_this15.checkAnimationEnded();_this15.getService("GameActionService").next();});});}else{var winLines=this.getService("LinesService").getWinLines();if(winLines.length>0){var isTrigger=false;for(var line in winLines){if(winLines[line].trigger){isTrigger=true;}}
if(winLines.length>2&&isTrigger||winLines.length>1&&!isTrigger){this.showAllWinLines().then(function(){if(_this15.spinAction){return;}
_this15.showNextWinLine();});}else{this.showNextWinLine();}}else{linesManager.enableMouseOverForLabels();this.checkAnimationEnded();setTimeout(function(){_this15.checkAnimationEnded();_this15.getService("GameActionService").next();},300);}}}},{key:"showFreezScatters",value:function showFreezScatters(){var respinsAvailable=this.getService("ProtocolService").isAvailableReSpinGame();if(!respinsAvailable){return;}
var slotMachine=this.getService("SlotMachineService").getInstance();var spriteSheet=slotMachine.getSpriteSheet();for(var i=0;i<slotMachine.reels.length;i++){var reel=slotMachine.reels[i];for(var j=1;j<reel.elements.length-1;j++){if(reel.getElement(j).isScatter()){var scatter=new _CoreEs.Sprite({spriteSheet:spriteSheet},this.alias);scatter.scaleX=scatter.scaleY=this.config.freezScatterScale;scatter.framerate=CONFIG.framerate;scatter.gotoAndPlay("scatter_start");this.addOverAnimation(i,j,scatter,CONFIG.positionCrunch);this.showSymbolAnimationOverReels(i,j,reel.getElement(j).symbolNumber,"def");}}}}},{key:"hideOverSymbols",value:function hideOverSymbols(){for(var symbol in this.overSymbols){this.endTween(this.overSymbols[symbol].tweenID);this.getLayout().removeChild(this.overSymbols[symbol].symbol);}
this.overSymbols=[];}},{key:"putAllOverAnimationsToReel",value:function putAllOverAnimationsToReel(){for(var symbol in this.overSymbols){this.endTween(this.overSymbols[symbol].tweenID);this.getLayout().removeChild(this.overSymbols[symbol].symbol);this.putAnimationToReel(this.overSymbols[symbol].reel,this.overSymbols[symbol].row,this.overSymbols[symbol].symbol);}
this.overSymbols=[];}},{key:"putAnimationToReel",value:function putAnimationToReel(reel,row,sprite){var slotMachine=this.getService("SlotMachineService").getInstance();var el=slotMachine.reels[reel].getElement(row);this.getLayout().localToLocal(sprite.x,sprite.y,el,sprite);el.addChild(sprite);}},{key:"addOverAnimation",value:function addOverAnimation(reel,row,sprite){var positionCrunch=arguments.length<=3||arguments[3]===undefined?{x:0,y:0}:arguments[3];var slotMachine=this.getService("SlotMachineService").getInstance();var el=slotMachine.reels[reel].getElement(row);el.localToLocal(el.content.x+positionCrunch.x,el.content.y+positionCrunch.y,this.getLayout(),sprite);var tweenID=this.startTweenTarget(sprite);this.getLayout().addChild(sprite);this.overSymbols.push({symbol:sprite,tweenID:tweenID,reel:reel,row:row});}},{key:"showSymbolAnimationOverReels",value:function showSymbolAnimationOverReels(reel,row,symbolNumber,type){var slotMachine=this.getService("SlotMachineService").getInstance();var symbol=slotMachine.getSymbol(symbolNumber,type);this.addOverAnimation(reel,row,symbol);}},{key:"hideBigWild",value:function hideBigWild(){}},{key:"requestUpdate",value:function requestUpdate(){if(this.isCached()){this.updateCache();}
this.getStage().requestUpdate(this.rect,this.alias);}},{key:"startTween",value:function startTween(){return this.getStage().startTween(this.rect,this.alias);}},{key:"endTween",value:function endTween(id){this.getStage().endTween(id);}},{key:"subscribeEnded",value:function subscribeEnded(){var waitState=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(waitState&&this.subscribeArrayEnded.indexOf(waitState)==-1){this.subscribeArrayEnded.push(waitState);}}},{key:"checkAnimationEnded",value:function checkAnimationEnded(){if(this.subscribeArrayEnded.length>0){for(var i=0,l=this.subscribeArrayEnded.length;i<l;i++){$_signal.goTo(""+this.subscribeArrayEnded[i]);}
this.clearAnimationEnded();}}},{key:"clearAnimationEnded",value:function clearAnimationEnded(){this.subscribeArrayEnded=[];}},{key:"checkBetLinesShow",value:function checkBetLinesShow(){if(this.getService("LinesService").getWinLines().length>0){linesManager.disableMouseOverForLabels();}else{linesManager.enableMouseOverForLabels();}}},{key:"disableBetLinesShow",value:function disableBetLinesShow(){linesManager.disableMouseOverForLabels();}},{key:"enableBetLinesShow",value:function enableBetLinesShow(){linesManager.enableMouseOverForLabels();}}]);return LinesViewHandler;}(_ViewCanvasHandlerEs2.default);exports.default=LinesViewHandler;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _stateInterfaceEs=__webpack_require__(76);var _stateInterfaceEs2=_interopRequireDefault(_stateInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var SpinIntroState=function(_StateInterface){_inherits(SpinIntroState,_StateInterface);function SpinIntroState(){_classCallCheck(this,SpinIntroState);var _this=_possibleConstructorReturn(this,(SpinIntroState.__proto__||Object.getPrototypeOf(SpinIntroState)).call(this));_this.on(_stateInterfaceEs2.default.BEFORE_ENTER_STATE_TRANSITION,_this.enterTransition);return _this;}
_createClass(SpinIntroState,[{key:"_enterTransition",value:function _enterTransition(){var _this2=this;try{this.getHandler("background").showMainBackground();}catch(e){}
this.getHandler("reels").showLayout();this.getHandler("reels").initDefaultBackground();this.getHandler("reels").updateReelsSets();this.getHandler("lines").showLayout();this.getHandler("lines").checkBetLinesShow();this.getHandler("lines").checkAnimationEnded();this.getHandler("control").showMainGameControls();setTimeout(function(){_this2.getController("audio").changeBackgroundSound("spins");},50);this.getService("TickerTapeService").spinGameInfo(true);if(__RunPartialApplication.type=="mobile"){this.getHandler("control").changeWinValue();}}},{key:"enterTransition",value:function enterTransition(resolve,reject){var _this3=this;var accessEnterTransition=["START_ROUTER","STATE_BONUS_OUTRO","STATE_FREE_SPINS_OUTRO"];if(this.from.indexOf("START_ROUTER")!=-1){HelperFlags.set("justStarted",true);}else{HelperFlags.set("justStarted",null);}
if(this.stateMachine.router.restartGame==true){this._enterTransition();}
if(this.stateMachine.router.restartGame==false&&accessEnterTransition.indexOf(this.from)==-1){resolve();return;}
this._enterTransition();if(this.getStateComponent("FREEBETS").isActive()){this.getStateComponent("FREEBETS").showPopupStart();setTimeout(function(){_this3.getHandler("popup").updateBlur(true);},20);}
resolve();}},{key:"execute",value:function execute(resolve,reject){if(this.stateMachine.router.restartGame===true||this.from=="START_ROUTER"&&this.getService("LinesService").getWinStartTrigger().length>0){this.stateMachine.router.restartGame=false;this.goToState("STATE_SPINS_RESULT");resolve();}else{if(HelperFlags.get("justStarted")){this.getHandler("lines").showStartLines();}
this.nextState();resolve();}}}]);return SpinIntroState;}(_stateInterfaceEs2.default);exports.default=SpinIntroState;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _stateInterfaceEs=__webpack_require__(76);var _stateInterfaceEs2=_interopRequireDefault(_stateInterfaceEs);var _listEvents=__webpack_require__(147);var _listEvents2=_interopRequireDefault(_listEvents);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var SpinIdleState=function(_StateInterface){_inherits(SpinIdleState,_StateInterface);function SpinIdleState(){_classCallCheck(this,SpinIdleState);return _possibleConstructorReturn(this,(SpinIdleState.__proto__||Object.getPrototypeOf(SpinIdleState)).call(this));}
_createClass(SpinIdleState,[{key:"execute",value:function execute(resolve,reject){var _this2=this;this.getHandler("control").enableAllButtons();this.getController("control").checkSpinButtonActive();if(this.getService("AutoPlayService").isActive()){new Promise(function(res){_this2.getController("control").playAutoSpins(res);}).then(resolve);}else{resolve();}}}]);return SpinIdleState;}(_stateInterfaceEs2.default);exports.default=SpinIdleState;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _stateInterfaceEs=__webpack_require__(76);var _stateInterfaceEs2=_interopRequireDefault(_stateInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var SpinSpinningState=function(_StateInterface){_inherits(SpinSpinningState,_StateInterface);function SpinSpinningState(){_classCallCheck(this,SpinSpinningState);var _this=_possibleConstructorReturn(this,(SpinSpinningState.__proto__||Object.getPrototypeOf(SpinSpinningState)).call(this));_this.on(_stateInterfaceEs2.default.ENTER_STATE_TRANSITION,_this.startSpinning);_this.on(_stateInterfaceEs2.default.AFTER_EXECUTE_STATE,_this.showResult);return _this;}
_createClass(SpinSpinningState,[{key:"startSpinning",value:function startSpinning(resolve,reject){this.getHandler("control").disableAllButtons();this.getHandler("control").changeWinValue(null);this.getHandler("control").changeBalanceValueBeforeSpin();this.getHandler("lines").startSpinAction();if(this.getService("AutoPlayService").isActive()){this.getController("control").beforeStartAutoPlay();}
this.getHandler("settings").showFastToolbarMessage("fast_click_spin_message");this.getController("protocol").checkFreeBets(true);if(HelperFlags.get("justStarted")){HelperFlags.set("justStarted",null);}
resolve();}},{key:"execute",value:function execute(resolve,reject){var _this2=this;this.getHandler("reels").startReels();this.getHandler("lines").disableBetLinesShow();this.getService("SoundService").stopGroup("main");if(this.getService("AutoPlayService").isActive()){this.getService("SoundService").play("audio_freespin_numbers");}
this.getService("SoundService").play("audio_spin_mbet");this.getService("SoundService").play("audio_reel_rotate",null,{"loop":true});var promise=new Promise(function(res,rej){_this2.getController("protocol").sendData("spinSendAction",res,"spin");});promise.then(function(){_this2.getHandler("reels").stopSpinReels(resolve);});}},{key:"showResult",value:function showResult(resolve,reject){this.nextState();resolve();}}]);return SpinSpinningState;}(_stateInterfaceEs2.default);exports.default=SpinSpinningState;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _stateInterfaceEs=__webpack_require__(76);var _stateInterfaceEs2=_interopRequireDefault(_stateInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var SpinResultState=function(_StateInterface){_inherits(SpinResultState,_StateInterface);function SpinResultState(){_classCallCheck(this,SpinResultState);var _this=_possibleConstructorReturn(this,(SpinResultState.__proto__||Object.getPrototypeOf(SpinResultState)).call(this));_this.on(_stateInterfaceEs2.default.BEFORE_EXECUTE_STATE,_this._beforeExecute);_this.on(_stateInterfaceEs2.default.AFTER_EXECUTE_STATE,_this.leaveResult);_this.deleteFreeBets=false;return _this;}
_createClass(SpinResultState,[{key:"_beforeExecute",value:function _beforeExecute(resolve,reject){if(__RunPartialApplication.type=="mobile"&&["freespin_init","bonus_init"].indexOf(this.getController("protocol").actions.available[0])!=-1){this.getHandler("control").disableAllButtons();this.getHandler("control").hideHomeButton();}
resolve();}},{key:"execute",value:function execute(resolve,reject){var _this2=this;var promise=new Promise(function(res,rej){_this2.getController("win").checkBigWin(res);});this.getHandler("reels").setWinElements();this.getHandler("control").enableAllButtons();this.getHandler("control").changeWinValue();if(HelperFlags.get("justStarted")){this.getHandler("control").changeWinValue(null);}
this.getHandler("control").changeBalanceValue();this.getController("control").checkSpinButtonActive();this.getService("SoundService").stop("audio_reel_rotate");if(this.deleteFreeBets===true)return;if(this.getService("ProtocolService").hasFreeBets()&&this.getService("ProtocolService").getFreeBets().status!="active"){this.deleteFreeBets=true;this.getHandler("lines").stopSpinAction(function(){},function(){},function(){_this2.deleteFreeBets=false;setTimeout(function(){resolve();},1000);});return;}
promise=promise.then(function(){return new Promise(function(res,rej){_this2.getHandler("lines").stopSpinAction(res,rej,function(){_this2.getHandler("lines").enableBetLinesShow();});});});promise.then(resolve);}},{key:"leaveResult",value:function leaveResult(resolve,reject){this.nextState();resolve();}}]);return SpinResultState;}(_stateInterfaceEs2.default);exports.default=SpinResultState;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _stateInterfaceEs=__webpack_require__(76);var _stateInterfaceEs2=_interopRequireDefault(_stateInterfaceEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var SpinOutroState=function(_StateInterface){_inherits(SpinOutroState,_StateInterface);function SpinOutroState(){_classCallCheck(this,SpinOutroState);var _this=_possibleConstructorReturn(this,(SpinOutroState.__proto__||Object.getPrototypeOf(SpinOutroState)).call(this));_this.on(_stateInterfaceEs2.default.BEFORE_LEAVE_STATE_TRANSITION,_this._beforeExecute);_this.on(_stateInterfaceEs2.default.LEAVE_STATE_TRANSITION,_this.leaveFromSpin);return _this;}
_createClass(SpinOutroState,[{key:"execute",value:function execute(resolve,reject){this.nextState();resolve();}},{key:"_beforeExecute",value:function _beforeExecute(resolve,reject){if(__RunPartialApplication.type=="mobile"&&["STATE_FREE_SPINS_INTRO","STATE_BONUS_INTRO"].indexOf(this.to)!=-1){this.getHandler("control").disableAllButtons();resolve();}else{resolve();}}},{key:"_closeSpinTransition",value:function _closeSpinTransition(){this.getHandler("reels").hideLayout();this.getHandler("paytable").hideMiniPaytable();this.getHandler("lines").hideLayout();}},{key:"leaveFromSpin",value:function leaveFromSpin(resolve,reject){var accessEnterTransition=["STATE_BONUS_INTRO","STATE_FREE_SPINS_INTRO"];if(accessEnterTransition.indexOf(this.from)==-1){resolve();return;}
this._closeSpinTransition();resolve();}}]);return SpinOutroState;}(_stateInterfaceEs2.default);exports.default=SpinOutroState;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _stateEvent=__webpack_require__(77);var _stateEvent2=_interopRequireDefault(_stateEvent);var _stateMachine=__webpack_require__(75);var _stateMachine2=_interopRequireDefault(_stateMachine);var _stateInterface=__webpack_require__(76);var _stateInterface2=_interopRequireDefault(_stateInterface);var _componentInterface=__webpack_require__(5);var _componentInterface2=_interopRequireDefault(_componentInterface);var _rules=__webpack_require__(163);var _rules2=_interopRequireDefault(_rules);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var RouterState=function(_StateEvent){_inherits(RouterState,_StateEvent);function RouterState(){_classCallCheck(this,RouterState);var _this=_possibleConstructorReturn(this,(RouterState.__proto__||Object.getPrototypeOf(RouterState)).call(this));_this._fromState=null;_this.stateMachine=null;_this.component=new _componentInterface2.default();_this._restartGame=false;_this.callbackEndFreeBet=null;return _this;}
_createClass(RouterState,[{key:"subscribe",value:function subscribe(){this.on(_stateMachine2.default.ROUTER_NEXT,this._routeNextState);this.stateMachine.initRules(_rules2.default);}},{key:"_findCurrentStateIdOrders",value:function _findCurrentStateIdOrders(stateName){var orders=this.stateMachine.orders;for(var i=0,l=orders.length;i<l;i++){var result=orders[i].indexOf(stateName);if(result!=-1){return[orders,i,result];}}
return[orders,null,null];}},{key:"__findNextProtocolAction",value:function __findNextProtocolAction(){switch(this.component.getController("protocol").actions.current){case"spins":return"STATE_SPINS_INTRO";break;case"freespin_init":case"freespins":case"freespin_end":return"STATE_FREE_SPINS_INTRO";break;case"bonus_init":case"bonus":case"bonus_end":return"STATE_BONUS_INTRO";break;}}},{key:"_routeNextState",value:function _routeNextState(){var _this2=this;if(this.stateMachine.getStateComponent("FREEBETS").isActive()&&this.stateMachine.getStateComponent("FREEBETS").isFinished()&&this.stateMachine.currentState.indexOf("_OUTRO")!=-1){this.component.getController("protocol").sendData("updateStartAction",function(){_this2.component.getService("AutoPlayService").stopAutoSpins();var nextState=_this2.__findNextProtocolAction();if(!nextState){$_log.error("Not found Next action");return;}
var state=null;if(nextState=="STATE_SPINS_INTRO"&&["freespin_init","bonus_init"].indexOf(_this2.component.getController("protocol").actions.available[0])!=-1){_this2.stateMachine.getStateComponent("FREEBETS").showPopupEnd(function(){HelperFlags.set("justStarted",true);_this2.component.getHandler("reels").getLayout().visible=true;_this2.component.getHandler("reels").updateReelsSets();_this2.component.getHandler("control").showMainGameControls();_this2.component.getHandler("control").changeWinValue(null);_this2.component.getHandler("lines").stopSpinAction(function(){_this2._routeNextState();HelperFlags.set("justStarted",null);});});return;}else{state=_this2.stateMachine.getState(nextState);_this2._finishFreeBets=function(resolve,reject){_this2.stateMachine.getStateComponent("FREEBETS").showPopupEnd(function(){_this2.restartGame=false;resolve();state.off(_stateInterface2.default.BEFORE_ENTER_STATE_TRANSITION,_this2._finishFreeBets);_this2._finishFreeBets=null;});setTimeout(function(){_this2.component.getHandler("popup").updateBlur(true);},10);};state.on(_stateInterface2.default.BEFORE_ENTER_STATE_TRANSITION,_this2._finishFreeBets);_this2.restartGame=true;_this2._routeNextState();}});return;}else if(this.stateMachine.getStateComponent("FREEBETS").isActive()&&this.stateMachine.getStateComponent("FREEBETS").isDeleted()){this.stateMachine.finishStateMethods();this.stateMachine.finishState();this.stateMachine.getStateComponent("FREEBETS").showPopupEnd(function(){_this2.component.getController("protocol").sendData("updateStartAction",function(){if(_this2.stateMachine.currentState.indexOf("STATE_BONUS_")!=-1){_this2.stateMachine.getState("STATE_BONUS_OUTRO")._bonusCloseTransition();_this2.stateMachine._currentState=null;}else if(_this2.stateMachine.currentState.indexOf("STATE_SPINS_")!=-1){_this2.stateMachine.getState("STATE_SPINS_OUTRO")._closeSpinTransition();_this2.stateMachine._currentState=null;}else if(_this2.stateMachine.currentState.indexOf("STATE_FREE_SPINS_")!=-1){_this2.stateMachine.getState("STATE_FREE_SPINS_OUTRO")._transitionOutro();_this2.stateMachine._currentState=null;}else{$_log.error("Not found case from remove state",_this2.stateMachine.currentState);}
var nextState=_this2.__findNextProtocolAction();if(!nextState){$_log.error("Not found Next action");return;}
_this2.stateMachine.goToState(nextState,true);});});return;}
if(this.stateMachine.currentState.indexOf("_OUTRO")!=-1){console.debug(this.component.getController("protocol").actions);var freespins=["freespin_init","freespin","freespin_end"];if((this.stateMachine.currentState.indexOf("STATE_SPINS_")!=-1||this.stateMachine.currentState.indexOf("STATE_BONUS_")!=-1)&&freespins.indexOf(this.component.getController("protocol").actions.available[0])!=-1){this.stateMachine.goToState("STATE_FREE_SPINS_INTRO");return;}
if((this.stateMachine.currentState.indexOf("STATE_FREE_SPINS_")!=-1||this.stateMachine.currentState.indexOf("STATE_BONUS_")!=-1)&&"spin"==this.component.getController("protocol").actions.available[0]){this.stateMachine.goToState("STATE_SPINS_INTRO");return;}
var bonus=["bonus_init","bonus_pick","bonus_end"];if((this.stateMachine.currentState.indexOf("STATE_SPINS_")!=-1||this.stateMachine.currentState.indexOf("STATE_FREE_SPINS_")!=-1)&&bonus.indexOf(this.component.getController("protocol").actions.available[0])!=-1){this.stateMachine.goToState("STATE_BONUS_INTRO");return;}}
console.debug("----- ROUTER from - >"+this.stateMachine.currentState);var _findCurrentStateIdOr=this._findCurrentStateIdOrders(this.stateMachine.currentState);var _findCurrentStateIdOr2=_slicedToArray(_findCurrentStateIdOr,3);var listOrders=_findCurrentStateIdOr2[0];var queueID=_findCurrentStateIdOr2[1];var queuePosition=_findCurrentStateIdOr2[2];if(queueID===null){console.error("Queue not found!",this.stateMachine.currentState,this.stateMachine.orders);return;}
var next=queuePosition+1;if(listOrders[queueID][next]==undefined){next=0;}
console.debug('----- ROUTER to -> ',listOrders[queueID][next]);this.stateMachine.goToState(listOrders[queueID][next]);}},{key:"restartGame",set:function set(value){this._restartGame=value;},get:function get(){return this._restartGame;}}]);return RouterState;}(_stateEvent2.default);exports.default=RouterState;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _listEvents=__webpack_require__(147);var _listEvents2=_interopRequireDefault(_listEvents);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var Rules=[["STATE_LOADING","START_ROUTER"],["START_ROUTER","STATE_SPINS_INTRO"],["START_ROUTER","STATE_FREE_SPINS_INTRO"],["START_ROUTER","STATE_FREE_SPINS_OUTRO"],["START_ROUTER","STATE_BONUS_INTRO"],["STATE_SPINS_INTRO","STATE_SPINS_RESULT"],["STATE_SPINS_INTRO","STATE_SPINS_IDLE"],["STATE_SPINS_OUTRO","STATE_SPINS_INTRO"],["STATE_SPINS_IDLE","STATE_SPINS_SPINNING",_listEvents2.default.RoundStart],["STATE_SPINS_SPINNING","STATE_BIG_WIN"],["STATE_SPINS_SPINNING","STATE_SPINS_RESULT"],["STATE_SPINS_RESULT","STATE_SPINS_OUTRO"],["STATE_SPINS_IDLE","STATE_CHANGE_BET",_listEvents2.default.changeBet],["STATE_CHANGE_BET","STATE_SPINS_IDLE",_listEvents2.default.changeBetEnd],["STATE_SPINS_IDLE","STATE_PAYTABLE",_listEvents2.default.openPayTable],["STATE_PAYTABLE","STATE_SPINS_IDLE",_listEvents2.default.closePayTable],["STATE_SPINS_IDLE","STATE_MINI_PAYTABLE",_listEvents2.default.openMiniPaytable],["STATE_MINI_PAYTABLE","STATE_SPINS_IDLE",_listEvents2.default.closeMiniPaytable],["STATE_BIG_WIN","STATE_SPINS_RESULT"],["STATE_BIG_WIN","STATE_FREE_SPINS_RESULT"],["STATE_SPINS_OUTRO","STATE_FREE_SPINS_INTRO",_listEvents2.default.startFreeSpinGame],["STATE_SPINS_OUTRO","STATE_BONUS_INTRO",_listEvents2.default.startBonusGame],["STATE_FREE_SPINS_INTRO","STATE_FREE_SPINS_ADDED",_listEvents2.default.openAddedFreeSpins],["STATE_FREE_SPINS_INTRO","STATE_FREE_SPINS_SPINNING",_listEvents2.default.clickOk],["STATE_FREE_SPINS_INTRO","STATE_FREE_SPINS_OUTRO"],["STATE_FREE_SPINS_ADDED","STATE_FREE_SPINS_SPINNING",_listEvents2.default.clickOk],["STATE_FREE_SPINS_SPINNING","STATE_FREE_SPINS_RESULT"],["STATE_FREE_SPINS_SPINNING","STATE_BIG_WIN"],["STATE_BIG_WIN","STATE_FREE_SPINS_RESULT"],["STATE_FREE_SPINS_RESULT","STATE_FREE_SPINS_ADDED",_listEvents2.default.openAddedFreeSpins],["STATE_FREE_SPINS_RESULT","STATE_FREE_SPINS_OUTRO"],["STATE_FREE_SPINS_OUTRO","STATE_SPINS_INTRO"],["STATE_FREE_SPINS_OUTRO","STATE_BONUS_INTRO"],["STATE_FREE_SPINS_OUTRO","STATE_FREE_SPINS_INTRO"],["STATE_BONUS_INTRO","STATE_BONUS_IDLE"],["STATE_BONUS_INTRO","STATE_BONUS_OUTRO"],["STATE_BONUS_INTRO","STATE_BONUS_RESULT"],["STATE_BONUS_IDLE","STATE_BONUS_RESULT"],["STATE_BONUS_RESULT","STATE_BONUS_OUTRO"],["STATE_BONUS_OUTRO","STATE_SPINS_INTRO"],["STATE_BONUS_OUTRO","STATE_FREE_SPINS_INTRO"],["STATE_BONUS_OUTRO","STATE_BONUS_INTRO"],["*","STATE_POPUP_INFO",_listEvents2.default.showInfoPopup],["*","STATE_POPUP_ERROR",_listEvents2.default.showErrorPopup]];exports.default=Rules;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _controlCommonController=__webpack_require__(146);var _controlCommonController2=_interopRequireDefault(_controlCommonController);var _listEvents=__webpack_require__(147);var _listEvents2=_interopRequireDefault(_listEvents);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var ControlDesktopController=function(_ControlCommonControl){_inherits(ControlDesktopController,_ControlCommonControl);function ControlDesktopController(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,ControlDesktopController);return _possibleConstructorReturn(this,(ControlDesktopController.__proto__||Object.getPrototypeOf(ControlDesktopController)).call(this,data));}
_createClass(ControlDesktopController,[{key:"initController",value:function initController(){this.handler=this.getInst("ControlDesktopViewHandler");if(this.getService("GameSettingsService").getLocalSettings("quick_spin")){$_signal.goTo("-control.quickMode.enable");}}},{key:"maxBetButtonClickAction",value:function maxBetButtonClickAction(){$_signal.goTo('-control.changeToMaxBet');}},{key:"autoPlayButtonClickAction",value:function autoPlayButtonClickAction(){if(HelperFlags.get("noSpin")!==null){return;}
this.getService("SoundService").play("audio_auto_play");var autoPlayRange=this.getService("AutoPlayService").getAutoPlayRange();this.handler.setAutoPlayRangeSettingsValue(autoPlayRange);this.handler.toggleVisibilityAutoPlaySettings();}},{key:"autoStopButtonClickAction",value:function autoStopButtonClickAction(){this.getService("AutoPlayService").stopAutoSpins();this.handler.hideAutoPlayInterface();var slotMachine=this.getService("SlotMachineService").getInstance();if(!slotMachine.isRunning()){this.handler.enableAllButtons();this.checkSpinButtonActive();}}},{key:"advancedSettingsContainerClickAction",value:function advancedSettingsContainerClickAction(){this.getService("SoundService").play("audio_auto_play");this.handler.toggleVisibilityAdvancedAutoPlaySettings();}},{key:"beforeStartAutoPlay",value:function beforeStartAutoPlay(){this.getHandler().hideAutoPlaySettings();this.getHandler().hideAdvancedAutoPlaySettings();this.getHandler().hideAutoPlayButton();this.getHandler().showAutoStopButton();this.getHandler().showAutoPlayCounter();this.getHandler().disableAllButtons();this.getHandler().disabledSpinButton();this.getHandler("settings").showFastToolbarMessage("fast_click_avto_spin");}},{key:"autoPlayValueContainerClickAction",value:function autoPlayValueContainerClickAction(){var count=arguments.length<=0||arguments[0]===undefined?0:arguments[0];if(!this.isPositiveBalance()){return;}
this.handler.getAutoPlayValueContainer(count);this.getService("AutoPlayService").startAutoSpins(this.autoPlayRange[count]);this.beforeStartAutoPlay();$_event.setEvent(_listEvents2.default.RoundStart);}},{key:"freeButtonClickAction",value:function freeButtonClickAction(){var slotMachine=this.getService("SlotMachineService").getInstance();if(slotMachine.isRunning()){slotMachine.needFastStop();}}},{key:"infoButtonClickAction",value:function infoButtonClickAction(){if(HelperFlags.get("noSpin")!==null){return;}
$_signal.goTo('-paytable.show');}},{key:"quickSpinOnButtonClickAction",value:function quickSpinOnButtonClickAction(){if(HelperFlags.get("noSpin")!==null){return;}
$_signal.goTo("-control.quickMode.disable");}},{key:"quickSpinOffButtonClickAction",value:function quickSpinOffButtonClickAction(){if(HelperFlags.get("noSpin")!==null){return;}
$_signal.goTo("-control.quickMode.enable");}},{key:"quickSpinBackgroundClickAction",value:function quickSpinBackgroundClickAction(){if(HelperFlags.get("noSpin")!==null){return;}
if(this.getService("SlotMachineService").getInstance().isEnableQuickMode()){$_signal.goTo("-control.quickMode.disable");}else{$_signal.goTo("-control.quickMode.enable");}}},{key:"enableQuickMode",value:function enableQuickMode(){if(HelperFlags.get("noSpin")!==null){return;}
this.getService("SoundService").play("audio_quick_spin");this.getService("SlotMachineService").getInstance().enableQuickMode();this.handler.showQuickSpinOnButton();this.handler.hideQuickSpinOffButton();this.getService("GameSettingsService").setLocalSettings("quick_spin",true);}},{key:"disableQuickMode",value:function disableQuickMode(){if(HelperFlags.get("noSpin")!==null){return;}
this.getService("SoundService").play("audio_quick_spin");this.getService("SlotMachineService").getInstance().disableQuickMode();this.handler.hideQuickSpinOnButton();this.handler.showQuickSpinOffButton();this.getService("GameSettingsService").setLocalSettings("quick_spin",false);}},{key:"decBetButtonClickAction",value:function decBetButtonClickAction(){$_signal.goTo('!control.changeBet.back');}},{key:"incBetButtonClickAction",value:function incBetButtonClickAction(){$_signal.goTo('!control.changeBet.forward');}},{key:"decLinesButtonClickAction",value:function decLinesButtonClickAction(){$_signal.goTo("!control.changeLines.back");}},{key:"incLinesButtonClickAction",value:function incLinesButtonClickAction(){$_signal.goTo("!control.changeLines.forward");}},{key:"checkSpinEnd",value:function checkSpinEnd(){if(this.getService("ProtocolService").hasFreeBets()&&this.getService("ProtocolService").getFreeBets().status=="finished"){$_signal.goTo("!lines.ended.execute");}}},{key:"checkSpinButtonActive",value:function checkSpinButtonActive(){if(this.getService("ProtocolService").getNextAction()!="spin"){this.getInst("ControlDesktopViewHandler").disabledSpinButton();this.getInst("ControlDesktopViewHandler").disableAllButtons();}else{if(this.getService("AutoPlayService").isActive()){this.getInst("ControlDesktopViewHandler").disableAllButtons();this.getInst("ControlDesktopViewHandler").disabledSpinButton();}else{this.getInst("ControlDesktopViewHandler").enableSpinButton();}}}}]);return ControlDesktopController;}(_controlCommonController2.default);exports.default=ControlDesktopController;},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _EventsEs=__webpack_require__(7);var _EventsEs2=_interopRequireDefault(_EventsEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var ControlDesktopEvent=function(_Events){_inherits(ControlDesktopEvent,_Events);function ControlDesktopEvent(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,ControlDesktopEvent);var _this=_possibleConstructorReturn(this,(ControlDesktopEvent.__proto__||Object.getPrototypeOf(ControlDesktopEvent)).call(this,data));_this._dataControllInit=false;_this._dataInitGame=false;_this._controlInit=false;_this.keySpinActive=false;_this.callbackActiveFast=null;_this._endAnimationReel=false;_this._protocolData={};return _this;}
_createClass(ControlDesktopEvent,[{key:'run',value:function run(){this._handler=this.getInst('ControlDesktopViewHandler');this._controller=this.getInst('ControlDesktopController');this.setSubscriber('protocolReady');this.setSubscriber('spinResult');this.setSubscriber('endAnimationReels');this.setSubscriber('keysDisabled');this.setSubscriber('frameReelsInit');this.setSubscriber('toMatchBetToBalance');this.setSubscriber('toMatchBetToBalanceHide');this.setSubscriber('readyToSpin');this.setSubscriber('startDoubleResult');this.setSubscriber('sendGetDoubleGame');this.setSubscriber('setWinningCount');this.setSubscriber('hideDoubleGame');this.setSubscriber('playDoubleResult');this.setSubscriber('setWinBlock');this.setSubscriber('hideKeys');this.setSubscriber('setKeys');this.setSubscriber('startFreeGame');this.setSubscriber('showKeyStartFreeGame');this.setSubscriber('showKeyEndFreeGame');this.setSubscriber('hideKeyFreeGame');this.setSubscriber('clickSpinAction');this.setSubscriber('enableTurboMode');this.setSubscriber('disableTurboMode');this.setSubscriber('enableAutoMode');this.setSubscriber('stopAutoMode');this.setSubscriber('setPauseAutoMode');this.setSubscriber('resumePauseAutoMode');this.setSubscriber('resumeAutoSpin');}},{key:'initGameEvent',value:function initGameEvent(){}},{key:'frameReelsInitEvent',value:function frameReelsInitEvent(){if(this._controlInit===true&&this.keySpinActive!==true){this.getInst('ControlDesktopViewHandler').showAllButton();this.getInst('ControlDesktopViewHandler').unDisabledSpinKey();if(this.callbackActiveFast!==null&&typeof this.callbackActiveFast=='function'){this.callbackActiveFast();this.callbackActiveFast=null;}}
this._canvas=document.getElementById('canvas_cl');this.keySpinActive=true;}},{key:'protocolReadyEvent',value:function protocolReadyEvent(data){this.getInst('ControlDesktopViewHandler').initBalance(data);}},{key:'spinActionEvent',value:function spinActionEvent(){this._endAnimationReel=false;if(this.getInst('ControlDesktopViewHandler')._balance<=0){setTimeout(function(){$_event.setEvent('zeroBalance');},1000);}
this.getInst('ControlDesktopViewHandler').hideAllButton();this.getInst('ControlDesktopViewHandler').hideWinBlock();this.getInst('ControlDesktopViewHandler').totalWinBlock(0,null);this.getInst('ControlDesktopViewHandler').getBetFromBalance();}},{key:'spinResultEvent',value:function spinResultEvent(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this._protocolData=data;}},{key:'keysDisabledEvent',value:function keysDisabledEvent(){this.getInst('ControlDesktopViewHandler').hideAllButton();}},{key:'endAnimationReelsEvent',value:function endAnimationReelsEvent(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this._protocolData=data;this.keySpinActive=true;this._endAnimationReel=true;this.getInst('ControlDesktopViewHandler').showAllButton();this.getInst('ControlDesktopViewHandler').initBalance(data);this.getInst('ControlDesktopController').checkMatchBetToBalance();if(typeof data.winning!='undefined'){this.getInst('ControlDesktopViewHandler').totalWinBlock(data.winning,data.balance);}
if(typeof data.winnings!='undefined'&&data.winnings!=null){if(data.winnings.total>0){this.getInst('ControlDesktopViewHandler').totalWinBlock(data.winnings.total,data.balance);this.getInst('ControlDesktopViewHandler').winBlock(data.winnings.total);}else{this.resumeAutoSpinEvent();}}else if(data.winnings==null&&data.balance>0){this.resumeAutoSpinEvent();}}},{key:'setWinningCountEvent',value:function setWinningCountEvent(){var count=arguments.length<=0||arguments[0]===undefined?0:arguments[0];}},{key:'setWinBlockEvent',value:function setWinBlockEvent(){var count=arguments.length<=0||arguments[0]===undefined?0:arguments[0];var _iv=this.getInst('ControlDesktopViewHandler');if(count>0){_iv.winBlock(count);}else{_iv.hideWinBlock();}}},{key:'readyToSpinEvent',value:function readyToSpinEvent(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this._protocolData=data;this.getInst('ControlDesktopViewHandler').initBalance(data);if(this.keySpinActive===true){this.getInst('ControlDesktopViewHandler').unDisabledSpinKey();}
this.getInst('ControlDesktopController').init({bet:data.bet,denomination:data.denomination,lines:data.lines,ranges:data.ranges});this._dataControllInit=true;if(this._dataInitGame===true){this.getInst('ControlDesktopViewHandler').initControl();}}},{key:'sendGetDoubleGameEvent',value:function sendGetDoubleGameEvent(){this._openDouble=true;var _h=this.getInst('ControlDesktopViewHandler');_h._doubleKey.setBlocked();_h._betKey.setBlocked();}},{key:'startDoubleResultEvent',value:function startDoubleResultEvent(){$_event.setEvent('stopAutoMode');}},{key:'playDoubleResultEvent',value:function playDoubleResultEvent(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this._protocolData=data;}},{key:'hideDoubleGameEvent',value:function hideDoubleGameEvent(){var _win=arguments.length<=0||arguments[0]===undefined?0:arguments[0];var _h=this.getInst('ControlDesktopViewHandler');_h.initBalance(this._protocolData);_h.winBlock(this._protocolData.winnings.total);_h.totalWinBlock(0,this._protocolData.balance);_h.hideDoubleButton();_h._doubleAction=false;this._openDouble=false;this.setWinBlockEvent(parseInt(_win));if(this.getInst('ControlDesktopController')._activeAutoMode===false){_h._betKey.setUnBlocked();}
this.getInst('ControlDesktopController').checkMatchBetToBalance(_win);}},{key:'hideKeysEvent',value:function hideKeysEvent(){this.getInst('ControlDesktopViewHandler').hideAllButton();}},{key:'showKeysEvent',value:function showKeysEvent(){this.getInst('ControlDesktopViewHandler').showAllButton();}},{key:'startFreeGameEvent',value:function startFreeGameEvent(){this.getInst('ControlDesktopViewHandler')._freeGameStartFlag=true;this.getInst('ControlDesktopViewHandler').startFreeGameBlock();}},{key:'showKeyStartFreeGameEvent',value:function showKeyStartFreeGameEvent(){this.getInst('ControlDesktopViewHandler').showKeyStartFreeGame();}},{key:'showKeyEndFreeGameEvent',value:function showKeyEndFreeGameEvent(){this.getInst('ControlDesktopViewHandler').showKeyEndFreeGame();}},{key:'hideKeyFreeGameEvent',value:function hideKeyFreeGameEvent(addToCache){if(addToCache!==false){this.getInst('ControlDesktopViewHandler').winBlock(this._protocolData.winnings.free_spins.all_winning);this.getInst('ControlDesktopViewHandler').totalWinBlock(0,this._protocolData.balance);}
this.getInst('ControlDesktopViewHandler').hideKeyFreeGame(addToCache);}},{key:'clickSpinActionEvent',value:function clickSpinActionEvent(){this.getInst('ControlDesktopController').clickSpinAction();}},{key:'toMatchBetToBalanceEvent',value:function toMatchBetToBalanceEvent(){this.getInst('ControlDesktopViewHandler').toMatchBetToBalanceShow();}},{key:'toMatchBetToBalanceHideEvent',value:function toMatchBetToBalanceHideEvent(){this.getInst('ControlDesktopViewHandler').toMatchBetToBalanceHide();}},{key:'enableTurboModeEvent',value:function enableTurboModeEvent(){if(this._controlInit===true){this.getInst('ControlDesktopController').enableTurboMode();}else{this.callbackActiveFast=function(){this.getInst('ControlDesktopController').enableTurboMode();}.bind(this);}}},{key:'disableTurboModeEvent',value:function disableTurboModeEvent(){this.getInst('ControlDesktopController').disableTurboMode();}},{key:'enableAutoModeEvent',value:function enableAutoModeEvent(){this.getInst('ControlDesktopController').startAutoMode();}},{key:'stopAutoModeEvent',value:function stopAutoModeEvent(){this.getInst('ControlDesktopController').stopAutoMode();}},{key:'resumeAutoSpinEvent',value:function resumeAutoSpinEvent(){this.getInst('ControlDesktopController').resumeAutoSpin();}},{key:'setPauseAutoModeEvent',value:function setPauseAutoModeEvent(){this.getInst('ControlDesktopController').setPauseAutoSpin();}},{key:'resumePauseAutoModeEvent',value:function resumePauseAutoModeEvent(){this.getInst('ControlDesktopController')._pauseAutoMode=false;this.resumeAutoSpinEvent();}}]);return ControlDesktopEvent;}(_EventsEs2.default);exports.default=ControlDesktopEvent;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ViewCanvasHandler2=__webpack_require__(82);var _ViewCanvasHandler3=_interopRequireDefault(_ViewCanvasHandler2);var _config=__webpack_require__(167);var _config2=_interopRequireDefault(_config);var _controlStyles=__webpack_require__(169);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var ControlDesktopViewHandler=function(_ViewCanvasHandler){_inherits(ControlDesktopViewHandler,_ViewCanvasHandler);function ControlDesktopViewHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,ControlDesktopViewHandler);var _this=_possibleConstructorReturn(this,(ControlDesktopViewHandler.__proto__||Object.getPrototypeOf(ControlDesktopViewHandler)).call(this,data));_this.init(_config2.default);_this.ready=false;_this.callbackReady=null;return _this;}
_createClass(ControlDesktopViewHandler,[{key:"_convertBalance",value:function _convertBalance(number,_with){return number_format(number,_with===true?2:0,'.',' ');}},{key:"initControl",value:function initControl(){var _this2=this;if(this.ready===true){return null;}
this.initLayout(_config2.default);var controller=this.getInst("ControlDesktopController");this.initChildren(_config2.default.children);var btnMouseOver=function btnMouseOver(){_this2.getService("SoundService").play("audio_button_all_onMouseOver");};this.querySelector("spinBtn").addEventListener('click',controller.spinButtonClickAction.bind(controller));this.querySelector("spinBtn").addEventListener('mouseover',btnMouseOver);this.querySelector("infoBtn").addEventListener('click',controller.infoButtonClickAction.bind(controller));this.querySelector("infoBtn").addEventListener('mouseover',btnMouseOver);this.querySelector("maxBetBtn").addEventListener('click',controller.maxBetButtonClickAction.bind(controller));this.querySelector("maxBetBtn").addEventListener('mouseover',btnMouseOver);this.querySelector("autoPlayBtn").addEventListener('click',controller.autoPlayButtonClickAction.bind(controller));this.querySelector("autoPlayBtn").addEventListener('mouseover',btnMouseOver);this.querySelector("autoStopBtn").addEventListener('click',controller.autoStopButtonClickAction.bind(controller));this.querySelector("autoStopBtn").addEventListener('mouseover',btnMouseOver);this.querySelector("containerOfQuickSpin.background").addEventListener('click',controller.quickSpinBackgroundClickAction.bind(controller));this.querySelector("containerOfQuickSpin").addEventListener('mouseover',function(e){if(e.target instanceof Button){btnMouseOver();}});this.querySelector("containerOfQuickSpin.onBtn").addEventListener('click',controller.quickSpinOnButtonClickAction.bind(controller));this.querySelector("containerOfQuickSpin.offBtn").addEventListener('click',controller.quickSpinOffButtonClickAction.bind(controller));this.querySelector("decBetBtn").addEventListener('click',controller.decBetButtonClickAction.bind(controller));this.querySelector("decBetBtn").addEventListener('mouseover',btnMouseOver);this.querySelector("incBetBtn").addEventListener('click',controller.incBetButtonClickAction.bind(controller));this.querySelector("incBetBtn").addEventListener('mouseover',btnMouseOver);this.querySelector("decLinesBtn").addEventListener('click',controller.decLinesButtonClickAction.bind(controller));this.querySelector("decLinesBtn").addEventListener('mouseover',btnMouseOver);this.querySelector("incLinesBtn").addEventListener('click',controller.incLinesButtonClickAction.bind(controller));this.querySelector("incLinesBtn").addEventListener('mouseover',btnMouseOver);this.querySelector("advancedSettingsContainer").addEventListener('click',controller.advancedSettingsContainerClickAction.bind(controller));var _loop=function _loop(_i,_l){_this2.querySelector("autoPlayValueContainer"+_i).addEventListener('click',function(){controller.autoPlayValueContainerClickAction(_i);});};for(var _i=1,_l=8;_i<=_l;_i++){_loop(_i,_l);}
this.querySelector("onAnyWinCheckBox").addEventListener("click",function(e){if(e.target.checked){_this2.getService("AutoPlayService").enableStopOnAnyWin();}else{_this2.getService("AutoPlayService").disableStopOnAnyWin();}});this.querySelector("ifFreeWavesIsWonCheckBox").addEventListener("click",function(e){if(e.target.checked){_this2.getService("AutoPlayService").enableStopOnFreeGame();}else{_this2.getService("AutoPlayService").disableStopOnFreeGame();}});this.querySelector("ifBonusIsWonCheckBox").addEventListener("click",function(e){if(e.target.checked){}else{}});var targets=[{checkBox:"ifSingleWinExceedsCheckBox",input:"ifSingleWinExceedsCurrency.valueContainer",enable:this.getService("AutoPlayService").enableStopIfWinExceed,disable:this.getService("AutoPlayService").disableStopIfWinExceed},{checkBox:"ifCashIncreasesByCheckBox",input:"ifCacheIncreasesByCurrency.valueContainer",enable:this.getService("AutoPlayService").enableStopIfCashIncrease,disable:this.getService("AutoPlayService").disableStopIfCashIncrease},{checkBox:"ifCashDecreasesByCheckBox",input:"ifCacheDecreasesByCurrency.valueContainer",enable:this.getService("AutoPlayService").enableStopIfCashDecrease,disable:this.getService("AutoPlayService").disableStopIfCashDecrease}];var _loop2=function _loop2(target){var inputContainer=_this2.querySelector(targets[target].input);var checkBox=_this2.querySelector(targets[target].checkBox);var enable=targets[target].enable;var disable=targets[target].disable;var prevLength=void 0;checkBox.addEventListener("click",function(){if(checkBox.checked){inputContainer.input.focus();if(inputContainer.value.length>0){enable(inputContainer.value);}}else{disable();}});inputContainer.onlyNumber=true;inputContainer.input.onkeyup(function(){if(inputContainer.value.length>0){enable(inputContainer.value);checkBox.checked=true;}else{if(prevLength===0){return;}
disable();checkBox.checked=false;}});inputContainer.input.onkeydown(function(){prevLength=inputContainer.value.length;});};for(var target in targets){_loop2(target);}
this.checkDefaultStateKeys();this.checkDefaultStateLabels();this.ready=true;if(this.callbackReady!==null){this.callbackReady();}
this.getLayout().visible=false;}},{key:"checkDefaultStateKeys",value:function checkDefaultStateKeys(){this.checkDefaultStatesBetBlock();this.checkDefaultStateLineBlock();}},{key:"checkDefaultStateLabels",value:function checkDefaultStateLabels(){this.changeTotalBetValue();this.changeTotalWinValue();this.changeWinValue(null);this.changeBalanceValue();}},{key:"initControlEventHandlers",value:function initControlEventHandlers(){}},{key:"showQuickSpinOnButton",value:function showQuickSpinOnButton(){var target=this.querySelector("containerOfQuickSpin.onBtn");target.visible=true;this.requestUpdateTarget(target);}},{key:"hideQuickSpinOnButton",value:function hideQuickSpinOnButton(){var target=this.querySelector("containerOfQuickSpin.onBtn");target.visible=false;this.requestUpdateTarget(target);}},{key:"showQuickSpinOffButton",value:function showQuickSpinOffButton(){var target=this.querySelector("containerOfQuickSpin.offBtn");target.visible=true;this.requestUpdateTarget(target);}},{key:"hideQuickSpinOffButton",value:function hideQuickSpinOffButton(){var target=this.querySelector("containerOfQuickSpin.offBtn");target.visible=false;this.requestUpdateTarget(target);}},{key:"showAutoPlayButton",value:function showAutoPlayButton(){var target=this.querySelector("containerOfAutoPlay");target.visible=true;this.requestUpdateTarget(target);}},{key:"hideAutoPlayButton",value:function hideAutoPlayButton(){var target=this.querySelector("containerOfAutoPlay");target.visible=false;this.requestUpdateTarget(target);}},{key:"showAutoStopButton",value:function showAutoStopButton(){var target=this.querySelector("containerOfAutoStop");target.visible=true;this.requestUpdateTarget(target);}},{key:"hideAutoStopButton",value:function hideAutoStopButton(){var target=this.querySelector("containerOfAutoStop");target.visible=false;this.requestUpdateTarget(target);}},{key:"showSpinButton",value:function showSpinButton(){var target=this.querySelector("spinBtn");target.visible=true;this.requestUpdateTarget(target);}},{key:"hideSpinButton",value:function hideSpinButton(){var target=this.querySelector("spinBtn");target.visible=false;this.requestUpdateTarget(target);}},{key:"showFreeGameControls",value:function showFreeGameControls(){this.applyStyle(_controlStyles.freeGameControlConfig);}},{key:"showMainGameControls",value:function showMainGameControls(){this.applyStyle(_controlStyles.mainGameControlConfig);this.getLayout().visible=true;this.checkDefaultStateLabels();if(this.getService("ProtocolService").hasFreeBets()){this.showFreeBetsGameControls();$_signal.goTo("!settings.toolbar.staticFreeBetMessage",this.getService("ProtocolService").getFreeBetsLeft());}}},{key:"showFreeBetsGameControls",value:function showFreeBetsGameControls(){this.applyStyle(_controlStyles.freeBetsGameControlConfig);this.changeWinFreeBets(0);}},{key:"showBonusGameControl",value:function showBonusGameControl(){this.applyStyle(_controlStyles.bonusGameControlConfig);this.getLayout().visible=true;}},{key:"showAutoPlayCounter",value:function showAutoPlayCounter(){this.changeAutoPlayValue();var target=this.querySelector("autoPlayCounterContainer");target.visible=true;this.requestUpdateTarget(target);}},{key:"hideAutoPlayCounter",value:function hideAutoPlayCounter(){var target=this.querySelector("autoPlayCounterContainer");target.visible=false;this.requestUpdateTarget(target);}},{key:"hideAutoPlayInterface",value:function hideAutoPlayInterface(){this.hideAutoPlayCounter();this.showAutoPlayButton();this.hideAutoStopButton();}},{key:"stageAutoPlayClickHandler",value:function stageAutoPlayClickHandler(e){if(!this.closest(e.target,"autoPlaySettingsContainer")&&!this.closest(e.target,"autoPlayAdvancedSettingsContainer")){this.hideAutoPlaySettings();this.hideAdvancedAutoPlaySettings();this.getStage().removeEventListener("click",this.stageAutoPlayClickHandler);}}},{key:"showAutoPlaySettings",value:function showAutoPlaySettings(){var _this3=this;var target=this.querySelector("autoPlaySettingsContainer");target.visible=true;this.requestUpdateTarget(target);setTimeout(function(){_this3.autoPlayListener=_this3.getStage().on("click",_this3.stageAutoPlayClickHandler.bind(_this3));},0);}},{key:"hideAutoPlaySettings",value:function hideAutoPlaySettings(){var target=this.querySelector("autoPlaySettingsContainer");target.visible=false;this.requestUpdateTarget(target);var target2=this.querySelector("autoPlayAdvancedSettingsContainer");if(target2.visible){target2.visible=false;this.requestUpdateTarget(target2);}
if(this.autoPlayListener){this.getStage().off("click",this.autoPlayListener);}}},{key:"toggleVisibilityAutoPlaySettings",value:function toggleVisibilityAutoPlaySettings(){var target=this.querySelector("autoPlaySettingsContainer");if(target.visible){this.hideAutoPlaySettings();}else{this.showAutoPlaySettings();}}},{key:"showAdvancedAutoPlaySettings",value:function showAdvancedAutoPlaySettings(){var target=this.querySelector("autoPlayAdvancedSettingsContainer");target.visible=true;this.requestUpdateTarget(target);}},{key:"hideAdvancedAutoPlaySettings",value:function hideAdvancedAutoPlaySettings(){var target=this.querySelector("autoPlayAdvancedSettingsContainer");target.visible=false;this.requestUpdateTarget(target);}},{key:"toggleVisibilityAdvancedAutoPlaySettings",value:function toggleVisibilityAdvancedAutoPlaySettings(){var target=this.querySelector("autoPlayAdvancedSettingsContainer");target.visible=!target.visible;this.requestUpdateTarget(target);}},{key:"setAutoPlayRangeSettingsValue",value:function setAutoPlayRangeSettingsValue(){var autoPlayRange=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];for(var i=0;i<8;i++){if(autoPlayRange[i]){this.querySelector("autoPlayValueContainer"+(i+1)+".autoPlayValue").setText(autoPlayRange[i]);}}
this.requestUpdate();}},{key:"setAutoPlayCounterValue",value:function setAutoPlayCounterValue(value){this.querySelector("autoPlayCounterContainer.autoPlayValue").setText(value);this.requestUpdate();}},{key:"getAutoPlayValueContainer",value:function getAutoPlayValueContainer(containerNumber){return this.querySelector("autoPlayValueContainer"+containerNumber+".autoPlayValue").text;}},{key:"changeAutoPlayValue",value:function changeAutoPlayValue(){var value=arguments.length<=0||arguments[0]===undefined?this.getService("AutoPlayService").getCurrentValue():arguments[0];var autoPlayValue=this.querySelector("autoPlayCounterContainer.autoPlayValue");if(value===-2){value=$_t.decodeCharCodeToString(8734);autoPlayValue.font="bold 28px Calibri";}else{autoPlayValue.font="bold 14px Calibri";}
autoPlayValue.setText(value);this.requestUpdate();}},{key:"changeTotalWinValue",value:function changeTotalWinValue(){if(this.getService('ProtocolService').getNextAction()=="freespin_init"){this.querySelector("totalWinValue").setText("");}else if(["freespins","freespin"].indexOf(this.getService('ProtocolService').getCurrentAction())!=-1){var totalWin=this.getService('FreeSpinService').getTotalWin();this.querySelector("totalWinValue").setText(totalWin?number_format(totalWin/100,2,".",",")+" "+this.getService("ProtocolService").getCurrentCurrency():"");}else{this.querySelector("totalWinValue").setText(number_format(0,2,".",",")+" "+this.getService("ProtocolService").getCurrentCurrency());}
this.requestUpdate();}},{key:"addWinValue",value:function addWinValue(){var value=arguments.length<=0||arguments[0]===undefined?this.getService("ProtocolService").getCurrentWin():arguments[0];var prevValue=this.querySelector("winValue").text===""?0:parseFloat(this.querySelector("winValue").text);var newValue=prevValue*100+value;this.changeWinValue(newValue);}},{key:"changeWinValue",value:function changeWinValue(){var value=arguments.length<=0||arguments[0]===undefined?this.getService("ProtocolService").getCurrentWin():arguments[0];if(value==null||value==0){this.querySelector("winValue").setText("");}else{this.querySelector("winValue").setText(number_format(value/100,2,".",",")+" "+this.getService("ProtocolService").getCurrentCurrency());}
this.requestUpdate();}},{key:"changeBalanceValue",value:function changeBalanceValue(){var value=arguments.length<=0||arguments[0]===undefined?this.getService("ProtocolService").getCurrentBalance():arguments[0];this.querySelector("balanceValue").setText(number_format(value,2,".",",")+" "+this.getService("ProtocolService").getCurrentCurrency());if(this.getService("ProtocolService").hasFreeBets()){this.changeWinFreeBets();}
this.requestUpdate();}},{key:"changeBalanceValueBeforeSpin",value:function changeBalanceValueBeforeSpin(){this.changeBalanceValue(this.getService("ProtocolService").getCurrentBalance()-this.getService("BetService").getCurrentValue()*this.getService("LinesService").getCurrentValue()/100);this.requestUpdate();}},{key:"setBetValue",value:function setBetValue(value){this.querySelector("betValue").setText(number_format(value/100,2,".",",")+" "+this.getService("ProtocolService").getCurrentCurrency());this.querySelector("betBonusValue").setText(number_format(value/100,2,".",",")+" "+this.getService("ProtocolService").getCurrentCurrency());this.requestUpdate();}},{key:"changeTotalBetValue",value:function changeTotalBetValue(){this.querySelector("totalBetValue").setText(number_format(this.getService("BetService").getCurrentValue()/100*this.getService("LinesService").getCurrentValue()*this.getService("ProtocolService").getCurrentDenominator(),2,".",",")+" "+this.getService("ProtocolService").getCurrentCurrency());this.requestUpdate();}},{key:"setLinesValue",value:function setLinesValue(value){this.querySelector("linesValue").setText(value);this.requestUpdate();}},{key:"setSpinCounterValue",value:function setSpinCounterValue(value){this.querySelector("spinCounter").setText(value);this.requestUpdate();}},{key:"disableAllButtons",value:function disableAllButtons(){var slotMachine=this.getService("SlotMachineService").getInstance();this.querySelector("infoBtn").disabled=true;this.querySelector("maxBetBtn").disabled=true;this.querySelector("autoPlayBtn").disabled=true;this.querySelector("decBetBtn").disabled=true;this.querySelector("incBetBtn").disabled=true;this.querySelector("decLinesBtn").disabled=true;this.querySelector("incLinesBtn").disabled=true;this.requestUpdate();}},{key:"enableAllButtons",value:function enableAllButtons(){if(this.getService("ProtocolService").getNextAction()!=="spin"&&$_signal_history.getLast().alias!="protocol.spins.init"){return;}
if(!this.getFlagGlobal("freeSpinsEnabled")){this.querySelector("infoBtn").disabled=false;}
this.querySelector("maxBetBtn").disabled=false;this.querySelector("autoPlayBtn").disabled=false;if(this.getService("ProtocolService").hasFreeBets()){this.querySelector("maxBetBtn").disabled=true;}else{this.checkDefaultStatesBetBlock();this.checkDefaultStateLineBlock();}
this.requestUpdate();}},{key:"enableSpinButton",value:function enableSpinButton(){this.querySelector("spinBtn").disabled=false;}},{key:"disabledSpinButton",value:function disabledSpinButton(){this.querySelector("spinBtn").disabled=true;}},{key:"checkDefaultStatesBetBlock",value:function checkDefaultStatesBetBlock(){if(!this.querySelector("decBetBtn").visible){return;}
if(this.getService('BetService').checkBackward()===true){this.querySelector("decBetBtn").disabled=false;}else{this.querySelector("decBetBtn").disabled=true;}
if(this.getService('BetService').checkForward()===true){this.querySelector("incBetBtn").disabled=false;}else{this.querySelector("incBetBtn").disabled=true;}
this.setBetValue(this.getService("BetService").getCurrentValue());this.changeTotalBetValue();this.requestUpdate();}},{key:"changeDecBetButton",value:function changeDecBetButton(){if(this.getService('BetService').changeToBackward()){this.checkDefaultStatesBetBlock();}
this.requestUpdate();}},{key:"changeIncBetButton",value:function changeIncBetButton(){if(this.getService('BetService').changeToForward()){this.checkDefaultStatesBetBlock();}
this.requestUpdate();}},{key:"checkDefaultStateLineBlock",value:function checkDefaultStateLineBlock(){if(!this.querySelector("decLinesBtn").visible){return;}
if(this.getService('LinesService').checkBackward()===true){this.querySelector("decLinesBtn").disabled=false;}else{this.querySelector("decLinesBtn").disabled=true;}
if(this.getService('LinesService').checkForward()===true){this.querySelector("incLinesBtn").disabled=false;}else{this.querySelector("incLinesBtn").disabled=true;}
this.setLinesValue(this.getService("LinesService").getCurrentValue());this.changeTotalBetValue();this.requestUpdate();}},{key:"changeDecLineButton",value:function changeDecLineButton(){if(this.getService('LinesService').changeToBackward()){this.checkDefaultStateLineBlock();}
this.requestUpdate();}},{key:"changeIncLineButton",value:function changeIncLineButton(){if(this.getService('LinesService').changeToForward()){this.checkDefaultStateLineBlock();}
this.requestUpdate();}},{key:"changeToMaxBet",value:function changeToMaxBet(){this.getService("BetService").changeToMaxValue();this.getService("LinesService").changeToMaxValue();this.checkDefaultStateKeys();this.requestUpdate();}},{key:"changeFreeCounterBeforeSpin",value:function changeFreeCounterBeforeSpin(){this.setSpinCounterValue(this.getService("FreeSpinService").getFreeSpinLeft()-1);}},{key:"showFreePanel",value:function showFreePanel(){if(this.ready===false){this.callbackReady=this.showFreePanel;}else{this.showFreeGameControls();this.setSpinCounterValue(this.getService("FreeSpinService").getFreeSpinLeft());this.changeTotalBetValue();if(this.getService("ProtocolService").hasFreeBets()){this.applyStyle(_controlStyles.freeBetsFreeGameControlConfig);}}
this.getLayout().visible=true;}},{key:"hideFreePanel",value:function hideFreePanel(){this.showMainGameControls();}},{key:"showBonusPanel",value:function showBonusPanel(){this.showBonusGameControl();var data=this.getService("BonusService").getBonusContext();if(data!==null){this.querySelector("betBonusValue").setText(data.round_bet/100+" "+this.getService("ProtocolService").getCurrentCurrency());this.querySelector("totalWinValue").setText(data.total_win/100+" "+this.getService("ProtocolService").getCurrentCurrency());}
if(this.getService("ProtocolService").hasFreeBets()){this.applyStyle(_controlStyles.freeBetsBonusGameControlConfig);}}},{key:"hideBonusPanel",value:function hideBonusPanel(){this.showMainGameControls();}},{key:"initFreeBets",value:function initFreeBets(count){this.getService("PopupService").addInfoPopup("freebets",{message:$_t.getText("free_bets_start",count),header:$_t.getText("free_bets_head")});}},{key:"hideFreeBets",value:function hideFreeBets(){var _this4=this;var lastFreeBets=this.getService("ProtocolService").getFreeBets();this.getService("PopupService").removeInfoPopup("freebets");setTimeout(function(){if(lastFreeBets&&lastFreeBets.status=="finished"){_this4.getService("PopupService").addInfoPopup("freebets",{message:lastFreeBets.total_win>0?$_t.getText("free_bets_end_{0}",number_format(lastFreeBets.total_win/100,2,".",",")):$_t.getText("free_bets_end_no_win"),header:$_t.getText("free_bets_head")});}else{_this4.getService("PopupService").addInfoPopup("freebets",{message:$_t.getText("free_bets_deleted"),header:$_t.getText("free_bets_head")});}
_this4.getService("ProtocolService").setFreeBets({status:"deleted"});$_stateMachine.router.restartGame=true;$_stateMachine.goToRouter();},50);}},{key:"changeWinFreeBets",value:function changeWinFreeBets(){var value=arguments.length<=0||arguments[0]===undefined?0:arguments[0];var data=this.getService("ProtocolService").getFreeBets();if(data&&data.total_win){value=data.total_win;}
this.querySelector("containerOfFreeBetWins.balanceValue").setText(number_format(value/100,2,".",",")+" "+this.getService("ProtocolService").getCurrentCurrency());}}]);return ControlDesktopViewHandler;}(_ViewCanvasHandler3.default);exports.default=ControlDesktopViewHandler;;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _autoPlayUI=__webpack_require__(168);var crunchOffset=/Chrome/.test(navigator.userAgent)&&/Win/.test(navigator.platform)?-3:0;var config={zIndex:50,"children":{"spinBtn":{"type":"Button","left":422,"top":582,"spriteSheet":{"images":["spin_default_button"],"frames":{"width":117,"height":116},"animations":{"normal":[2],"hover":[3],"clicked":[0],"disabled":[1]}},"visible":true},"infoBtn":{"type":"Button","left":340,"top":652,"spriteSheet":{"images":["info_button"],"frames":{"width":45,"height":44},"animations":{"normal":[2],"hover":[3],"clicked":[0],"disabled":[1]}},"visible":true},"containerOfMaxBet":{"type":"Container","left":311,"top":582,"children":{"maxBetBtn":{"type":"Button","left":0,"top":0,"spriteSheet":{"images":["default-button"],"frames":{"width":103,"height":65},"animations":{"normal":[2],"hover":[3],"clicked":[0],"disabled":[1]}},"visible":true},"maxLabel":{"type":"Text","text":"desktop_control_max_bet","font":"bold 16px Calibri","color":"#55702B","left":"50%","textAlign":"center","textBaseline":"middle","fontTransform":"uppercase","top":"39%",mouseEnabled:false}}},"containerOfAutoPlay":{"type":"Container","left":545,"top":582,"children":{"autoPlayBtn":{"type":"Button","left":0,"top":0,"spriteSheet":{"images":["default-button"],"frames":{"width":103,"height":65},"animations":{"normal":[2],"hover":[3],"clicked":[0],"disabled":[1]}},"visible":true},"autoLabel":{"type":"Text","text":"auto_play_key","font":"bold 16px Calibri","color":"#55702B","left":"50%","textAlign":"center","textBaseline":"middle","top":"39%",mouseEnabled:false}}},"containerOfAutoStop":{"type":"Container","left":545,"top":582,visible:false,"children":{"autoStopBtn":{"type":"Button","left":0,"top":0,"spriteSheet":{"images":["default-button"],"frames":{"width":103,"height":65},"animations":{"normal":[2],"hover":[3],"clicked":[0],"disabled":[1]}}},"stopLabel":{"type":"Text","text":"auto_play_stop","font":"bold 16px Calibri","color":"#55702B","left":"50%","textAlign":"center","textBaseline":"middle","top":"50%",mouseEnabled:false}}},"containerOfQuickSpin":{"type":"Container","left":565,"top":661,cursor:"pointer","children":{"background":{"type":"Bitmap","src":"fastspin_back_label","left":0,"top":0},"offBtn":{"type":"Button","left":2,"top":3,"spriteSheet":{"images":["quick_spin_off_button"],"frames":{"width":33,"height":21},"animations":{"normal":[2],"hover":[3],"clicked":[0],"disabled":[1]}},"visible":true},"onBtn":{"type":"Button","left":29,"top":3,"spriteSheet":{"images":["quick_spin_on_button"],"frames":{"width":33,"height":21},"animations":{"normal":[2],"hover":[3],"clicked":[0],"disabled":[1]}},"visible":false}}},"containerOfBet":{"type":"Container","left":20,"top":586,"children":{"background":{"type":"Bitmap","src":"MG_meters_bet_label","left":0,"top":0,"visible":true},"betLabel":{"type":"Text","text":"BET","font":"bold 16px Calibri","color":"#C2C2C2","left":"50%","textAlign":"center","textBaseline":"middle","fontTransform":"uppercase","top":17+crunchOffset},"betValue":{"type":"Text","text":"0.01","font":"bold 20px Calibri","color":"#FFFFFF","left":"50%","textAlign":"center","textBaseline":"middle","top":40+crunchOffset,"shadow":{"color":"#000000","offsetX":1,"offsetY":3,"blur":3}},"decBetBtn":{"type":"Button","left":8,"top":28,"spriteSheet":{"images":["back_button"],"frames":{"width":21,"height":22},"animations":{"normal":[2],"hover":[3],"clicked":[0],"disabled":[1]}},"visible":true},"incBetBtn":{"type":"Button","left":153,"top":28,"spriteSheet":{"images":["forward_button"],"frames":{"width":21,"height":22},"animations":{"normal":[2],"hover":[3],"clicked":[0],"disabled":[1]}},"visible":true}}},"containerOfLines":{"type":"Container","left":209,"top":586,"children":{"background":{"type":"Bitmap","src":"MG_meters_lines_label","left":0,"top":0,"visible":true},"linesLabel":{"type":"Text","text":"LINES","font":"bold 16px Calibri","color":"#C2C2C2","left":"50%","textAlign":"center","textBaseline":"middle","fontTransform":"uppercase","top":17+crunchOffset},"linesValue":{"type":"Text","text":"20","font":"bold 20px Calibri","color":"#FFFFFF","left":"50%","textAlign":"center","textBaseline":"middle","top":40+crunchOffset,"shadow":{"color":"#000000","offsetX":1,"offsetY":3,"blur":3}},"decLinesBtn":{"type":"Button","left":7,"top":28,"spriteSheet":{"images":["back_button"],"frames":{"width":21,"height":22},"animations":{"normal":[2],"hover":[3],"clicked":[0],"disabled":[1]}},"visible":false},"incLinesBtn":{"type":"Button","left":66,"top":28,"spriteSheet":{"images":["forward_button"],"frames":{"width":21,"height":22},"animations":{"normal":[2],"hover":[3],"clicked":[0],"disabled":[1]}},"visible":false}}},"containerOfTotalBet":{"type":"Container","left":71,"top":651,"children":{"background":{"type":"Bitmap","src":"MG_meters_totalbet","left":0,"top":0,"visible":true},"totalBetLabel":{"type":"Text","text":"TOTAL BET","font":"bold 16px Calibri","color":"#C2C2C2","top":15+crunchOffset,"left":"50%","textAlign":"center","textBaseline":"middle","fontTransform":"uppercase"},"totalBetValue":{"type":"Text","text":"0.20 USD","font":"bold 20px Calibri","color":"#FFFFFF","left":"50%","textAlign":"center","textBaseline":"middle","top":34+crunchOffset,"shadow":{"color":"#000000","offsetX":1,"offsetY":3,"blur":3}}}},"containerOfBalance":{"type":"Container","left":647,"top":651,"children":{"background":{"type":"Bitmap","src":"MG_meters_balance_label","left":0,"top":0,"visible":true},"balanceLabel":{"type":"Text","text":"BALANCE","font":"bold 16px Calibri","color":"#C2C2C2","top":15+crunchOffset,"left":"50%","textAlign":"center","textBaseline":"middle","fontTransform":"uppercase"},"balanceValue":{"type":"Text","text":"500 USD","font":"bold 20px Calibri","color":"#FFFFFF","left":"50%","textAlign":"center","textBaseline":"middle","top":34+crunchOffset,"shadow":{"color":"#000000","offsetX":1,"offsetY":3,"blur":3}}}},"containerOfFreeBetWins":{"type":"Container","left":690,"top":651,width:212,"children":{"background":{"type":"Bitmap","src":"MG_meters_balance_label","left":0,"top":0,"visible":true},"balanceLabel":{"type":"Text","text":"FREE BETS WIN","font":"bold 16px Calibri","color":"#C2C2C2","top":15+crunchOffset,"left":"50%","textAlign":"center","textBaseline":"middle","fontTransform":"uppercase"},"balanceValue":{"type":"Text","text":"0.00","font":"bold 20px Calibri","color":"#FFFFFF","left":"50%","textAlign":"center","textBaseline":"middle","top":34+crunchOffset,"shadow":{"color":"#000000","offsetX":1,"offsetY":3,"blur":3}}},visible:false},"containerOfWin":{"type":"Container","left":657,"top":586,width:273,"children":{"background":{"type":"Bitmap","src":"MG_meters_win","left":0,"top":0},"winLabel":{"type":"Text","text":"WIN","font":"bold 16px Calibri","color":"#C2C2C2","top":17+crunchOffset,"left":"50%","textAlign":"center","textBaseline":"middle","lineHeight":1,"fontTransform":"uppercase"},"winValue":{"type":"Text","text":"100 USD","font":"bold 20px Calibri","color":"#FFFFFF","left":"50%","textAlign":"center","textBaseline":"middle","top":40+crunchOffset,"shadow":{"color":"#000000","offsetX":1,"offsetY":3,"blur":3}}}},"freeSpinBtn":{type:"Button",left:422,top:582,spriteSheet:{"images":["free_spin_button"],"frames":{"width":117,"height":116},"animations":{"normal":[2],"hover":[2],"clicked":[2],"disabled":[2]}},visible:false,cursor:null},"spinCounter":{type:"Text",text:"50","font":"bold 30pt Calibri","color":"#FFFFFF","left":"52.9%",top:642+crunchOffset,"textAlign":"center","textBaseline":"middle","shadow":{"color":"#000000","offsetX":1,"offsetY":3,"blur":3},"visible":false},"containerOfTotalWin":{"type":"Container","left":101,"top":586,"visible":false,"children":{"background":{"type":"Bitmap","src":"MG_meters_win","left":0,"top":0,"visible":true},"totalWinLabel":{"type":"Text","text":"TOTAL WIN","font":"bold 16px Calibri","color":"#C2C2C2","top":17+crunchOffset,"left":"50%","textAlign":"center","textBaseline":"middle"},"totalWinValue":{"type":"Text","text":"100 USD","font":"bold 20px Calibri","color":"#FFFFFF","left":"50%","textAlign":"center","textBaseline":"middle","top":40+crunchOffset,"shadow":{"color":"#000000","offsetX":1,"offsetY":3,"blur":3}}}},"containerOfBonusBet":{"type":"Container",top:651,left:236,"visible":false,"children":{"background":{"type":"Bitmap","src":"MG_meters_balance_label","left":0,"top":0},"betBonusLabel":{"type":"Text","text":"TOTAL BET","font":"bold 16px Calibri","color":"#C2C2C2","left":"50%","textAlign":"center","textBaseline":"middle","top":15+crunchOffset},"betBonusValue":{"type":"Text","text":"0.01","font":"bold 20px Calibri","color":"#FFFFFF","left":"50%","textAlign":"center","textBaseline":"middle","top":34+crunchOffset,"shadow":{"color":"#000000","offsetX":1,"offsetY":3,"blur":3}}}},autoPlaySettingsContainer:_autoPlayUI.autoPlaySettingsContainer,autoPlayCounterContainer:_autoPlayUI.autoPlayCounterContainer,autoPlayAdvancedSettingsContainer:_autoPlayUI.autoPlayAdvancedSettingsContainer}};exports.default=config;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var currentBrowser=/Chrome/.test(navigator.userAgent)?"chrome":/Firefox/.test(navigator.userAgent)?"mozilla":"other",currentOS=/Win/.test(navigator.platform)?"windows":"normal",crunchOffset=0;if(currentBrowser==="chrome"&&currentOS==="windows"){crunchOffset=-3;}else if(currentBrowser==="mozilla"){if(currentOS==="windows"){crunchOffset=-3;}else{crunchOffset=-1;}}
var styles={label:{font:"13pt Calibri",color:"#FFFFFF"}};var autoPlayValueContainer={"type":"Container","left":0,"top":0,"cursor":"pointer","children":{"background":{"type":"Bitmap","src":"UI_panel_autogame_value","left":0,"top":0},"autoPlayValue":{"type":"Text","text":"100","font":"bold 14px Calibri","color":"#FFFFFF","top":"56.5%","left":"50%","textAlign":"center","textBaseline":"middle"}}};var autoPlayValueContainer1=getClone(autoPlayValueContainer);var autoPlayValueContainer2=getClone(autoPlayValueContainer);var autoPlayValueContainer3=getClone(autoPlayValueContainer);var autoPlayValueContainer4=getClone(autoPlayValueContainer);var autoPlayValueContainer5=getClone(autoPlayValueContainer);var autoPlayValueContainer6=getClone(autoPlayValueContainer);var autoPlayValueContainer7=getClone(autoPlayValueContainer);var autoPlayValueContainer8=getClone(autoPlayValueContainer);autoPlayValueContainer1.left=10;autoPlayValueContainer1.top=49;autoPlayValueContainer1.children.autoPlayValue.text=10;autoPlayValueContainer2.left="28%";autoPlayValueContainer2.top=49;autoPlayValueContainer2.children.autoPlayValue.text=25;autoPlayValueContainer3.left="51%";autoPlayValueContainer3.top=49;autoPlayValueContainer3.children.autoPlayValue.text=50;autoPlayValueContainer4.left="74%";autoPlayValueContainer4.top=49;autoPlayValueContainer4.children.autoPlayValue.text=100;autoPlayValueContainer5.left="5%";autoPlayValueContainer5.top=110;autoPlayValueContainer5.children.autoPlayValue.text=200;autoPlayValueContainer6.left="28%";autoPlayValueContainer6.top=110;autoPlayValueContainer6.children.autoPlayValue.text=500;autoPlayValueContainer7.left="51%";autoPlayValueContainer7.top=110;autoPlayValueContainer7.children.autoPlayValue.text=1000;autoPlayValueContainer8.left="74%";autoPlayValueContainer8.top=110;autoPlayValueContainer8.children.autoPlayValue.text=":char:8734";autoPlayValueContainer8.children.autoPlayValue.font="bold 23pt Calibri";autoPlayValueContainer8.children.autoPlayValue.top=16+crunchOffset;var autoPlayCounterContainer=getClone(autoPlayValueContainer);autoPlayCounterContainer.left=578;autoPlayCounterContainer.top=570;autoPlayCounterContainer.visible=false;autoPlayCounterContainer.cursor="";exports.autoPlayCounterContainer=autoPlayCounterContainer;var autoPlaySettingsContainer={"type":"Container","left":498,"top":391,"zIndex":5,visible:false,"children":{"background":{"type":"Bitmap","src":"UI_panel_autogame","left":0,"top":0,"visible":true},"AutoPlayLabel":{"type":"Text","text":"auto_play_head","font":"bold 12pt Calibri","color":"#FFFFFF","top":6+crunchOffset,"left":"5%","fontTransform":"uppercase"},"numberOfWavesLabel":{"type":"Text","text":"Number of waves","font":styles.label.font,"color":styles.label.color,"left":10,"top":31+crunchOffset},"selectToStartLabel":{"type":"Text","text":"Select to start","font":styles.label.font,"color":styles.label.color,"left":10,"top":92+crunchOffset},"advancedSettingsContainer":{type:"Container",top:153,width:140,height:30,left:55,"cursor":"pointer",backgroundClickable:true,mouseChildren:false,children:{"advancedSettingsLabel":{"type":"Text","text":"Advanced settings","font":styles.label.font,"color":styles.label.color,"textAlign":"left",top:30*0.52+crunchOffset,"textBaseline":"middle"},"advancedSettingsIcon":{"type":"Bitmap","src":"UI_panel_settings","align":"right",verticalAlign:"middle"}}},autoPlayValueContainer1:autoPlayValueContainer1,autoPlayValueContainer2:autoPlayValueContainer2,"asd":{type:"Text"},"1asd":{type:"Text"},autoPlayValueContainer3:autoPlayValueContainer3,autoPlayValueContainer4:autoPlayValueContainer4,autoPlayValueContainer5:autoPlayValueContainer5,autoPlayValueContainer6:autoPlayValueContainer6,autoPlayValueContainer7:autoPlayValueContainer7,autoPlayValueContainer8:autoPlayValueContainer8}};exports.autoPlaySettingsContainer=autoPlaySettingsContainer;var defaultLabel={type:"Text",font:"14px Calibri",color:"#FFFFFF",left:26,top:"53%",width:"100%","textBaseline":"middle"};var defaultCheckBox={type:"Checkbox",scaleX:1.3,scaleY:1.3,spriteSheet:{images:["UI_panel_checkbox-sprite"],"frames":{width:20,height:17},animations:{normal:[1],clicked:[0]}},left:0};var defaultCheckBoxContainer={type:"CheckboxContainer",top:"14%",left:"6%",backgroundColor:"#FFF",children:{"checkBox":defaultCheckBox,"label":defaultLabel}};var onAnyWinCheckBox=getClone(defaultCheckBoxContainer);onAnyWinCheckBox.children.label.text="on any win";onAnyWinCheckBox.top="15%";var ifFreeWavesIsWonCheckBox=getClone(defaultCheckBoxContainer);ifFreeWavesIsWonCheckBox.children.label.text="if free waves is won";ifFreeWavesIsWonCheckBox.top="29%";var ifBonusIsWonCheckBox=getClone(defaultCheckBoxContainer);ifBonusIsWonCheckBox.children.label.text="if bonus is won";ifBonusIsWonCheckBox.top="43%";var ifSingleWinExceedsCheckBox=getClone(defaultCheckBoxContainer);ifSingleWinExceedsCheckBox.children.label.text="if single win exceeds";ifSingleWinExceedsCheckBox.top="57%";ifSingleWinExceedsCheckBox.visible=false;var ifCashIncreasesByCheckBox=getClone(defaultCheckBoxContainer);ifCashIncreasesByCheckBox.children.label.text="if cash increases by";ifCashIncreasesByCheckBox.top="71%";ifCashIncreasesByCheckBox.visible=false;var ifCashDecreasesByCheckBox=getClone(defaultCheckBoxContainer);ifCashDecreasesByCheckBox.children.label.text="if cash decreases by";ifCashDecreasesByCheckBox.top="85%";ifCashDecreasesByCheckBox.visible=false;var currencyContainer={"type":"Container",left:169,width:65,children:{"valueContainer":{type:"Input",top:0,left:0,fontSize:11,fontFamily:'Arial',fontColor:'#000',fontWeight:'bold',width:40,padding:2,borderWidth:0,backgroundColor:"none",boxShadow:"none",innerShadow:"none",maxlength:6,backgroundImage:"UI_panel_currencybox"},"currencyLabel":{"type":"Text","text":"USD","font":"11px Calibri","color":"#FFFFFF","top":"55%","left":47,"textBaseline":"middle"}},visible:false};var ifSingleWinExceedsCurrency=getClone(currencyContainer);ifSingleWinExceedsCurrency.top="58%";var ifCacheIncreasesByCurrency=getClone(currencyContainer);ifCacheIncreasesByCurrency.top="72%";var ifCacheDecreasesByCurrency=getClone(currencyContainer);ifCacheDecreasesByCurrency.top="86%";var autoPlayAdvancedSettingsContainer={"type":"Container","left":690,"top":391,visible:false,"children":{"background":{"type":"Bitmap","src":"UI_panel_autogame_custom","left":0,"top":0},"stopAutoPlayLabel":{"type":"Text","text":"Stop autoplay:","font":"12pt Calibri","color":"#FFFFFF","top":6+crunchOffset,"left":14},onAnyWinCheckBox:onAnyWinCheckBox,ifFreeWavesIsWonCheckBox:ifFreeWavesIsWonCheckBox,ifBonusIsWonCheckBox:ifBonusIsWonCheckBox,"asd":{type:"Text"},"1asd":{type:"Text"},ifSingleWinExceedsCheckBox:ifSingleWinExceedsCheckBox,ifCashIncreasesByCheckBox:ifCashIncreasesByCheckBox,ifCashDecreasesByCheckBox:ifCashDecreasesByCheckBox,ifSingleWinExceedsCurrency:ifSingleWinExceedsCurrency,ifCacheIncreasesByCurrency:ifCacheIncreasesByCurrency,ifCacheDecreasesByCurrency:ifCacheDecreasesByCurrency}};exports.autoPlayAdvancedSettingsContainer=autoPlayAdvancedSettingsContainer;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var freeGameControlConfig={containerOfMaxBet:{visible:false},containerOfAutoPlay:{visible:false},containerOfAutoStop:{visible:false},autoPlayCounterContainer:{visible:false},containerOfBet:{visible:false},containerOfLines:{visible:false},freeSpinBtn:{visible:true},spinBtn:{visible:false},"containerOfTotalBet":{visible:true,width:210,left:102},"containerOfTotalBet.background":{width:210},containerOfWin:{visible:true,left:564,width:295},"containerOfWin.background":{width:295},containerOfBalance:{left:648,visible:true},containerOfTotalWin:{left:101,visible:true},spinCounter:{visible:true},infoBtn:{visible:true},containerOfQuickSpin:{visible:true},containerOfBonusBet:{visible:false},containerOfFreeBetWins:{visible:false}};var mainGameControlConfig={containerOfMaxBet:{visible:true},containerOfAutoPlay:{visible:true},containerOfBet:{visible:true},containerOfLines:{visible:true},"containerOfTotalBet":{visible:true,width:181,left:71},spinBtn:{visible:true},infoBtn:{visible:true},containerOfQuickSpin:{visible:true},containerOfWin:{left:657,visible:true,width:273},freeSpinBtn:{visible:false},spinCounter:{visible:false},containerOfTotalWin:{visible:false},containerOfBonusBet:{visible:false},"containerOfWin.background":{width:""},"containerOfTotalBet.background":{width:""},containerOfBalance:{left:689,visible:true},containerOfFreeBetWins:{visible:false}};var bonusGameControlConfig={containerOfMaxBet:{visible:false},containerOfAutoPlay:{visible:false},containerOfAutoStop:{visible:false},autoPlayCounterContainer:{visible:false},infoBtn:{visible:false},containerOfQuickSpin:{visible:false},containerOfBet:{visible:false},containerOfLines:{visible:false},freeSpinBtn:{visible:false},spinBtn:{visible:false},"containerOfTotalBet":{visible:false},containerOfWin:{visible:false},spinCounter:{visible:false},containerOfBonusBet:{visible:true},containerOfTotalWin:{visible:true,left:344},containerOfBalance:{visible:true,left:520},containerOfFreeBetWins:{visible:false}};var freeBetsGameControlConfig={containerOfBalance:{visible:false},containerOfFreeBetWins:{visible:true,left:690}};var freeBetsFreeGameControlConfig={containerOfBalance:{visible:false},containerOfFreeBetWins:{visible:true,left:648}};var freeBetsBonusGameControlConfig={containerOfBalance:{visible:false},containerOfFreeBetWins:{visible:true,left:563}};exports.mainGameControlConfig=mainGameControlConfig;exports.freeGameControlConfig=freeGameControlConfig;exports.bonusGameControlConfig=bonusGameControlConfig;exports.freeBetsGameControlConfig=freeBetsGameControlConfig;exports.freeBetsFreeGameControlConfig=freeBetsFreeGameControlConfig;exports.freeBetsBonusGameControlConfig=freeBetsBonusGameControlConfig;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _reelHandlerEs=__webpack_require__(154);var _reelHandlerEs2=_interopRequireDefault(_reelHandlerEs);var _config=__webpack_require__(171);var _config2=_interopRequireDefault(_config);var _defaultConfig=__webpack_require__(174);var _defaultConfig2=_interopRequireDefault(_defaultConfig);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var DesktopReelHandler=function(_ReelHandler){_inherits(DesktopReelHandler,_ReelHandler);function DesktopReelHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,DesktopReelHandler);return _possibleConstructorReturn(this,(DesktopReelHandler.__proto__||Object.getPrototypeOf(DesktopReelHandler)).call(this,data,_config2.default));}
return DesktopReelHandler;}(_reelHandlerEs2.default);exports.default=DesktopReelHandler;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _atlasConfig=__webpack_require__(172);var _atlasConfig2=_interopRequireDefault(_atlasConfig);var _reelAnimationsAtlasConfig=__webpack_require__(173);var _reelAnimationsAtlasConfig2=_interopRequireDefault(_reelAnimationsAtlasConfig);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var config={reelAnimationsAtlasConfig:_reelAnimationsAtlasConfig2.default,"children":{"slotMachine":{"type":"SlotMachine","left":130,"top":113,"width":700,"height":420,"distanceBetweenReels":0,"blurCoefficient":15,"delayBetweenReelsStart":0,"delayBetweenReelsStop":200,quickMode:{"delayBetweenReelsStart":0,"delayBetweenReelsStop":0},atlas:_atlasConfig2.default,"defaultReel":{"left":"auto","top":0,"width":140,"height":420,"numOfRows":5,"rowHeight":140,"distanceBetweenRows":0,"animation":"standard","numOfSymbols":14,"blurWhileRun":true,"speed":3500,"intrigueSpeed":4000,startParabolaSize:0,startParabolaTime:0,endParabolaSize:40,endParabolaTime:80,quickMode:{"speed":5000,startParabolaSize:0,startParabolaTime:0,endParabolaSize:40,endParabolaTime:40},intrigueMode:{"speed":6000},"defaultTypeOfSymbol":"def","symbols":{"1":{"types":["def","blur","short"],"name":"el_10"},"2":{"types":["def","blur","short"],"name":"el_J"},"3":{"types":["def","blur","short"],"name":"el_Q"},"4":{"types":["def","blur","short"],"name":"el_K"},"5":{"types":["def","blur","short"],"name":"el_A"},"6":{"types":["def","blur","short"],"name":"el_scorpion"},"7":{"types":["def","blur","short"],"name":"el_cobra"},"8":{"types":["def","blur","short"],"name":"el_black_cat"},"9":{"types":["def","blur","short"],"name":"el_Nefertiti"},"10":{"name":"wild_pharaon_simple","types":["def","blur"]},"11":{"name":"wild_pharaon_red","types":["def","blur","short"]},"12":{"name":"wild_pharaon_gold","types":["def","blur","short"]},"13":{"name":"scatter","types":["def","blur","short"]},"14":{"name":"bonus","types":["def","blur","short"]}},"symbolTypes":{"def":{"scale":1},"disable":{"scale":1},"blur":{"scale":1.33},"short":{"scale":1.33,"framerate":27},"freez":{"scale":1,"framerate":27},"disable_freespins":{"scale":1}},allowedSymbolTypes:{"default":{"def":"def","short":"short","disable":"disable","blur":"blur"},"freespins":{"def":"def","short":"short","disable":"disable_freespins","blur":"blur"}},bigWild:{enable:false,scale:1,framerate:25},"fps":60},"reels":[{"animation":"standard",allowedSymbols:{spins:[1,2,3,4,5,6,7,8,9],freespins:[1,2,3,4,5,6,7,8,9]}},{"animation":"standard",allowedSymbols:{spins:[1,2,3,4,5,6,7,8,10,11],freespins:[1,2,3,4,5,6,7,8,10]}},{"animation":"standard",allowedSymbols:{spins:[1,2,3,4,5,6,7,8,9,11],freespins:[1,2,3,4,5,6,7,8,9]}},{"animation":"standard",allowedSymbols:{spins:[1,2,3,4,5,6,7,8,10,11],freespins:[1,2,3,4,5,6,7,8,10]}},{"animation":"standard",allowedSymbols:{spins:[1,2,3,4,5,6,7,8,9],freespins:[1,2,3,4,5,6,7,8,9]}}]}}};exports.default=config;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var atlas={"images":["atlas","atlasMini","atlasFreespinsDisable"],"frames":[[1,1,105,105,0,0,0],[1,108,105,105,0,0,0],[108,1,105,105,0,0,0],[1,215,105,105,0,0,0],[108,108,105,105,0,0,0],[215,1,105,105,0,0,0],[1,322,105,105,0,0,0],[108,215,105,105,0,0,0],[215,108,105,105,0,0,0],[322,1,105,105,0,0,0],[1,429,105,105,0,0,0],[108,322,105,105,0,0,0],[215,215,105,105,0,0,0],[322,108,105,105,0,0,0],[429,1,105,105,0,0,0],[1,536,105,105,0,0,0],[108,429,105,105,0,0,0],[215,322,105,105,0,0,0],[322,215,105,105,0,0,0],[429,108,105,105,0,0,0],[536,1,105,105,0,0,0],[1,643,105,105,0,0,0],[108,536,105,105,0,0,0],[215,429,105,105,0,0,0],[322,322,105,105,0,0,0],[429,215,105,105,0,0,0],[536,108,105,105,0,0,0],[643,1,105,105,0,0,0],[1,750,105,105,0,0,0],[108,643,105,105,0,0,0],[215,536,105,105,0,0,0],[322,429,105,105,0,0,0],[429,322,105,105,0,0,0],[536,215,105,105,0,0,0],[643,108,105,105,0,0,0],[750,1,105,105,0,0,0],[1,857,105,105,0,0,0],[108,750,105,105,0,0,0],[215,643,105,105,0,0,0],[322,536,105,105,0,0,0],[429,429,105,105,0,0,0],[536,322,105,105,0,0,0],[643,215,105,105,0,0,0],[750,108,105,105,0,0,0],[857,1,105,105,0,0,0],[1,964,105,105,0,0,0],[108,857,105,105,0,0,0],[215,750,105,105,0,0,0],[322,643,105,105,0,0,0],[429,536,105,105,0,0,0],[536,429,105,105,0,0,0],[643,322,105,105,0,0,0],[750,215,105,105,0,0,0],[857,108,105,105,0,0,0],[964,1,105,105,0,0,0],[1,1071,105,105,0,0,0],[108,964,105,105,0,0,0],[215,857,105,105,0,0,0],[322,750,105,105,0,0,0],[429,643,105,105,0,0,0],[536,536,105,105,0,0,0],[643,429,105,105,0,0,0],[750,322,105,105,0,0,0],[857,215,105,105,0,0,0],[964,108,105,105,0,0,0],[1071,1,105,105,0,0,0],[1,1178,105,105,0,0,0],[108,1071,105,105,0,0,0],[215,964,105,105,0,0,0],[322,857,105,105,0,0,0],[429,750,105,105,0,0,0],[536,643,105,105,0,0,0],[643,536,105,105,0,0,0],[750,429,105,105,0,0,0],[857,322,105,105,0,0,0],[964,215,105,105,0,0,0],[1071,108,105,105,0,0,0],[1178,1,105,105,0,0,0],[1,1285,105,105,0,0,0],[108,1178,105,105,0,0,0],[215,1071,105,105,0,0,0],[322,964,105,105,0,0,0],[429,857,105,105,0,0,0],[536,750,105,105,0,0,0],[643,643,105,105,0,0,0],[750,536,105,105,0,0,0],[857,429,105,105,0,0,0],[964,322,105,105,0,0,0],[1071,215,105,105,0,0,0],[1178,108,105,105,0,0,0],[1285,1,105,105,0,0,0],[1,1392,105,105,0,0,0],[108,1285,105,105,0,0,0],[215,1178,105,105,0,0,0],[322,1071,105,105,0,0,0],[429,964,105,105,0,0,0],[536,857,105,105,0,0,0],[643,750,105,105,0,0,0],[750,643,105,105,0,0,0],[857,536,105,105,0,0,0],[964,429,105,105,0,0,0],[1071,322,105,105,0,0,0],[1178,215,105,105,0,0,0],[1285,108,105,105,0,0,0],[1392,1,105,105,0,0,0],[1,1499,105,105,0,0,0],[108,1392,105,105,0,0,0],[215,1285,105,105,0,0,0],[322,1178,105,105,0,0,0],[429,1071,105,105,0,0,0],[536,964,105,105,0,0,0],[643,857,105,105,0,0,0],[750,750,105,105,0,0,0],[857,643,105,105,0,0,0],[964,536,105,105,0,0,0],[1071,429,105,105,0,0,0],[1178,322,105,105,0,0,0],[1285,215,105,105,0,0,0],[1392,108,105,105,0,0,0],[1499,1,105,105,0,0,0],[1,1606,105,105,0,0,0],[108,1499,105,105,0,0,0],[215,1392,105,105,0,0,0],[322,1285,105,105,0,0,0],[429,1178,105,105,0,0,0],[536,1071,105,105,0,0,0],[643,964,105,105,0,0,0],[750,857,105,105,0,0,0],[857,750,105,105,0,0,0],[964,643,105,105,0,0,0],[1071,536,105,105,0,0,0],[1178,429,105,105,0,0,0],[1285,322,105,105,0,0,0],[1392,215,105,105,0,0,0],[1499,108,105,105,0,0,0],[1606,1,105,105,0,0,0],[1,1713,105,105,0,0,0],[108,1606,105,105,0,0,0],[215,1499,105,105,0,0,0],[322,1392,105,105,0,0,0],[429,1285,105,105,0,0,0],[536,1178,105,105,0,0,0],[643,1071,105,105,0,0,0],[750,964,105,105,0,0,0],[857,857,105,105,0,0,0],[964,750,105,105,0,0,0],[1071,643,105,105,0,0,0],[1178,536,105,105,0,0,0],[1285,429,105,105,0,0,0],[1392,322,105,105,0,0,0],[1499,215,105,105,0,0,0],[1606,108,105,105,0,0,0],[1713,1,105,105,0,0,0],[1,1820,105,105,0,0,0],[108,1713,105,105,0,0,0],[215,1606,105,105,0,0,0],[322,1499,105,105,0,0,0],[429,1392,105,105,0,0,0],[536,1285,105,105,0,0,0],[643,1178,105,105,0,0,0],[750,1071,105,105,0,0,0],[857,964,105,105,0,0,0],[964,857,105,105,0,0,0],[1071,750,105,105,0,0,0],[1178,643,105,105,0,0,0],[1285,536,105,105,0,0,0],[1392,429,105,105,0,0,0],[1499,322,105,105,0,0,0],[1606,215,105,105,0,0,0],[1713,108,105,105,0,0,0],[1820,1,105,105,0,0,0],[1,1927,105,105,0,0,0],[108,1820,105,105,0,0,0],[215,1713,105,105,0,0,0],[322,1606,105,105,0,0,0],[429,1499,105,105,0,0,0],[536,1392,105,105,0,0,0],[643,1285,105,105,0,0,0],[750,1178,105,105,0,0,0],[857,1071,105,105,0,0,0],[964,964,105,105,0,0,0],[1071,857,105,105,0,0,0],[1178,750,105,105,0,0,0],[1285,643,105,105,0,0,0],[1392,536,105,105,0,0,0],[1499,429,105,105,0,0,0],[1606,322,105,105,0,0,0],[1713,215,105,105,0,0,0],[1820,108,105,105,0,0,0],[1927,1,105,105,0,0,0],[1,2034,105,105,0,0,0],[108,1927,105,105,0,0,0],[215,1820,105,105,0,0,0],[322,1713,105,105,0,0,0],[429,1606,105,105,0,0,0],[536,1499,105,105,0,0,0],[643,1392,105,105,0,0,0],[750,1285,105,105,0,0,0],[857,1178,105,105,0,0,0],[964,1071,105,105,0,0,0],[1071,964,105,105,0,0,0],[1178,857,105,105,0,0,0],[1285,750,105,105,0,0,0],[1392,643,105,105,0,0,0],[1499,536,105,105,0,0,0],[1606,429,105,105,0,0,0],[1713,322,105,105,0,0,0],[1820,215,105,105,0,0,0],[1927,108,105,105,0,0,0],[2034,1,105,105,0,0,0],[1,2141,105,105,0,0,0],[108,2034,105,105,0,0,0],[215,1927,105,105,0,0,0],[322,1820,105,105,0,0,0],[429,1713,105,105,0,0,0],[536,1606,105,105,0,0,0],[643,1499,105,105,0,0,0],[750,1392,105,105,0,0,0],[857,1285,105,105,0,0,0],[964,1178,105,105,0,0,0],[1071,1071,105,105,0,0,0],[1178,964,105,105,0,0,0],[1285,857,105,105,0,0,0],[1392,750,105,105,0,0,0],[1499,643,105,105,0,0,0],[1606,536,105,105,0,0,0],[1713,429,105,105,0,0,0],[1820,322,105,105,0,0,0],[1927,215,105,105,0,0,0],[2034,108,105,105,0,0,0],[2141,1,105,104,0,0,-1],[1,2248,105,104,0,0,0],[108,2141,104,105,0,-1,0],[215,2034,104,105,0,-1,0],[322,1927,105,104,0,0,-1],[429,1820,105,104,0,0,0],[536,1713,104,105,0,0,0],[643,1606,104,105,0,-1,0],[750,1499,104,105,0,-1,0],[857,1392,105,104,0,0,-1],[964,1285,105,104,0,0,0],[1071,1178,104,105,0,-1,0],[1178,1071,104,105,0,-1,0],[1285,964,104,105,0,0,0],[1392,857,105,104,0,0,-1],[1499,750,105,104,0,0,-1],[1606,643,105,104,0,0,-1],[1713,536,105,104,0,0,-1],[1820,429,105,104,0,0,-1],[1927,322,105,104,0,0,-1],[2034,215,105,104,0,0,-1],[2141,107,105,104,0,0,-1],[2248,1,105,104,0,0,0],[1,2354,105,104,0,0,0],[108,2248,104,105,0,0,0],[214,2141,104,105,0,0,0],[429,1926,105,104,0,0,0],[642,1713,105,104,0,0,0],[749,1606,105,104,0,0,0],[964,1391,105,104,0,0,0],[1177,1178,105,103,0,0,-2],[536,1820,103,105,0,-1,0],[1071,1285,103,105,0,-1,0],[1284,1071,105,103,0,0,0],[1499,856,105,103,0,0,0],[1606,749,105,103,0,0,0],[1713,642,103,105,0,0,0],[1820,535,103,105,0,0,0],[1927,428,105,103,0,0,-2],[2034,321,105,103,0,0,-2],[2141,213,105,103,0,0,-2],[2248,107,105,103,0,0,-2],[2355,1,104,104,0,0,0],[1,2460,104,104,0,0,0],[214,2248,104,104,0,0,0],[749,1712,101,105,0,-2,0],[1284,1176,101,105,0,-2,0],[1606,854,101,105,0,-2,0],[1818,642,101,105,0,-2,0],[2034,426,101,105,0,-2,0],[2141,318,101,105,0,-2,0],[1,2566,101,105,0,-2,0],[1713,749,105,101,0,0,-4],[2248,212,102,104,0,-1,-1],[2244,318,101,105,0,-2,0],[108,2355,103,103,0,-2,0],[536,1927,103,103,0,-2,0],[2461,1,105,101,0,0,-4],[2568,1,105,101,0,0,-4],[1071,1392,103,103,0,-1,-1],[2355,107,103,103,0,-1,-1],[2352,212,105,101,0,0,-4],[107,2460,103,103,0,-1,-1],[1820,749,101,105,0,-2,0],[1,2673,104,71,0,-1,-34],[1921,642,97,105,0,-4,0],[1925,535,97,105,0,-4,0],[2024,533,105,101,0,0,-4],[1923,749,97,105,0,-4,0],[1713,852,105,86,0,0,-19],[1820,856,105,86,0,0,-19],[1927,856,101,101,0,-2,-2],[1709,940,105,88,0,0,-17],[1816,944,105,88,0,0,-17],[1923,959,105,91,0,0,-14],[2024,636,105,99,0,0,-6],[2022,737,103,103,0,-1,-1],[2030,842,101,104,0,-2,-1],[2030,948,103,102,0,-1,-3],[2127,737,98,103,0,-3,-2],[2133,842,98,103,0,-3,-2],[2135,947,98,103,0,-3,-2],[2131,533,103,103,0,-1,-1],[2131,638,99,97,0,-3,-5],[2227,737,103,103,0,-1,-1],[2233,842,103,103,0,-1,-1],[2235,947,103,103,0,-1,-1],[2232,638,99,97,0,-3,-5],[2332,737,103,103,0,-1,-1],[2338,842,103,102,0,-1,-3],[2340,946,102,102,0,-2,-3],[2461,104,105,86,0,0,-19],[2568,104,105,86,0,0,-19],[2460,192,105,88,0,0,-17],[2567,192,105,88,0,0,-17],[2459,282,105,91,0,0,-14],[2566,282,105,99,0,0,-6],[2352,315,105,86,0,0,-19],[2459,375,105,86,0,0,-19],[2566,383,105,88,0,0,-17],[2347,403,105,88,0,0,-17],[2454,463,105,91,0,0,-14],[2561,473,105,99,0,0,-6],[2236,556,101,80,0,-2,-25],[2333,638,99,97,0,-3,-5],[2339,556,101,80,0,-2,-25],[2442,556,105,99,0,0,-3],[2549,574,105,98,0,0,-4],[2656,574,95,98,0,-5,-3],[2434,657,104,71,0,-1,-34],[2437,730,102,102,0,-2,-3],[2443,834,102,102,0,-2,-3],[2444,938,103,102,0,-1,-3],[2541,674,103,102,0,-1,-3],[2646,674,105,99,0,0,-3],[2547,778,102,102,0,-2,-3],[2651,775,100,100,0,-2,-5],[2651,877,100,100,0,-2,-5],[2549,882,99,100,0,-3,-2],[2650,979,101,101,0,-2,-2],[2549,984,99,98,0,-3,-3],[2650,1082,101,101,0,-2,-2],[2444,1042,103,101,0,-2,-4],[2549,1084,99,99,0,-3,-2],[2340,1050,102,101,0,-2,-4],[2444,1145,103,101,0,-2,-4],[2549,1185,104,65,0,-1,-40],[2655,1185,96,99,0,-5,-4],[1499,961,104,65,0,-1,-40],[1605,961,102,101,0,-2,-4],[1709,1030,104,64,0,-1,-41],[1815,1034,104,82,0,-1,-23],[1921,1052,104,82,0,-1,-23],[2027,1052,104,83,0,-1,-22],[2133,1052,104,83,0,-1,-22],[2239,1052,99,99,0,-3,-2],[852,1712,102,102,0,-2,-3],[2137,426,102,102,0,-2,-3],[2241,425,104,83,0,-1,-22],[1177,1283,104,65,0,-1,-40],[1176,1350,103,102,0,0,-3],[1283,1283,102,101,0,-2,-4],[1281,1386,104,82,0,-1,-23],[1176,1454,103,101,0,-2,-4],[1281,1470,103,100,0,-2,-5],[1387,1176,103,102,0,-1,-1],[1387,1280,103,102,0,-1,-1],[1387,1384,103,100,0,0,-5],[1386,1486,103,100,0,0,-5],[852,1816,102,101,0,-2,-4],[322,2033,104,64,0,-1,-41],[321,2099,104,64,0,-1,-41],[320,2165,103,102,0,-1,-1],[320,2269,103,102,0,-1,-1],[214,2354,104,82,0,-1,-23],[320,2373,104,65,0,-1,-40],[213,2438,104,64,0,-1,-41],[319,2440,104,64,0,-1,-41],[212,2504,104,71,0,-1,-34],[318,2506,104,82,0,-1,-23],[429,2032,104,82,0,-1,-23],[535,2032,102,101,0,-2,-4],[427,2116,102,101,0,-2,-4],[425,2219,102,101,0,0,-4],[531,2135,102,100,0,-1,-5],[529,2237,101,101,0,-2,-2],[426,2322,101,101,0,-2,-3],[529,2340,101,101,0,-2,-2],[426,2425,101,101,0,-2,-4],[529,2443,101,101,0,-2,-4],[424,2528,101,101,0,-2,-4],[527,2546,101,101,0,-2,-4],[104,2566,101,101,0,-2,-4],[107,2669,89,82,0,-8,-12],[207,2577,101,100,0,-2,-5],[310,2590,101,100,0,-2,-5],[413,2631,101,100,0,-2,-5],[516,2649,101,100,0,-2,-5],[619,2649,101,100,0,-2,-5],[630,2546,101,101,0,-2,-4],[722,2649,101,101,0,-2,-4],[635,2135,101,101,0,-2,-4],[639,2032,101,101,0,-2,-4],[632,2238,101,101,0,-2,-4],[632,2341,101,101,0,-2,-2],[632,2444,101,100,0,-2,-5],[733,2546,101,101,0,-2,-2],[825,2649,101,101,0,-2,-2],[738,2135,101,101,0,-2,-2],[735,2238,101,101,0,-2,-3],[735,2341,101,101,0,-2,-2],[735,2444,101,100,0,-2,-5],[836,2546,101,101,0,-2,-2],[928,2649,101,101,0,-2,-2],[838,2238,101,101,0,-2,-2],[838,2341,101,101,0,-2,-2],[838,2444,101,100,0,-2,-5],[939,2546,101,101,0,-2,-3],[1031,2649,101,101,0,-2,-2],[857,1498,101,100,0,-2,-5],[856,1600,101,101,0,-2,-2],[960,1498,101,100,0,-2,-5],[959,1600,101,101,0,-2,-2],[1063,1497,101,101,0,-2,-2],[1062,1600,101,101,0,-2,-2],[956,1703,101,101,0,-2,-3],[956,1806,101,101,0,-2,-2],[1059,1703,101,101,0,-2,-2],[1059,1806,101,101,0,-2,-2],[1166,1557,101,80,0,-2,-25],[1165,1639,101,101,0,-2,-2],[1162,1742,101,101,0,-2,-2],[1162,1845,101,101,0,-2,-3],[641,1948,89,82,0,-8,-12],[1269,1572,101,101,0,-2,-2],[1372,1588,101,101,0,-2,-2],[1268,1675,101,101,0,-2,-2],[1265,1778,101,101,0,-2,-2],[1371,1691,101,101,0,-2,-2],[1368,1794,101,101,0,-2,-2],[1265,1881,101,101,0,-2,-2],[1368,1897,101,101,0,-2,-2],[1475,1588,101,101,0,-2,-2],[1474,1691,101,101,0,-2,-2],[1471,1794,101,101,0,-2,-2],[1471,1897,101,101,0,-2,-2],[1491,1486,99,100,0,-3,-2],[1578,1588,101,101,0,-2,-2],[1577,1691,101,101,0,-2,-2],[1574,1794,101,101,0,-2,-2],[1574,1897,101,101,0,-2,-2],[956,1909,101,101,0,-2,-2],[1059,1909,101,101,0,-2,-2],[1162,1948,101,101,0,-2,-2],[1265,1984,101,101,0,-2,-2],[1368,2000,101,101,0,-2,-2],[1471,2000,101,101,0,-2,-2],[1574,2000,101,101,0,-2,-2],[742,2051,89,82,0,-8,-12],[1677,1794,101,101,0,-2,-2],[1677,1897,101,101,0,-2,-2],[1677,2000,101,101,0,-2,-2],[1680,1691,101,101,0,-2,-2],[1780,1794,101,101,0,-2,-2],[1780,1897,101,101,0,-2,-2],[1780,2000,101,101,0,-2,-2],[1391,964,101,101,0,-2,-2],[1391,1067,101,101,0,-2,-2],[1494,1028,101,101,0,-2,-2],[1597,1064,101,101,0,-2,-2],[1494,1131,101,101,0,-2,-2],[1492,1234,101,101,0,-2,-2],[1492,1337,101,101,0,-2,-2],[1597,1167,101,101,0,-2,-2],[1595,1270,101,101,0,-2,-2],[1700,1096,101,101,0,-2,-2],[1700,1199,101,101,0,-2,-2],[1803,1118,101,101,0,-2,-2],[1803,1221,101,101,0,-2,-2],[1906,1136,101,101,0,-2,-2],[1906,1239,101,101,0,-2,-2],[2009,1137,101,101,0,-2,-2],[2112,1137,101,101,0,-2,-2],[2009,1240,101,101,0,-2,-2],[2112,1240,101,101,0,-2,-2],[2215,1153,99,100,0,-3,-2],[2316,1153,99,99,0,-3,-2],[2215,1255,99,95,0,-3,-3],[2316,1254,99,99,0,-3,-3],[2417,1248,99,99,0,-3,-2],[1698,1302,99,94,0,-3,-11],[1799,1324,99,94,0,-3,-11],[1900,1342,99,94,0,-3,-11],[2001,1343,99,95,0,-3,-3],[2102,1343,99,99,0,-3,-2],[2203,1352,99,95,0,-3,-3],[2304,1355,99,99,0,-3,-3],[1595,1373,99,99,0,-3,-2],[1592,1474,99,99,0,-3,-2],[1696,1398,99,95,0,-3,-3],[1693,1495,99,99,0,-3,-3],[1681,1596,97,93,0,-4,-8],[1797,1420,99,99,0,-3,-2],[1898,1438,99,99,0,-3,-2],[1999,1440,99,98,0,-3,-3],[2100,1444,99,95,0,-3,-3],[2201,1449,99,99,0,-3,-2],[2302,1456,99,99,0,-3,-2],[1794,1521,99,99,0,-3,-2],[1895,1539,99,99,0,-3,-3],[1996,1540,99,98,0,-3,-3],[2097,1541,99,99,0,-3,-3],[2198,1550,99,99,0,-3,-3],[2299,1557,99,98,0,-3,-3],[2518,1252,99,99,0,-3,-3],[2619,1286,99,99,0,-3,-3],[1783,1622,99,99,0,-3,-3],[1884,1640,99,98,0,-3,-3],[1985,1640,99,99,0,-3,-3],[2086,1642,99,98,0,-3,-3],[2187,1651,99,99,0,-3,-3],[2288,1657,97,96,0,-4,-6],[1883,1740,96,99,0,-4,-3],[1883,1841,97,97,0,-4,-5],[1883,1940,97,97,0,-4,-5],[1981,1741,97,96,0,-4,-6],[1982,1839,94,99,0,-6,-3],[1982,1940,94,99,0,-6,-3],[2080,1742,97,96,0,-4,-6],[2078,1840,94,99,0,-6,-3],[2078,1941,95,96,0,-5,-6],[2179,1752,97,91,0,-4,-9],[2174,1845,97,93,0,-4,-8],[2175,1940,97,96,0,-4,-6],[2278,1755,97,91,0,-4,-9],[2273,1848,95,89,0,-5,-9],[2274,1939,97,96,0,-4,-6],[1883,2039,97,91,0,-4,-9],[1982,2041,97,91,0,-4,-9],[2081,2039,93,93,0,-6,-6],[2176,2038,97,93,0,-4,-8],[2275,2037,97,93,0,-4,-8],[2387,1657,93,93,0,-6,-6],[2405,1355,93,93,0,-6,-6],[2500,1353,97,93,0,-4,-8],[2599,1387,97,91,0,-4,-9],[2500,1448,97,91,0,-4,-9],[2405,1450,93,93,0,-6,-6],[2599,1480,97,91,0,-4,-9],[2500,1541,97,91,0,-4,-9],[2403,1545,95,88,0,-5,-10],[2599,1573,97,91,0,-4,-9],[2500,1634,97,91,0,-4,-9],[2599,1666,95,83,0,-5,-11],[2482,1727,95,83,0,-5,-11],[2387,1752,93,83,0,-6,-11],[2579,1751,95,83,0,-5,-11],[2482,1812,95,83,0,-5,-11],[2579,1836,95,83,0,-5,-11],[2370,1848,95,89,0,-5,-9],[2373,1939,93,93,0,-6,-6],[2374,2034,91,90,0,-7,-8],[2468,1897,95,89,0,-5,-9],[2565,1921,95,85,0,-5,-10],[2662,1921,89,88,0,-8,-9],[2468,1988,95,85,0,-5,-10],[2565,2008,95,85,0,-5,-10],[2662,2011,89,88,0,-8,-9],[2467,2075,95,85,0,-5,-10],[2564,2095,95,85,0,-5,-10],[2661,2101,89,79,0,-8,-13],[2374,2126,91,81,0,-7,-12],[2467,2162,95,83,0,-5,-11],[2564,2182,95,83,0,-5,-11],[2661,2182,89,86,0,-8,-8],[642,1819,95,83,0,-5,-11],[739,1819,95,83,0,-5,-11],[732,1904,95,88,0,-5,-10],[829,1919,95,83,0,-5,-11],[833,2004,91,90,0,-7,-8],[926,2012,95,85,0,-5,-10],[1023,2012,95,85,0,-5,-10],[1120,2051,95,85,0,-5,-10],[1217,2087,95,85,0,-5,-10],[1314,2103,95,87,0,-5,-9],[1411,2103,95,87,0,-5,-9],[1508,2103,95,87,0,-5,-9],[1605,2103,93,87,0,-6,-11],[1700,2103,93,87,0,-6,-7],[2176,2133,95,83,0,-5,-11],[2275,2132,95,83,0,-5,-11],[2372,2209,93,83,0,-6,-11],[2467,2247,95,83,0,-5,-11],[2564,2267,95,83,0,-5,-11],[2661,2270,89,81,0,-8,-13],[941,2099,95,83,0,-5,-11],[941,2184,93,88,0,-6,-11],[941,2274,93,88,0,-6,-6],[941,2364,91,90,0,-7,-8],[941,2456,93,88,0,-6,-11],[2273,2217,95,85,0,-5,-10],[2370,2294,95,85,0,-5,-10],[2467,2332,95,85,0,-5,-10],[2564,2352,95,85,0,-5,-10],[2661,2353,89,86,0,-8,-8],[1034,2364,91,90,0,-7,-8],[1036,2456,89,88,0,-8,-9],[1042,2546,91,90,0,-7,-8],[1036,2184,87,88,0,-9,-8],[1036,2274,93,88,0,-6,-6],[1125,2138,89,88,0,-8,-9],[1216,2174,95,83,0,-5,-11],[1313,2192,95,83,0,-5,-11],[1410,2192,95,83,0,-5,-11],[1507,2192,95,83,0,-5,-11],[1604,2192,95,83,0,-5,-11],[1701,2192,93,83,0,-6,-11],[1127,2364,87,88,0,-9,-8],[1127,2454,87,88,0,-9,-8],[1131,2277,91,85,0,-7,-8],[1224,2259,87,87,0,-9,-8],[1135,2544,93,88,0,-6,-11],[1313,2277,95,85,0,-5,-10],[1410,2277,95,85,0,-5,-10],[1507,2277,95,85,0,-5,-10],[1604,2277,95,85,0,-5,-10],[1701,2277,93,88,0,-6,-6],[1224,2348,87,87,0,-9,-8],[1216,2437,93,87,0,-6,-11],[1313,2364,95,83,0,-5,-11],[1410,2364,95,83,0,-5,-11],[1507,2364,95,83,0,-5,-11],[1604,2364,95,83,0,-5,-11],[1701,2367,93,83,0,-6,-11],[1311,2449,95,83,0,-5,-11],[1408,2449,95,85,0,-5,-10],[1505,2449,95,85,0,-5,-10],[1602,2449,95,85,0,-5,-10],[1699,2452,95,85,0,-5,-10],[1135,2634,93,83,0,-6,-11],[1230,2534,93,87,0,-6,-7],[1230,2623,95,85,0,-5,-10],[1325,2536,91,85,0,-7,-8],[1418,2536,93,83,0,-6,-11],[1513,2536,93,83,0,-6,-11],[1608,2536,89,86,0,-8,-8],[1699,2539,93,83,0,-6,-11],[1327,2623,91,85,0,-7,-8],[1420,2621,93,83,0,-6,-11],[1515,2621,91,83,0,-7,-11],[1608,2624,93,83,0,-6,-11],[1703,2624,93,83,0,-6,-11],[1794,2539,93,83,0,-6,-11],[1798,2624,89,86,0,-8,-8],[1889,2132,91,81,0,-7,-12],[1982,2134,93,83,0,-6,-11],[2077,2134,93,83,0,-6,-11],[1796,2132,91,85,0,-7,-8],[1796,2219,89,88,0,-8,-9],[1796,2309,89,86,0,-8,-8],[1796,2397,91,85,0,-7,-8],[1889,2215,91,81,0,-7,-12],[1887,2298,93,83,0,-6,-11],[1982,2219,93,83,0,-6,-11],[2077,2219,93,83,0,-6,-11],[2172,2218,93,83,0,-6,-11],[1982,2304,91,81,0,-7,-12],[2075,2304,91,81,0,-7,-12],[1889,2383,91,83,0,-7,-11],[1982,2387,91,81,0,-7,-12],[2075,2387,91,81,0,-7,-12],[1889,2468,91,81,0,-7,-12],[1889,2551,91,81,0,-7,-12],[1982,2470,91,81,0,-7,-12],[2075,2470,89,81,0,-8,-12],[1982,2553,89,79,0,-8,-13],[2073,2553,89,79,0,-8,-13],[1889,2634,89,79,0,-8,-13],[1980,2634,89,79,0,-8,-13],[2071,2634,89,81,0,-8,-12],[2172,2303,89,79,0,-8,-13],[2168,2384,89,81,0,-8,-12],[2263,2304,89,79,0,-8,-13],[2259,2385,89,81,0,-8,-12],[2168,2467,89,79,0,-8,-13],[2259,2468,89,81,0,-8,-12],[2166,2548,89,79,0,-8,-13],[2257,2551,89,79,0,-8,-13],[2164,2629,89,79,0,-8,-13],[2255,2632,89,81,0,-8,-12],[2350,2385,89,81,0,-8,-12],[2350,2468,89,81,0,-8,-12],[2348,2551,89,79,0,-8,-13],[2346,2632,89,81,0,-8,-12],[2441,2419,89,81,0,-8,-12],[2441,2502,89,79,0,-8,-13],[2532,2439,89,81,0,-8,-13],[2532,2522,89,79,0,-8,-13],[2439,2583,89,79,0,-8,-13],[2530,2603,89,79,0,-8,-13],[2437,2664,89,79,0,-8,-13],[2623,2441,89,81,0,-8,-12],[2623,2524,89,79,0,-8,-13],[2621,2605,89,79,0,-8,-13],[1,1,140,140,1,0,0],[1,143,140,140,1,0,0],[1,285,140,140,1,0,0],[1,427,140,140,1,0,0],[1,569,140,139,1,0,-1],[1,710,140,139,1,0,-1],[1,851,140,139,1,0,-1],[1,992,140,139,1,0,-1],[1,1133,140,139,1,0,-1],[1,1274,140,139,1,0,-1],[1,1415,132,132,1,-4,-4],[1,1549,132,132,1,-4,-4],[1,1683,132,132,1,-4,-4],[1,1817,132,132,1,-4,-4],[135,1415,132,132,1,-4,-4],[135,1549,132,132,1,-4,-4],[135,1683,132,132,1,-4,-4],[135,1817,132,132,1,-4,-4],[143,1,132,132,1,-4,-4],[143,135,132,132,1,-4,-4],[143,269,132,132,1,-4,-4],[143,403,132,132,1,-4,-4],[143,537,132,132,1,-4,-4],[143,671,132,132,1,-4,-4],[143,805,132,132,1,-4,-4],[143,939,132,132,1,-4,-4],[143,1073,132,132,1,-4,-4],[143,1207,132,132,1,-4,-4],[1,1,140,140,2,0,0],[1,143,140,140,2,0,0],[1,285,140,139,2,0,-1],[1,426,140,139,2,0,-1],[1,567,140,139,2,0,-1],[1,708,132,132,2,-4,-4],[135,708,132,132,2,-4,-4],[1,842,132,132,2,-4,-4],[135,842,132,132,2,-4,-4],[143,1,132,132,2,-4,-4],[143,135,132,132,2,-4,-4],[143,269,132,132,2,-4,-4],[143,403,132,132,2,-4,-4],[143,537,132,132,2,-4,-4]],"animations":{"blur_10":{"frames":[0]},"blur_11":{"frames":[1]},"blur_12":{"frames":[2]},"blur_13":{"frames":[3]},"blur_14":{"frames":[4]},"short_10":{"frames":[5,6,230,7,231,261,232,8,9,10,11,12,233,308,319,320,340,341,354,359,371,398,399,400,401,402,404,405,406,407,408,346,309,295,500,333,356,358,360,294,361,362,363,299,300,302,303,304,305,13]},"short_11":{"frames":[14,15,234,16,235,236,237,17,18,19,20,21,238,342,343,345,366,367,379,391,392,409,410,411,412,413,415,421,426,429,431,347,310,296,501,335,369,380,381,339,372,384,364,321,322,323,324,325,326,22]},"short_12":{"frames":[23,24,239,25,240,262,241,26,27,28,29,30,242,243,31,32,33,34,35,36,37,38,352,355,373,374,307,394,370,377,378,393,311,298,502,439,385,386,387,388,389,390,368,327,328,329,330,331,332,39]},"short_13":{"frames":[40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,244,245,246,247,248,249,250,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82]},"short_14":{"frames":[83,283,357,540,338,536,537,539,532,336,337,344,251,84,85,86,87,88,89,90,91,92,263,264,285,286,265,252,253,266,267,254,255,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109]},"short_6":{"frames":[445,519,520,521,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,256,289,290,292,375,446,447,448,449,450,451,452,453,454,455,457]},"short_7":{"frames":[458,522,523,524,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,257,272,306,312,376,459,460,461,462,463,464,465,466,467,469,470]},"short_8":{"frames":[471,525,527,526,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,258,273,314,315,382,472,473,474,475,476,477,478,479,480,481,482]},"short_9":{"frames":[483,528,529,530,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,259,274,316,318,383,484,485,486,487,488,489,490,491,492,493,494]},"short_1":{"frames":[301,349,351,395,396,282,260,497,563,580,630,685,686,574,687,688,604,584,684,581,664,571,629,659,565,601,626,597,549,598,564,566,567,568,573,575,576,578,579,560,541,544,511,531,533,350,353,365,496,397]},"short_2":{"frames":[414,416,417,418,419,287,268,503,582,689,618,690,692,577,694,691,403,614,693,671,676,589,652,643,649,653,654,606,552,607,583,585,586,588,590,591,592,593,594,545,547,548,542,535,313,498,499,504,348,420]},"short_3":{"frames":[422,423,424,425,427,288,269,505,599,695,627,696,697,616,698,699,443,655,700,677,679,608,657,656,658,660,661,609,553,619,600,602,603,605,610,611,612,613,595,569,555,556,550,538,317,506,507,508,456,428]},"short_4":{"frames":[430,432,433,434,435,291,270,509,621,701,628,702,705,620,707,703,468,663,704,680,681,615,667,662,665,666,672,631,557,636,622,623,624,625,632,633,634,635,596,572,558,559,551,543,334,510,512,513,495,436]},"short_5":{"frames":[437,438,440,441,442,297,271,515,639,708,637,709,710,668,712,713,706,669,711,682,683,617,670,678,673,674,675,638,570,650,640,641,642,644,645,646,647,648,651,587,561,562,554,546,534,514,516,517,518,444]},"blur_1":{"frames":[275]},"blur_2":{"frames":[276]},"blur_3":{"frames":[277]},"blur_4":{"frames":[278]},"blur_5":{"frames":[279]},"blur_6":{"frames":[280]},"blur_7":{"frames":[281]},"blur_8":{"frames":[282]},"blur_9":{"frames":[283]},"def_13":{"frames":[714]},"def_14":{"frames":[715]},"disable_13":{"frames":[716]},"disable_14":{"frames":[717]},"def_10":{"frames":[718]},"def_11":{"frames":[719]},"def_12":{"frames":[720]},"disable_10":{"frames":[721]},"disable_11":{"frames":[722]},"disable_12":{"frames":[723]},"def_1":{"frames":[724]},"def_2":{"frames":[725]},"def_3":{"frames":[726]},"def_4":{"frames":[727]},"def_5":{"frames":[728]},"def_6":{"frames":[729]},"def_7":{"frames":[730]},"def_8":{"frames":[731]},"def_9":{"frames":[732]},"disable_1":{"frames":[733]},"disable_2":{"frames":[734]},"disable_3":{"frames":[735]},"disable_4":{"frames":[736]},"disable_5":{"frames":[737]},"disable_6":{"frames":[738]},"disable_7":{"frames":[739]},"disable_8":{"frames":[740]},"disable_9":{"frames":[741]},"disable_freespins_14":{"frames":[742]},"disable_freespins_13":{"frames":[743]},"disable_freespins_12":{"frames":[744]},"disable_freespins_11":{"frames":[745]},"disable_freespins_10":{"frames":[746]},"disable_freespins_1":{"frames":[747]},"disable_freespins_5":{"frames":[748]},"disable_freespins_2":{"frames":[749]},"disable_freespins_4":{"frames":[750]},"disable_freespins_9":{"frames":[751]},"disable_freespins_3":{"frames":[752]},"disable_freespins_8":{"frames":[753]},"disable_freespins_7":{"frames":[754]},"disable_freespins_6":{"frames":[755]}}};exports.default=atlas;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var reelAnimationsAtlasConfig={"images":["reels_animations"],"frames":[[1,1,142,31,0,0,0],[1,34,142,31,0,0,0],[145,1,142,31,0,0,0],[1,67,142,31,0,0,0],[145,34,142,31,0,0,0],[1,100,142,31,0,0,0],[145,67,140,28,0,0,-2],[1,133,140,28,0,0,-2],[145,97,140,28,0,0,-2],[1,163,140,28,0,0,-2],[1,193,140,28,0,0,-2],[1,223,140,28,0,0,-2],[1,253,140,28,0,0,-2],[1,283,125,12,0,-4,-28],[145,127,127,40,0,-3,0],[143,169,127,36,0,-4,-4],[143,207,124,38,0,-6,-2],[143,247,125,22,0,-1,-18],[143,271,126,22,0,-4,-18]],"animations":{"top_reels_animation":{"frames":[0,1,2,3,4,5]},"freespins_reels_animation":{"frames":[6,7,8,9,10,11,12]},"main_reels_animation":{"frames":[17,18,16,14,15,13]}},framerate:15};exports.default=reelAnimationsAtlasConfig;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var dataConfig={defaultMask:{xOffsetCrunch:-100,widthCrunch:200}};exports.default=dataConfig;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ControllerEs=__webpack_require__(6);var _ControllerEs2=_interopRequireDefault(_ControllerEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var SettingsDesktopController=function(_Controller){_inherits(SettingsDesktopController,_Controller);function SettingsDesktopController(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,SettingsDesktopController);var _this=_possibleConstructorReturn(this,(SettingsDesktopController.__proto__||Object.getPrototypeOf(SettingsDesktopController)).call(this,data));_this.settingsPanelOpened=false;return _this;}
_createClass(SettingsDesktopController,[{key:"initController",value:function initController(){var _this2=this;this.handler=this.getInst("SettingsDesktopViewHandler");var btnMouseOver=function btnMouseOver(){_this2.getService("SoundService").play("audio_button_all_onMouseOver");};this.handler.querySelector("soundOnBtn").addEventListener('click',this.soundOnButtonClickAction.bind(this));this.handler.querySelector("soundOnBtn").addEventListener('mouseover',btnMouseOver);this.handler.querySelector("soundOffBtn").addEventListener('click',this.soundOffButtonClickAction.bind(this));this.handler.querySelector("settingsBtn").addEventListener('click',this.settingsButtonClickAction.bind(this));this.handler.querySelector("settingsBtn").addEventListener('mouseover',btnMouseOver);var quickSpinCheckBox=this.handler.querySelector("settingsPanel.quickSpinCheckBox");quickSpinCheckBox.addEventListener('click',function(){if(_this2.getService("SlotMachineService").getInstance().isEnableQuickMode()){_this2.getService("GameSettingsService").setLocalSettings("quick_spin",false);$_signal.goTo("-control.quickMode.disable");}else{_this2.getService("GameSettingsService").setLocalSettings("quick_spin",true);$_signal.goTo("-control.quickMode.enable");}});quickSpinCheckBox.checked=this.getService("GameSettingsService").getLocalSettings("quick_spin");var checkSoundActives=function checkSoundActives(){if(_this2.getService("SoundService").getGameSound()===false&&_this2.getService("SoundService").getGameEffects()===false){_this2.soundOff();}else{_this2.soundOn();}};checkSoundActives();var soundAmbience=this.handler.querySelector("ambienceSoundCheckBox");soundAmbience.addEventListener("click",function(e){_this2.getService("SoundService").play("audio_options");_this2.getService("SoundService").setGameSound(e.target.checked);checkSoundActives();});soundAmbience.checked=this.getService("SoundService").getGameSound();var soundEffects=this.handler.querySelector("soundEffectsCheckBox");soundEffects.addEventListener("click",function(e){_this2.getService("SoundService").play("audio_options");_this2.getService("SoundService").setGameEffects(e.target.checked);checkSoundActives();});soundEffects.checked=this.getService("SoundService").getGameEffects();}},{key:"soundOff",value:function soundOff(){this.getService("GameSettingsService").setLocalSettings("sound",false);createjs.Sound.muted=true;this.handler.showSoundOffButton();this.handler.hideSoundOnButton();}},{key:"soundOn",value:function soundOn(){this.getService("GameSettingsService").setLocalSettings("sound",true);createjs.Sound.muted=false;this.handler.showSoundOnButton();this.handler.hideSoundOffButton();}},{key:"soundOnButtonClickAction",value:function soundOnButtonClickAction(){this.soundOff();var soundAmbience=this.handler.querySelector("ambienceSoundCheckBox");soundAmbience.checked=false;this.getService("SoundService").setGameSound(false);var soundEffects=this.handler.querySelector("soundEffectsCheckBox");soundEffects.checked=false;this.getService("SoundService").setGameEffects(false);}},{key:"soundOffButtonClickAction",value:function soundOffButtonClickAction(){this.soundOn();var soundAmbience=this.handler.querySelector("ambienceSoundCheckBox");soundAmbience.checked=true;this.getService("SoundService").setGameSound(true);var soundEffects=this.handler.querySelector("soundEffectsCheckBox");soundEffects.checked=true;this.getService("SoundService").setGameEffects(true);}},{key:"settingsButtonClickAction",value:function settingsButtonClickAction(){this.getService("SoundService").play("audio_options");this.handler.toggleVisibilitySettingsPanel();}},{key:"highGraphicsCheckBoxClickAction",value:function highGraphicsCheckBoxClickAction(){this.handler.querySelector("settingsPanel.highGraphicsCheckBox.checkBox").checked=true;this.handler.querySelector("settingsPanel.mediumGraphicsCheckBox.checkBox").checked=false;this.handler.querySelector("settingsPanel.lowGraphicsCheckBox.checkBox").checked=false;this.getService("GameSettingsService").setLocalSettings("graphics_quality","high");$_view_canvas.setQuality($_view_canvas.HIGH_QUALITY);}},{key:"mediumGraphicsCheckBoxClickAction",value:function mediumGraphicsCheckBoxClickAction(){this.handler.querySelector("settingsPanel.highGraphicsCheckBox.checkBox").checked=false;this.handler.querySelector("settingsPanel.mediumGraphicsCheckBox.checkBox").checked=true;this.handler.querySelector("settingsPanel.lowGraphicsCheckBox.checkBox").checked=false;this.getService("GameSettingsService").setLocalSettings("graphics_quality","medium");$_view_canvas.setQuality($_view_canvas.MEDIUM_QUALITY);}},{key:"lowGraphicsCheckBoxClickAction",value:function lowGraphicsCheckBoxClickAction(){this.handler.querySelector("settingsPanel.highGraphicsCheckBox.checkBox").checked=false;this.handler.querySelector("settingsPanel.mediumGraphicsCheckBox.checkBox").checked=false;this.handler.querySelector("settingsPanel.lowGraphicsCheckBox.checkBox").checked=true;this.getService("GameSettingsService").setLocalSettings("graphics_quality","low");$_view_canvas.setQuality($_view_canvas.LOW_QUALITY);}},{key:"spacebarClickAction",value:function spacebarClickAction(e){if(e.keyCode===32){var protocolService=this.getService("ProtocolService");if(protocolService.isAvailableSpins()){$_signal.goTo("!control.spin.spacePlay");}}
return false;}},{key:"spacebarToSpinCheckBoxClickAction",value:function spacebarToSpinCheckBoxClickAction(e){this.getService("GameSettingsService").setLocalSettings("spacebar_click_spin",e.target.checked);if(e.target.checked){if(typeof window.top.onkeydown!="function"){window.top.addEventListener("keydown",this.spacebarClickAction.bind(this));}}else{if(typeof window.top.onkeydown=="function"){window.top.removeEventListener("keydown",this.spacebarClickAction.bind(this));}}}}]);return SettingsDesktopController;}(_ControllerEs2.default);exports.default=SettingsDesktopController;},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _EventsEs=__webpack_require__(7);var _EventsEs2=_interopRequireDefault(_EventsEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var SettingsDesktopEvent=function(_Events){_inherits(SettingsDesktopEvent,_Events);function SettingsDesktopEvent(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,SettingsDesktopEvent);return _possibleConstructorReturn(this,(SettingsDesktopEvent.__proto__||Object.getPrototypeOf(SettingsDesktopEvent)).call(this,data));}
_createClass(SettingsDesktopEvent,[{key:'run',value:function run(){this.handler=this.getInst('SettingsDesktopViewHandler');this.controller=this.getInst('SettingsDesktopController');this.setSubscriber('initGame');}},{key:'initGameEvent',value:function initGameEvent(){this.handler.initHandler();this.controller.initController();}}]);return SettingsDesktopEvent;}(_EventsEs2.default);exports.default=SettingsDesktopEvent;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ViewCanvasHandlerEs=__webpack_require__(82);var _ViewCanvasHandlerEs2=_interopRequireDefault(_ViewCanvasHandlerEs);var _ShapeEs=__webpack_require__(14);var _ShapeEs2=_interopRequireDefault(_ShapeEs);var _config=__webpack_require__(178);var _config2=_interopRequireDefault(_config);var _toolbarMessages=__webpack_require__(179);var _toolbarMessages2=_interopRequireDefault(_toolbarMessages);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var SettingsDesktopViewHandler=function(_ViewCanvasHandler){_inherits(SettingsDesktopViewHandler,_ViewCanvasHandler);function SettingsDesktopViewHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,SettingsDesktopViewHandler);var _this=_possibleConstructorReturn(this,(SettingsDesktopViewHandler.__proto__||Object.getPrototypeOf(SettingsDesktopViewHandler)).call(this,data));_this.ready=false;_this.message=null;_this.messageContainer=null;return _this;}
_createClass(SettingsDesktopViewHandler,[{key:"initHandler",value:function initHandler(){if(this.ready){return;}
this.ready=true;this.initLayout(_config2.default);this.initChildren(_config2.default.children);this.messageTweenId=null;this._hasFastMessage=false;this._contentFastMessage=null;}},{key:"showMessage",value:function showMessage(data){var _this2=this;this.initHandler();if(!data||!data.text){return;}
this.message=this.querySelector("message");this.messageContainer=this.querySelector("messageContainer");if(this.messageTweenId!==null){this.endTween(this.messageTweenId);this.messageTweenId=null;createjs.Tween.removeTweens(this.message);}
if(createjs.Tween.hasActiveTweens(this.message)){createjs.Tween.removeTweens(this.message);}
this.message.visible=true;this.message.text=data.text;this.messageContainer.setChildLeft(this.message,this.messageContainer.width+5);this.message.uncache();var rec=this.message.getBounds();var toX=-rec.width-5;var time=(rec.width+this.messageContainer.width)*21;this.message.cache(rec.x,rec.y,rec.width,rec.height);var pt=this.messageContainer.localToGlobal(0,0);rec=new createjs.Rectangle(pt.x,pt.y,this.messageContainer.width,this.messageContainer.height);if(data.static){this.messageContainer.setChildAlign("center",this.message);this.requestUpdate(rec);}else{(function(){var loop=data.loop||false;_this2.messageTweenId=_this2.startTween(rec);_this2.messageTween=createjs.Tween.get(_this2.message,{override:true,ignoreGlobalPause:true,loop:loop,paused:false}).to({x:toX},time).call(function(){$_service_ticker_tape.callback();if(!loop){_this2.endTween(_this2.messageTweenId);_this2.messageTweenId=null;}});})();}}},{key:"showStaticToolbarMessage",value:function showStaticToolbarMessage(text){var _this3=this;setTimeout(function(){_this3.showMessage({static:true,text:text});},50);}},{key:"showDynamicToolbarMessage",value:function showDynamicToolbarMessage(){var listMessages=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];this.showMessage({static:false,text:listMessages});}},{key:"showFastToolbarMessage",value:function showFastToolbarMessage(){var _this4=this;var aliasText=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(this.getService("ProtocolService").hasFreeBets()&&this.getService("ProtocolService").getCurrentAction()==="spins"){return;}
this.fastMessage=this.querySelector("fastMessage");var messageContainer=this.querySelector("fastMessageContainer");if(!this.fastMessage){return;}
this.fastMessage.setText("");this.fastMessage.uncache();if(this._fastTimeout!=null){clearTimeout(this._fastTimeout);}
var promiseFinal=[];if(this.messageTweenFastId!==null){this.endTween(this.messageTweenFastId);this.messageTweenFastId=null;createjs.Tween.removeTweens(this.fastMessage);}
var promise=new Promise(function(res,rej){createjs.Tween.get(_this4.messageContainer,{override:true,ignoreGlobalPause:true,loop:false}).to({alpha:0},200).call(function(){if(_this4.messageTweenId!==null){_this4.messageTween.setPaused(true);}
createjs.Tween.get(messageContainer,{override:true,ignoreGlobalPause:true,loop:false}).to({alpha:1},100).call(function(){return res();});});}).then(function(){_this4.fastMessage.setText($_t.getText(aliasText));var rec=_this4.fastMessage.getBounds();_this4.fastMessage.cache(rec.x,rec.y,rec.width,rec.height);messageContainer.visible=true;return _this4.fastMessage.getMeasuredWidth()<=messageContainer.width;}).then(function(isShortMessage){if(isShortMessage===true){messageContainer.setChildAlign("center",_this4.fastMessage);}else{(function(){var pt=messageContainer.localToGlobal(0,0);var rec=new createjs.Rectangle(pt.x,pt.y,messageContainer.width,messageContainer.height);_this4.fastMessage.x=10;var toX=-(_this4.fastMessage.getMeasuredWidth()-messageContainer.width)-10;_this4.messageTweenFastId=_this4.startTween(rec);promiseFinal.push(new Promise(function(res,rej){createjs.Tween.get(_this4.fastMessage,{override:true,ignoreGlobalPause:true,loop:false,paused:false}).wait(500).to({x:toX},500).call(function(){res();});}));})();}}).then(function(){return Promise.all(promiseFinal);}).then(function(){return new Promise(function(res,rej){_this4._fastTimeout=setTimeout(res,2500);});}).then(function(){if(_this4.messageTweenId!==null){_this4.messageTween.setPaused(false);}}).then(function(){return new Promise(function(res){createjs.Tween.get(messageContainer,{override:true,ignoreGlobalPause:true,loop:false,paused:false}).to({alpha:0},500).call(function(){messageContainer.visible=true;_this4.fastMessage.setText("");createjs.Tween.get(_this4.messageContainer,{override:true,ignoreGlobalPause:true,loop:false,paused:false}).to({alpha:1},500).call(function(){return res();});});});});}},{key:"showFreeBetToolbarMessage",value:function showFreeBetToolbarMessage(){var count=arguments.length<=0||arguments[0]===undefined?0:arguments[0];$_service_ticker_tape.staticMessage($_t.getText("Free Bets left: {0}",count));}},{key:"showSoundOnButton",value:function showSoundOnButton(){this.querySelector("soundOnBtn").visible=true;}},{key:"hideSoundOnButton",value:function hideSoundOnButton(){this.querySelector("soundOnBtn").visible=false;}},{key:"showSoundOffButton",value:function showSoundOffButton(){this.querySelector("soundOffBtn").visible=true;}},{key:"hideSoundOffButton",value:function hideSoundOffButton(){this.querySelector("soundOffBtn").visible=false;}},{key:"showSettingsButton",value:function showSettingsButton(){this.querySelector("settingsBtn").visible=true;}},{key:"hideSettingsButton",value:function hideSettingsButton(){this.querySelector("settingsBtn").visible=false;}},{key:"stageSettingsMenuClickHandler",value:function stageSettingsMenuClickHandler(e){if(!this.closest(e.target,"settingsPanel")){this.hideSettingsPanel();this.getStage().removeEventListener("click",this.stageSettingsMenuClickHandler);}}},{key:"showSettingsPanel",value:function showSettingsPanel(){var _this5=this;var target=this.querySelector("settingsPanel");target.visible=true;setTimeout(function(){_this5.settingsMenuListener=_this5.getStage().on("click",_this5.stageSettingsMenuClickHandler.bind(_this5));},0);this.requestUpdateTarget(target);}},{key:"hideSettingsPanel",value:function hideSettingsPanel(){var target=this.querySelector("settingsPanel");target.visible=false;if(this.settingsMenuListener){this.getStage().off("click",this.settingsMenuListener);}
this.requestUpdateTarget(target);}},{key:"toggleVisibilitySettingsPanel",value:function toggleVisibilitySettingsPanel(){if(this.querySelector("settingsPanel").visible){this.hideSettingsPanel();}else{this.showSettingsPanel();}}},{key:"quickSpinCheck",value:function quickSpinCheck(){this.querySelector("settingsPanel.quickSpinCheckBox").checked=true;}},{key:"quickSpinUncheck",value:function quickSpinUncheck(){this.querySelector("settingsPanel.quickSpinCheckBox").checked=false;}}]);return SettingsDesktopViewHandler;}(_ViewCanvasHandlerEs2.default);exports.default=SettingsDesktopViewHandler;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var defaultLabel={type:"Text",font:"14px Calibri",color:"#FFFFFF",left:28,top:"57%","textBaseline":"middle"};var defaultCheckBox={type:"Checkbox",spriteSheet:{images:["UI_panel_checkbox-sprite"],frames:{width:20,height:17},animations:{normal:[1],clicked:[0]}},left:"5"};var defaultCheckBoxContainer={type:"CheckboxContainer",top:"12%",children:{"checkBox":defaultCheckBox,"label":defaultLabel}};var quickSpinCheckBox=getClone(defaultCheckBoxContainer);quickSpinCheckBox.children.label.text="Quick spin";quickSpinCheckBox.top="24%";var ambienceSoundCheckBox=getClone(defaultCheckBoxContainer);ambienceSoundCheckBox.children.label.text="Ambience sound";ambienceSoundCheckBox.top="60%";var soundEffectsCheckBox=getClone(defaultCheckBoxContainer);soundEffectsCheckBox.children.label.text="Sound effects";soundEffectsCheckBox.top="76%";var config={layerSizeType:"overLayer",zIndex:10,children:{"topBar":{type:"Container",width:"100%",children:{"background":{type:"Bitmap",src:"toolbar_message_bg",width:"100%"},"messageLabel":{type:"Bitmap",top:4,src:"toolbar_label",align:"center"},"messageContainer":{type:"Container",width:406,height:25,top:6,align:"center",overflow:"hidden",children:{"message":{type:"Text",font:"13pt Calibri",text:"This is the first message in this toolbar",color:"#FFFFFF",textBaseline:"middle",top:"50%",visible:true}}},"fastMessageContainer":{type:"Container",width:406,height:25,top:6,align:"center",overflow:"hidden",children:{"fastMessage":{type:"Text",font:"13pt Calibri",text:"",color:"#FFFFFF",textBaseline:"middle",top:"50%",visible:true}},alpha:0,visible:false}}},"settingsBtn":{type:"Button",top:3,right:6,spriteSheet:{images:["toolbar_setting_button"],frames:{width:33,height:26},animations:{normal:[2],hover:[3],clicked:[0],disabled:[1]}},visible:true},"soundOnBtn":{type:"Button",top:3,right:43,spriteSheet:{images:["toolbar_sound_on"],frames:{width:33,height:26},animations:{normal:[2],hover:[3],clicked:[0],disabled:[1]}},visible:true},"soundOffBtn":{type:"Button",top:3,right:43,spriteSheet:{images:["toolbar_sound_off"],frames:{width:33,height:26},animations:{normal:[2],hover:[3],clicked:[0],disabled:[1]}},visible:false},"settingsPanel":{type:"Container",top:"6%",width:187,right:5,visible:false,children:{"background":{type:"Bitmap",src:"UI_top_tools_game_settings"},"title":{type:"Text",text:"GAME SETTINGS",font:"bold 13pt Calibri",color:"#FFFFFF",top:"2.5%",left:"3%"},"audioGroupTitle":{type:"Text",text:"AUDIO",font:"13pt Calibri",color:"#FFFFFF",top:"44%",left:"3%"},quickSpinCheckBox:quickSpinCheckBox,ambienceSoundCheckBox:ambienceSoundCheckBox,soundEffectsCheckBox:soundEffectsCheckBox}}}};exports.default=config;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var toolbarMessages={"mainQueueDemo":["INFO_DEMO_1","INFO_SPINS_1","INFO_DEMO_2","INFO_SPINS_2","INFO_DEMO_1","INFO_SPINS_3","INFO_DEMO_2","INFO_SPINS_4","INFO_DEMO_1","INFO_SPINS_5","INFO_DEMO_2","INFO_SPINS_6","INFO_DEMO_1","INFO_SPINS_7","INFO_DEMO_2","INFO_SPINS_8"],"spinQueueDemo":["INFO_DEMO_1","INFO_SPINS_1","INFO_DEMO_2","INFO_SPINS_2","INFO_DEMO_1","INFO_SPINS_3","INFO_DEMO_2","INFO_SPINS_4","INFO_DEMO_1","INFO_SPINS_5","INFO_DEMO_2","INFO_SPINS_6","INFO_DEMO_1","INFO_SPINS_7","INFO_DEMO_2","INFO_SPINS_8"],"freeSpinQueueDemo":["INFO_DEMO_1","INFO_FS_1","INFO_DEMO_2"],"bonusQueueDemo":["INFO_DEMO_1","INFO_BONUS_1","INFO_DEMO_2"],"mainQueueNormal":["INFO_SPINS_1","INFO_SPINS_2","INFO_SPINS_3","INFO_SPINS_4","INFO_SPINS_5","INFO_SPINS_6","INFO_SPINS_7","INFO_SPINS_8"],"spinQueueNormal":["INFO_SPINS_1","INFO_SPINS_2","INFO_SPINS_3","INFO_SPINS_4","INFO_SPINS_5","INFO_SPINS_6","INFO_SPINS_7","INFO_SPINS_8"],"freeSpinQueueNormal":["INFO_FS_1"],"bonusQueueNormal":["INFO_BONUS_1"]};exports.default=toolbarMessages;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _linesViewHandlerEs=__webpack_require__(156);var _linesViewHandlerEs2=_interopRequireDefault(_linesViewHandlerEs);var _config=__webpack_require__(181);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var DesktopLinesViewHandler=function(_LinesViewHandler){_inherits(DesktopLinesViewHandler,_LinesViewHandler);function DesktopLinesViewHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,DesktopLinesViewHandler);return _possibleConstructorReturn(this,(DesktopLinesViewHandler.__proto__||Object.getPrototypeOf(DesktopLinesViewHandler)).call(this,data,_config2.default));}
return DesktopLinesViewHandler;}(_linesViewHandlerEs2.default);exports.default=DesktopLinesViewHandler;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _numbersSpriteSheet=__webpack_require__(103);var config={children:{"linesManager":{type:"LineCarribeanManager",rowPadding:0,imageAlias:"line",debug:false,defaultLine:{background:{}},defaultLeftLine:{backgroundLeftAbsolute:272-160,labels:{"left":{leftAbsolute:272-160-11,font:"bold 14px Arial",color:"#876a37",backgroundImage:{on:"marker_on",off:"marker_off",win:"star",over_on:"marker_over_on",over_off:"marker_over_off"}}}},defaultRightLine:{backgroundRightAbsolute:1009-160,labels:{"right":{leftAbsolute:1009-160,font:"bold 14px Arial",color:"#876a37",backgroundImage:{on:"marker_on",off:"marker_off",win:"star",over_on:"marker_over_on",over_off:"marker_over_off"}}}},lines:{"1":{type:"left",backgroundTop:4,backgroundTopAbsolute:305,leftLabelTopAbsolute:305,start:{row:2,position:2}},"2":{type:"left",backgroundTop:4,backgroundTopAbsolute:182,leftLabelTopAbsolute:182,start:{row:1,position:2}},"3":{type:"left",backgroundTop:4,backgroundTopAbsolute:462,leftLabelTopAbsolute:462,start:{row:3,position:2}},"4":{type:"left",backgroundTop:29,backgroundTopAbsolute:215,leftLabelTopAbsolute:230,start:{row:1,position:3}},"5":{type:"left",backgroundTop:430,backgroundTopAbsolute:131,leftLabelTopAbsolute:415,start:{row:3,position:1}},"6":{type:"left",backgroundTop:367,backgroundTopAbsolute:132,leftLabelTopAbsolute:374,start:{row:2,position:4}},"7":{type:"left",backgroundTop:0,backgroundTopAbsolute:272,leftLabelTopAbsolute:272,start:{row:2,position:1}},"8":{type:"left",backgroundTop:4,backgroundTopAbsolute:132,leftLabelTopAbsolute:132,start:{row:1,position:1}},"9":{type:"left",backgroundTop:533,backgroundTopAbsolute:165,leftLabelTopAbsolute:509,start:{row:3,position:3}},"10":{type:"left",backgroundTop:267,backgroundTopAbsolute:163,leftLabelTopAbsolute:337,start:{row:2,position:3}},"11":{type:"right",backgroundTop:3,backgroundTopAbsolute:132,rightLabelTopAbsolute:132,start:{row:1,position:1}},"12":{type:"right",backgroundTop:242,backgroundTopAbsolute:354,rightLabelTopAbsolute:511,start:{row:3,position:3}},"13":{type:"right",backgroundTop:3,backgroundTopAbsolute:182,rightLabelTopAbsolute:182,start:{row:1,position:2}},"14":{type:"right",backgroundTop:382,backgroundTopAbsolute:214,rightLabelTopAbsolute:463,start:{row:3,position:2}},"15":{type:"right",backgroundTop:3,backgroundTopAbsolute:232,rightLabelTopAbsolute:231,start:{row:1,position:3}},"16":{type:"right",backgroundTop:382,backgroundTopAbsolute:165,rightLabelTopAbsolute:416,start:{row:3,position:1}},"17":{type:"right",backgroundTop:192,backgroundTopAbsolute:148,rightLabelTopAbsolute:272,start:{row:2,position:1}},"18":{type:"right",backgroundTop:79,backgroundTopAbsolute:321,rightLabelTopAbsolute:371,start:{row:2,position:4}},"19":{type:"right",backgroundTop:25,backgroundTopAbsolute:288,rightLabelTopAbsolute:303,start:{row:2,position:2}},"20":{type:"right",backgroundTop:240,backgroundTopAbsolute:181,rightLabelTopAbsolute:338,start:{row:2,position:3}}}},winLineAmount:{type:"Container",width:258,height:79,visible:false,children:{"background":{type:"Bitmap",src:"winLineAmountBackground",left:"50%",top:40,visible:true},value:{type:"BitmapText",text:"0",alias:"bonus",spriteSheet:_numbersSpriteSheet.numbersSmallSpriteSheet}}}},freezScatterScale:1};exports.default=config;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _bonusGameViewHandlerEs=__webpack_require__(97);var _bonusGameViewHandlerEs2=_interopRequireDefault(_bonusGameViewHandlerEs);var _config=__webpack_require__(183);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var DesktopBonusGameViewHandler=function(_BonusGameViewHandler){_inherits(DesktopBonusGameViewHandler,_BonusGameViewHandler);function DesktopBonusGameViewHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,DesktopBonusGameViewHandler);return _possibleConstructorReturn(this,(DesktopBonusGameViewHandler.__proto__||Object.getPrototypeOf(DesktopBonusGameViewHandler)).call(this,data,_config2.default));}
return DesktopBonusGameViewHandler;}(_bonusGameViewHandlerEs2.default);exports.default=DesktopBonusGameViewHandler;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var config={layerSizeType:"fullsize",children:{roof:{type:"Container",width:1280,height:157,top:1},background:{type:"Bitmap",src:"background",top:158},floor:{type:"Container",width:1280,height:157,top:720-157},columnContainer:{type:"Container",top:158,height:405},elementsContainer:{type:"Container",top:158,height:405,width:"100%"},papirusRounds:{type:"Container",top:40,left:200,children:{background:{type:"Bitmap",src:"papirus"},roundText:{type:"Text",top:26,text:"bonus_rounds_left",left:"50%",textAlign:"center",font:"bold 20pt Arial",color:"#2d1e04"},levelMap:{type:"Bitmap",src:"level_map",align:"center",top:60}}},papirusLife:{type:"Container",top:40+48,right:200-132,width:265,height:97,regX:"50%",regY:"50%",children:{background:{type:"Bitmap",src:"papirus"},heart_disable_1:{type:"Bitmap",src:"heart_disable",regX:"50%",regY:"50%",top:"50%",left:"25%"},heart_disable_2:{type:"Bitmap",src:"heart_disable",regX:"50%",regY:"50%",top:"50%",left:"50%"},heart_disable_3:{type:"Bitmap",src:"heart_disable",regX:"50%",regY:"50%",top:"50%",left:"75%"},heart_1:{type:"Bitmap",src:"heart",regX:"50%",regY:"50%",top:"50%",left:"25%"},heart_2:{type:"Bitmap",src:"heart",regX:"50%",regY:"50%",top:"50%",left:"50%"},heart_3:{type:"Bitmap",src:"heart",regX:"50%",regY:"50%",top:"50%",left:"75%"}}},promptText:{type:"Text",text:"bonus_prompt_text",top:65,left:"50%",textAlign:"center",lineWidth:270,color:"#9ba5c3",font:"bold 11pt Arial"}}};exports.default=config;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _preloaderCommonViewHandlerEs=__webpack_require__(150);var _preloaderCommonViewHandlerEs2=_interopRequireDefault(_preloaderCommonViewHandlerEs);var _config=__webpack_require__(185);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var PreloaderDesktopViewHandler=function(_PreloaderCommonViewH){_inherits(PreloaderDesktopViewHandler,_PreloaderCommonViewH);function PreloaderDesktopViewHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,PreloaderDesktopViewHandler);var _this=_possibleConstructorReturn(this,(PreloaderDesktopViewHandler.__proto__||Object.getPrototypeOf(PreloaderDesktopViewHandler)).call(this,data));_this.init(_config2.default);_this.preloaderImage=null;_this.progressBar=null;_this._prevProgress=0;_this._activeSlider=true;return _this;}
_createClass(PreloaderDesktopViewHandler,[{key:"initHandler",value:function initHandler(){var _this2=this;this.getController().keyStart=function(){};this.initLayout(_config2.default);this.initChildren(_config2.default.children);this.initHideButton();this.enableModalMode();this.mainLoaded=false;if(this.getService("PopupService").hasCritError()){this.getLayout().visible=false;}
var logoCompany=this.querySelector("logoCompany");var logoGame=this.querySelector("logoGame");var tweenID=this.startTweenTarget(logoCompany);logoCompany.play();logoCompany.addEventListener("animationend",function(){logoCompany.gotoAndStop(11);createjs.Tween.get(logoCompany).to({alpha:0},600).call(function(){_this2.endTween(tweenID);logoCompany.visible=false;logoCompany.alpha=1;logoGame.alpha=0;logoGame.visible=true;var tweenID=_this2.startTweenTarget(logoGame);createjs.Tween.get(logoGame).to({alpha:1},600).call(function(){_this2.slideShowInfo();_this2.endTween(tweenID);_this2.requestUpdateTarget(logoGame);});});});}},{key:"progressHandler",value:function progressHandler(progress){if(this.getService("PopupService").hasCritError()){this.getLayout().visible=false;}
if(this.mainLoaded){return;}
var loadingText=this.querySelector("loadingText");loadingText.setText(progress+"%");this.requestUpdateTarget(loadingText);var progressbar=this.querySelector("progressbar");var mask=new createjs.Shape();mask.graphics.drawRect(progressbar.x,progressbar.y,progressbar.width/100*progress,progressbar.height);progressbar.mask=mask;this.requestUpdateTarget(progressbar);if(progress===100&&!this.mainLoaded){this.mainLoaded=true;}}},{key:"slideShowInfo",value:function slideShowInfo(){var _this3=this;var slider={slide_0:{block:this.querySelector("gameSlider.step1"),elements:{from:{context:this.querySelector("gameSlider.star3"),top:393+6,left:445-10},to:{context:this.querySelector("gameSlider.star1"),top:388,left:346-21}}},slide_1:{block:this.querySelector("gameSlider.step2"),elements:{from:{context:this.querySelector("gameSlider.star1"),top:393+6,left:346-9},to:{context:this.querySelector("gameSlider.star2"),top:388,left:396-21}}},slide_2:{block:this.querySelector("gameSlider.step3"),elements:{from:{context:this.querySelector("gameSlider.star2"),top:393+6,left:396-10},to:{context:this.querySelector("gameSlider.star3"),top:388,left:445-21}}}};var count=0,max=2;var animateSlide=function animateSlide(){var current=slider["slide_"+count];createjs.Tween.get(current.block,{loop:false}).to({alpha:1},200).wait(5000).to({alpha:0},300).call(function(){if(count<max){count++;}else{count=0;}
var next=slider["slide_"+count];createjs.Tween.get(next.elements.from.context,{loop:false}).to({top:next.elements.from.top,left:next.elements.from.left,scaleX:0.4,scaleY:0.4,alpha:0.7},300);createjs.Tween.get(next.elements.to.context,{loop:false}).to({top:next.elements.to.top,left:next.elements.to.left,scaleX:0.73,scaleY:0.73,alpha:1},300);if(_this3._activeSlider){setTimeout(animateSlide,600);}});};animateSlide();}},{key:"initHideButton",value:function initHideButton(){var _this4=this;var button=this.querySelector("button");var arrow=this.querySelector("arrow");button.cursor="pointer";button.regX=button.width/2;button.regY=button.height/2;var scale=0.10;var onRollOverAction=function onRollOverAction(e){if(button.selected){return;}
if(button.mouseDown){button.scaleX=1-scale;button.scaleY=1-scale;}else{button.scaleX=1+scale;button.scaleY=1+scale;}};var onRollOutAction=function onRollOutAction(e){if(button.selected){return;}
button.scaleX=1;button.scaleY=1;};var onMouseDownAction=function onMouseDownAction(e){if(button.selected){return;}
button.mouseDown=true;button.scaleX=1-scale*2;button.scaleY=1-scale*2;};var onClickAction=function onClickAction(e){if(button.selected){return;}
_this4._activeSlider=false;_this4.disableModalMode();_this4.getController().keyStart();button.scaleX=1;button.scaleY=1;button.selected=true;var layout=_this4.getLayout();layout.cache(0,0,layout.width,layout.height);var stage=_this4.getStage();createjs.Tween.get(layout,{ignoreGlobalPause:true}).to({alpha:0,visible:false},300).call(function(){layout.visible=false;var stage=_this4.getStage();stage.removeChild(layout);stage.requestUpdate();}).addEventListener("change",function(){layout.updateCache();stage.requestUpdate();});};var onPressUpAction=function onPressUpAction(e){if(button.selected){return;}
if(e.currentTarget.mouseDown&&e.localX>=0&&e.localX<=e.currentTarget.width&&e.localY>=0&&e.localY<=e.currentTarget.height){onClickAction();}
button.mouseDown=false;};button.addEventListener("rollover",onRollOverAction);button.addEventListener("rollout",onRollOutAction);button.addEventListener("mousedown",onMouseDownAction);button.addEventListener("pressup",onPressUpAction);button.addEventListener("click",onClickAction);}},{key:"hide",value:function hide(){var progressbarBackground=this.querySelector("progressbarBackground");var progressbar=this.querySelector("progressbar");var loadingText=this.querySelector("loadingText");var arrow=this.querySelector("arrow");var button=this.querySelector("button");createjs.Tween.get(progressbar,{ignoreGlobalPause:true}).to({alpha:0,visible:false},300);createjs.Tween.get(progressbarBackground,{ignoreGlobalPause:true}).to({alpha:0,visible:false},300);createjs.Tween.get(loadingText,{ignoreGlobalPause:true}).to({alpha:0,visible:false},300);createjs.Tween.get(button,{ignoreGlobalPause:true}).wait(300).to({visible:true,alpha:0},0).to({alpha:1},1000);}}]);return PreloaderDesktopViewHandler;}(_preloaderCommonViewHandlerEs2.default);exports.default=PreloaderDesktopViewHandler;;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var config={"layerSizeType":"overLayer",zIndex:100,"children":{"wrapper":{type:"Container",width:"100%",height:"100%",children:{"main":{type:"Container",width:1280,height:720,align:"center",children:{background1:{type:"Bitmap",src:"background",width:"50%",height:"100%"},background2:{type:"Bitmap",src:"background",left:1280,width:"50%",height:"100%",scaleX:-1},button:{type:"Container",top:628,left:"50%",visible:false,children:{arrow:{type:"Bitmap",src:"start_screen_arrow",top:23,left:5}}},logoCompany:{type:"Sprite",framerate:30,align:"center",top:"40%",spriteSheet:{images:["logo"],frames:{width:254,height:60,count:12,framerate:10},animations:{last:39}}},logoGame:{type:"Container",width:"100%",top:0,visible:false,children:{"preloaderImage":{"type":"Bitmap","src":"loader",align:"center",top:2},"loadingText":{type:"Text",text:"30%",font:"bold 23px Arial",color:"#9cdfb6",left:"50%",textAlign:"center",textBaseline:"bottom",top:645},"progressbarBackground":{type:"Bitmap",src:"progressbar_background",align:"center",top:660},"progressbar":{type:"Bitmap",src:"progressbar",left:466,top:665},gameSlider:{type:"Container",width:790,height:437,left:243,top:147,children:{step1:{type:"Container",width:"100%",height:"100%",alpha:1,children:{"scatter":{"type":"Bitmap",src:"scatter",top:102,left:158},"scatterTopText":{type:"Text",text:"preloader_scatter_top_description",font:"bold 20px Arial",color:"#ffe775",left:230,top:280,textAlign:"center",textBaseline:"bottom",lineHeight:23},bonus:{type:"Bitmap",src:"bonus",top:102,left:516},"bonusText":{type:"Text",text:"preloader_bonus_description",font:"bold 20px Arial",color:"#ffe775",left:595,top:280,textAlign:"center",textBaseline:"bottom",lineHeight:23}}},step2:{type:"Container",width:"100%",height:"100%",alpha:0,children:{x2:{type:"Bitmap",src:"wild_2",top:85,left:143},x3:{type:"Bitmap",src:"wild_3",top:85,left:319},x5:{type:"Bitmap",src:"wild_5",top:85,left:495},"preloader_text_wilds":{type:"Text",text:"preloader_wilds",font:"bold 20px Arial",color:"#ffe775",left:404,top:280,textAlign:"center",textBaseline:"bottom",lineHeight:23}}},step3:{type:"Container",width:"100%",height:"100%",alpha:0,children:{topWildChoose:{type:"Text",text:"preloader_choose_wilds",font:"bold 20px Arial",color:"#ffe775",left:395,top:45,textAlign:"center",textBaseline:"bottom",lineHeight:23},"columns_wilds":{type:"Bitmap",src:"columns_wilds",width:453,height:273,top:72,left:170}}},star1:{type:"Bitmap",src:"star",width:68,height:67,left:346-21,top:388,scaleX:0.73,scaleY:0.73},star2:{type:"Bitmap",src:"star",width:68,height:67,left:396-10,top:393+6,scaleX:0.4,scaleY:0.4,alpha:0.7},star3:{type:"Bitmap",src:"star",width:68,height:67,left:445-10,top:393+6,scaleX:0.4,scaleY:0.4,alpha:0.7}}}}}}}}}}};exports.default=config;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ControllerEs=__webpack_require__(6);var _ControllerEs2=_interopRequireDefault(_ControllerEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var PaytableDesktopController=function(_Controller){_inherits(PaytableDesktopController,_Controller);function PaytableDesktopController(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,PaytableDesktopController);return _possibleConstructorReturn(this,(PaytableDesktopController.__proto__||Object.getPrototypeOf(PaytableDesktopController)).call(this,data));}
_createClass(PaytableDesktopController,[{key:"initController",value:function initController(){this.handler=this.getInst("PaytableDesktopViewHandler");}}]);return PaytableDesktopController;}(_ControllerEs2.default);exports.default=PaytableDesktopController;},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _EventsEs=__webpack_require__(7);var _EventsEs2=_interopRequireDefault(_EventsEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var PaytableDesktopEvent=function(_Events){_inherits(PaytableDesktopEvent,_Events);function PaytableDesktopEvent(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,PaytableDesktopEvent);return _possibleConstructorReturn(this,(PaytableDesktopEvent.__proto__||Object.getPrototypeOf(PaytableDesktopEvent)).call(this,data));}
_createClass(PaytableDesktopEvent,[{key:'run',value:function run(){this.handler=this.getInst('PaytableDesktopViewHandler');this.controller=this.getInst('PaytableDesktopController');this.setSubscriber('initGame');this.setSubscriber('showMiniPaytable');this.setSubscriber('spinAction');}},{key:'initGameEvent',value:function initGameEvent(){this.handler.initHandler();this.controller.initController();}},{key:'showMiniPaytableEvent',value:function showMiniPaytableEvent(data){this.handler.showMiniPaytable(data);}},{key:'spinActionEvent',value:function spinActionEvent(){this.handler.hideMiniPaytable();}}]);return PaytableDesktopEvent;}(_EventsEs2.default);exports.default=PaytableDesktopEvent;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ViewCanvasHandlerEs=__webpack_require__(82);var _ViewCanvasHandlerEs2=_interopRequireDefault(_ViewCanvasHandlerEs);var _config=__webpack_require__(189);var _config2=_interopRequireDefault(_config);var _numbersSpriteSheet=__webpack_require__(103);var _paytableAtlasSpriteSheet=__webpack_require__(194);var _paytableAtlasSpriteSheet2=_interopRequireDefault(_paytableAtlasSpriteSheet);var _mummy=__webpack_require__(101);var _mummy2=_interopRequireDefault(_mummy);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var PaytableDesktopViewHandler=function(_ViewCanvasHandler){_inherits(PaytableDesktopViewHandler,_ViewCanvasHandler);function PaytableDesktopViewHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,PaytableDesktopViewHandler);return _possibleConstructorReturn(this,(PaytableDesktopViewHandler.__proto__||Object.getPrototypeOf(PaytableDesktopViewHandler)).call(this,data));}
_createClass(PaytableDesktopViewHandler,[{key:"initHandler",value:function initHandler(){this.initLayout(_config2.default);this.slideTime=450;this.infoPopup=new Container();this.infoPopup.width=960;this.infoPopup.name="info";this.initChildrenContainer(this.infoPopup,_config2.default.infoPopup.children);this.miniPaytablePopup=new Container();this.miniPaytablePopup.name="miniPaytable";this.initChildrenContainer(this.miniPaytablePopup,_config2.default.miniPaytablePopup.children);this.getLayout().addChild(this.miniPaytablePopup);this.initPages();this.initButtons();this.initMiniPaytable();}},{key:"initMiniPaytable",value:function initMiniPaytable(){var _this2=this;var slotMachine=this.getService("SlotMachineService").getInstance();var symbol=slotMachine.getSymbol(1);symbol.name="symbol";var symbolContainer=this.querySelectorContainer("symbolContainer",this.miniPaytablePopup);symbolContainer.addChild(symbol);this.miniPaytablePopup.getChildByName("background").addEventListener("click",function(){_this2.hideMiniPaytable();});this.miniPaytablePopup.visible=false;}},{key:"showMiniPaytable",value:function showMiniPaytable(data){var _this3=this;this.hideMiniPaytable();if(this.miniPaytableTimeout){clearTimeout(this.miniPaytableTimeout);this.hideMiniPaytable();this.miniPaytableTimeout=null;}
this.getService("SoundService").play("audio_mini_paytable");var reelElement=data.reelElement;var symbolID=reelElement.symbolNumber;var symbol=this.querySelectorContainer("symbol",this.miniPaytablePopup);reelElement.localToLocal(0,0,this.getLayout(),this.miniPaytablePopup);symbol.x=reelElement.content.x-_config2.default.miniPaytablePopup.correctionLeft;symbol.y=reelElement.content.y-_config2.default.miniPaytablePopup.correctionTop;symbol.gotoAndStop("def_"+symbolID);this.miniPaytablePopup.x+=_config2.default.miniPaytablePopup.correctionLeft;this.miniPaytablePopup.y+=_config2.default.miniPaytablePopup.correctionTop;var miniPopup=this.querySelectorContainer("symbolContainer",this.miniPaytablePopup);var symbols=this.getService("PayTableService").getPayTable();if(reelElement.isScatter()){var scatterDescription=this.querySelectorContainer("scatterDescription",this.miniPaytablePopup);scatterDescription.visible=true;if(data.reverse){scatterDescription.x=20;}else{scatterDescription.x=this.miniPaytablePopup.width/2;}}else if(reelElement.isWild()||[10,11,12].indexOf(reelElement.symbolNumber)!=-1){var wildDescription=this.querySelectorContainer("wildDescription",this.miniPaytablePopup);wildDescription.visible=true;if(data.reverse){wildDescription.x=20;}else{wildDescription.x=this.miniPaytablePopup.width/2;}}else if(reelElement.isBonus()){var bonusDescription=this.querySelectorContainer("bonusDescription",this.miniPaytablePopup);bonusDescription.visible=true;if(data.reverse){bonusDescription.x=20;}else{bonusDescription.x=this.miniPaytablePopup.width/2;}}else{var type="def";var simpleSymbolDescription=this.querySelectorContainer("simpleSymbolDescription",this.miniPaytablePopup);if(symbols[symbolID].length>3){var _type="rich";simpleSymbolDescription=this.querySelectorContainer("richSymbolDescription",this.miniPaytablePopup);}
simpleSymbolDescription.visible=true;var shadow=this.querySelectorContainer("shadow",simpleSymbolDescription);if(data.reverse){simpleSymbolDescription.x=20;shadow.scaleX=-1;shadow.x=236;}else{simpleSymbolDescription.x=this.miniPaytablePopup.width*0.5;shadow.scaleX=1;shadow.x=-66;}
for(var i=0;i<symbols[symbolID].length;i++){var occurrences=symbols[symbolID][i].occurrences;var label=this.querySelectorContainer("x"+occurrences,simpleSymbolDescription);var value=this.querySelectorContainer("x"+occurrences+"Value",simpleSymbolDescription);var v=symbols[symbolID][i].multiplier.toString();value.text=v;if(!this.sizeLeftText){this.sizeLeftText={};}
if(this.sizeLeftText[type]==undefined){this.sizeLeftText[type]=[label.x,value.x];}
if(data.reverse){label.x=50;value.x=100;}else{var _sizeLeftText$type=_slicedToArray(this.sizeLeftText[type],2);label.x=_sizeLeftText$type[0];value.x=_sizeLeftText$type[1];}}}
miniPopup.x=0;if(data.reverse){this.miniPaytablePopup.x-=this.miniPaytablePopup.width-miniPopup.width/1.3;miniPopup.x=this.miniPaytablePopup.width-miniPopup.width/1.3;}else{miniPopup.x=0;}
this.miniPaytablePopup.visible=true;this.miniPaytablePopup.alpha=1;createjs.Tween.removeTweens(this.miniPaytablePopup);this.miniPaytableTimeout=setTimeout(function(){_this3.hideMiniPaytable();_this3.miniPaytableTimeout=null;},2000);}},{key:"hideMiniPaytable",value:function hideMiniPaytable(){this.querySelectorContainer("simpleSymbolDescription",this.miniPaytablePopup).visible=false;this.querySelectorContainer("richSymbolDescription",this.miniPaytablePopup).visible=false;this.querySelectorContainer("scatterDescription",this.miniPaytablePopup).visible=false;this.querySelectorContainer("wildDescription",this.miniPaytablePopup).visible=false;this.querySelectorContainer("bonusDescription",this.miniPaytablePopup).visible=false;createjs.Tween.get(this.miniPaytablePopup,{override:true}).to({alpha:0,visible:false},200).to({alpha:1},0);}},{key:"initPaytableData",value:function initPaytableData(){var paytableContainer=this.querySelectorContainer("paytable",this.infoPopup);var table=new Container();table.name="table";table.width=840;table.height=201;var grid=[];var valueScale=0.95;var imageScale=0.5;var firstColWidth=44;var firstRowHeight=87;var bottomPadding=10;var numOfSymbols=void 0,numOfCols=void 0;numOfCols=numOfSymbols=9;var numOfRows=4;paytableContainer.addChild(table);paytableContainer.setChildAlign("center",table);paytableContainer.setChildTop(table,140);for(var _i=0;_i<=numOfCols;_i++){grid[_i]=[];grid[_i][0]=new Container();grid[_i][0].name="cell_"+_i+"_"+0;grid[_i][0].height=firstRowHeight;grid[_i][0].width=82;grid[_i][0].x=82*_i;grid[_i][0].y=0;table.addChild(grid[_i][0]);for(var j=1;j<=numOfRows;j++){var cell=new Container();cell.name="cell_"+_i+"_"+j;cell.height=45;if((_i+j+1)%2===0){var background=new Sprite({spriteSheet:_paytableAtlasSpriteSheet2.default,defaultAnimation:"cellBack"},this.alias);cell.width=82;cell.addChild(background);}else{cell.width=82;}
cell.x=82*_i;cell.y=45*(j-1)+firstRowHeight;grid[_i][j]=cell;table.addChild(cell);}}
var symbols=this.getService("PayTableService").getPayTable();var colWidth=(table.width-firstColWidth)/numOfSymbols;var rowHeight=(table.height-firstRowHeight-bottomPadding)/3;for(var _j=0;_j<4;_j++){var multiplier=new Text({text:"x"+(5-_j),font:"bold 20px Arial",color:"#461408",textAlign:"center",textBaseline:"middle",stroke:{outline:4,color:"#ccc06a"}},this.alias);multiplier.name="multiplier";grid[0][_j+1].addChild(multiplier);grid[0][_j+1].setChildTop(multiplier,"50%");grid[0][_j+1].setChildLeft(multiplier,"50%");}
var i=0;for(var id in symbols){var symbol=symbols[id];if(symbol[0].trigger!==undefined||symbol[0].wild_multiplier){continue;}
var pictureContainer=new Container();pictureContainer.name="pictureContainer";var slotMachine=this.getService("SlotMachineService").getInstance();var picture=slotMachine.getSymbol(id);picture.scaleX=picture.scaleY=imageScale;picture.name="picture";pictureContainer.height=firstRowHeight;pictureContainer.width=colWidth;pictureContainer.addChild(picture);pictureContainer.setChildAlign("center",picture);pictureContainer.setChildVerticalAlign("middle",picture);grid[i+1][0].addChild(pictureContainer);for(var _j2=0;_j2<symbol.length;_j2++){var _multiplier=symbol[_j2].multiplier?symbol[symbol.length-_j2-1].multiplier.toString():"";var text=new BitmapText({text:_multiplier,alias:"bonus",scaleX:valueScale,scaleY:valueScale,spriteSheet:_numbersSpriteSheet.numbersSmallSpriteSheet},"bonus");grid[i+1][_j2+1].addChild(text);text.x=grid[i+1][_j2+1].width/2-text.getBounds().width/2*text.scaleX;text.y=grid[i+1][_j2+1].height/2-text.getBounds().height/2*text.scaleY;}
i++;}
var rect=table.getBounds();table.cache(rect.x,rect.y,rect.width,rect.height);}},{key:"initPayLinesData",value:function initPayLinesData(){var linesContainer=this.querySelectorContainer("lines",this.infoPopup);if(!linesContainer){return;}
var lines=linesContainer.getChildByName("lines");var offsetX=lines.x-3;var offsetY=lines.y+16;for(var i=0;i<5;i++){for(var j=0;j<4;j++){var lineNumber=new Text({text:(i+j*5+1).toString(),font:"bold 14px Arial",color:"#451408",textAlign:"right",lineHeight:20,stroke:{color:"#ccc06a",outline:3}},this.alias);lineNumber.x=offsetX+i*127;lineNumber.y=offsetY+j*67;linesContainer.addChild(lineNumber);}}}},{key:"initPages",value:function initPages(){this.pageContainer=this.querySelectorContainer("pageContainer",this.infoPopup);var pages=this.pageContainer.children;this.initPaytableData();this.initPayLinesData();this.initBonusGamePage();this.initScatterPage();this.pages=pages;this.currentPage=0;this.startPositionX=(this.pageContainer.width-pages[0].width)/2;for(var i=0;i<pages.length;i++){var page=pages[i];if(i===0){page.x=this.startPositionX;}else{page.x=this.pageContainer.width+this.startPositionX;page.alpha=0;}
page.visible=i<=1;var rect=page.getBounds();if(page.name!=="bonusGame"){page.cache(rect.x,rect.y,rect.width,rect.height);}}}},{key:"initScatterPage",value:function initScatterPage(){var scattersContainer=this.querySelectorContainer("scatters",this.infoPopup);if(!scattersContainer){return;}
var slotMachine=this.getService("SlotMachineService").getInstance();var extraSymbol=slotMachine.getSymbol(13);extraSymbol.x=200;extraSymbol.y=320;extraSymbol.regX=extraSymbol.width/2;extraSymbol.regY=extraSymbol.height/2;extraSymbol.scaleX=extraSymbol.scaleY=0.85;scattersContainer.addChild(extraSymbol);}},{key:"initBonusGamePage",value:function initBonusGamePage(){var bonusGameContainer=this.querySelectorContainer("bonusGame",this.infoPopup);if(!bonusGameContainer){return;}
var mummy=new _mummy2.default({},"bonus");mummy.idle();mummy.scaleX=mummy.scaleY=1.3;mummy.x=363;mummy.y=261;var index=bonusGameContainer.getChildIndex(bonusGameContainer.getChildByName("bonusPrompt"));bonusGameContainer.addChildAt(mummy,index);}},{key:"initAlphaMask",value:function initAlphaMask(){var maskContainer=new Container();maskContainer.name="maskContainer";var maskStart=new createjs.Shape();var maskMain=new createjs.Shape();var maskEnd=new createjs.Shape();var alphaWidth=this.startPositionX;var maskHeight=this.pages[0].height;maskStart.graphics.beginLinearGradientFill(["rgba(0, 0, 0, 0)","#000000"],[0,1],0,0,alphaWidth,0);maskStart.graphics.drawRect(0,0,alphaWidth,maskHeight);maskContainer.addChild(maskStart);maskMain.graphics.beginFill("#000000").drawRect(alphaWidth,0,this.infoPopup.width-alphaWidth*2,maskHeight);maskContainer.addChild(maskMain);maskEnd.graphics.beginLinearGradientFill(["#000000","rgba(0, 0, 0, 0)"],[0,1],this.infoPopup.width-alphaWidth,0,this.infoPopup.width,0);maskEnd.graphics.drawRect(this.infoPopup.width-alphaWidth,0,alphaWidth,maskHeight);maskContainer.addChild(maskEnd);maskContainer.cache(0,0,this.infoPopup.width,maskHeight);this.pageContainer.filters=[new createjs.AlphaMaskFilter(maskContainer.cacheCanvas)];this.pageContainer.cache(this.pageContainer.x,this.pageContainer.y,this.pageContainer.width,this.pageContainer.height);}},{key:"initButtons",value:function initButtons(){var _this4=this;var back=this.querySelectorContainer("buttons.back",this.infoPopup);var prev=this.querySelectorContainer("buttons.prev",this.infoPopup);var next=this.querySelectorContainer("buttons.next",this.infoPopup);var backOnClickAction=function backOnClickAction(){_this4.getService("SoundService").play("audio_paytable_slide");_this4.hide();};var nextOnClickAction=function nextOnClickAction(){if(_this4.tweenId){}
if(_this4.clickDisabled){return;}
var newPage=_this4.currentPage<_this4.pages.length-1?_this4.currentPage+1:0;_this4.setCurrentPage(newPage);_this4.goToStartPosition();_this4.getService("SoundService").play("audio_paytable_slide");};var prevOnClickAction=function prevOnClickAction(){if(_this4.tweenId){}
if(_this4.clickDisabled){return;}
var newPage=_this4.currentPage>0?_this4.currentPage-1:_this4.pages.length-1;_this4.setCurrentPage(newPage);_this4.goToStartPosition();_this4.getService("SoundService").play("audio_paytable_slide");};var buttons=[{button:back,action:backOnClickAction},{button:prev,action:prevOnClickAction},{button:next,action:nextOnClickAction}];var _loop=function _loop(b){var button=buttons[b].button;var action=buttons[b].action;button.mouseOnButton=false;button.regY=button.height/2;button.y+=button.height/2;button.regX=button.width/2;button.x+=button.width/2;button.addEventListener("mousedown",function(){var rect=button.getBounds();button.regY=rect.height/2;button.regX=rect.width/2;button.scaleX=button.scaleY=0.8;});button.addEventListener("pressup",function(){var rect=button.getBounds();button.regY=rect.height/2;button.regX=rect.width/2;button.scaleX=button.scaleY=1;if(button.mouseOnButton===true){action();}});button.addEventListener("mouseover",function(){var rect=button.getBounds();button.regY=rect.height/2;button.regX=rect.width/2;button.mouseOnButton=true;});button.addEventListener("rollout",function(){var rect=button.getBounds();button.regY=rect.height/2;button.regX=rect.width/2;button.mouseOnButton=false;});};for(var b in buttons){_loop(b);}
back.addEventListener("mouseover",function(){_this4.getService("SoundService").play("audio_paytable_buttons_on_MouseOver");});next.addEventListener("mouseover",function(){_this4.getService("SoundService").play("audio_paytable_buttons_on_MouseOver");});prev.addEventListener("mouseover",function(){_this4.getService("SoundService").play("audio_paytable_buttons_on_MouseOver");});this.pages[this.pages.length-1].x=-this.pageContainer.width+this.pages[0].x;}},{key:"setCurrentPage",value:function setCurrentPage(i){for(var p=0;p<this.pages.length;p++){}
var prevPage=void 0,nextPage=void 0;var currentPage=this.currentPage=i;if(this.currentPage===0){prevPage=this.pages.length-1;nextPage=this.currentPage+1;}else if(this.currentPage===this.pages.length-1){prevPage=this.currentPage-1;nextPage=0;}else{prevPage=this.currentPage-1;nextPage=this.currentPage+1;}
this.pages[prevPage].visible=true;this.pages[currentPage].visible=true;this.pages[nextPage].visible=true;this.pages[prevPage].x=-this.pageContainer.width+this.pages[currentPage].x;this.pages[nextPage].x=this.pageContainer.width+this.pages[currentPage].x;}},{key:"goToStartPosition",value:function goToStartPosition(){var _this5=this;if(!this.tweenId){this.tweenId=this.startTweenTarget(this.pageContainer);}
var prevPage=void 0,nextPage=void 0;if(this.currentPage===0){prevPage=this.pages.length-1;nextPage=this.currentPage+1;}else if(this.currentPage===this.pages.length-1){prevPage=this.currentPage-1;nextPage=0;}else{prevPage=this.currentPage-1;nextPage=this.currentPage+1;}
var tl=new createjs.Timeline();tl.addTween(createjs.Tween.get(this.pages[prevPage],{override:true}).to({x:-this.pageContainer.width+this.startPositionX,alpha:0},this.slideTime,createjs.Ease.quadInOut),createjs.Tween.get(this.pages[nextPage],{override:true}).to({x:this.pageContainer.width+this.startPositionX,alpha:0},this.slideTime,createjs.Ease.quadInOut),createjs.Tween.get(this.pages[this.currentPage],{override:true}).to({x:this.startPositionX,alpha:1},this.slideTime,createjs.Ease.quadInOut));tl.addEventListener("change",function(){if(Math.abs(_this5.pages[_this5.currentPage].x-_this5.startPositionX)>_this5.pageContainer.width-100){_this5.clickDisabled=true;}else{_this5.clickDisabled=false;}
if(tl.duration===tl.position){_this5.clickDisabled=false;_this5.endTween(_this5.tweenId);_this5.tweenId=null;_this5.requestUpdateTarget(_this5.pageContainer);}});}},{key:"resetPages",value:function resetPages(){this.setCurrentPage(0);this.pages.forEach(function(page){page.visible=false;});this.pages[0].visible=true;this.goToStartPosition();}},{key:"show",value:function show(){this.getService("PopupService").addCustomPopup("paytable",{states:[["popup.popups.showCustomPopup"]]},{target:this.infoPopup,blur:true,blurTime:300,showTime:300,modal:true});}},{key:"hide",value:function hide(){this.resetPages();$_event.setEvent("hideCustomPopup",{target:this.infoPopup});this.getService("PopupService").removeCustomPopup("paytable");}}]);return PaytableDesktopViewHandler;}(_ViewCanvasHandlerEs2.default);exports.default=PaytableDesktopViewHandler;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _buttons=__webpack_require__(190);var _buttons2=_interopRequireDefault(_buttons);var _paytable=__webpack_require__(191);var _paytable2=_interopRequireDefault(_paytable);var _lines=__webpack_require__(193);var _lines2=_interopRequireDefault(_lines);var _bonusGame=__webpack_require__(195);var _bonusGame2=_interopRequireDefault(_bonusGame);var _scatters=__webpack_require__(196);var _scatters2=_interopRequireDefault(_scatters);var _wild=__webpack_require__(197);var _wild2=_interopRequireDefault(_wild);var _numbersSpriteSheet=__webpack_require__(103);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var config={infoPopup:{children:{pageContainer:{type:"Container",width:960,left:0,children:{paytable:_paytable2.default,lines:_lines2.default,wild:_wild2.default,scatters:_scatters2.default,bonusGame:_bonusGame2.default}},buttons:_buttons2.default}},miniPaytablePopup:{correctionTop:-13,correctionLeft:28,children:{background:{type:"Bitmap",src:"mini_background",scaleX:.7,scaleY:.7,cursor:"pointer"},scatterDescription:{type:"Container",left:"50%",width:"50%",height:"100%",visible:false,children:{shadow:{type:"Bitmap",src:"miniBlockShadow",left:-57,top:19,height:136,zIndex:1},x3:{type:"Text",width:28,height:18,left:-20,top:55,text:"x3 = 5TB",color:"#321809",font:"bold 20px Arial"},x2:{type:"Text",width:28,height:18,left:-20,top:85,text:"x2 = 2TB",color:"#321809",font:"bold 20px Arial"}}},wildDescription:{type:"Container",left:"50%",width:"50%",height:"100%",visible:false,children:{shadow:{type:"Bitmap",src:"miniBlockShadow",left:-57,top:19,height:136,zIndex:1},"wildDescription":{type:"Text",font:"bold 15px Arial",color:"#080d3e",top:"25%",left:"20%",lineHeight:27,textAlign:"center",verticalAlign:"middle",lineWidth:140,text:"wild_description"}}},bonusDescription:{type:"Container",left:"50%",width:"50%",height:"100%",visible:false,children:{shadow:{type:"Bitmap",src:"miniBlockShadow",left:-57,top:19,height:136,zIndex:1},"bonusDescription":{type:"Text",font:"bold 15px Arial",color:"#3d1700",top:"30%",left:"20%",lineHeight:24,textAlign:"center",text:"bonus_description"}}},simpleSymbolDescription:{type:"Container",left:"20%",height:"100%",visible:false,children:{simpleSymbolDescriptionContainer:{type:"Container",left:-30,height:"100%",children:{shadow:{type:"Bitmap",src:"miniSimpleShadow",left:-66,top:23,zIndex:1},x5:{type:"Text",text:"x5 = ",left:-5,top:"20%",fontSize:"bold 22px",color:"#3d1700"},x5Value:{type:"BitmapText",text:"555",top:"20%",left:50,alias:"bonus",spriteSheet:_numbersSpriteSheet.numbersSmallSpriteSheet},x4:{type:"Text",text:"x4 = ",left:-5,top:"43%",fontSize:"bold 22px",color:"#3d1700"},x4Value:{type:"BitmapText",text:"55",top:"43%",left:50,alias:"bonus",spriteSheet:_numbersSpriteSheet.numbersSmallSpriteSheet},x3:{type:"Text",text:"x3 = ",left:-5,top:"66%",fontSize:"bold 22px",color:"#3d1700"},x3Value:{type:"BitmapText",text:"5",top:"66%",left:45,alias:"bonus",spriteSheet:_numbersSpriteSheet.numbersSmallSpriteSheet}}}}},richSymbolDescription:{type:"Container",left:"20%",height:"100%",visible:false,children:{simpleSymbolDescriptionContainer:{type:"Container",left:-30,height:"100%",children:{shadow:{type:"Bitmap",src:"miniSimpleShadow",left:-66,top:23},x5:{type:"Text",text:"x5 = ",left:-10,top:"17%",fontSize:"bold 22px",color:"#3d1700"},x5Value:{type:"BitmapText",text:"555",top:"17%",left:48,alias:"bonus",spriteSheet:_numbersSpriteSheet.numbersSmallSpriteSheet},x4:{type:"Text",text:"x4 = ",left:-10,top:"34%",fontSize:"bold 22px",color:"#3d1700"},x4Value:{type:"BitmapText",text:"55",top:"34%",left:48,alias:"bonus",spriteSheet:_numbersSpriteSheet.numbersSmallSpriteSheet},x3:{type:"Text",text:"x3 = ",left:-10,top:"52%",fontSize:"bold 22px",color:"#3d1700"},x3Value:{type:"BitmapText",text:"5",top:"52%",left:48,alias:"bonus",spriteSheet:_numbersSpriteSheet.numbersSmallSpriteSheet},x2:{type:"Text",text:"x2 = ",left:-10,top:"69%",fontSize:"bold 22px",color:"#3d1700"},x2Value:{type:"BitmapText",text:"5",top:"69%",left:38,alias:"bonus",spriteSheet:_numbersSpriteSheet.numbersSmallSpriteSheet}}}}},symbolContainer:{type:"Container",width:"50%",height:"100%"}}}};exports.default=config;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var buttons={type:"Container",align:"center",width:380,top:500,children:{back:{type:"Button",align:"center",spriteSheet:{images:["paytableAtlas"],frames:[[406,251,177,153,0,0,0],[227,251,177,154,0,0,0]],animations:{normal:[0],hover:[1],clicked:[1]}}},prev:{type:"Button",align:"left",verticalAlign:"bottom",spriteSheet:{images:["paytableAtlas"],frames:[[114,251,111,155,0,0,0],[585,159,112,156,0,0,0]],animations:{normal:[0],hover:[1],clicked:[1]}}},next:{type:"Button",align:"right",verticalAlign:"bottom",spriteSheet:{images:["paytableAtlas"],frames:[[1,251,111,155,0,0,0],[584,1,112,156,0,0,0]],animations:{normal:[0],hover:[1],clicked:[1]}}}}};exports.default=buttons;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _styles=__webpack_require__(192);var paytable={type:"Container",children:{background:_styles.background,titleLabel:Object.assign({},_styles.titleStyle,{text:"paytable_title"}),promptLabel:Object.assign({},_styles.defaultFont,{text:"paytable_prompt",left:"50%",bottom:30})}};exports.default=paytable;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var defaultFont={type:"Text",font:"bold 16px Arial",color:"#451408",textAlign:"center",left:"50%",lineHeight:20,stroke:{color:"#ccc06a",outline:3}};exports.defaultFont=defaultFont;var titleStyle={type:"Text",align:"center",top:101,font:"bold 24px Arial",color:"#832d16",stroke:{color:"#ccc06a",outline:3},fontTransform:"uppercase"};exports.titleStyle=titleStyle;var background={type:"Bitmap",src:"background",scaleX:1,scaleY:1};exports.background=background;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _styles=__webpack_require__(192);var _paytableAtlasSpriteSheet=__webpack_require__(194);var _paytableAtlasSpriteSheet2=_interopRequireDefault(_paytableAtlasSpriteSheet);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var lines={type:"Container",visible:false,children:{background:_styles.background,titleLabel:Object.assign({},_styles.titleStyle,{text:"lines_title"}),lines:{type:"Sprite",spriteSheet:_paytableAtlasSpriteSheet2.default,defaultAnimation:"paylines",align:"center",top:150},promptLabel:Object.assign({},_styles.defaultFont,{text:"paytable_prompt",left:"50%",bottom:30})}};exports.default=lines;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var paytableAtlasSpriteSheet={images:["paytableAtlas"],"frames":[[1,1,581,248,0,0,0],[1,251,111,155,0,0,0],[114,251,111,155,0,0,0],[227,251,177,154,0,0,0],[406,251,177,153,0,0,0],[584,1,112,156,0,0,0],[585,159,112,156,0,0,0],[585,317,84,47,0,0,0]],"animations":{"cellBack":{"frames":[7]},"paylines":{"frames":[0]}}};exports.default=paytableAtlasSpriteSheet;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _styles=__webpack_require__(192);var screenShotStyle={type:"Bitmap",src:"screen_1",visible:true,left:460,top:162};var screenshotLabelStyle=Object.assign({},_styles.defaultFont,{top:378,left:604,visible:true});var bonusGame={type:"Container",visible:false,cache:false,children:{background:_styles.background,titleLabel:Object.assign({},_styles.titleStyle,{text:"bonus_title"}),bonusSymbol:{type:"ReelSymbol",symbolNumber:14,regX:"50%",left:165,top:170},bonusTriggerText:Object.assign({},_styles.defaultFont,{text:"trigger_bonus_game",top:322,left:165,lineWidth:150}),screen_1:Object.assign({},screenShotStyle,{src:"screen_1"}),bonusPrompt:Object.assign({},screenshotLabelStyle,{text:"bonus_prompt",lineWidth:350,right:-70,left:undefined}),papirusLife:{type:"Container",top:130,left:670,width:265,scaleX:0.6,scaleY:0.6,children:{background:{type:"Bitmap",src:"papirus",alias:"bonus"},heart_1:{type:"Bitmap",src:"heart",alias:"bonus",regX:"50%",regY:"50%",top:"50%",left:"25%"},heart_disable_2:{type:"Bitmap",src:"heart_disable",alias:"bonus",regX:"50%",regY:"50%",top:"50%",left:"50%"},heart_disable_3:{type:"Bitmap",src:"heart_disable",alias:"bonus",regX:"50%",regY:"50%",top:"50%",left:"75%"}}}}};exports.default=bonusGame;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _numbersSpriteSheet=__webpack_require__(103);var _numbersSpriteSheet2=_interopRequireDefault(_numbersSpriteSheet);var _styles=__webpack_require__(192);var _config=__webpack_require__(128);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var lineHeight=20;var strokeConfig={color:"#FFFFFF",stroke:{color:"#1c595c",outline:4,alpha:0.5}};var leftCol=152;var rightCol=585;var crunchOffset=/Firefox/.test(navigator.userAgent)?4:0;var scatters={type:"Container",visible:false,children:{background:{type:"Bitmap",src:"background",scaleX:1,scaleY:1},titleLabel:Object.assign({},_styles.titleStyle,{text:"SCATTER",left:160,align:undefined}),title2Label:Object.assign({},_styles.titleStyle,{text:"free_spins",width:140,right:0}),scatterText:{type:"Container",width:100,height:70,left:150,top:180,children:{scatter_x3:Object.assign({},_styles.defaultFont,{text:"x3 = 5TB",color:"#321809",font:"bold 20px Arial"}),scatter_x2:Object.assign({},_styles.defaultFont,{text:"x2 = 2TB",color:"#321809",font:"bold 20px Arial",top:30})}},scatterDescription:Object.assign({},_styles.defaultFont,{text:"scatter_freespins",font:"bold 16px Arial",top:400,lineWidth:200,left:200}),scatterFreeDescription:Object.assign({},_styles.defaultFont,{text:"scatter_desc_freespins",font:"bold 16px Arial",top:150,lineWidth:300,right:40,left:undefined}),scatterFreeDescContainer:{type:"Container",width:390,height:225,right:50,top:210,children:{left:Object.assign({},_config.left,{scaleX:0.6,scaleY:0.6,top:110,left:0,cursor:"default"}),center:Object.assign({},_config.center,{scaleX:0.6,scaleY:0.6,top:110,left:140,cursor:"default"}),right:Object.assign({},_config.right,{scaleX:0.6,scaleY:0.6,top:110,left:280,cursor:"default"})}}}};exports.default=scatters;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _styles=__webpack_require__(192);var symbolsStyle={type:"ReelSymbol",symbolNumber:10,regX:"50%",top:223};var wild={type:"Container",children:{background:_styles.background,titleLabel:Object.assign({},_styles.titleStyle,{text:"wild_title"}),topLabel:Object.assign({},_styles.defaultFont,{text:"wild_description",left:"50%",top:154,lineWidth:280}),wildX2:Object.assign({},symbolsStyle,{symbolNumber:10,left:"30%"}),wildX3:Object.assign({},symbolsStyle,{symbolNumber:11,left:"50%"}),wildX4:Object.assign({},symbolsStyle,{symbolNumber:12,left:"70%"}),bottomLabel:Object.assign({},_styles.defaultFont,{text:"wild_bottom_text",left:"50%",bottom:60,lineWidth:300})}};exports.default=wild;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _WinCommonEvent2=__webpack_require__(140);var _WinCommonEvent3=_interopRequireDefault(_WinCommonEvent2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var WinDesktopEvent=function(_WinCommonEvent){_inherits(WinDesktopEvent,_WinCommonEvent);function WinDesktopEvent(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,WinDesktopEvent);var _this=_possibleConstructorReturn(this,(WinDesktopEvent.__proto__||Object.getPrototypeOf(WinDesktopEvent)).call(this,data));_this.init(data);return _this;}
_createClass(WinDesktopEvent,[{key:"run",value:function run(){this.handler=this.getInst("WinDesktopViewHandler");this.setSubscriber('initGame');this.setSubscriber('spinAction');}}]);return WinDesktopEvent;}(_WinCommonEvent3.default);exports.default=WinDesktopEvent;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};var _winCommonViewHandler2=__webpack_require__(141);var _winCommonViewHandler3=_interopRequireDefault(_winCommonViewHandler2);var _config=__webpack_require__(200);var _config2=_interopRequireDefault(_config);var _numbersSpriteSheet=__webpack_require__(203);var _numbersSpriteSheet2=_interopRequireDefault(_numbersSpriteSheet);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var _interval=null;var transitionMultiplier=1.5;var winDesktopViewHandler=function(_winCommonViewHandler){_inherits(winDesktopViewHandler,_winCommonViewHandler);function winDesktopViewHandler(){_classCallCheck(this,winDesktopViewHandler);return _possibleConstructorReturn(this,(winDesktopViewHandler.__proto__||Object.getPrototypeOf(winDesktopViewHandler)).apply(this,arguments));}
_createClass(winDesktopViewHandler,[{key:"initHandler",value:function initHandler(){var _this2=this;_get(winDesktopViewHandler.prototype.__proto__||Object.getPrototypeOf(winDesktopViewHandler.prototype),"initHandler",this).call(this);this.layout.zIndex=151;this.initChildrenContainer(this.getLayout(),_config2.default.children);this.type=undefined;this.texts={};this._totalShowTime=100;this.shapeBitmaps=[];this._rootContainer=new Container();this.getLayout().addChild(this._rootContainer);_config2.default.available_types.forEach(function(item,i,arr){if(arr.length-1>=i){var container=new Container();var shape=new Bitmap(_config2.default.shapesMap[i],_this2.alias);_this2.getLayout().addChildAt(shape,1);shape.x=_this2.getLayout().width/2;shape.y=_this2.getLayout().height/3;shape.regX=shape.width/2;shape.regY=shape.height/2;shape.scaleX=shape.scaleY=4;shape.alpha=0;_this2.shapeBitmaps.push(shape);var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=_config2.default.types_map[i][Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var curTexture=_step.value;var text=new Bitmap(curTexture,_this2.alias);if(container.children.length>0){var totalWidth=0;var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=container.children[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var child=_step2.value;totalWidth+=child.width+_config2.default.textsOffset;}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}
text.x=totalWidth;}
container.addChild(text);}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}
container.x=_this2.getLayout().width/2;container.y=_this2.getLayout().height/3;container.regX=container.width/2;container.regY=container.height/2;_this2.texts[item]=container;}});this.nextTextureIdx=undefined;this.currentCont=this.texts['Big'];for(var cont in this.texts){this.getLayout().addChild(this.texts[cont]);this.texts[cont].visible=false;}
this._back=this.getLayout().getChildByName("black");}},{key:"_nextAction",value:function _nextAction(resolveMain){if(this.isQuickStop){return;}
this._shape.scaleX=this._shape.scaleY=.4;this._animateShape();if(this.nextTextureIdx){this._bwEmitter.emitter.rate.numPan.a=_config2.default.emitterRates[this.nextTextureIdx][0];this._bwEmitter.emitter.rate.numPan.b=_config2.default.emitterRates[this.nextTextureIdx][1];this._back.backgroundColorFill.graphics._fill.style=_config2.default.backColors[this.nextTextureIdx];this._shape=this.shapeBitmaps[this.nextTextureIdx];if(_config2.default.available_types.indexOf(this.type)==this.nextTextureIdx){this.setEndAnimation(resolveMain);}
if(_config2.default.available_types.indexOf(this.type)>this.nextTextureIdx){this.setTransitionAnimation(resolveMain);}}else{this.setEndAnimation(resolveMain);}}},{key:"_animateShape",value:function _animateShape(){createjs.Tween.get(this._shape).to({alpha:1},0).to({alpha:1,scaleX:1,scaleY:1},80).to({alpha:.6,scaleX:5.56,scaleY:5.56},410).to({alpha:0,scaleX:6.75,scaleY:6.75},500);createjs.Tween.get(this._shape,{loop:true}).to({rotation:360},10000);}},{key:"setTransitionAnimation",value:function setTransitionAnimation(resolveMain){this.currentCont.visible=false;this.currentCont=this.texts[_config2.default.available_types[this.nextTextureIdx]];this.currentCont.scaleX=this.currentCont.scaleY=.4;this.currentCont.visible=true;this._bwEmitter.emitter.behaviours[4].a.b=this._scaleConstA*_config2.default.emitterScales[this.nextTextureIdx];this._bwEmitter.emitter.behaviours[4].b.b=this._scaleConstA*_config2.default.emitterScales[this.nextTextureIdx];this.nextTextureIdx++;createjs.Tween.get(this.currentCont).to({scaleX:.4,scaleY:.4},0).to({scaleX:1.15,scaleY:1.15},100*transitionMultiplier).to({scaleX:.9,scaleY:.9},160*transitionMultiplier).to({scaleX:1,scaleY:1},800*transitionMultiplier).to({scaleX:1.15,scaleY:1.15},100*transitionMultiplier).to({scaleX:.4,scaleY:.4},100*transitionMultiplier).call(this._nextAction.bind(this,resolveMain));}},{key:"setEndAnimation",value:function setEndAnimation(resolveMain){var endTime=arguments.length<=1||arguments[1]===undefined?2500:arguments[1];this.currentCont.visible=false;this.currentCont=this.texts[this.type];this.currentCont.visible=true;createjs.Tween.get(this.currentCont).to({scaleX:.4,scaleY:.4},0).to({scaleX:1.15,scaleY:1.15},100).to({scaleX:.9,scaleY:.9},160).to({scaleX:1,scaleY:1},400).to({scaleX:1.15,scaleY:1.15},endTime).call(this.stopBigWinAnimation.bind(this,resolveMain));}},{key:"setQuickEndAnimation",value:function setQuickEndAnimation(){this.getCanvas().removeEventListener('click',this.bindedQS);if(this.isQuickStop){return;}
this._winCounter.visible=false;this._winCounter2=new BitmapText({text:"0",spriteSheet:_numbersSpriteSheet2.default},this.alias);this._winCounter2.name="winCounter";this._winCounter2.x=this.getLayout().width/2;this._winCounter2.y=this.getLayout().height/1.75;this._rootContainer.addChild(this._winCounter2);this._winCounter2.text=Number(this.getService("ProtocolService").getCurrentWin()/100).toFixed(2).toString();this._winCounter2.value=this.getService("ProtocolService").getCurrentWin()/100;this._winCounter2.regX=this._winCounter2.getBounds().width/2;this._winCounter2.regY=this._winCounter2.getBounds().height/2;this._back.backgroundColorFill.graphics._fill.style=_config2.default.backColors[_config2.default.available_types.indexOf(this.type)];this._shape=this.shapeBitmaps[_config2.default.available_types.indexOf(this.type)-1];createjs.Tween.get(this._shape).to({alpha:1},0).to({alpha:1,scaleX:1,scaleY:1},80).to({alpha:0,scaleX:6.75,scaleY:6.75},400);createjs.Tween.get(this._shape,{loop:true}).to({rotation:360},10000);this.currentCont.visible=false;this.currentCont=this.texts[this.type];this.currentCont.visible=true;createjs.Tween.get(this.currentCont).to({scaleX:1.15,scaleY:1.15},1500).call(this.stopBigWinAnimation.bind(this,this._rm));this.isQuickStop=true;}},{key:"counterEffect",value:function counterEffect(target,start,end,lastInterval,onCountEndCallback){target.text=Number(start).toFixed(2).toString();target.value=start;target.scaleX=target.scaleY=0.5;target.regX=target.getBounds().width/2;target.regY=target.getBounds().height/2;var dif=end-start;var step=dif/125,currentValue=start,finished=false,tween=createjs.Tween.get(target).to({value:end,scaleX:1,scaleY:1},this._totalShowTime).call(function(){if(typeof onCountEndCallback==="function"){onCountEndCallback();}}).to({scaleX:1.2,scaleY:1.2},lastInterval).addEventListener("change",function(ev){if(target.value-currentValue>step){currentValue=target.value;target.text=Number(target.value).toFixed(2).toString();target.regX=target.getBounds().width/2;target.regY=target.getBounds().height/2;}else if(ev.target.position>ev.target.duration-lastInterval&&!finished){target.text=Number(target.value).toFixed(2).toString();target.regX=target.getBounds().width/2;target.regY=target.getBounds().height/2;finished=true;}});}},{key:"showBigWin",value:function showBigWin(){var resolveMain=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var type=arguments.length<=1||arguments[1]===undefined?false:arguments[1];if(!this.ready){return;}
this._winCounter={};this._rm=resolveMain;this.getLayout().cursor='pointer';this.isQuickStop=false;this._back.backgroundColorFill.graphics._fill.style=_config2.default.backColors[0];this._shape=this.shapeBitmaps[0];var winCounter=new BitmapText({text:"0",spriteSheet:_numbersSpriteSheet2.default},this.alias);this.bindedQS=this.setQuickEndAnimation.bind(this);this.getCanvas().addEventListener("click",this.bindedQS);winCounter.name="winCounter";winCounter.x=this.getLayout().width/2;winCounter.y=this.getLayout().height/1.75;this._rootContainer.addChild(winCounter);this._totalShowTime=_config2.default.available_types.indexOf(type)*1000+3000;for(var cont in this.texts){this.texts[cont].scaleX=1;this.texts[cont].scaleY=1;this.texts[cont].visible=false;}
HelperFlags.set("noSpin",null);if(this._bwEmitter){this._bwEmitter.emitter.stopEmit();this.getLayout().removeChild(this._bwEmitter);delete this._bwEmitter;}
this._back.alpha=0;this.getLayout().alpha=1;this.currentCont=this.texts['Big'];if(_config2.default.available_types.indexOf(type)>0){this.nextTextureIdx=1;}
this.type=type;this.getLayout().visible=true;this.activeBigWin=true;this.currentCont.scaleX=this.currentCont.scaleY=.4;this.currentCont.visible=true;createjs.Tween.get(this.getLayout().getChildByName('black')).to({alpha:.75},300);createjs.Tween.get(this.currentCont).to({scaleX:.4,scaleY:.4},0).to({scaleX:1.15,scaleY:1.15},200).to({scaleX:.9,scaleY:.9},160).to({scaleX:1,scaleY:1},800).to({scaleX:1.15,scaleY:1.15},100).to({scaleX:.4,scaleY:.4},100).call(this._nextAction.bind(this,resolveMain));HelperFlags.set("noSpin",true);this._bwEmitter=new ProtonEmitter({left:this.getLayout().width/2,top:720+100,target:new Sprite({spriteSheet:_config2.default.coinSpriteSheet},this.alias),emitterConfig:_config2.default.bigWinEmitter},this.alias);this.getLayout().addChildAt(this._bwEmitter,1);this._bwEmitter.emitter.emit();this._bwEmitter.emitter.rate.numPan.a=_config2.default.emitterRates[0][0];this._bwEmitter.emitter.rate.numPan.b=_config2.default.emitterRates[0][1];this._scaleConstA=this._bwEmitter.emitter.behaviours[4].a.b;this._scaleConstA=this._bwEmitter.emitter.behaviours[4].b.b;this._bwEmitter.emitter.behaviours[4].a.b=this._scaleConstA*_config2.default.emitterScales[0];this._bwEmitter.emitter.behaviours[4].b.b=this._scaleConstA*_config2.default.emitterScales[0];this._winCounter=winCounter;this.counterEffect(this._winCounter,0,this.getService("ProtocolService").getCurrentWin()/100,3000);}},{key:"hideBigWin",value:function hideBigWin(resolveMain){this.bigWinPromise=null;createjs.Tween.get(this.getLayout()).to({alpha:0},300).call(this._clearAnimations.bind(this,resolveMain));}},{key:"_clearAnimations",value:function _clearAnimations(resolveMain){if(this._bwEmitter){this._bwEmitter.emitter.stopEmit();delete this._bwEmitter;}
for(var cont in this.texts){this.texts[cont].visible=false;}
HelperFlags.set("noSpin",null);delete this.labelContainer;delete this.winValue;if(typeof resolveMain=="function"){resolveMain();}
this.getLayout().cursor='normal';this._rootContainer.removeAllChildren();delete this._winCounter;delete this._winCounter2;this.getCanvas().removeEventListener('click',this.bindedQS);}},{key:"stopBigWinAnimation",value:function stopBigWinAnimation(resolveMain){var _this3=this;_get(winDesktopViewHandler.prototype.__proto__||Object.getPrototypeOf(winDesktopViewHandler.prototype),"stopBigWinAnimation",this).call(this,resolveMain);if(_interval!==null){clearTimeout(_interval);}
this.getService("SoundService").stop("audio_big_win");setTimeout(function(){_this3.getService("SoundService").stop("audio_big_win");},100);}}]);return winDesktopViewHandler;}(_winCommonViewHandler3.default);exports.default=winDesktopViewHandler;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _coinSpriteSheetConfig=__webpack_require__(201);var _coinSpriteSheetConfig2=_interopRequireDefault(_coinSpriteSheetConfig);var _bigWinEmitterConfig=__webpack_require__(202);var _bigWinEmitterConfig2=_interopRequireDefault(_bigWinEmitterConfig);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var config={zIndex:51,coinSpriteSheet:_coinSpriteSheetConfig2.default,bigWinEmitter:_bigWinEmitterConfig2.default,children:{black:{type:"Container",width:"100%",height:"100%",backgroundColor:"#000000",alpha:0}},textsOffset:15,types_map:[['big_','_win'],['mega_','_win'],['super_','_win'],['super_','mega_','_win']],available_types:['Big','Mega','Super','SuperMega'],emitterRates:[[0,1],[0,2],[1,2],[2,3]],emitterScales:[.85,1,1.2,1.5],backColors:['#000000','#001920','#0B0135','#3E0024'],shapesMap:["shape_mega","shape_super","shape_super_mega","shape"]};exports.default=config;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var coinSpriteSheet={"images":["big_win_sprite"],"frames":[[1,1,74,74,0,-3,-3],[77,1,76,74,0,-2,-3],[155,1,74,75,0,-3,-3],[231,1,74,75,0,-3,-3],[1,77,72,76,0,-4,-2],[75,77,68,76,0,-6,-2],[145,78,64,76,0,-8,-2],[211,78,58,76,0,-11,-2],[271,78,34,76,0,-23,-2],[1,155,50,76,0,-15,-2],[53,155,42,76,0,-19,-2],[97,155,26,76,0,-27,-2],[125,156,26,76,0,-27,-2],[153,156,34,76,0,-23,-2],[189,156,42,76,0,-19,-2],[233,156,50,76,0,-15,-2],[1,233,58,76,0,-11,-2],[61,234,64,76,0,-8,-2],[127,234,68,76,0,-6,-2],[197,234,72,76,0,-4,-2]],"animations":{"BW_coin":{"frames":[0,1,2,4,5,6,7,9,10,8,11,12,13,14,15,16,17,18,19,3]}}};exports.default=coinSpriteSheet;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var emitterConfig={"initializes":{"Mass":{"massPan":{"isArray":false,"a":1,"b":1,"center":false}},"ImageTarget":{"w":20,"h":20},"Life":{"lifePan":{"isArray":false,"a":20,"b":20,"center":false}},"Velocity":{"rPan":{"isArray":false,"a":4.397463002114165,"b":10,"center":false},"thaPan":{"isArray":false,"a":20,"b":-20,"center":false},"type":"polar"}},"behaviours":{"Alpha":{"id":"Behaviour_1","age":4346791.622329093,"energy":0.99915,"dead":false,"same":false,"a":{"isArray":false,"a":1,"b":1,"center":false},"b":{"isArray":false,"a":1,"b":1,"center":false}},"Attraction":{"energy":0.99915,"dead":false,"targetPosition":{"x":0,"y":0},"radius":200,"force":100,"radiusSq":40000,"attractionForce":{"x":-640,"y":-845},"lengthSq":1123625},"Gravity":{"force":{"x":0,"y":400}},"RandomDrift":{"id":"Behaviour_3","age":4346791.622329093,"energy":0.99915,"dead":false,"panFoce":{"x":0,"y":100},"delay":0,"time":0},"Rotate":{"a":{"isArray":false,"a":-3,"b":3,"center":false},"b":{"isArray":false,"a":-3,"b":3,"center":false}},"Scale":{"a":{"isArray":false,"a":0.6000000000000001,"b":1.2000000000000002,"center":false},"b":{"isArray":false,"a":0.5,"b":1,"center":false}}},"rate":{"Rate":{"numPan":{"isArray":false,"a":0,"b":1,"center":false},"timePan":{"isArray":false,"a":0,"b":0,"center":false}}}};exports.default=emitterConfig;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var numbersSpriteSheet={images:["bonus_numbers"],"frames":[[1,1,103,108,0,0,0],[116,1,93,111,0,0,0],[221,1,93,110,0,0,0],[326,1,93,109,0,0,0],[431,1,90,108,0,0,0],[533,1,86,110,0,0,0],[631,1,85,108,0,0,0],[728,1,84,110,0,0,0],[824,1,84,108,0,0,0],[920,1,54,109,0,0,0],[986,1,53,62,0,0,-60],[1051,1,48,50,0,0,-60]],"animations":{"0":{"frames":[0]},"4":{"frames":[1]},"9":{"frames":[2]},"6":{"frames":[3]},"2":{"frames":[4]},"8":{"frames":[5]},"5":{"frames":[6]},"7":{"frames":[7]},"3":{"frames":[8]},"1":{"frames":[9]},",":{"frames":[10]},".":{"frames":[11]}}};exports.default=numbersSpriteSheet;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _PopupViewHandlerEs=__webpack_require__(88);var _PopupViewHandlerEs2=_interopRequireDefault(_PopupViewHandlerEs);var _config=__webpack_require__(205);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var DesktopPopupViewHandler=function(_PopupViewHandler){_inherits(DesktopPopupViewHandler,_PopupViewHandler);function DesktopPopupViewHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,DesktopPopupViewHandler);return _possibleConstructorReturn(this,(DesktopPopupViewHandler.__proto__||Object.getPrototypeOf(DesktopPopupViewHandler)).call(this,data,_config2.default));}
_createClass(DesktopPopupViewHandler,[{key:"showSystemInfoPopup",value:function showSystemInfoPopup(data){this.initHandler();var message=this.querySelector("infoPopup.messageContainer.message");this.setTranslationMessage("info",data.message,message);this.clearTranslationMessage("info");this.querySelector("infoPopup.title").setText(data.header?data.header:$_t.getText("MESSAGE"));this.querySelector("infoPopup.buttonText").setText($_t.getText(data.okButtonName!=null?data.okButtonName:"Ok"));this.querySelector("infoPopup.okButton").addEventListener("click",this.systemAction);this.controller.nextSystemState=[];this.controller._lastSystemErrorsName=data.name;if(data.state){this.controller.nextSystemState.push(data.state);}
if(data.states){var _controller$nextSyste;(_controller$nextSyste=this.controller.nextSystemState).push.apply(_controller$nextSyste,_toConsumableArray(data.states));}
this.enableModalMode();this.getStage().requestUpdate();}},{key:"showSystemErrorPopup",value:function showSystemErrorPopup(data){this.initHandler();var message=this.querySelector("systemPopup.messageContainer.message");this.setTranslationMessage("error",data.message,message);this.clearTranslationMessage("error");this.querySelector("systemPopup.title").setText($_t.getText("ERROR!"));this.enableModalMode();this.getStage().requestUpdate();}},{key:"hideSystemPopup",value:function hideSystemPopup(){var data=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(!this.ready){return;}
this.blurBackground.removeEventListener("click",this.systemAction);}},{key:"hideAllSystemPopups",value:function hideAllSystemPopups(){return;if(!this.ready){return;}
if(this.systemPopup){}
if(this.blackBackground){}
if(this.blurBackground){this.blurBackground.removeEventListener("click",this.systemAction);}
this.unblur();this.disableModalMode();this.getStage().requestUpdate();}}]);return DesktopPopupViewHandler;}(_PopupViewHandlerEs2.default);exports.default=DesktopPopupViewHandler;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _gamePopup=__webpack_require__(206);var _gamePopup2=_interopRequireDefault(_gamePopup);var _systemPopup=__webpack_require__(207);var _systemPopup2=_interopRequireDefault(_systemPopup);var _infoPopup=__webpack_require__(208);var _infoPopup2=_interopRequireDefault(_infoPopup);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var config={layerSizeType:"fullsize",zIndex:100,children:{gameBlockPopup:{type:"Container",width:1280,height:720,top:0,left:0},backgroundContainer:{type:"Container",width:1280,height:720,top:0,left:0},systemPopup:_systemPopup2.default,infoPopup:_infoPopup2.default,gamePopup:_gamePopup2.default}};exports.default=config;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _numbersSpriteSheet=__webpack_require__(103);var _numbersSpriteSheet2=_interopRequireDefault(_numbersSpriteSheet);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var crunchOffset=/Chrome/.test(navigator.userAgent)&&/Win/.test(navigator.platform)?-3:0;var defaultFont={type:"Text",font:"bold 34px Arial",color:"#fbffb8",left:"50%",textAlign:"center",lineHeight:40,lineWidth:400,stroke:{color:"#2c4f5f",outline:4,alpha:0.75,offsetY:3}};var message_free_spins_start={type:"Container",width:"100%",height:"100%",children:{message_1:Object.assign({},defaultFont,{text:"free_spins_start_congratulations",font:"bold 24px Arial",textAlign:"left",left:"50%",top:92}),message_2:Object.assign({},defaultFont,{text:"free_spins_start_you_won",top:155,left:158,textAlign:"left",font:"bold 18px Arial"}),message_3:Object.assign({},defaultFont,{text:"free_spins_start_free_spins",top:155,left:321,textAlign:"left",font:"bold 18px Arial"}),winValue:{type:"BitmapText",text:"15",left:"50%",scaleX:0.4,scaleY:0.4,top:143,alias:"bonus",spriteSheet:_numbersSpriteSheet2.default}}};var message_free_spins_end={type:"Container",width:"100%",height:"100%",children:{message_1:Object.assign({},defaultFont,{text:"Congratulations!",font:"bold 24px Arial",textAlign:"left",left:"50%",top:70}),message_2:Object.assign({},defaultFont,{text:"free_spins_end_you_won",top:184,left:"50%",textAlign:"left",font:"bold 18px Arial"}),winValue:{type:"BitmapText",text:"15",left:"50%",scaleX:0.4,scaleY:0.4,top:125,alias:"bonus",spriteSheet:_numbersSpriteSheet2.default}}};var message_free_spins_end_zero={type:"Container",width:"100%",height:"100%",children:{message_1:Object.assign({},defaultFont,{text:"Better luck next time!",font:"bold 18px Arial",textAlign:"left",left:"50%",top:"50%"})}};var message_free_spins_add={type:"Container",width:"100%",height:"100%",children:{message_1:Object.assign({},defaultFont,{text:"Congratulations!",font:"bold 24px Arial",textAlign:"left",left:"50%",top:66}),message_2:Object.assign({},defaultFont,{text:"free_spin_add_you_won",top:112,left:"50%",textAlign:"left",font:"bold 18px Arial"}),message_3:Object.assign({},defaultFont,{text:"additional Free Spins!",top:157,left:"50%",textAlign:"center",font:"bold 18px Arial"}),winValue:{type:"BitmapText",text:"15",left:"50%",top:"50%",scaleX:0.4,scaleY:0.4,alias:"bonus",spriteSheet:_numbersSpriteSheet2.default}}};var message_bonus_start={type:"Container",width:"100%",height:"100%",children:{message_1:Object.assign({},defaultFont,{text:"Congratulations!",font:"bold 24px Arial",textAlign:"left",left:"50%",top:80}),message_2:Object.assign({},defaultFont,{text:"You won Bonus game!",left:"50%",top:"54%",textAlign:"left",font:"bold 18px Arial"})}};var message_auto_game_end={type:"Container",width:"100%",height:"100%",children:{message_1:{type:"Container",left:"50%",top:106,width:160,height:30,children:{message:Object.assign({},defaultFont,{text:"Spins made:",font:"bold 18px Arial",textAlign:"left",left:0,top:0}),winValue:Object.assign({},defaultFont,{text:"15",font:"bold 28px Arial",textAlign:"left",left:202,top:-8.5})}},message_2:Object.assign({},defaultFont,{text:"Resume autoplay?",top:158,left:"50%",textAlign:"left",font:"bold 18px Arial"})}};var gamePopup={type:"Container",align:"center",width:503,height:308,children:{background:{type:"Bitmap",src:"popup_back",zIndex:0},messageAliasContainer:{type:"Container",width:"100%",height:"100%",zIndex:10,children:{message_free_spins_start:message_free_spins_start,message_free_spins_end:message_free_spins_end,message_free_spins_end_zero:message_free_spins_end_zero,message_free_spins_add:message_free_spins_add,message_bonus_start:message_bonus_start,message_auto_game_end:message_auto_game_end}},messageContainer:{type:"Container",width:"100%",height:"100%",zIndex:10,children:{message:{type:"Text",text:"The game is currently not available.\nTry again later.",font:"bold 34px Arial",color:"#fbffb8",left:"50%",lineHeight:40,lineWidth:400,stroke:{color:"#2c4f5f",outline:4,alpha:0.75},textAlign:"center",verticalAlign:"middle"}}},okButton:{type:"Container",left:"50%",width:110,height:37,regX:"50%",regY:"50%",bottom:3,zIndex:10,children:{button:{type:"Button","width":110,"height":37,"spriteSheet":{"images":["popup_ok_button"],"frames":{"width":48,"height":25},"animations":{"normal":[2],"hover":[3],"clicked":[0],"disabled":[1]}}},buttonText:{type:"Text",text:"OK",font:"bold 14pt Calibri","color":"#55702B","left":"50%","textAlign":"center","textBaseline":"middle",top:22+crunchOffset,mouseEnabled:false}}}},visible:false};exports.default=gamePopup;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var systemPopup={type:"Container",align:"center",children:{background:{type:"Bitmap",src:"UI_MG_popup_system",align:"center",scaleX:1.3,scaleY:1.3,zIndex:0},title:{type:"Text",text:"MESSAGE","font":"bold 18pt Calibri",color:"#FFFFFF",top:10,left:10},messageContainer:{type:"Container",top:0,left:0,width:"100%",height:"100%",children:{message:{type:"Text",text:"The game is currently not available.\nTry again later.",color:"#FFFFFF","font":"bold 13pt Calibri",left:"50%",lineHeight:18,lineWidth:380,textAlign:"center",verticalAlign:"middle"},okButton:{type:"Container",align:"center",bottom:50,children:{button:{type:"Button","spriteSheet":{"images":["popup_ok_button"],"frames":{"width":48,"height":25},"animations":{"normal":[2],"hover":[3],"clicked":[0],"disabled":[1]}}},buttonText:{type:"Text",text:"Ok",font:"bold 12pt Calibri","color":"#55702B","left":"50%","textAlign":"center","textBaseline":"middle",top:"50%",mouseEnabled:false}},visible:false}}}},visible:false};exports.default=systemPopup;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var infoPopup={type:"Container",align:"center",children:{background:{type:"Bitmap",src:"UI_MG_popup_system",align:"center",zIndex:0,scaleX:1.3,scaleY:1.3},title:{type:"Text",text:"MESSAGE","font":"bold 14pt Calibri",color:"#FFFFFF",top:6,left:10},messageContainer:{type:"Container",top:0,left:0,width:"100%",height:"100%",children:{message:{type:"Text",text:"The game is currently not available.\nTry again later.",color:"#FFFFFF","font":"bold 13pt Calibri",left:"50%",lineHeight:18,lineWidth:380,textAlign:"center",verticalAlign:"middle"},okButton:{type:"Container",align:"center",bottom:30,children:{button:{type:"Button","spriteSheet":{"images":["popup_ok_button"],"frames":{"width":48,"height":25},"animations":{"normal":[2],"hover":[3],"clicked":[0],"disabled":[1]}}},buttonText:{type:"Text",text:"Ok",font:"bold 12pt Calibri","color":"#55702B","left":"50%","textAlign":"center","textBaseline":"middle",top:"58%",mouseEnabled:false}}}}}},visible:false};exports.default=infoPopup;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _backgroundHandlerEs=__webpack_require__(84);var _backgroundHandlerEs2=_interopRequireDefault(_backgroundHandlerEs);var _config=__webpack_require__(210);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BackgroundMobileHandler=function(_BackgroundHandler){_inherits(BackgroundMobileHandler,_BackgroundHandler);function BackgroundMobileHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,BackgroundMobileHandler);var _this=_possibleConstructorReturn(this,(BackgroundMobileHandler.__proto__||Object.getPrototypeOf(BackgroundMobileHandler)).call(this,data));_this.ready=false;return _this;}
_createClass(BackgroundMobileHandler,[{key:"initHandler",value:function initHandler(){this.ready=true;this.initLayout(_config2.default);this.initChildren(_config2.default.children);this._background=this.querySelector("background");}},{key:"showMainBackground",value:function showMainBackground(){this.querySelector("logo").visible=true;this.querySelector("luckyLogo").visible=true;this.querySelector("pool").visible=true;this.changeBackground("background_main",this.alias);}},{key:"showFreeSpinBackground",value:function showFreeSpinBackground(){this.changeBackground("background_free_spins",this.alias);try{this.querySelector("logo").visible=false;this.querySelector("luckyLogo").visible=false;this.querySelector("pool").visible=false;}catch(e){setTimeout(this.showFreeSpinBackground,20);$_log.error(e);}}},{key:"activateVerticalMode",value:function activateVerticalMode(){this.verticalMode=true;if(this._background){this._background.y=0;}}},{key:"activateHorizontalMode",value:function activateHorizontalMode(){this.verticalMode=false;if(this._background){if(this.type==="bonus"){this._background.y=-60;}else{this._background.y=0;}}}}]);return BackgroundMobileHandler;}(_backgroundHandlerEs2.default);exports.default=BackgroundMobileHandler;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var atlasBackAnimation={"images":["main_back_anim"],"frames":[[1,1,651,81,0,-1,-1],[1,84,651,81,0,-1,-1],[654,1,651,81,0,-1,-1],[1,167,651,81,0,-1,-1],[654,84,651,81,0,-1,-1],[1,250,651,81,0,-1,-1],[654,167,651,81,0,-1,-1],[1,333,651,81,0,-1,-1],[654,250,651,81,0,-1,-1],[1,416,651,81,0,-1,-1],[654,333,651,81,0,-1,-1],[1,499,651,81,0,-1,-1],[654,416,651,81,0,-1,-1],[1307,1,356,85,0,-2,0],[1,582,356,85,0,-2,0],[1307,88,356,85,0,-2,0],[1,669,356,85,0,-2,0],[1307,175,356,85,0,-2,0],[1,756,356,85,0,-2,0],[1307,262,356,85,0,-2,0],[1,843,356,85,0,-2,0],[1307,349,356,84,0,-2,-1],[1,930,355,85,0,-3,0],[1,1017,355,85,0,-3,0],[1,1104,355,85,0,-3,0],[1,1191,355,85,0,-3,0],[1,1278,356,84,0,-2,-1],[1,1364,356,84,0,-2,-1],[1,1450,356,84,0,-2,-1],[1,1536,356,84,0,-2,-1],[1,1622,356,84,0,-2,-1],[654,499,356,82,0,-2,-3],[1307,435,356,82,0,-2,-3],[1665,1,97,296,0,-5,0],[359,582,97,296,0,-5,0],[458,582,97,294,0,-4,-2],[557,582,95,292,0,-4,-4],[654,583,356,83,0,-2,-2],[654,668,356,82,0,-2,-3],[654,752,356,82,0,-2,-3],[654,836,356,82,0,-2,-3],[1012,499,97,294,0,-4,-2],[1111,499,96,294,0,-4,-2],[1209,499,96,290,0,-4,-6],[1307,519,356,82,0,-2,-3],[1665,299,95,292,0,-4,-4],[358,930,93,291,0,-4,-5],[359,1223,93,291,0,-4,-5],[1307,603,102,269,0,-2,-15],[1411,603,102,269,0,-2,-15],[1515,603,102,271,0,-2,-13],[1619,603,92,282,0,-5,-14],[453,920,93,290,0,-4,-6],[454,1212,93,290,0,-4,-6],[548,920,96,290,0,-4,-6],[549,1212,94,289,0,-4,-7],[646,920,97,288,0,-5,-8],[745,920,95,288,0,-4,-8],[842,920,94,289,0,-4,-7],[938,920,93,288,0,-4,-8],[645,1212,94,287,0,-4,-9],[741,1210,94,287,0,-4,-9],[837,1211,100,281,0,-4,-3],[939,1210,92,282,0,-5,-14],[1033,795,100,279,0,-4,-5],[1033,1076,100,279,0,-4,-5],[1135,795,93,284,0,-4,-12],[1135,1081,93,283,0,-4,-13],[1230,874,101,277,0,-3,-7],[1333,874,100,278,0,-4,-6],[1230,1153,101,270,0,-3,-14],[1333,1154,102,271,0,-2,-13],[1435,876,102,274,0,-2,-10],[1437,1152,102,273,0,-2,-11],[1033,1357,100,271,0,-4,-13],[1135,1366,92,283,0,-5,-13],[1229,1425,102,271,0,-2,-13],[1333,1427,102,271,0,-2,-13],[1437,1427,102,273,0,-2,-11],[454,1504,101,270,0,-3,-14],[557,1503,100,271,0,-4,-13],[659,1501,101,273,0,-3,-11],[762,1499,100,275,0,-4,-9],[864,1494,100,278,0,-4,-6],[1539,876,53,100,0,-6,0],[1594,887,101,272,0,-3,-12],[1541,1161,100,275,0,-4,-9],[1541,1438,100,270,0,-4,-14],[1643,1161,101,273,0,-3,-11],[1539,978,53,54,0,-5,-46],[359,1516,52,93,0,-6,-7],[966,1494,51,83,0,-7,-17],[1643,1436,54,73,0,-6,-27],[1,1708,58,65,0,-5,-35],[61,1708,59,62,0,-5,-38],[122,1708,59,62,0,-5,-38],[183,1708,57,61,0,-5,-39],[242,1708,55,60,0,-6,-40],[299,1708,56,55,0,-6,-45],[1539,1034,49,61,0,-4,-39],[1643,1511,54,55,0,-6,-45],[359,1611,51,49,0,-4,-51],[359,880,49,46,0,-4,-54]],"animations":{"pool":{"frames":[0,1,2,3,4,5,6,7,8,9,10,11,12]},"logo":{"frames":[13,21,14,22,23,24,25,31,32,37,26,27,28,15,16,17,29,38,39,40,44,30,18,19,20]}},framerate:25};var config={layerSizeType:"fullsize",zIndex:0,children:{background:{type:"Bitmap",src:"background_main",width:"100%",height:"100%"},logo:{type:"Sprite",top:32,align:"center",spriteSheet:atlasBackAnimation,defaultAnimation:"logo",framerate:18,visible:false},luckyLogo:{type:"Bitmap",src:"lucky_logo",top:33,left:835,scaleX:0.75,scaleY:0.75},pool:{type:"Sprite",top:487,left:313,spriteSheet:atlasBackAnimation,defaultAnimation:"pool",framerate:18}}};exports.default=config;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _controlCommonController=__webpack_require__(146);var _controlCommonController2=_interopRequireDefault(_controlCommonController);var _listEvents=__webpack_require__(147);var _listEvents2=_interopRequireDefault(_listEvents);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var ControlMobileController=function(_ControlCommonControl){_inherits(ControlMobileController,_ControlCommonControl);function ControlMobileController(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,ControlMobileController);var _this=_possibleConstructorReturn(this,(ControlMobileController.__proto__||Object.getPrototypeOf(ControlMobileController)).call(this,data));_this.getService("AutoPlayService").setAutoPlayRange([10,25,50,100,200,500,1000]);_this.lastCountFreeSpins=0;_this.defaultAutoSpinCount=100;_this.getCountAutoSpinValue();_this.handler=_this.getInst("ControlMobileViewHandler");return _this;}
_createClass(ControlMobileController,[{key:"initController",value:function initController(){this.handler=this.getInst("ControlMobileViewHandler");}},{key:"autoPlayButtonClickAction",value:function autoPlayButtonClickAction(){var autoPlayRange=this.getService("AutoPlayService").getAutoPlayRange();this.handler.setAutoPlayRangeSettingsValue(autoPlayRange);this.handler.toggleVisibilityAutoPlaySettings();}},{key:"getCountAutoSpinValue",value:function getCountAutoSpinValue(){var val=this.getService("MemoryService").get("autoSpinCount",MemoryService.MEMORY_COOKIES_STORAGE);if(val==null||val===-1){val=this.defaultAutoSpinCount;this.getService("MemoryService").set("autoSpinCount",val,MemoryService.MEMORY_COOKIES_STORAGE);}
return val;}},{key:"autoStopButtonClickAction",value:function autoStopButtonClickAction(){this.getService("AutoPlayService").stopAutoSpins();}},{key:"spinButtonClickAction",value:function spinButtonClickAction(){if(HelperFlags.get("noSpin")===true){return;}
if(this.getService("ProtocolService").getNextAction()!=="spin"&&$_signal_history.getLast().alias!="protocol.spins.init"){return;}
var slotMachine=this.getService("SlotMachineService").getInstance();if(slotMachine.isRunning()){this.stopSpinAction();}else if(this.getInst("ControlMobileViewHandler").freeSpinActivePanel===false){this.spinAction();}}},{key:"freeButtonClickAction",value:function freeButtonClickAction(){new Promise(function(resolve,reject){setTimeout(resolve,300);}).then(function(){$_event.setEvent(_listEvents2.default.RoundStart);createjs.Sound.play('reelrun');});}},{key:"quickSpinOnButtonClickAction",value:function quickSpinOnButtonClickAction(){this.getService("SlotMachineService").getInstance().enableQuickMode();this.handler.changeActiveQuickSpinButton(true);}},{key:"quickSpinOffButtonClickAction",value:function quickSpinOffButtonClickAction(){this.getService("SlotMachineService").getInstance().disableQuickMode();this.handler.changeActiveQuickSpinButton(false);}},{key:"checkSpinEnd",value:function checkSpinEnd(){if(this.getService("ProtocolService").hasFreeBets()&&this.getService("ProtocolService").getFreeBets().status=="finished"){$_signal.goTo("!lines.ended.execute");}}},{key:"checkButtonsActive",value:function checkButtonsActive(){var nextAction=this.getService("ProtocolService").getNextAction();if(nextAction==="spin"){if(this.getService("AutoPlayService").isActive()){this.handler.hideSettingsButton();this.handler.autoSpinActive=true;}else{this.handler.showAllButtons();}}else if(nextAction==="respin"){this.handler.hideSettingsButton();}else if(nextAction==="freespin"){this.handler.hideAdditionalButtons();}else if(nextAction==="freespin_stop"){if(this.getService("AutoPlayService").isActive()){this.handler.autoSpinActive=true;}else{}}else{this.handler.hideAllButtons();}}},{key:"beforeStartAutoPlay",value:function beforeStartAutoPlay(){this.getHandler().changeSpinState();}},{key:"checkSpinButtonActive",value:function checkSpinButtonActive(){this.getHandler().changeSpinState();}}]);return ControlMobileController;}(_controlCommonController2.default);exports.default=ControlMobileController;},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _EventsEs=__webpack_require__(7);var _EventsEs2=_interopRequireDefault(_EventsEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var ControlMobileEvent=function(_Events){_inherits(ControlMobileEvent,_Events);function ControlMobileEvent(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,ControlMobileEvent);return _possibleConstructorReturn(this,(ControlMobileEvent.__proto__||Object.getPrototypeOf(ControlMobileEvent)).call(this,data));}
_createClass(ControlMobileEvent,[{key:'run',value:function run(){this.handler=this.getInst('ControlMobileViewHandler');this.controller=this.getInst('ControlMobileController');this.setSubscriber('verticalMode');this.setSubscriber('horizontalMode');}},{key:'verticalModeEvent',value:function verticalModeEvent(){this.handler.activateVerticalMode();}},{key:'horizontalModeEvent',value:function horizontalModeEvent(){this.handler.activateHorizontalMode();}}]);return ControlMobileEvent;}(_EventsEs2.default);exports.default=ControlMobileEvent;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ViewCanvasHandler2=__webpack_require__(82);var _ViewCanvasHandler3=_interopRequireDefault(_ViewCanvasHandler2);var _config=__webpack_require__(214);var _config2=_interopRequireDefault(_config);var _vertical=__webpack_require__(226);var _vertical2=_interopRequireDefault(_vertical);var _horizontal=__webpack_require__(230);var _horizontal2=_interopRequireDefault(_horizontal);var _paytableAtlasSpriteSheet=__webpack_require__(194);var _paytableAtlasSpriteSheet2=_interopRequireDefault(_paytableAtlasSpriteSheet);var _numbersSpriteSheet=__webpack_require__(103);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var ControlMobileViewHandler=function(_ViewCanvasHandler){_inherits(ControlMobileViewHandler,_ViewCanvasHandler);function ControlMobileViewHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,ControlMobileViewHandler);var _this=_possibleConstructorReturn(this,(ControlMobileViewHandler.__proto__||Object.getPrototypeOf(ControlMobileViewHandler)).call(this,data));_this.config=_config2.default;_this.init(_this.config);_this.ready=false;_this.callbackReady=null;_this.controller=null;_this.spinButton=null;_this.spinButtonContainer=null;_this.spinStatePlay=null;_this.gameSoundSlider=null;_this.gameEffectsSlider=null;_this.gameQuickSpinSlider=null;_this.gameAutoPlaySlider=null;_this.betSlider=null;_this.linesSlider=null;_this.lastChooseSettingMenu=null;_this.activeMenu={};_this.panelButtons={};_this.quickSpinEnable=false;_this.autoSpinActive=false;_this.freeSpinActivePanel=false;_this.bonusActivePanel=false;_this.settingsOpened=false;_this.inc=1;_this.beforeHorizontalPosition=true;_this.autoPLayRange=[10,25,50,100,200,500,-2];_this._autoInfinite=$_t.decodeCharCodeToString(8734);_this.controller=_this.getInst("ControlMobileController");_this.isInit=true;_this.isFreeBets=false;return _this;}
_createClass(ControlMobileViewHandler,[{key:"addWinValue",value:function addWinValue(){}},{key:"_convertBalance",value:function _convertBalance(number,_with){return number_format(number,2,'.',',');}},{key:"initControl",value:function initControl(){if(this.ready===true){return null;}
this.initLayout(this.config);this.inc++;this.initChildren(this.config.children);this.initPaytableData();this.initPayLinesData();if(this.isVerticalMode()){this.activateVerticalMode();}else{this.activateHorizontalMode();}
this.spinActions();this.spinSettings();this.changeCountSetOfAutoPlay();this.settingsActivate();this.homeButton();this.changeSpinState();this.ready=true;if(this.callbackReady!==null){this.callbackReady();}}},{key:"homeButton",value:function homeButton(){var _this2=this;this.querySelector("main.homeButton").addEventListener("click",function(){_this2.getService("SoundService").play("audio_options");var url=_this2.getService("GameSettingsService").getExitUrl();if(url){try{window.parent.location=url;}catch(e){window.location=url;}}});}},{key:"spinActions",value:function spinActions(){var _this3=this;this.spinButtonContainer=this.querySelector("main.SpinButton");this.spinButton=this.querySelector("main.SpinButton.defaultSpinBtn");this.spinStatePlay=this.querySelector("main.SpinButton.states.play");this.spinBtnStatesGl=this.querySelector("main.SpinButton.spinBtnStatesGl");this.spinButton.addEventListener("mousedown",function(){if(_this3.settingsOpened){_this3.hideExpand();}
if(_this3.autoSpinActive===false){_this3.controller.spinButtonClickAction();}
if(_this3.getService("AutoPlayService").isActive()){if(_this3.autoSpinActive===false){_this3.autoSpinActive=true;}else{_this3.autoSpinActive=false;_this3.getService("AutoPlayService").stopAutoSpins();var elIcon=_this3.querySelector("main.SpinButton.expandSpinSettingsContainer.expandSpinSettings.autoBtn.autoIcon");var elIconV=_this3.querySelector("main.SpinButton.expandVerticalNormalSettings.autoBtnV.autoIconV");elIcon.x=0;elIcon.y=0;elIconV.x=0;elIconV.y=0;var elTextV=_this3.querySelector("main.SpinButton.expandVerticalNormalSettings.autoBtnV.autoIconTextV");var elText=_this3.querySelector("main.SpinButton.expandSpinSettings.autoBtn.autoIconText");var countAutoSpins=_this3.getService("AutoPlayService").getStartValue();if(countAutoSpins==-2){countAutoSpins=_this3._autoInfinite;}
elText.setText(countAutoSpins);elTextV.setText(countAutoSpins);_this3.enableAllButtons();_this3.changeSpinState();return null;}}
_this3.spinStatePlay.gotoAndStop(_this3.quickSpinEnable===false?"clicked":"fastClicked");_this3.spinBtnStatesGl.gotoAndStop(_this3.quickSpinEnable===false?"clicked":"fast");_this3.changeSpinState(true);});}},{key:"changeFreespinCounterBeforeSpin",value:function changeFreespinCounterBeforeSpin(){this.setSpinCounterValue(this.getService("FreeSpinService").getFreeSpinLeft()-1);}},{key:"changeSpinState",value:function changeSpinState(){var isQSAction=arguments.length<=0||arguments[0]===undefined?false:arguments[0];var counter=this.querySelector("freeCounter");var statePlay=this.querySelector("main.SpinButton.states.play");if(this.freeSpinActivePanel===true){this.hideHomeButton();$_view_canvas.disableClickActions();counter.visible=true;statePlay.visible=false;if(!isQSAction){counter.setText(this.getService("FreeSpinService").getFreeSpinLeft());}
this.spinBtnStatesGl.gotoAndStop(this.quickSpinEnable===false?"normal":"fast");this.spinBtnStatesGl.visible=true;counter.color="#16fcc3";this.disableAutospinButton();this.spinButtonContainer.setChildLeft(counter,105);}else if(this.getService("AutoPlayService").isActive()){this.enableAutospinButton();var countCurrent=this.getService("AutoPlayService").getCurrentValue();this.spinStatePlay.disabled=false;this.spinStatePlay.visible=false;statePlay.visible=false;if(this.autoSpinActive){this.spinButtonContainer.setChildLeft(counter,103);this.spinBtnStatesGl.gotoAndStop(this.quickSpinEnable===false?"autoStop":"autoStopFast");var elIcon=this.querySelector("main.SpinButton.expandSpinSettingsContainer.expandSpinSettings.autoBtn.autoIcon");var elIconV=this.querySelector("main.SpinButton.expandVerticalNormalSettings.autoBtnV.autoIconV");elIcon.x=-30;elIcon.y=-5;elIcon.gotoAndStop("stop");elIconV.x=-30;elIconV.y=-5;elIconV.gotoAndStop("stop");var elTextV=this.querySelector("main.SpinButton.expandVerticalNormalSettings.autoBtnV.autoIconTextV");var elText=this.querySelector("main.SpinButton.expandSpinSettings.autoBtn.autoIconText");elText.setText(countCurrent==-2?this._autoInfinite:countCurrent);elTextV.setText(countCurrent==-2?this._autoInfinite:countCurrent);}else{this.spinButtonContainer.setChildLeft(counter,90);this.spinBtnStatesGl.gotoAndStop(this.quickSpinEnable===false?"autoStart":"autoStartFast");var _elTextV=this.querySelector("main.SpinButton.expandVerticalNormalSettings.autoBtnV.autoIconTextV");var _elText=this.querySelector("main.SpinButton.expandSpinSettings.autoBtn.autoIconText");var countAutoSpins=this.getService("AutoPlayService").getStartValue();if(countAutoSpins==-2){countAutoSpins=this._autoInfinite;}
_elText.setText(countAutoSpins);_elTextV.setText(countAutoSpins);}
counter.visible=true;if(this.autoSpinActive===false){countCurrent=this.controller.getCountAutoSpinValue();}
counter.setText(countCurrent===-2?this._autoInfinite:countCurrent);counter.color="#0c584c";}else{this.enableAutospinButton();counter.visible=false;statePlay.visible=true;this.spinStatePlay.disabled=true;this.spinStatePlay.visible=true;this.spinStatePlay.gotoAndStop(this.quickSpinEnable===false?"normal":"fast");this.spinBtnStatesGl.gotoAndStop(this.quickSpinEnable===false?"normal":"fast");var _elTextV2=this.querySelector("main.SpinButton.expandVerticalNormalSettings.autoBtnV.autoIconTextV");var _elText2=this.querySelector("main.SpinButton.expandSpinSettings.autoBtn.autoIconText");var _elIcon=this.querySelector("main.SpinButton.expandSpinSettingsContainer.expandSpinSettings.autoBtn.autoIcon");var _elIconV=this.querySelector("main.SpinButton.expandVerticalNormalSettings.autoBtnV.autoIconV");_elIcon.x=0;_elIcon.y=0;_elIconV.x=0;_elIconV.y=0;_elIcon.gotoAndStop("normal");_elIconV.gotoAndStop("normal");var _countAutoSpins=this.controller.getCountAutoSpinValue();if(_countAutoSpins==-2){_countAutoSpins=this._autoInfinite;}
_elText2.setText(_countAutoSpins);_elText2.color="#16fcc3";_elTextV2.setText(_countAutoSpins);_elTextV2.color="#16fcc3";}}},{key:"spinSettings",value:function spinSettings(){var _this4=this;var expandSpinButton=this.querySelector("main.SpinButton.expandSpinBtn");var spinButton=this.querySelector("main.SpinButton");var expandFast=this.querySelector("main.SpinButton.expandVerticalFastSettings");var expandNormal=this.querySelector("main.SpinButton.expandVerticalNormalSettings");var expandFastButton=this.querySelector("main.SpinButton.expandVerticalFastSettings.fast");var expandNormalButton=this.querySelector("main.SpinButton.expandVerticalNormalSettings.normal");var expandSpinSettings=this.querySelector("main.SpinButton.expandSpinSettings");var expandSpinSettingsContainer=this.querySelector("main.SpinButton.expandSpinSettingsContainer");var expandSpinBackground=this.querySelector("main.SpinButton.expandSpinSettings.bg");var tweenID=null;var spinBtnBounds=spinButton.getBounds();var spinButtonWidth=void 0;var spinButtonHeight=void 0;if(this.isVerticalMode()){spinButtonWidth=spinBtnBounds.width;spinButtonHeight=spinBtnBounds.height;}else{spinButtonWidth=spinBtnBounds.height;spinButtonHeight=spinBtnBounds.width;}
expandSpinSettingsContainer.left=-(expandSpinBackground.width-spinButtonHeight)-30;expandSpinSettings.left=expandSpinBackground.width-spinButtonHeight;var fastClosePosition=-240;var fastOpenPosition=0;var mask=new createjs.Shape();mask.graphics.drawRect(expandFast.x+expandFast.width,0,expandFast.width,expandFast.height);expandFast.mask=mask;var normalClosePosition=spinBtnBounds.x;var normalOpenPosition=spinButtonWidth-expandNormal.width-70;mask=new createjs.Shape();mask.graphics.drawRect(normalOpenPosition,0,expandNormal.width,expandNormal.height);expandNormal.mask=mask;var horizontalClosePosition=expandSpinBackground.width-(spinButtonHeight-spinButtonWidth);var horizontalOpenPosition=0;mask=new createjs.Shape();mask.graphics.beginBitmapFill(expandSpinBackground.image).drawRect(-1,0,expandSpinBackground.width-spinButtonWidth/2,expandSpinBackground.height).endFill();mask.cache(-1,0,expandSpinBackground.width-spinButtonWidth/2,expandSpinBackground.height);this.hideExpand=function(){if(_this4.beforeHorizontalPosition===false){expandFast.x=fastClosePosition;expandFast.visible=false;expandNormal.x=normalClosePosition;expandNormal.visible=false;}else{expandSpinSettings.x=horizontalClosePosition;expandSpinSettings.visible=false;}
expandSpinButton.outLabel="normal";expandSpinButton.downLabel="clicked";expandSpinButton.gotoAndStop("normal");expandSpinButton.visible=true;_this4.changeSpinState();_this4.requestUpdate();_this4.settingsOpened=false;};var closeVerticalExpand=function closeVerticalExpand(){if(tweenID!==null){_this4.endTween(tweenID);tweenID=null;}
tweenID=_this4.startTween();createjs.Tween.get(expandNormal,{override:true,ignoreGlobalPause:true}).to({x:normalClosePosition},200);createjs.Tween.get(expandFast,{override:true,ignoreGlobalPause:true}).to({x:fastClosePosition},200).call(function(){_this4.endTween(tweenID);tweenID=null;expandFast.visible=false;expandNormal.visible=false;_this4.changeSpinState();expandSpinButton.outLabel="normal";expandSpinButton.downLabel="clicked";expandSpinButton.gotoAndStop("normal");_this4.requestUpdate();});expandSpinButton.normalLabel="normal";expandSpinButton.clickedLabel="clicked";_this4.settingsOpened=false;};var openVerticalExpand=function openVerticalExpand(){if(tweenID!==null){_this4.endTween(tweenID);tweenID=null;}
_this4.changeSpinState();expandSpinButton.normalLabel="open";expandSpinButton.clickedLabel="openClicked";expandFast.visible=true;expandNormal.visible=true;tweenID=_this4.startTween();createjs.Tween.get(expandNormal,{override:true,ignoreGlobalPause:true}).to({x:normalOpenPosition},200);createjs.Tween.get(expandFast,{override:true,ignoreGlobalPause:true}).to({x:fastOpenPosition},200).call(function(){_this4.endTween(tweenID);tweenID=null;_this4.requestUpdate();});_this4.settingsOpened=true;};var openHorizontalExpand=function openHorizontalExpand(){if(tweenID!==null){_this4.endTween(tweenID);tweenID=null;}
expandSpinButton.visible=false;_this4.changeSpinState();expandSpinSettings.visible=true;expandSpinSettingsContainer.filters=[new createjs.AlphaMaskFilter(mask.cacheCanvas)];expandSpinSettingsContainer.cache(0,0,expandSpinBackground.width-spinButtonWidth/2,expandSpinBackground.height);tweenID=_this4.startTween();createjs.Tween.get(expandSpinSettings,{override:true,ignoreGlobalPause:true}).to({x:horizontalOpenPosition},200).call(function(){_this4.endTween(tweenID);tweenID=null;expandSpinSettingsContainer.uncache();_this4.requestUpdate();}).addEventListener("change",function(){if(expandSpinSettingsContainer.cacheID){expandSpinSettingsContainer.updateCache();}});_this4.settingsOpened=true;};var closeHorizontalExpand=function closeHorizontalExpand(){if(tweenID!==null){_this4.endTween(tweenID);tweenID=null;}
expandSpinSettingsContainer.filters=[new createjs.AlphaMaskFilter(mask.cacheCanvas)];expandSpinSettingsContainer.cache(0,0,expandSpinBackground.width-spinButtonWidth/2,expandSpinBackground.height);tweenID=_this4.startTween();createjs.Tween.get(expandSpinSettings,{override:true,ignoreGlobalPause:true}).to({x:horizontalClosePosition},200).call(function(){_this4.endTween(tweenID);tweenID=null;expandSpinButton.visible=true;_this4.changeSpinState();expandSpinSettings.visible=false;expandSpinSettingsContainer.uncache();_this4.requestUpdate();}).addEventListener("change",function(){if(expandSpinSettingsContainer.cacheID){expandSpinSettingsContainer.updateCache();}});_this4.settingsOpened=false;};expandSpinButton.addEventListener("click",function(){_this4.getService("SoundService").play("audio_options");_this4.changeSpinState();if(!_this4.isVerticalMode()){if(_this4.settingsOpened){closeHorizontalExpand();}else{_this4.changeExpandKeysActives();openHorizontalExpand();}}else{if(_this4.settingsOpened){closeVerticalExpand();}else{_this4.changeExpandKeysActives();openVerticalExpand();}}});this.querySelector("main.SpinButton.expandSpinSettings.close").addEventListener("click",function(){_this4.getService("SoundService").play("audio_options");if(_this4.settingsOpened){closeHorizontalExpand();}});this.querySelector("main.SpinButton.expandSpinSettings.autoBtn").addEventListener("click",function(){_this4.getService("SoundService").play("audio_auto_play");var elIcon=_this4.querySelector("main.SpinButton.expandSpinSettingsContainer.expandSpinSettings.autoBtn.autoIcon");var elIconV=_this4.querySelector("main.SpinButton.expandVerticalNormalSettings.autoBtnV.autoIconV");var elTextV=_this4.querySelector("main.SpinButton.expandVerticalNormalSettings.autoBtnV.autoIconTextV");var elText=_this4.querySelector("main.SpinButton.expandSpinSettings.autoBtn.autoIconText");if(_this4.getService("AutoPlayService").isActive()){_this4.getService("AutoPlayService").stopAutoSpins();elIcon.gotoAndStop("normal");elIconV.gotoAndStop("normal");elIcon.x=0;elIcon.y=0;elIconV.x=0;elIconV.y=0;elText.setText(_this4.getService("AutoPlayService").getStartValue());elTextV.setText(_this4.getService("AutoPlayService").getStartValue());elText.color="#16fcc3";}else{_this4.changeCountSetOfAutoPlay(true);elIcon.gotoAndStop("clicked");elIcon.x=0;elIcon.y=0;elText.color="#0c584c";}
_this4.changeSpinState();});this.querySelector("main.SpinButton.expandSpinSettings.fastBtn").addEventListener("click",function(){_this4.getService("SoundService").play("audio_quick_spin");var el=_this4.querySelector("main.SpinButton.expandSpinSettings.fastBtn.fastButton");if(_this4.quickSpinEnable===true){_this4.controller.quickSpinOffButtonClickAction();_this4.quickSpinEnable=false;el.gotoAndStop("normal");}else{_this4.controller.quickSpinOnButtonClickAction();_this4.quickSpinEnable=true;el.gotoAndStop("clicked");}
_this4.changeSpinState(true);});this.querySelector("main.SpinButton.expandVerticalNormalSettings.autoBtnV").addEventListener("click",function(){_this4.getService("SoundService").play("audio_auto_play");var elIcon=_this4.querySelector("main.SpinButton.expandSpinSettingsContainer.expandSpinSettings.autoBtn.autoIcon");var elIconV=_this4.querySelector("main.SpinButton.expandVerticalNormalSettings.autoBtnV.autoIconV");var elTextV=_this4.querySelector("main.SpinButton.expandVerticalNormalSettings.autoBtnV.autoIconTextV");var elText=_this4.querySelector("main.SpinButton.expandSpinSettings.autoBtn.autoIconText");if(_this4.getService("AutoPlayService").isActive()){_this4.getService("AutoPlayService").stopAutoSpins();elIcon.gotoAndStop("normal");elIcon.x=0;elIcon.y=0;elText.color="#16fcc3";elText.setText(_this4.getService("AutoPlayService").getStartValue());elIconV.gotoAndStop("normal");elIconV.x=0;elIconV.y=0;elTextV.setText(_this4.getService("AutoPlayService").getStartValue());elTextV.color="#16fcc3";}else{_this4.changeCountSetOfAutoPlay(true);elIcon.gotoAndStop("clicked");elIcon.x=0;elIcon.y=0;elText.color="#0c584c";elIconV.gotoAndStop("clicked");elIconV.x=0;elIconV.y=0;elTextV.color="#0c584c";}
_this4.changeSpinState();});this.querySelector("main.SpinButton.expandVerticalFastSettings.fastBtnV").addEventListener("click",function(){_this4.getService("SoundService").play("audio_quick_spin");var el=_this4.querySelector("main.SpinButton.expandVerticalFastSettings.fastBtnV.fastButtonV");if(_this4.quickSpinEnable===true){_this4.controller.quickSpinOffButtonClickAction();_this4.quickSpinEnable=false;el.gotoAndStop("normal");}else{_this4.controller.quickSpinOnButtonClickAction();_this4.quickSpinEnable=true;el.gotoAndStop("clicked");}
_this4.changeSpinState(true);});}},{key:"changeExpandKeysActives",value:function changeExpandKeysActives(){var elIconH=this.querySelector("main.SpinButton.expandSpinSettings.autoBtn.autoIcon");var elTextH=this.querySelector("main.SpinButton.expandSpinSettings.autoBtn.autoIconText");var elIconV=this.querySelector("main.SpinButton.expandVerticalNormalSettings.autoBtnV.autoIconV");var elTextV=this.querySelector("main.SpinButton.expandVerticalNormalSettings.autoBtnV.autoIconTextV");if(this.getService("AutoPlayService").isActive()===true){elIconH.gotoAndStop("clicked");elTextH.color="#0c584c";elIconV.gotoAndStop("clicked");elTextV.color="#0c584c";}else{elIconH.gotoAndStop("normal");elTextH.color="#16fcc3";elIconV.gotoAndStop("normal");elTextV.color="#16fcc3";}
var elV=this.querySelector("main.SpinButton.expandVerticalFastSettings.fastBtnV.fastButtonV");var elH=this.querySelector("main.SpinButton.expandSpinSettings.fastBtn.fastButton");if(this.quickSpinEnable===true){elV.gotoAndStop("clicked");elH.gotoAndStop("clicked");}else{elV.gotoAndStop("normal");elH.gotoAndStop("normal");}}},{key:"settingsActivate",value:function settingsActivate(){var _this5=this;this.querySelector("main.settingsButton").addEventListener("click",function(){_this5.hideExpand();_this5.showSettingsPanel();_this5.getService("SlotMachineService").setPaused(true);});this.querySelector("settingsPanel.menuPanel.backMenu").addEventListener("click",function(){_this5.hideSettingsPanel();_this5.getService("SlotMachineService").setPaused(false);});}},{key:"showSettingsPanel",value:function showSettingsPanel(){var _this6=this;this.getService("SoundService").play("audio_paytable");$_event.setEvent("showSettingPanel");this.querySelector("main").visible=false;this.querySelector("settingsPanel").visible=true;this.panelButtons["soundMenu"]=this.querySelector("settingsPanel.menuPanel.soundMenu");this.panelButtons["fastMenu"]=this.querySelector("settingsPanel.menuPanel.fastMenu");this.panelButtons["payTableMenu"]=this.querySelector("settingsPanel.menuPanel.payTableMenu");this.panelButtons["betMenu"]=this.querySelector("settingsPanel.menuPanel.betMenu");this.panelButtons["infoMenu"]=this.querySelector("settingsPanel.menuPanel.infoMenu");if(this.lastChooseSettingMenu===null){this.showBetSettingPanel();}else{this.lastChooseSettingMenu();}
this.panelButtons["soundMenu"].addEventListener("click",function(){if(_this6.lastChooseSettingMenu!=_this6.showSoundSettingPanel){_this6.getService("SoundService").play("audio_paytable_slide");_this6.showSoundSettingPanel();}},false);this.panelButtons["fastMenu"].addEventListener("click",function(){if(_this6.lastChooseSettingMenu!=_this6.showFastSettingPanel){_this6.getService("SoundService").play("audio_paytable_slide");_this6.showFastSettingPanel();}},false);this.panelButtons["payTableMenu"].addEventListener("click",function(){if(_this6.lastChooseSettingMenu!=_this6.showPayTableSettingPanel){_this6.getService("SoundService").play("audio_paytable_slide");_this6.showPayTableSettingPanel();}},false);this.panelButtons["betMenu"].addEventListener("click",function(){if(_this6.lastChooseSettingMenu!=_this6.showBetSettingPanel){_this6.getService("SoundService").play("audio_paytable_slide");_this6.showBetSettingPanel();}},false);this.panelButtons["infoMenu"].addEventListener("click",function(){if(_this6.lastChooseSettingMenu!=_this6.showInfoSettingPanel){_this6.getService("SoundService").play("audio_paytable_slide");_this6.showInfoSettingPanel();}},false);this.showBetSettingPanel();this._scrollToBottom();}},{key:"_scrollToBottom",value:function _scrollToBottom(){var panel=this.querySelector("settingsPanel.panel");panel.children.forEach(function(scroller){scroller.scrollTo(0,0);scroller.updateDimensions();});}},{key:"hideSettingsPanel",value:function hideSettingsPanel(){this.getService("SoundService").play("audio_paytable");$_event.setEvent("hideSettingPanel");this.querySelector("main").visible=true;this.querySelector("settingsPanel").visible=false;}},{key:"activePanelMenus",value:function activePanelMenus(){var active=arguments.length<=0||arguments[0]===undefined?"":arguments[0];var list=["soundMenu","fastMenu","payTableMenu","betMenu","infoMenu"];var listPanels=["settingsPanel.panel.panelSound","settingsPanel.panel.panelFast","settingsPanel.panel.panelPayTable","settingsPanel.panel.panelBetMenu","settingsPanel.panel.panelInfoMenu"];for(var i=0,l=list.length;i<l;i++){if(list[i]!=active){this.panelButtons[list[i]].gotoAndStop("normal");this.querySelector(listPanels[i]).visible=false;}}
if(active){this.querySelector(listPanels[list.indexOf(active)]).visible=true;this.panelButtons[active].gotoAndStop("active");}}},{key:"showSoundSettingPanel",value:function showSoundSettingPanel(){var _this7=this;this.lastChooseSettingMenu=this.showSoundSettingPanel;this.activePanelMenus("soundMenu");if(this.activeMenu["showSoundSettingPanel"]){return null;}
this.activeMenu["showSoundSettingPanel"]=true;if(this._initSound!==undefined){return null;}
this._initSound=true;this.gameSoundSlider=this.querySelector("settingsPanel.panel.panelSound.gameSoundButton");this.gameSoundSlider.addEventListener("change",function(){if(_this7.gameSoundSlider.value>0){_this7.gameSoundSlider.goToAndStop("active");}else{_this7.gameSoundSlider.goToAndStop("normal");}
_this7.getService("SoundService").setGameSound(_this7.gameSoundSlider.value>0);if(_this7.gameSoundSlider._checkChange('ss')){_this7.getService("SoundService").play("audio_options");}});this.gameSoundSlider.value=this.getService("SoundService").getGameSound()?1:0;this.gameEffectsSlider=this.querySelector("settingsPanel.panel.panelSound.gameEffectsButton");this.gameEffectsSlider.addEventListener("change",function(){if(_this7.gameEffectsSlider.value>0){_this7.gameEffectsSlider.goToAndStop("active");}else{_this7.gameEffectsSlider.goToAndStop("normal");}
_this7.getService("SoundService").setGameEffects(_this7.gameEffectsSlider.value>0);if(_this7.gameEffectsSlider._checkChange('se')){_this7.getService("SoundService").play("audio_options");}});this.gameEffectsSlider.value=this.getService("SoundService").getGameEffects()?1:0;}},{key:"showFastSettingPanel",value:function showFastSettingPanel(){var _this8=this;this.lastChooseSettingMenu=this.showFastSettingPanel;this.activePanelMenus("fastMenu");if(this.activeMenu["showFastSettingPanel"]){return null;}
this.activeMenu["showFastSettingPanel"]=true;if(this._initFast!==undefined){return null;}
this._initFast=true;this.gameAutoPlaySlider=this.querySelector("settingsPanel.panel.panelFast.gameAutoPlayButton");this.gameAutoPlaySlider.addEventListener("mousedown",function(){_this8.gameAutoPlaySlider.goToAndStop("active");});this.gameAutoPlaySlider.addEventListener("pressup",function(){_this8.gameAutoPlaySlider.goToAndStop("normal");});var infoLabel=this.querySelector("settingsPanel.panel.panelFast.autoPlayInfoLabel");var infoLabelText=this.querySelector("settingsPanel.panel.panelFast.autoPlayInfoLabel.apIlText");this.gameAutoPlaySlider.addEventListener("changeThumb",function(){infoLabel.x=_this8.gameAutoPlaySlider.getThumbCenter()-infoLabel.width/2+10;var el=_this8.autoPLayRange[_this8.gameAutoPlaySlider.value];infoLabelText.setText(el===-2?_this8._autoInfinite:el);});this.gameAutoPlaySlider.addEventListener("change",function(){var val=_this8.autoPLayRange[_this8.gameAutoPlaySlider.value];_this8.getService("MemoryService").set("autoSpinCount",val,MemoryService.MEMORY_COOKIES_STORAGE);_this8.changeCountSetOfAutoPlay();if(_this8.getService("AutoPlayService").isActive()){_this8.autoSpinActive=false;_this8.getService("AutoPlayService").stopAutoSpins();_this8.enableAllButtons();_this8.changeSpinState();_this8.changeSpinState();}
_this8.getService("SoundService").play("audio_options");});this.changeCountSetOfAutoPlay();var defaultCount=this.controller.getCountAutoSpinValue();this.gameAutoPlaySlider.value=this.autoPLayRange.indexOf(defaultCount);this.gameAutoPlaySlider.dispatchEvent("change");this.gameQuickSpinSlider=this.querySelector("settingsPanel.panel.panelFast.gameQuickSpinButton");this.gameQuickSpinSlider.addEventListener("change",function(){if(_this8.gameQuickSpinSlider.value>0){_this8.gameQuickSpinSlider.goToAndStop("active");}else{_this8.gameQuickSpinSlider.goToAndStop("normal");}
if(_this8.gameQuickSpinSlider._checkChange('ev')){_this8.getService("SoundService").play("audio_options");if(_this8.gameQuickSpinSlider.value>0){_this8.controller.quickSpinOnButtonClickAction();}else{_this8.controller.quickSpinOffButtonClickAction();}}});this.gameQuickSpinSlider.value=this.getService("SlotMachineService").getInstance().isEnableQuickMode()?1:0;}},{key:"changeCountSetOfAutoPlay",value:function changeCountSetOfAutoPlay(){var confirm=arguments.length<=0||arguments[0]===undefined?false:arguments[0];var val=this.controller.getCountAutoSpinValue();if(confirm){this.getService("AutoPlayService").setCurrentValue(val);this.getService("AutoPlayService").startAutoSpins(val);}
this.querySelector("main.SpinButton.expandVerticalNormalSettings.autoBtnV.autoIconTextV").setText(val===-2?this._autoInfinite:val);this.querySelector("main.SpinButton.expandSpinSettings.autoBtn.autoIconText").setText(val===-2?this._autoInfinite:val);this.changeSpinState();}},{key:"showPayTableSettingPanel",value:function showPayTableSettingPanel(){this.lastChooseSettingMenu=this.showPayTableSettingPanel;this.activePanelMenus("payTableMenu");if(!this._initPayTable){}
this._initPayTable=true;}},{key:"showBetSettingPanel",value:function showBetSettingPanel(){var _this9=this;this.lastChooseSettingMenu=this.showBetSettingPanel;this.activePanelMenus("betMenu");if(this.activeMenu["showBetSettingPanel"]){return null;}
this.activeMenu["showBetSettingPanel"]=true;var betRange=this.getService("BetService").getBetRange();var linesRange=this.getService("LinesService").getLinesRange();this.betSlider=this.querySelector("settingsPanel.panel.panelBetMenu.betSliderButton");this.betSlider.removeAllEventListeners("changeThumb");this.betSlider.removeAllEventListeners("change");var infoBetLabel=this.querySelector("settingsPanel.panel.panelBetMenu.betInfoLabel");var infoBetLabelText=this.querySelector("settingsPanel.panel.panelBetMenu.betInfoLabel.betIlText");this.betSlider.addEventListener("changeThumb",function(){infoBetLabel.x=_this9.betSlider.getThumbCenter()-infoBetLabel.width/2;infoBetLabelText.setText(betRange[_this9.betSlider.value]/100);});this.betSlider.addEventListener("change",function(){_this9.getService("BetService").setCurrentValue(betRange[_this9.betSlider.value]);_this9.changeTotalBetValue();_this9.getService("SoundService").play("audio_line");});this.betSlider.len=betRange.length;this.betSlider.value=betRange.indexOf(this.getService("BetService").getCurrentValue());this.querySelector("settingsPanel.panel.panelBetMenu.betFromLabel").setText(array_min(betRange)/100);this.querySelector("settingsPanel.panel.panelBetMenu.betToLabel").setText(array_max(betRange)/100);this.betSlider.dispatchEvent("change");if(linesRange.length<=1){this.querySelector("settingsPanel.panel.panelBetMenu.totalBetContainer").visible=true;}else{this.querySelector("settingsPanel.panel.panelBetMenu.lineContainer").visible=true;this.linesSlider=this.querySelector("settingsPanel.panel.panelBetMenu.lineContainer.linesSliderButton");var infoLinesLabel=this.querySelector("settingsPanel.panel.panelBetMenu.lineContainer.linesInfoLabel");var infoLinesLabelText=this.querySelector("settingsPanel.panel.panelBetMenu.lineContainer.linesInfoLabel.lineIlText");this.linesSlider.removeAllEventListeners("changeThumb");this.linesSlider.removeAllEventListeners("change");this.linesSlider.addEventListener("changeThumb",function(){infoLinesLabel.x=_this9.linesSlider.getThumbCenter()-infoLinesLabel.width/2;infoLinesLabelText.setText(linesRange[_this9.linesSlider.value]);});this.linesSlider.addEventListener("change",function(){if(_this9.getService("LinesService").getCurrentProtocolValue()!=_this9.linesSlider.value){_this9.getService("LinesService").setCurrentValue(linesRange[_this9.linesSlider.value]);_this9.changeTotalBetValue();_this9.getService("SoundService").play("audio_line");}});this.linesSlider.len=linesRange.length;this.linesSlider.value=linesRange.indexOf(this.getService("LinesService").getCurrentValue());this.querySelector("settingsPanel.panel.panelBetMenu.lineContainer.linesFromLabel").setText(array_min(linesRange));this.querySelector("settingsPanel.panel.panelBetMenu.lineContainer.linesToLabel").setText(array_max(linesRange));this.linesSlider.dispatchEvent("change");}
this._initBetPanel=true;}},{key:"showInfoSettingPanel",value:function showInfoSettingPanel(){this.lastChooseSettingMenu=this.showInfoSettingPanel;this.activePanelMenus("infoMenu");if(!this._initInfoPanel){}
this._initInfoPanel=true;}},{key:"changeActiveQuickSpinButton",value:function changeActiveQuickSpinButton(){var enable=arguments.length<=0||arguments[0]===undefined?false:arguments[0];if(this.gameQuickSpinSlider!==null){this.gameQuickSpinSlider.value=enable?1:0;}
this.quickSpinEnable=enable;if(this.spinStatePlay){this.spinStatePlay.gotoAndStop(this.quickSpinEnable===false?"normal":"fast");this.spinBtnStatesGl.gotoAndStop(this.quickSpinEnable===false?"normal":"fast");}}},{key:"checkDefaultStateKeys",value:function checkDefaultStateKeys(){this.checkDefaultStatesBetBlock();this.checkDefaultStateLineBlock();}},{key:"checkDefaultStateLabels",value:function checkDefaultStateLabels(){this.changeTotalBetValue();this.changeTotalWinValue();this.changeWinValue(null);this.changeBalanceValue();}},{key:"initControlEventHandlers",value:function initControlEventHandlers(){}},{key:"showFreeGameControls",value:function showFreeGameControls(){this.freeSpinActivePanel=true;this.bonusActivePanel=false;this.querySelector("main").visible=true;this.spinStatePlay.disabled=true;this.spinBtnStatesGl.disabled=true;this.querySelector("main.SpinButton.states.play").visible=false;this.querySelector("main.settingsButton").disabled=true;this.querySelector("main.settingsButton").visible=false;this.changeSpinState();if(this.getService("ProtocolService").hasFreeBets()){this.changeWinFreeBets();}else{this.changeBalanceValue();}}},{key:"fbAction",value:function fbAction(){if(this.getService("ProtocolService").hasFreeBets()){$_signal.goTo("!settings.toolbar.staticFreeBetMessage",this.getService("ProtocolService").getFreeBetsLeft()-1);}}},{key:"showMainGameControls",value:function showMainGameControls(){this.freeSpinActivePanel=false;this.bonusActivePanel=false;this.fbAction();this.querySelector("main.settingsButton").visible=true;this.changeSpinState();if(this.getService("ProtocolService").hasFreeBets()){this.changeWinFreeBets();$_signal.goTo("!settings.toolbar.staticFreeBetMessage",this.getService("ProtocolService").getFreeBetsLeft());}else{this.changeBalanceValue();}}},{key:"showBonusGameControl",value:function showBonusGameControl(){this.freeSpinActivePanel=false;this.bonusActivePanel=true;this.querySelector("main").visible=true;this.querySelector("main.settingsButton").visible=false;this.querySelector("main.SpinButton").visible=false;if(this.getService("ProtocolService").hasFreeBets()){this.changeWinFreeBets();}else{this.changeBalanceValue();}}},{key:"showAutoPlayCounter",value:function showAutoPlayCounter(){this.changeAutoPlayValue();this.querySelector("autoPlayCounterContainer").visible=true;}},{key:"hideAutoPlayCounter",value:function hideAutoPlayCounter(){this.querySelector("autoPlayCounterContainer").visible=false;}},{key:"showAutoPlaySettings",value:function showAutoPlaySettings(){this.querySelector("autoPlaySettingsContainer").visible=true;}},{key:"hideAutoPlaySettings",value:function hideAutoPlaySettings(){this.querySelector("autoPlaySettingsContainer").visible=false;}},{key:"toggleVisibilityAutoPlaySettings",value:function toggleVisibilityAutoPlaySettings(){this.querySelector("autoPlaySettingsContainer").visible=!this.querySelector("autoPlaySettingsContainer").visible;if(!this.querySelector("autoPlaySettingsContainer").visible){this.querySelector("autoPlayAdvancedSettingsContainer").visible=false;}}},{key:"showAdvancedAutoPlaySettings",value:function showAdvancedAutoPlaySettings(){this.querySelector("autoPlayAdvancedSettingsContainer").visible=true;}},{key:"hideAdvancedAutoPlaySettings",value:function hideAdvancedAutoPlaySettings(){this.querySelector("autoPlayAdvancedSettingsContainer").visible=false;}},{key:"setAutoPlayRangeSettingsValue",value:function setAutoPlayRangeSettingsValue(){var autoPlayRange=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];for(var i=0;i<4;i++){if(autoPlayRange[i]){this.querySelector("autoPlayValueContainer"+(i+1)+".autoPlayValue").setText(autoPlayRange[i]);}}}},{key:"setAutoPlayCounterValue",value:function setAutoPlayCounterValue(value){this.querySelector("autoPlayCounterContainer.autoPlayValue").setText(value);}},{key:"getAutoPlayValueContainer",value:function getAutoPlayValueContainer(containerNumber){return this.querySelector("autoPlayValueContainer"+containerNumber+".autoPlayValue").text;}},{key:"changeAutoPlayValue",value:function changeAutoPlayValue(){var value=arguments.length<=0||arguments[0]===undefined?this.getService("AutoPlkayService").getCurrentValue():arguments[0];this.querySelector("autoPlayCounterContainer.autoPlayValue").setText(value);}},{key:"changeTotalWinValue",value:function changeTotalWinValue(){var isInit=arguments.length<=0||arguments[0]===undefined?false:arguments[0];var totalWin=this.querySelector("main.winBar.totalWinContainer"),totalWinText=totalWin.getChildByName("winText"),bonusData=this.getService("BonusService").getBonusContext(),winBarText=this.querySelector("main.winBar.winContainer.winText");if(this.freeSpinActivePanel===true){this.changeWinPanelVisibility(true);totalWin.visible=true;totalWinText.setText($_t.getText("Total win: {0}",number_format(this.getService('FreeSpinService').getTotalWin()/100,2,".",",")));}else if(this.bonusActivePanel&&bonusData&&bonusData.step!=1){this.changeWinPanelVisibility(true);winBarText.visible=false;totalWin.visible=true;totalWinText.setText($_t.getText("Total win: {0}",number_format(bonusData.total_win/100,2,".",",")));}else{this.changeWinPanelVisibility(false);this.changeWinValue(0);}
if(this.isFreeBets){this.changeBalanceValue();}
if(isInit){totalWin.visible=true;winBarText.visible=false;totalWinText.setText($_t.getText("Total win: {0}",number_format(this.getService('FreeSpinService').getTotalWin()/100,2,".",",")));}}},{key:"showTotalPanelRestore",value:function showTotalPanelRestore(){var totalWinText=void 0,mainBar=this.querySelector("main.winBar");if(mainBar.visible!==true||this.getService("ProtocolService").getLastAction()!=="spin"){totalWinText=this.querySelector("main.winBar.totalWinContainer.winText");this.changeWinPanelVisibility(true);totalWinText.setText($_t.getText("Total win: {0}",number_format(this.getService('FreeSpinService').getTotalWin()/100,2,".",",")));this.querySelector("main.winBar.totalWinContainer").visible=true;totalWinText.visible=true;this.querySelector("main.winBar.winContainer.winText").visible=false;}}},{key:"changeWinPanelVisibility",value:function changeWinPanelVisibility(){var bool=arguments.length<=0||arguments[0]===undefined?false:arguments[0];this.querySelector("main.winBar").visible=bool;}},{key:"showBonusRoundWin",value:function showBonusRoundWin(){var bonusData=this.getService("BonusService").getBonusContext(),winBarText=this.querySelector("main.winBar.winContainer.winText");this.querySelector("main.winBar.winContainer").visible=true;winBarText.visible=true;winBarText.setText($_t.getText("WIN_")+": "+this.getService("ProtocolService").getCurrentCurrency(true)+" "+number_format(bonusData.round_win/100,2,".",","));}},{key:"hideBonusRoundWin",value:function hideBonusRoundWin(){this.querySelector("main.winBar.winContainer.winText").visible=false;}},{key:"changeWinValue",value:function changeWinValue(){var value=arguments.length<=0||arguments[0]===undefined?this.getService("ProtocolService").getCurrentWin():arguments[0];var winBarText=this.querySelector("main.winBar.winContainer.winText");this.changeWinPanelVisibility(true);if(!value){if(this.freeSpinActivePanel===false){this.changeWinPanelVisibility(false);this.querySelector("main.winBar.winContainer").visible=true;this.querySelector("main.winBar.winContainer.winText").visible=true;}else{this.querySelector("main.winBar.winContainer").visible=false;}}else{if(!this.freeSpinActivePanel===false){this.querySelector("main.winBar.winContainer").visible=true;this.changeTotalWinValue();}
winBarText.visible=true;winBarText.setText($_t.getText("WIN_")+": "+this.getService("ProtocolService").getCurrentCurrency(true)+" "+number_format(value/100,2,".",","));}}},{key:"changeBalanceValue",value:function changeBalanceValue(){var value=arguments.length<=0||arguments[0]===undefined?this.getService("ProtocolService").getCurrentBalance():arguments[0];if(this.isFreeBets){this.changeWinFreeBets();return;}
this.isInit=false;this.querySelector("bottomBar.balanceText").setText($_t.getText("BALANCE")+": "+this.getService("ProtocolService").getCurrentCurrency(true)+" "+number_format(value,2,".",","));}},{key:"changeBalanceValueBeforeSpin",value:function changeBalanceValueBeforeSpin(){var curBalance=void 0;this.fbAction();if(this.getService("ProtocolService").hasFreeBets()){this.isInit=true;return;}
if(this.getService("ProtocolService").getCurrentBalance()>0&&!this.isInit){curBalance=this.getService("ProtocolService").getCurrentBalance()-this.getService("BetService").getCurrentValue()*this.getService("LinesService").getCurrentValue()/100;}else{curBalance=this.getService("ProtocolService").getCurrentBalance();this.isInit=false;}
this.changeBalanceValue(curBalance);}},{key:"setBetValue",value:function setBetValue(){var value=arguments.length<=0||arguments[0]===undefined?this.getService("BetService").getCurrentValue():arguments[0];this.querySelector("bottomBar.betText").setText($_t.getText("TOTAL BET")+": "+this.getService("ProtocolService").getCurrentCurrency(true)+" "+number_format(value,2,".",","));this.querySelector("gameTotalBetValueLabel").setText(number_format(value,2,".",","));}},{key:"changeTotalBetValue",value:function changeTotalBetValue(){this.setBetValue(this.getService("BetService").getCurrentValue()/100*this.getService("LinesService").getCurrentValue()*this.getService("ProtocolService").getCurrentDenominator());}},{key:"setLinesValue",value:function setLinesValue(value){this.querySelector("linesValue").setText(value);}},{key:"setSpinCounterValue",value:function setSpinCounterValue(value){$_view_canvas.disableClickActions();var free=this.querySelector("main.SpinButton.states.freeCounter");free.visible=true;free.setText(value);}},{key:"disableAllButtons",value:function disableAllButtons(){if(this.getState().name.indexOf("STATE_SPINS_")==-1){this.hideHomeButton();}
$_view_canvas.disableClickActions();if(!this.getService("AutoPlayService").isActive()&&this.freeSpinActivePanel===false){this.querySelector("main.SpinButton").visible=false;this.querySelector("main.settingsButton").visible=false;}
if(this.getService("AutoPlayService").isActive()||this.freeSpinActivePanel===true){this.querySelector("main.SpinButton").visible=true;this.querySelector("main.settingsButton").visible=false;}
if(this.freeSpinActivePanel===true){this.querySelector("main.SpinButton").visible=true;}}},{key:"enableAllButtons",value:function enableAllButtons(){if(["freespin_init","bonus_init"].indexOf(this.getController("protocol").actions.available[0])!=-1){return;}
if(this.getState().name=="STATE_SPINS_OUTRO"){return;}
if(this.getState().name.indexOf("STATE_SPINS_")!=-1){this.showHomeButton();}
$_view_canvas.enableClickActions();this.querySelector("main.SpinButton").visible=true;if(this.freeSpinActivePanel===false&&!this.getService("AutoPlayService").isActive()){this.querySelector("main.settingsButton").visible=true;}
this.changeSpinState();this.spinButton.gotoAndStop("normal");this.checkDefaultStatesBetBlock();this.requestUpdate();}},{key:"checkDefaultStatesBetBlock",value:function checkDefaultStatesBetBlock(){this.changeTotalBetValue();}},{key:"changeDecBetButton",value:function changeDecBetButton(){if(this.getService('BetService').changeToBackward()){this.checkDefaultStatesBetBlock();}}},{key:"changeIncBetButton",value:function changeIncBetButton(){if(this.getService('BetService').changeToForward()){this.checkDefaultStatesBetBlock();}}},{key:"checkDefaultStateLineBlock",value:function checkDefaultStateLineBlock(){if(this.getService('LinesService').checkBackward()===true){this.querySelector("decLinesBtn").disabled=false;}else{this.querySelector("decLinesBtn").disabled=true;}
if(this.getService('LinesService').checkForward()===true){this.querySelector("incLinesBtn").disabled=false;}else{this.querySelector("incLinesBtn").disabled=true;}
this.setLinesValue(this.getService("LinesService").getCurrentValue());this.changeTotalBetValue();}},{key:"changeDecLineButton",value:function changeDecLineButton(){if(this.getService('LinesService').changeToBackward()){this.checkDefaultStateLineBlock();}}},{key:"changeIncLineButton",value:function changeIncLineButton(){if(this.getService('LinesService').changeToForward()){this.checkDefaultStateLineBlock();}}},{key:"changeToMaxBet",value:function changeToMaxBet(){this.getService("BetService").changeToMaxValue();this.getService("LinesService").changeToMaxValue();this.checkDefaultStateKeys();}},{key:"showFreePanel",value:function showFreePanel(){if(this.ready===false){this.callbackReady=this.showFreePanel;}else{this.showFreeGameControls();this.setSpinCounterValue(this.getService("FreeSpinService").getFreeSpinLeft());}}},{key:"hideFreePanel",value:function hideFreePanel(){this.showMainGameControls();this.freeSpinActivePanel=false;this.querySelector("main.winBar.totalWinContainer").visible=false;this.changeTotalWinValue();if(this.isFreeBets){this.changeWinFreeBets();}}},{key:"showBonusPanel",value:function showBonusPanel(){this.showBonusGameControl();this.changeTotalWinValue();}},{key:"hideBonusPanel",value:function hideBonusPanel(){this.showMainGameControls();if(this.isFreeBets){this.changeWinFreeBets();}}},{key:"activateVerticalMode",value:function activateVerticalMode(){var main=this.querySelector("main");if(!main){this.beforeHorizontalPosition=false;return;}
if(this.settingsOpened===true&&typeof this.hideExpand=="function"){this.hideExpand();}
this.beforeHorizontalPosition=false;this.applyConfig(_vertical2.default);var layout=this.getLayout();var gameContainer=this.getGameContainer();var background=this.querySelector("background");var spinButton=this.querySelector("SpinButton");background.y=gameContainer.y+720;main.setChildTop(spinButton,(layout.height-(gameContainer.y+720))/2-spinButton.height/2+(gameContainer.y+720));this.activateVerticalSettingsPanel();this.requestUpdate();}},{key:"activateHorizontalMode",value:function activateHorizontalMode(){var main=this.querySelector("main");if(!main){this.beforeHorizontalPosition=true;return;}
if(this.settingsOpened===true&&typeof this.hideExpand=="function"){this.hideExpand();}
this.beforeHorizontalPosition=true;this.applyConfig(_horizontal2.default);this.activateHorizontalSettingsPanel();this.requestUpdate();}},{key:"activateHorizontalSettingsPanel",value:function activateHorizontalSettingsPanel(){var layout=this.getLayout();var settingsPanel=this.querySelector("settingsPanel");var bottomBar=this.querySelector("bottomBar");var menuPanel=this.querySelector("settingsPanel.menuPanel");var topLine=this.querySelector("settingsPanel.topLine");var soundMenu=this.querySelector("settingsPanel.menuPanel.soundMenu");var fastMenu=this.querySelector("settingsPanel.menuPanel.fastMenu");var payTableMenu=this.querySelector("settingsPanel.menuPanel.payTableMenu");var betMenu=this.querySelector("settingsPanel.menuPanel.betMenu");var infoMenu=this.querySelector("settingsPanel.menuPanel.infoMenu");var panel=this.querySelector("settingsPanel.panel");layout.setChildHeight(settingsPanel,layout.height-bottomBar.height);settingsPanel.setChildHeight(panel,settingsPanel.height-menuPanel.height);this._scrollToBottom();this.setMenuItemsPositions();if(this.gameAutoPlaySlider){this.gameAutoPlaySlider.dispatchEvent("change");}}},{key:"setMenuItemsPositions",value:function setMenuItemsPositions(){var menuPanel=this.querySelector("settingsPanel.menuPanel");var soundMenu=this.querySelector("settingsPanel.menuPanel.soundMenu");var fastMenu=this.querySelector("settingsPanel.menuPanel.fastMenu");var payTableMenu=this.querySelector("settingsPanel.menuPanel.payTableMenu");var betMenu=this.querySelector("settingsPanel.menuPanel.betMenu");var infoMenu=this.querySelector("settingsPanel.menuPanel.infoMenu");var sizeOfPicture=betMenu.width/menuPanel.width*100;var padding=2;var startPosition=1;var betweenElements=(100-sizeOfPicture*6-padding)/6+sizeOfPicture;menuPanel.setChildLeft(betMenu,padding+startPosition+"%");menuPanel.setChildLeft(fastMenu,startPosition+padding+betweenElements+"%");menuPanel.setChildLeft(soundMenu,startPosition+padding+betweenElements*2+"%");menuPanel.setChildLeft(payTableMenu,startPosition+padding+betweenElements*3+"%");menuPanel.setChildLeft(infoMenu,startPosition+padding+betweenElements*4+"%");}},{key:"activateVerticalSettingsPanel",value:function activateVerticalSettingsPanel(){var settingsPanel=this.querySelector("settingsPanel"),panel=this.querySelector("settingsPanel.panel"),menuPanel=this.querySelector("settingsPanel.menuPanel"),layout=this.getLayout(),bottomBar=this.querySelector("bottomBar");layout.setChildHeight(settingsPanel,layout.height-bottomBar.height);settingsPanel.setChildHeight(panel,settingsPanel.height-menuPanel.height);panel.children.forEach(function(scroller){scroller.scrollTo(0,0);scroller.updateDimensions();});this.setMenuItemsPositions();if(this.gameAutoPlaySlider){this.gameAutoPlaySlider.dispatchEvent("change");}}},{key:"initFreeBets",value:function initFreeBets(count){this.getService("PopupService").addInfoPopup("freebets",{message:$_t.getText("free_bets_start",count),header:$_t.getText("free_bets_head")});this.isFreeBets=true;this.changeWinFreeBets();}},{key:"hideFreeBets",value:function hideFreeBets(){var lastFreeBets=this.getService("ProtocolService").getFreeBets();if(lastFreeBets.status=="finished"){this.getService("PopupService").addInfoPopup("freebets",{message:lastFreeBets.total_win>0?$_t.getText("free_bets_end_{0}",number_format(lastFreeBets.total_win/100,2,".",",")):$_t.getText("free_bets_end_no_win"),header:$_t.getText("free_bets_head")});}else{this.getService("PopupService").addInfoPopup("freebets",{message:$_t.getText("free_bets_deleted"),header:$_t.getText("free_bets_head")});}
this.getService("ProtocolService").setFreeBets([]);setTimeout(function(){$_service_ticker_tape.spinGameInfo(true);},30);this.showMainGameControls();this.isFreeBets=false;}},{key:"changeWinFreeBets",value:function changeWinFreeBets(){var value=arguments.length<=0||arguments[0]===undefined?0:arguments[0];if(this.freeSpinActivePanel&&!this.isFreeBets){return;}
var data=this.getService("ProtocolService").getFreeBets();if(data&&data.total_win){value=data.total_win;}
this.querySelector("bottomBar.balanceText").setText($_t.getText("FREE BETS WIN")+": "+this.getService("ProtocolService").getCurrentCurrency(true)+" "+number_format(value/100,2,".",","));}},{key:"initPaytableData",value:function initPaytableData(){var paytableContainer=this.querySelector("panelPayTable.panelWrapper");var table=new Container();table.name="table";table.width=840;table.height=201;var grid=[];var valueScale=0.95;var imageScale=0.5;var firstColWidth=44;var firstRowHeight=87;var bottomPadding=10;var numOfSymbols=void 0,numOfCols=void 0;numOfCols=numOfSymbols=9;var numOfRows=4;paytableContainer.addChild(table);paytableContainer.setChildAlign("center",table);paytableContainer.setChildTop(table,100);for(var _i=0;_i<=numOfCols;_i++){grid[_i]=[];grid[_i][0]=new Container();grid[_i][0].name="cell_"+_i+"_"+0;grid[_i][0].height=firstRowHeight;grid[_i][0].width=82;grid[_i][0].x=82*_i;grid[_i][0].y=0;table.addChild(grid[_i][0]);for(var j=1;j<=numOfRows;j++){var cell=new Container();cell.name="cell_"+_i+"_"+j;cell.height=45;if((_i+j+1)%2===0){var background=new Sprite({spriteSheet:_paytableAtlasSpriteSheet2.default,defaultAnimation:"cellBack"},this.alias);cell.width=82;cell.addChild(background);}else{cell.width=82;}
cell.x=82*_i;cell.y=45*(j-1)+firstRowHeight;grid[_i][j]=cell;table.addChild(cell);}}
var symbols=this.getService("PayTableService").getPayTable();var colWidth=(table.width-firstColWidth)/numOfSymbols;var rowHeight=(table.height-firstRowHeight-bottomPadding)/3;for(var _j=0;_j<4;_j++){var multiplier=new Text({text:"x"+(5-_j),font:"bold 20px Arial",color:"#461408",textAlign:"center",textBaseline:"middle",stroke:{outline:4,color:"#ccc06a"}},this.alias);multiplier.name="multiplier";grid[0][_j+1].addChild(multiplier);grid[0][_j+1].setChildTop(multiplier,"50%");grid[0][_j+1].setChildLeft(multiplier,"50%");}
var i=0;for(var id in symbols){var symbol=symbols[id];if(symbol[0].trigger!==undefined||symbol[0].wild_multiplier){continue;}
var pictureContainer=new Container();pictureContainer.name="pictureContainer";var slotMachine=this.getService("SlotMachineService").getInstance();var picture=slotMachine.getSymbol(id);picture.scaleX=picture.scaleY=imageScale;picture.name="picture";pictureContainer.height=firstRowHeight;pictureContainer.width=colWidth;pictureContainer.addChild(picture);pictureContainer.setChildAlign("center",picture);pictureContainer.setChildVerticalAlign("middle",picture);grid[i+1][0].addChild(pictureContainer);for(var _j2=0;_j2<symbol.length;_j2++){var _multiplier=symbol[_j2].multiplier?symbol[symbol.length-_j2-1].multiplier.toString():"";var text=new BitmapText({text:_multiplier,alias:"bonus",scaleX:valueScale,scaleY:valueScale,spriteSheet:_numbersSpriteSheet.numbersSmallSpriteSheet},"bonus");grid[i+1][_j2+1].addChild(text);text.x=grid[i+1][_j2+1].width/2-text.getBounds().width/2*text.scaleX;text.y=grid[i+1][_j2+1].height/2-text.getBounds().height/2*text.scaleY;}
i++;}
var rect=table.getBounds();table.cache(rect.x,rect.y,rect.width,rect.height);}},{key:"initPayLinesData",value:function initPayLinesData(){var linesContainer=this.querySelector("lines");if(!linesContainer){return;}
var lines=linesContainer.getChildByName("lines");var offsetX=lines.x-3;var offsetY=lines.y+16;for(var i=0;i<5;i++){for(var j=0;j<4;j++){var lineNumber=new Text({text:(i+j*5+1).toString(),font:"bold 14px Arial",color:"#451408",textAlign:"right",lineHeight:20,stroke:{color:"#ccc06a",outline:3}},this.alias);lineNumber.x=offsetX+i*127;lineNumber.y=offsetY+j*67;linesContainer.addChild(lineNumber);}}}},{key:"initScatterPage",value:function initScatterPage(){var scattersContainer=this.querySelector("scatters");if(!scattersContainer){return;}
var slotMachine=this.getService("SlotMachineService").getInstance();var extraSymbol=slotMachine.getSymbol(9);extraSymbol.name="extraSymbol";var leftCol=this.querySelectorContainer("scatterLabel",scattersContainer).x;var rightCol=this.querySelectorContainer("stickyScatterLabel",scattersContainer).x;extraSymbol.regX=extraSymbol.width/2;extraSymbol.x=leftCol;extraSymbol.y=88;extraSymbol.scaleX=extraSymbol.scaleY=0.75;scattersContainer.addChild(extraSymbol);var spriteSheet=slotMachine.getSpriteSheet();var scatter=new Sprite({spriteSheet:spriteSheet},this.alias);scatter.gotoAndStop("scatter_cycle");scatter.name="stickyScatterBackground";scatter.regX=scatter.width/2;scatter.x=rightCol;scatter.y=88;scatter.scaleX=scatter.scaleY=1;scattersContainer.addChild(scatter);var extraSymbol2=extraSymbol.clone();extraSymbol2.name="extraSymbol2";extraSymbol2.x=rightCol;extraSymbol2.y=88;scattersContainer.addChild(extraSymbol2);}},{key:"initWildPage",value:function initWildPage(){var wildContainer=this.querySelector("wild");if(!wildContainer){return;}
var slotMachine=this.getService("SlotMachineService").getInstance();var extraSymbol=slotMachine.getSymbol(10);extraSymbol.name="extraSymbol";extraSymbol.regX=extraSymbol.width/2;extraSymbol.x=wildContainer.width/2;extraSymbol.y=98;extraSymbol.scaleX=extraSymbol.scaleY=1.3;wildContainer.addChild(extraSymbol);}},{key:"initBonusGamePage",value:function initBonusGamePage(){var bonusGameContainer=this.querySelector("bonusGame");if(!bonusGameContainer){return;}
var screenshotLabel=bonusGameContainer.getChildByName("screenshotLabel");var slotMachine=this.getService("SlotMachineService").getInstance();var extraSymbol=slotMachine.getSymbol(11);extraSymbol.name="extraSymbol";extraSymbol.regX=extraSymbol.width/2;extraSymbol.x=bonusGameContainer.getChildByName("bonusRichText").x;extraSymbol.y=100;bonusGameContainer.addChild(extraSymbol);var screens=[bonusGameContainer.getChildByName("screen_1"),bonusGameContainer.getChildByName("screen_2"),bonusGameContainer.getChildByName("screen_3")];var texts=[bonusGameContainer.getChildByName("screenshotLabel_1"),bonusGameContainer.getChildByName("screenshotLabel_2"),bonusGameContainer.getChildByName("screenshotLabel_3")];var showScreen=function showScreen(index){var fadeTime=700;var showTime=6000;createjs.Tween.get(screens[index],{override:true}).to({visible:true,alpha:0},0).to({alpha:1},fadeTime).wait(showTime).to({alpha:0,visible:false},fadeTime).call(function(){showScreen((index+1)%screens.length);});createjs.Tween.get(texts[index],{override:true}).to({visible:true,alpha:0},0).to({alpha:1},fadeTime).wait(showTime).to({alpha:0,visible:false},fadeTime);};showScreen(0);}},{key:"showSpinButton",value:function showSpinButton(){this.querySelector("SpinButton").visible=true;}},{key:"hideSpinButton",value:function hideSpinButton(){this.querySelector("SpinButton").visible=false;}},{key:"hideHomeButton",value:function hideHomeButton(){this.querySelector("main.homeButton").visible=false;}},{key:"showHomeButton",value:function showHomeButton(){this.querySelector("main.homeButton").visible=true;}},{key:"hideSettingsButton",value:function hideSettingsButton(){this.querySelector("main.settingsButton").visible=false;}},{key:"showSettingsButton",value:function showSettingsButton(){this.querySelector("main.settingsButton").visible=true;}},{key:"hideAdditionalButtons",value:function hideAdditionalButtons(){this.hideHomeButton();this.hideSettingsButton();}},{key:"showAdditionalButtons",value:function showAdditionalButtons(){this.showHomeButton();this.showSettingsButton();}},{key:"showAllButtons",value:function showAllButtons(){this.showSpinButton();this.showAdditionalButtons();}},{key:"hideAllButtons",value:function hideAllButtons(){this.hideSpinButton();this.hideAdditionalButtons();}},{key:"_disableAutoSpinButton",value:function _disableAutoSpinButton(button,icon,text){icon.x=0;icon.y=0;var countAutoSpins=this.controller.getCountAutoSpinValue();if(countAutoSpins==-2){countAutoSpins=this._autoInfinite;}
if(this.getState().name.indexOf("STATE_FREE_SPINS")!=-1){if(this.getService("AutoPlayService").isActive()){var countCurrent=this.getService("AutoPlayService").getCurrentValue();if(countCurrent<=0){countCurrent=this.controller.getCountAutoSpinValue();}
if(countCurrent==-2){countCurrent=this._autoInfinite;}
icon.gotoAndStop("stop");icon.x=-30;icon.y=-5;text.text=countCurrent;}else{icon.gotoAndStop("normal");text.text=countAutoSpins;}}else{icon.gotoAndStop("stop");icon.x=-30;icon.y=-5;text.text=countAutoSpins;}
button.mouseEnabled=false;button.mouseChildren=false;var grayScaleFilter=new createjs.ColorMatrixFilter([0.30,0.30,0.30,0,0,0.30,0.30,0.30,0,0,0.30,0.30,0.30,0,0,0,0,0,1,0]);button.filters=[grayScaleFilter];var rect=button.getBounds();button.cache(rect.x,rect.y,rect.width,rect.height);}},{key:"_enableAutoSpinButton",value:function _enableAutoSpinButton(button,icon,text){icon.x=0;icon.y=0;button.mouseEnabled=true;button.mouseChildren=true;button.filters=[];button.uncache();}},{key:"disableAutospinButton",value:function disableAutospinButton(){var autoButton=this.querySelector("main.autoBtn");var elIcon=this.querySelector("main.SpinButton.expandSpinSettings.autoBtn.autoIcon");var elText=this.querySelector("main.SpinButton.expandSpinSettings.autoBtn.autoIconText");this._disableAutoSpinButton(autoButton,elIcon,elText);var autoButtonV=this.querySelector("main.autoBtnV");var elIconV=this.querySelector("main.SpinButton.expandVerticalNormalSettings.autoBtnV.autoIconV");var elTextV=this.querySelector("main.SpinButton.expandVerticalNormalSettings.autoBtnV.autoIconTextV");this._disableAutoSpinButton(autoButtonV,elIconV,elTextV);}},{key:"enableAutospinButton",value:function enableAutospinButton(){var autoButton=this.querySelector("main.autoBtn");var elIcon=this.querySelector("main.SpinButton.expandSpinSettings.autoBtn.autoIcon");var elText=this.querySelector("main.SpinButton.expandSpinSettings.autoBtn.autoIconText");this._enableAutoSpinButton(autoButton,elIcon,elText);var autoButtonV=this.querySelector("main.autoBtnV");var elIconV=this.querySelector("main.SpinButton.expandVerticalNormalSettings.autoBtnV.autoIconV");var elTextV=this.querySelector("main.SpinButton.expandVerticalNormalSettings.autoBtnV.autoIconTextV");this._enableAutoSpinButton(autoButtonV,elIconV,elTextV);}},{key:"stopAutoSpins",value:function stopAutoSpins(){this.getService("AutoPlayService").stopAutoSpins();this.autoSpinActive=false;var elIcon=this.querySelector("main.SpinButton.expandSpinSettings.autoBtn.autoIcon");var elText=this.querySelector("main.SpinButton.expandSpinSettings.autoBtn.autoIconText");var elIconV=this.querySelector("main.SpinButton.expandVerticalNormalSettings.autoBtnV.autoIconV");var elTextV=this.querySelector("main.SpinButton.expandVerticalNormalSettings.autoBtnV.autoIconTextV");var counter=this.querySelector("freeCounter");var statePlay=this.querySelector("main.SpinButton.states.play");counter.visible=false;statePlay.visible=true;this.spinStatePlay.disabled=true;this.spinStatePlay.visible=true;this.spinStatePlay.gotoAndStop(this.quickSpinEnable===false?"normal":"fast");this.spinBtnStatesGl.gotoAndStop(this.quickSpinEnable===false?"normal":"fast");elIcon.x=0;elIcon.y=0;elIconV.x=0;elIconV.y=0;elIcon.gotoAndStop("normal");elIconV.gotoAndStop("normal");var countAutoSpins=this.controller.getCountAutoSpinValue();if(countAutoSpins==-2){countAutoSpins=this._autoInfinite;}
elText.setText(countAutoSpins);elText.color="#16fcc3";elTextV.setText(countAutoSpins);elTextV.color="#16fcc3";}},{key:"changeFreeCounterBeforeSpin",value:function changeFreeCounterBeforeSpin(){}}]);return ControlMobileViewHandler;}(_ViewCanvasHandler3.default);exports.default=ControlMobileViewHandler;;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _panelInfoMenu=__webpack_require__(215);var _panelInfoMenu2=_interopRequireDefault(_panelInfoMenu);var _panelPaytable=__webpack_require__(220);var _panelPaytable2=_interopRequireDefault(_panelPaytable);var _panelFast=__webpack_require__(223);var _panelFast2=_interopRequireDefault(_panelFast);var _panelSound=__webpack_require__(224);var _panelSound2=_interopRequireDefault(_panelSound);var _panelBetMenu=__webpack_require__(225);var _panelBetMenu2=_interopRequireDefault(_panelBetMenu);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var config={layerSizeType:"overLayer",children:{background:{type:"Bitmap",src:"background",scaleY:1.4,visible:false},main:{type:"Container",width:"100%",height:"100%",children:{SpinButton:{type:"Container",top:"50%",right:20,width:204,children:{"expandSpinSettingsContainer":{type:"Container",children:{"expandSpinSettings":{type:"Container",left:14,children:{"bg":{"type":"Bitmap","src":"spin_expand_bg","left":7,"top":1,scaleY:0.985},"close":{"type":"Button","top":73,"left":72,backgroundClickable:true,spriteSheet:{images:["spin_states_close"],frames:{width:53,height:53},animations:{normal:[1],clicked:[0]}},visible:true},"autoBtn":{type:"Container",top:40,left:182,backgroundClickable:true,children:{autoIcon:{type:"Sprite",spriteSheet:{images:["spin_states","spin_state_global"],frames:[[0,125*3,143,125,0],[0,125*2,143,125,0],[0,132*5,138,132,1]],animations:{normal:[0],clicked:[1],stop:[2]}}},autoIconText:{textBaseline:"middle",top:"51%",align:"center","width":100,"type":"Text","text":"100","font":"bold 27pt Calibri","color":"#16fcc3","textAlign":"center","shadow":{"color":"#000000","blur":1},textType:"bold 27"}},visible:true},"fastBtn":{type:"Container","top":40,"left":307,width:143,height:125,backgroundClickable:true,children:{fastButton:{"type":"Button",spriteSheet:{images:["spin_states"],frames:{width:143,height:125},animations:{normal:[1],clicked:[0]}},visible:true}}}},visible:false}}},"expandVerticalFastSettings":{type:"Container",left:-240,children:{"bg":{"type":"Bitmap","src":"spin_menu_fast","left":103,"top":0},"fastBtnV":{type:"Container","top":40,"left":270,width:143,height:125,backgroundClickable:true,children:{fastButtonV:{"type":"Button",spriteSheet:{images:["spin_states"],frames:{width:143,height:125},animations:{normal:[1],clicked:[0]}},visible:true}}}},visible:false},"expandVerticalNormalSettings":{type:"Container",left:69,children:{"bg":{"type":"Bitmap","src":"spin_menu_normal","top":0},"autoBtnV":{type:"Container",top:40,left:100,backgroundClickable:true,children:{autoIconV:{type:"Sprite",spriteSheet:{images:["spin_states","spin_state_global"],frames:[[0,125*3,143,125,0],[0,125*2,143,125,0],[0,132*5,138,132,1]],animations:{normal:[0],clicked:[1],stop:[2]}}},autoIconTextV:{textBaseline:"middle",top:"51%",align:"center","width":100,"type":"Text","text":"100","font":"bold 27pt Calibri","color":"#16fcc3","textAlign":"center","shadow":{"color":"#000000","blur":1},textType:"bold 27"}},visible:true}},visible:false},"defaultSpinBtn":{left:0,width:204,height:204,type:"Button",spriteSheet:{images:["spin_btn"],frames:{width:204,height:204},animations:{normal:[0],clicked:[2]}},visible:true},"giftKey":{type:"Container",children:{"giftSpinBtn":{left:0,type:"Sprite",spriteSheet:{images:["spin_btn"],frames:{width:204,height:204},animations:{gift:[1]}}},giftSpinCounter:{"top":99,"left":163,"width":100,"type":"Text","text":"99","font":"bold 33pt Calibri","color":"#16fcc3","textAlign":"center",textType:"bold 33"}},visible:false},"expandSpinBtn":{type:"Button",top:80,left:-20,width:40,height:40,spriteSheet:{images:["spin_expand"],frames:{width:40,height:40},animations:{normal:[0],clicked:[3],open:[1],openClicked:[2]}},visible:true},"spinBtnStatesGl":{type:"Sprite",top:35,align:"center",mouseEnabled:false,spriteSheet:{images:["spin_state_global"],frames:{width:138,height:132},animations:{normal:[0],clicked:[2],fast:[1],autoStart:[3],autoStartFast:[4],autoStop:[5],autoStopFast:[6]}},visible:true},"states":{type:"Container",top:0,height:210,mouseEnabled:false,children:{"play":{type:"Sprite",top:73,left:85,spriteSheet:{images:["spin_btn_states"],frames:{width:48,height:58},animations:{normal:[1],clicked:[2],fast:[4],fastClicked:[5]}},visible:false},"stop":{type:"Sprite",top:65,left:85,spriteSheet:{images:["spin_btn_states"],frames:{width:48,height:58},animations:{normal:[2],clicked:[3],fast:[5]}},visible:false},freeCounter:{"width":100,"type":"Text","text":"99","font":"bold 33pt Calibri","color":"#16fcc3","textAlign":"center",textBaseline:"middle",top:"51%",visible:false,textType:"bold 33"}}}}},homeButton:{type:"Container",top:60,left:20,children:{"homeBtn":{type:"Button",spriteSheet:{images:["home_btn"],frames:{width:88,height:88},animations:{normal:[0]}},visible:true}}},settingsButton:{type:"Container",top:"44%",left:20,width:118,children:{"settingBtn":{type:"Button",spriteSheet:{images:["settings_btn"],frames:{width:118,height:118},animations:{normal:[0]}},visible:true}}},topBar:{type:"Container",width:"100%",children:{"bg":{type:"Bitmap",src:"background_top",top:0,left:0,width:"100%"}}},winBar:{type:"Container",width:"100%",height:50,children:{background:{type:"Bitmap",src:"background_win",width:"100%"},winContainer:{type:"Container",children:{winText:{type:"Text",text:"WIN_",font:"32pt Calibri",color:"#fca316",textAlign:"left",shadow:{"color":"#000000","offsetX":1,"offsetY":3,"blur":3},textType:"32"}}},totalWinContainer:{type:"Container",children:{winText:{type:"Text",text:"Total win: ",font:"32pt Calibri",color:"#fca316",textAlign:"right",shadow:{"color":"#000000","offsetX":1,"offsetY":3,"blur":3},textType:"32"}},visible:false}},visible:false}},visible:true},bottomBar:{type:"Container",width:"100%",height:34,backgroundColor:"#151d26",children:{betText:{"top":8,"left":"1%","type":"Text","text":"","font":"16pt Calibri","color":"#ffffff","textAlign":"left","shadow":{"color":"#000000","offsetX":1,"offsetY":3,"blur":3},textType:"16"},balanceText:{"width":200,"top":8,"left":"99%","type":"Text","text":"BALANCE: $ ","font":"16pt Calibri","color":"#ffffff","textAlign":"right","shadow":{"color":"#000000","offsetX":1,"offsetY":3,"blur":3},textType:"16"}}},settingsPanel:{type:"Container",width:"100%",backgroundColor:"#151d26",children:{menuPanel:{type:"Container",zIndex:10,width:"100%",backgroundColor:"#0d141b",children:{soundMenu:{type:"Sprite",left:"4%",backgroundClickable:true,verticalAlign:"middle",spriteSheet:{images:["settings_sound_btn"],frames:{width:138,height:134},animations:{normal:[1],active:[0]}}},fastMenu:{type:"Sprite",left:"19%",backgroundClickable:true,verticalAlign:"middle",spriteSheet:{images:["settings_fast_spin_btn"],frames:{width:138,height:134},animations:{normal:[1],active:[0]}}},payTableMenu:{type:"Sprite",left:"34%",backgroundClickable:true,verticalAlign:"middle",spriteSheet:{images:["settings_paytable_btn"],frames:{width:138,height:134},animations:{normal:[1],active:[0]}}},betMenu:{type:"Sprite",left:"49%",backgroundClickable:true,verticalAlign:"middle",spriteSheet:{images:["settings_bet_btn"],frames:{width:138,height:134},animations:{normal:[1],active:[0]}}},infoMenu:{type:"Sprite",left:"64%",backgroundClickable:true,verticalAlign:"middle",spriteSheet:{images:["settings_info_btn"],frames:{width:138,height:134},animations:{normal:[1],active:[0]}}},backMenu:{type:"Sprite",left:"87%",backgroundClickable:true,spriteSheet:{images:["settings_back_btn"],frames:{width:138,height:134},animations:{normal:[1],clicked:[0]}},mouseChildren:false}}},panel:{type:"Container",width:"100%",height:"100%",children:{panelSound:_panelSound2.default,panelFast:_panelFast2.default,panelPayTable:_panelPaytable2.default,panelBetMenu:_panelBetMenu2.default,panelInfoMenu:_panelInfoMenu2.default}}},visible:false}}};exports.default=config;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _panelDefault=__webpack_require__(216);var _panelDefault2=_interopRequireDefault(_panelDefault);var _wild=__webpack_require__(217);var _wild2=_interopRequireDefault(_wild);var _scatters=__webpack_require__(218);var _scatters2=_interopRequireDefault(_scatters);var _bonusGame=__webpack_require__(219);var _bonusGame2=_interopRequireDefault(_bonusGame);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var panelInfoMenu=getClone(_panelDefault2.default);panelInfoMenu.children.panelWrapper.children={wild:_wild2.default,scatters:_scatters2.default,bonusGame:_bonusGame2.default};exports.default=panelInfoMenu;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var panelDefault={type:"Scroller",width:"100%",height:"100%",scrollingX:false,scrollingY:true,scrollbar:{backgroundImage:"scrollbar_background",backgroundWidth:16,barImage:"scrollbar",barWidth:10,offsetY:80,offsetX:10},children:{panelWrapper:{type:"Container",width:960,align:"center",children:{}}}};exports.default=panelDefault;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var defaultFont={type:"Text",font:"bold 22px Arial",color:"#FFFFFF",textAlign:"center",lineHeight:24};var symbolsStyle={type:"ReelSymbol",symbolNumber:10,regX:"50%",top:205};var wild={type:"Container",width:"100%",children:{title:{"top":20,"left":"50%","type":"Text","text":"wild_title","font":"bold 27pt Arial","color":"#ffffff","textAlign":"center"},topLine:{type:"Bitmap",src:"settings_top_line",width:"100%",top:80},topLabel:Object.assign({},defaultFont,{text:"wild_description",left:"50%",top:110,lineWidth:450}),wildX2:Object.assign({},symbolsStyle,{symbolNumber:10,left:"29.4%"}),wildX3:Object.assign({},symbolsStyle,{symbolNumber:11,left:"50%"}),wildX4:Object.assign({},symbolsStyle,{symbolNumber:12,left:"70%"}),bottomLabel:Object.assign({},defaultFont,{text:"wild_bottom_text",left:"50%",top:400,lineWidth:450})}};exports.default=wild;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _config=__webpack_require__(128);var lineHeight=24;var defaultFont={type:"Text",font:"bold 16px Arial",color:"#FFFFFF",textAlign:"center",lineHeight:lineHeight};var strokeConfig={color:"#FFFFFF",stroke:{color:"#1c595c",outline:4,alpha:0.5}};var leftCol="25%";var rightCol="72%";var scatters={type:"Container",width:"100%",height:"100%",top:490,children:{title:{"top":20,"left":"50%","type":"Text","text":"SCATTER","font":"bold 27pt Arial","color":"#ffffff","textAlign":"center"},topLine:{type:"Bitmap",src:"settings_top_line",width:"100%",top:80},scatter_1:{type:"Container",width:400,height:"500px",align:"center",children:{scatterText:{type:"Container",width:100,height:70,left:280,top:190,children:{scatter_x3:Object.assign({},defaultFont,{text:"x3 = 5TB",font:"bold 20px Arial"}),scatter_x2:Object.assign({},defaultFont,{text:"x2 = 2TB",font:"bold 20px Arial",top:30})}},scatterSymbol:{type:"ReelSymbol",regX:"50%",top:145,left:130,symbolNumber:13},scatterDescription:Object.assign({},defaultFont,{text:"scatter_freespins",font:"bold 22px Arial",top:320,lineWidth:300,left:200})}},scatter_2:{type:"Container",width:400,top:430,align:"center",children:{topLine:{type:"Bitmap",src:"settings_top_line",width:"100%",top:-30},scatterFreeDescription:Object.assign({},defaultFont,{text:"scatter_desc_freespins",font:"bold 22px Arial",top:10,lineWidth:400,left:200}),scatterFreeDescContainer:{type:"Container",width:350,height:225,align:"center",top:110,children:{left:Object.assign({},_config.left,{scaleX:0.7,scaleY:0.7,top:110,left:0,cursor:"default"}),center:Object.assign({},_config.center,{scaleX:0.7,scaleY:0.7,top:110,left:170,cursor:"default"}),right:Object.assign({},_config.right,{scaleX:0.7,scaleY:0.7,top:110,left:340,cursor:"default"})}}}}}};exports.default=scatters;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var lineHeight=24;var defaultFont={type:"Text",font:"bold 16px Arial",color:"#FFFFFF",textAlign:"center",lineHeight:lineHeight};var bonusGame={type:"Container",width:"100%",height:2000,top:1350,children:{title:{"top":10,"left":"50%","type":"Text",text:"bonus_title","font":"bold 27pt Arial","color":"#ffffff","textAlign":"center"},topLine:{type:"Bitmap",src:"settings_top_line",width:"100%",top:73},bonus_1:{type:"Container",width:400,height:"500px",align:"center",children:{bonusSymbol:{type:"ReelSymbol",regX:"50%",top:115,left:195,symbolNumber:14},bonusDescription:Object.assign({},defaultFont,{text:"trigger_bonus_game",font:"bold 22px Arial",top:290,lineWidth:350,left:200})}},bonus_2:{type:"Container",width:400,height:"500px",align:"center",top:430,children:{topLine:{type:"Bitmap",src:"settings_top_line",width:"100%",top:-50},screen_1:{type:"Bitmap",src:"screen_1",visible:true,top:0,regX:"50%",left:235,scaleX:1.2,scaleY:1.2},bonusPrompt:Object.assign({},defaultFont,{text:"bonus_prompt",font:"bold 20px Arial",lineWidth:450,left:200,top:260})}}}};exports.default=bonusGame;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _panelDefault=__webpack_require__(216);var _panelDefault2=_interopRequireDefault(_panelDefault);var _lines=__webpack_require__(221);var _lines2=_interopRequireDefault(_lines);var _paytable=__webpack_require__(222);var _paytable2=_interopRequireDefault(_paytable);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var panelPaytable=getClone(_panelDefault2.default);panelPaytable.children.panelWrapper.children={paytable:_paytable2.default,lines:_lines2.default};exports.default=panelPaytable;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _paytableAtlasSpriteSheet=__webpack_require__(194);var _paytableAtlasSpriteSheet2=_interopRequireDefault(_paytableAtlasSpriteSheet);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var page_lines={type:"Container",width:"100%",height:"100%",top:390,children:{title:{"top":70,"left":"50%","type":"Text","text":"lines_title","font":"bold 27pt Arial","color":"#ffffff","textAlign":"center"},topLine:{type:"Bitmap",src:"settings_top_line",width:"100%",top:120},lines:{type:"Sprite",spriteSheet:_paytableAtlasSpriteSheet2.default,defaultAnimation:"paylines",align:"center",top:150},promptLabel:{type:"Text",text:"paytable_prompt",font:"bold 16pt Arial",color:"#ffffff",textAlign:"center",lineHeight:20,left:"50%",top:420}}};exports.default=page_lines;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var paytable={type:"Container",width:"100%",children:{title:{"top":20,"left":"50%","type":"Text","text":"paytable_title","font":"bold 27pt Arial","color":"#ffffff","textAlign":"center"},topLine:{type:"Bitmap",src:"settings_top_line",width:"100%",top:70}}};exports.default=paytable;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _panelDefault=__webpack_require__(216);var _panelDefault2=_interopRequireDefault(_panelDefault);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var panelFast=getClone(_panelDefault2.default);panelFast.children.panelWrapper.children={topLine:{type:"Bitmap",src:"settings_top_line",width:"100%",top:70},titleFast:{"top":20,"left":"50%","type":"Text","text":"SPIN SETTINGS","font":"bold 27pt Calibri","color":"#ffffff","textAlign":"center",textType:"bold 27"},gameAutoPlayLabel:{"top":184,"left":"8%","type":"Text","text":"Autoplay","font":"25pt Calibri","color":"#ffffff","textAlign":"left",textType:"25"},autoPlayInfoLabel:{type:"Container",width:114,height:100,top:80,left:315,children:{"apIlBg":{type:"Bitmap",src:"settings_bg_value",left:0,top:10,width:90,height:80},"apIlText":{"top":22,"left":44,"type":"Text","text":"0","font":"32pt Calibri","color":"#fff","textAlign":"center",textType:"32"}}},autoFromLabel:{"width":20,"top":183,"left":"34%","type":"Text","text":"10","font":"24pt Calibri","color":"#7b7d80","textAlign":"right",textType:"24"},autoToLabel:{"width":20,"top":183,"right":"12%","type":"Text","text":":char:8734","font":"24pt Calibri","color":"#7b7d80","textAlign":"left",textType:"24"},gameQuickSpinLabel:{"top":320,"left":"8%","type":"Text","text":"Quick Spin","font":"25pt Calibri","color":"#ffffff","textAlign":"left",textType:"25"},gameAutoPlayButton:{type:"Slider",top:175,left:"35%",width:"50%",height:90,len:7,trackSprite:{width:"100%",images:["setting_slide_flow"],frames:{width:507,height:43},animations:{normal:[0],active:[0]}},trackActiveSprite:{width:0,images:["setting_slide_flow_active"],frames:{width:507,height:43},animations:{normal:[0],active:[0]}},thumbSprite:{images:["settings_slide_swipe_button"],frames:{width:44,height:44},animations:{normal:[0],active:[0]}}},gameQuickSpinButton:{type:"Switcher",top:298,left:"50%",width:120,height:63,len:2,trackSprite:{images:["setting_slide_button_bg"],frames:[[0,0,122,61],[0,65,122,61]],animations:{normal:[1],active:[0]}},thumbSprite:{top:1,scaleX:0.97,scaleY:0.97,spriteSheet:{images:["setting_slide_button_element"],frames:[[0,0,62,63],[0,63,62,63]],animations:{normal:[1],active:[0]}}}}};exports.default=panelFast;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _panelDefault=__webpack_require__(216);var _panelDefault2=_interopRequireDefault(_panelDefault);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var panelSound=getClone(_panelDefault2.default);panelSound.children.panelWrapper.children={topLine:{type:"Bitmap",src:"settings_top_line",width:"100%",top:70},titleSound:{"top":20,"left":"50%","type":"Text","text":"SOUND SETTINGS","font":"bold 27pt Calibri","color":"#ffffff","textAlign":"center",textType:"bold 27"},gameSoundLabel:{"top":184,"left":"8%","type":"Text","text":"Game Sound","font":"25pt Calibri","color":"#ffffff","textAlign":"left",textType:"25"},gameEffectsLabel:{"top":320,"left":"8%","type":"Text","text":"Game Effects","font":"25pt Calibri","color":"#ffffff","textAlign":"left",textType:"25"},gameSoundButton:{type:"Switcher",top:169,left:"50%",width:120,height:63,len:2,trackSprite:{images:["setting_slide_button_bg"],frames:[[0,0,122,61],[0,65,122,61]],animations:{normal:[1],active:[0]}},thumbSprite:{top:1,scaleX:0.97,scaleY:0.97,spriteSheet:{images:["setting_slide_button_element"],frames:[[0,0,62,63],[0,63,62,63]],animations:{normal:[1],active:[0]}}}},gameEffectsButton:{type:"Switcher",top:298,left:"50%",width:120,height:63,len:2,trackSprite:{images:["setting_slide_button_bg"],frames:[[0,0,122,61],[0,65,122,61]],animations:{normal:[1],active:[0]}},thumbSprite:{top:1,scaleX:0.97,scaleY:0.97,spriteSheet:{images:["setting_slide_button_element"],frames:[[0,0,62,63],[0,63,62,63]],animations:{normal:[1],active:[0]}}}}};exports.default=panelSound;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _panelDefault=__webpack_require__(216);var _panelDefault2=_interopRequireDefault(_panelDefault);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var panelBetMenu=getClone(_panelDefault2.default);panelBetMenu.children.panelWrapper.children={topLine:{type:"Bitmap",src:"settings_top_line",width:"100%",top:70},titleBet:{"top":20,"left":"50%","type":"Text","text":"BET SETTINGS","font":"bold 27pt Calibri","color":"#ffffff","textAlign":"center",textType:"bold 27"},gameBetLabel:{"top":184,"left":"8%","type":"Text","text":"Bet_","font":"25pt Calibri","color":"#ffffff","textAlign":"left",textType:"25"},betInfoLabel:{type:"Container",top:80,left:315,children:{"betIlBg":{type:"Bitmap",src:"settings_bg_value",left:0,top:10,width:90,height:80},"betIlText":{"top":22,"left":44,"type":"Text","text":"0","font":"32pt Calibri","color":"#fff","textAlign":"center",textType:"32"}}},betFromLabel:{"width":20,"top":183,"left":"34%","type":"Text","text":"1","font":"24pt Calibri","color":"#7b7d80","textAlign":"right",textType:"24"},betToLabel:{"width":20,"top":183,"right":"12%","type":"Text","text":"100","font":"24pt Calibri","color":"#7b7d80","textAlign":"left",textType:"24"},betSliderButton:{type:"Slider",top:175,left:"35%",width:"50%",len:5,trackSprite:{width:"100%",images:["setting_slide_flow"],frames:{width:507,height:43},animations:{normal:[0],active:[0]}},trackActiveSprite:{images:["setting_slide_flow_active"],frames:{width:507,height:43},animations:{normal:[0],active:[0]}},thumbSprite:{images:["settings_slide_swipe_button"],frames:{width:44,height:44},animations:{normal:[0],active:[0]}}},lineContainer:{type:"Container",width:"100%",children:{gameLinesLabel:{"top":400,"left":"10%","type":"Text","text":"Lines","font":"36pt Calibri","color":"#ffffff","textAlign":"left",textType:"36"},linesInfoLabel:{type:"Container",width:114,height:100,top:300,left:385,children:{"linesIlBg":{type:"Bitmap",src:"settings_bg_value",left:0,top:0},"lineIlText":{"top":20,"left":56,"type":"Text","text":"0","font":"40pt Calibri","color":"#fff","textAlign":"center",textType:"40"}}},linesFromLabel:{"width":20,"top":400,"left":"28%","type":"Text","text":"0","font":"33pt Calibri","color":"#7b7d80","textAlign":"left",textType:"33"},linesToLabel:{"width":20,"top":400,"right":"10%","type":"Text","text":"1000","font":"33pt Calibri","color":"#7b7d80","textAlign":"left",textType:"33"},linesSliderButton:{type:"Slider",top:400,left:"35%",width:"50%",height:90,len:5,trackSprite:{width:"100%",images:["setting_slide_flow"],frames:{width:507,height:43},animations:{normal:[0],active:[0]}},trackActiveSprite:{width:0,images:["setting_slide_flow_active"],frames:{width:507,height:43},animations:{normal:[0],active:[0]}},thumbSprite:{images:["settings_slide_swipe_button"],frames:{width:44,height:44},animations:{normal:[0],active:[0]}}}},visible:false},totalBetContainer:{type:"Container",width:"100%",children:{gameTotalBetLabel:{"top":320,"left":"8%","type":"Text","text":"Total bet_","font":"25pt Calibri","color":"#ffffff","textAlign":"left",textType:"25"},gameTotalBetValueLabel:{"top":320,"width":100,"left":"37%","type":"Text","text":"399","font":"25pt Calibri","color":"#ffffff","textAlign":"left",textType:"25"}},visible:false}};exports.default=panelBetMenu;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _scattersVertical=__webpack_require__(227);var _scattersVertical2=_interopRequireDefault(_scattersVertical);var _wildVertical=__webpack_require__(228);var _wildVertical2=_interopRequireDefault(_wildVertical);var _bonusGameVertical=__webpack_require__(229);var _bonusGameVertical2=_interopRequireDefault(_bonusGameVertical);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var menuPanelConfig={top:20,scaleX:1,scaleY:1};var verticalConfig={background:{visible:true},main:{children:{SpinButton:{align:"center",children:{"expandSpinSettingsContainer":{children:{"expandSpinSettings":{children:{"bg":{},"close":{},"autoBtn":{children:{"autoIcon":{},autoIconText:{}}},"fastBtn":{children:{fastButton:{}}}}}}},"expandVerticalFastSettings":{children:{"bg":{},"fastBtnV":{children:{fastButtonV:{}}}}},"expandVerticalNormalSettings":{children:{"bg":{},"autoBtnV":{children:{"autoIconV":{},autoIconTextV:{}}}}},"defaultSpinBtn":{},"giftKey":{children:{"giftSpinBtn":{},giftSpinCounter:{}}},"expandSpinBtn":{top:180,left:83},"spinBtnStatesGl":{},"states":{children:{"play":{},"stop":{},"freeCounter":{}}}}},homeButton:{bottom:35,children:{"homeBtn":{}}},settingsButton:{right:20,bottom:20,children:{"settingBtn":{}}},topBar:{visible:false},winBar:{top:50,children:{background:{visible:false},winContainer:{top:37,left:0,backgroundColor:"#000000",width:"100%",height:44,children:{winText:{left:"50%",textAlign:"center",top:5}}},totalWinContainer:{top:0,left:0,backgroundColor:"#000000",width:"100%",height:40,children:{winText:{color:"#16fcc3",font:"28pt Calibri",textAlign:"center",left:"50%",top:8}}}}}}},bottomBar:{top:0,height:40,children:{betText:{font:"22pt Calibri"},balanceText:{font:"22pt Calibri"}}},settingsPanel:{top:40,children:{menuPanel:{height:84*2.22,verticalAlign:"bottom",children:{soundMenu:Object.assign({},menuPanelConfig),fastMenu:Object.assign({},menuPanelConfig),payTableMenu:Object.assign({},menuPanelConfig),betMenu:Object.assign({},menuPanelConfig),infoMenu:Object.assign({},menuPanelConfig),backMenu:Object.assign({},{left:"83%"},menuPanelConfig)}},panel:{children:{panelInfoMenu:{children:{panelWrapper:{scaleX:1.6,scaleY:1.6,left:-(470/1.6)}}},panelPayTable:{children:{panelWrapper:{}}}}}}}};exports.default=verticalConfig;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _config=__webpack_require__(128);var lineHeight=34;var defaultFont={font:"bold 30px Arial",color:"#FFFFFF"};var leftCol="50%";var rightCol="50%";var scatters={type:"Container",width:"100%",height:"100%",top:520,children:{title:{"top":20,"left":"50%","font":"bold 40pt Arial","color":"#ffffff","textAlign":"center"},topLine:{type:"Bitmap",src:"settings_top_line",width:"100%",top:90}}};exports.default=scatters;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var defaultFont={font:"bold 30px Arial",color:"#FFFFFF"};var leftCol="50%";var rightCol="50%";var lineHeight=30;var wild={type:"Container",children:{title:{"top":20,"left":"50%","font":"bold 40pt Arial","color":"#ffffff","textAlign":"center"},topLine:{type:"Bitmap",src:"settings_top_line",width:"100%",top:90}}};exports.default=wild;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var lineHeight=34;var defaultFont={type:"Text",font:"bold 30px Arial",color:"#FFFFFF",textAlign:"center",lineHeight:lineHeight};var bonusGame={type:"Container",width:"100%",top:1550,children:{title:{"top":20,"left":"50%","font":"bold 40pt Arial","color":"#ffffff","textAlign":"center"},topLine:{type:"Bitmap",src:"settings_top_line",width:"100%",top:90}}};exports.default=bonusGame;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _scattersHorizontal=__webpack_require__(231);var _scattersHorizontal2=_interopRequireDefault(_scattersHorizontal);var _wildHorizontal=__webpack_require__(232);var _wildHorizontal2=_interopRequireDefault(_wildHorizontal);var _bonusGameHorizontal=__webpack_require__(233);var _bonusGameHorizontal2=_interopRequireDefault(_bonusGameHorizontal);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var menuPanelConfig={top:5,scaleX:1/1.9,scaleY:1/1.9};var horizontalConfig={background:{visible:false},main:{children:{SpinButton:{verticalAlign:"middle",right:20,children:{"expandSpinSettingsContainer":{children:{"expandSpinSettings":{children:{"bg":{},"close":{},"autoBtn":{children:{"autoIcon":{},autoIconText:{}}},"fastBtn":{children:{fastButton:{}}}}}}},"expandVerticalFastSettings":{children:{"bg":{},"fastBtnV":{children:{fastButtonV:{}}}}},"expandVerticalNormalSettings":{children:{"bg":{},"autoBtnV":{children:{"autoIconV":{},autoIconTextV:{}}}}},"defaultSpinBtn":{},"giftKey":{children:{"giftSpinBtn":{},giftSpinCounter:{}}},"expandSpinBtn":{top:80,left:-20},"spinBtnStatesGl":{},"states":{children:{"play":{},"stop":{},"freeCounter":{}}}}},homeButton:{top:60,children:{"homeBtn":{}}},settingsButton:{left:20,verticalAlign:"middle",children:{"settingBtn":{}}},topBar:{visible:true},winBar:{bottom:34,children:{background:{visible:true},winContainer:{top:5,left:"1%",backgroundColor:"",width:0,height:0,children:{winText:{font:"32pt Calibri",color:"#fca316",textAlign:"left",top:0,left:0}}},totalWinContainer:{top:5,backgroundColor:"",left:"99%",width:0,height:0,children:{winText:{font:"32pt Calibri",color:"#fca316",textAlign:"right",top:0,left:0}}}}}}},bottomBar:{verticalAlign:"bottom",children:{betText:{"font":"16pt Calibri"},balanceText:{"font":"16pt Calibri"}}},settingsPanel:{top:0,children:{menuPanel:{height:84,verticalAlign:"bottom",children:{soundMenu:Object.assign({},menuPanelConfig),fastMenu:Object.assign({},menuPanelConfig),payTableMenu:Object.assign({},menuPanelConfig),betMenu:Object.assign({},menuPanelConfig),infoMenu:Object.assign({},menuPanelConfig),backMenu:Object.assign({},{left:"90%"},menuPanelConfig)}},panel:{children:{panelInfoMenu:{children:{panelWrapper:{scaleX:1,scaleY:1,left:0}}},panelPayTable:{children:{panelWrapper:{}}}}}}}};exports.default=horizontalConfig;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var lineHeight=20;var defaultFont={type:"Text",font:"bold 16px Arial",color:"#FFFFFF",textAlign:"center",lineHeight:lineHeight};var strokeConfig={color:"#FFFFFF",stroke:{color:"#1c595c",outline:4,alpha:0.5}};var leftCol="25%";var rightCol="72%";var scatters={type:"Container",width:"100%",height:"100%",top:470,children:{title:{"top":20,"left":"50%","type":"Text","font":"bold 27pt Arial","color":"#ffffff","textAlign":"center"},topLine:{type:"Bitmap",src:"settings_top_line",width:"100%",top:60}}};exports.default=scatters;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var defaultFont={type:"Text",font:"bold 16px Arial",color:"#FFFFFF",textAlign:"center",lineHeight:25};var strokeConfig={color:"#FFFFFF",stroke:{color:"#1c595c",outline:3,alpha:0.75}};var leftCol="23%";var rightCol="77%";var lineHeight=20;var wild={type:"Container",width:"100%",children:{title:{"top":20,"left":"50%","font":"bold 27pt Arial","color":"#ffffff","textAlign":"center"},topLine:{type:"Bitmap",src:"settings_top_line",width:"100%",top:70}}};exports.default=wild;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var lineHeight=20;var defaultFont={type:"Text",font:"bold 16px Arial",color:"#FFFFFF",textAlign:"center",lineHeight:lineHeight};var bonusGame={type:"Container",width:"100%",top:1300,children:{title:{"top":10,"left":"50%","type":"Text","font":"bold 27pt Arial","color":"#ffffff","textAlign":"center"},topLine:{type:"Bitmap",src:"settings_top_line",width:"100%",top:53}}};exports.default=bonusGame;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _reelHandlerEs=__webpack_require__(154);var _reelHandlerEs2=_interopRequireDefault(_reelHandlerEs);var _config=__webpack_require__(235);var _config2=_interopRequireDefault(_config);var _defaultConfig=__webpack_require__(238);var _defaultConfig2=_interopRequireDefault(_defaultConfig);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var MobileReelHandler=function(_ReelHandler){_inherits(MobileReelHandler,_ReelHandler);function MobileReelHandler(){var data=arguments.length<=0||arguments[0]===undefined?_config2.default:arguments[0];_classCallCheck(this,MobileReelHandler);return _possibleConstructorReturn(this,(MobileReelHandler.__proto__||Object.getPrototypeOf(MobileReelHandler)).call(this,data,_config2.default));}
return MobileReelHandler;}(_reelHandlerEs2.default);exports.default=MobileReelHandler;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _atlasConfig=__webpack_require__(236);var _atlasConfig2=_interopRequireDefault(_atlasConfig);var _reelAnimationsAtlasConfig=__webpack_require__(237);var _reelAnimationsAtlasConfig2=_interopRequireDefault(_reelAnimationsAtlasConfig);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var config={reelAnimationsAtlasConfig:_reelAnimationsAtlasConfig2.default,"children":{"slotMachine":{"type":"SlotMachine","left":130,"top":113,"width":700,"height":420,"distanceBetweenReels":0,"blurCoefficient":15,"delayBetweenReelsStart":0,"delayBetweenReelsStop":200,quickMode:{"delayBetweenReelsStart":0,"delayBetweenReelsStop":0},atlas:_atlasConfig2.default,"defaultReel":{"left":"auto","top":0,"width":140,"height":420,"numOfRows":5,"rowHeight":140,"distanceBetweenRows":0,"animation":"standard","numOfSymbols":14,"blurWhileRun":true,"speed":3500,startParabolaSize:0,startParabolaTime:0,endParabolaSize:40,endParabolaTime:80,quickMode:{"speed":5000,startParabolaSize:0,startParabolaTime:0,endParabolaSize:40,endParabolaTime:40},intrigueMode:{"speed":6000},"defaultTypeOfSymbol":"def","symbols":{"1":{"types":["def","blur","short"],"name":"el_10"},"2":{"types":["def","blur","short"],"name":"el_J"},"3":{"types":["def","blur","short"],"name":"el_Q"},"4":{"types":["def","blur","short"],"name":"el_K"},"5":{"types":["def","blur","short"],"name":"el_A"},"6":{"types":["def","blur","short"],"name":"el_scorpion"},"7":{"types":["def","blur","short"],"name":"el_cobra"},"8":{"types":["def","blur","short"],"name":"el_black_cat"},"9":{"types":["def","blur","short"],"name":"el_Nefertiti"},"10":{"name":"wild_pharaon_simple","types":["def","blur"]},"11":{"name":"wild_pharaon_red","types":["def","blur","short"]},"12":{"name":"wild_pharaon_gold","types":["def","blur","short"]},"13":{"name":"scatter","types":["def","blur","short"]},"14":{"name":"bonus","types":["def","blur","short"]}},"symbolTypes":{"def":{"scale":1},"disable":{"scale":1},"blur":{"scale":1.43},"short":{"scale":1.43,"framerate":27},"freez":{"scale":1,"framerate":27},"disable_freespins":{"scale":1}},allowedSymbolTypes:{"default":{"def":"def","short":"short","disable":"disable","blur":"blur"},"freespins":{"def":"def","short":"short","disable":"disable_freespins","blur":"blur"}},bigWild:{enable:false,scale:1,framerate:25},"fps":60},"reels":[{"animation":"standard",allowedSymbols:{spins:[1,2,3,4,5,6,7,8,9],freespins:[1,2,3,4,5,6,7,8,9]}},{"animation":"standard",allowedSymbols:{spins:[1,2,3,4,5,6,7,8,10,11],freespins:[1,2,3,4,5,6,7,8,10]}},{"animation":"standard",allowedSymbols:{spins:[1,2,3,4,5,6,7,8,9,11],freespins:[1,2,3,4,5,6,7,8,9]}},{"animation":"standard",allowedSymbols:{spins:[1,2,3,4,5,6,7,8,10,11],freespins:[1,2,3,4,5,6,7,8,10]}},{"animation":"standard",allowedSymbols:{spins:[1,2,3,4,5,6,7,8,9],freespins:[1,2,3,4,5,6,7,8,9]}}]}}};exports.default=config;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var atlas={"images":["atlas","atlasMini","atlasFreespinsDisable"],"frames":[[1,1,98,98,0,0,0],[1,101,98,98,0,0,0],[1,201,98,98,0,0,0],[1,301,98,98,0,0,0],[1,401,98,98,0,0,0],[1,501,98,98,0,0,0],[1,601,98,98,0,0,0],[1,701,98,98,0,0,0],[1,801,98,98,0,0,0],[1,901,98,98,0,0,0],[1,1001,98,98,0,0,0],[1,1101,98,98,0,0,0],[1,1201,98,98,0,0,0],[1,1301,98,98,0,0,0],[1,1401,98,98,0,0,0],[1,1501,98,98,0,0,0],[1,1601,98,98,0,0,0],[1,1701,98,98,0,0,0],[1,1801,98,98,0,0,0],[1,1901,98,98,0,0,0],[101,1,98,98,0,0,0],[201,1,98,98,0,0,0],[301,1,98,98,0,0,0],[401,1,98,98,0,0,0],[501,1,98,98,0,0,0],[601,1,98,98,0,0,0],[701,1,98,98,0,0,0],[801,1,98,98,0,0,0],[901,1,98,98,0,0,0],[1001,1,98,98,0,0,0],[1101,1,98,98,0,0,0],[1201,1,98,98,0,0,0],[1301,1,98,98,0,0,0],[1401,1,98,98,0,0,0],[1501,1,98,98,0,0,0],[1601,1,98,98,0,0,0],[1701,1,98,98,0,0,0],[1801,1,98,98,0,0,0],[1901,1,98,98,0,0,0],[101,101,98,98,0,0,0],[101,201,98,98,0,0,0],[101,301,98,98,0,0,0],[101,401,98,98,0,0,0],[101,501,98,98,0,0,0],[101,601,98,98,0,0,0],[101,701,98,98,0,0,0],[101,801,98,98,0,0,0],[101,901,98,98,0,0,0],[101,1001,98,98,0,0,0],[101,1101,98,98,0,0,0],[101,1201,98,98,0,0,0],[101,1301,98,98,0,0,0],[101,1401,98,98,0,0,0],[101,1501,98,98,0,0,0],[101,1601,98,98,0,0,0],[101,1701,98,98,0,0,0],[101,1801,98,98,0,0,0],[101,1901,98,98,0,0,0],[201,101,98,98,0,0,0],[301,101,98,98,0,0,0],[401,101,98,98,0,0,0],[501,101,98,98,0,0,0],[601,101,98,98,0,0,0],[701,101,98,98,0,0,0],[801,101,98,98,0,0,0],[901,101,98,98,0,0,0],[1001,101,98,98,0,0,0],[1101,101,98,98,0,0,0],[1201,101,98,98,0,0,0],[1301,101,98,98,0,0,0],[1401,101,98,98,0,0,0],[1501,101,98,98,0,0,0],[1601,101,98,98,0,0,0],[1701,101,98,98,0,0,0],[1801,101,98,98,0,0,0],[1901,101,98,98,0,0,0],[201,201,98,98,0,0,0],[201,301,98,98,0,0,0],[201,401,98,98,0,0,0],[201,501,98,98,0,0,0],[201,601,98,98,0,0,0],[201,701,98,98,0,0,0],[201,801,98,98,0,0,0],[201,901,98,98,0,0,0],[201,1001,98,98,0,0,0],[201,1101,98,98,0,0,0],[201,1201,98,98,0,0,0],[201,1301,98,98,0,0,0],[201,1401,98,98,0,0,0],[201,1501,98,98,0,0,0],[201,1601,98,98,0,0,0],[201,1701,98,98,0,0,0],[201,1801,98,98,0,0,0],[201,1901,98,98,0,0,0],[301,201,98,98,0,0,0],[401,201,98,98,0,0,0],[501,201,98,98,0,0,0],[601,201,98,98,0,0,0],[701,201,98,98,0,0,0],[801,201,98,98,0,0,0],[901,201,98,98,0,0,0],[1001,201,98,98,0,0,0],[1101,201,98,98,0,0,0],[1201,201,98,98,0,0,0],[1301,201,98,98,0,0,0],[1401,201,98,98,0,0,0],[1501,201,98,98,0,0,0],[1601,201,98,98,0,0,0],[1701,201,98,98,0,0,0],[1801,201,98,98,0,0,0],[1901,201,98,98,0,0,0],[301,301,98,98,0,0,0],[301,401,98,98,0,0,0],[301,501,98,98,0,0,0],[301,601,98,98,0,0,0],[301,701,98,98,0,0,0],[301,801,98,98,0,0,0],[301,901,98,98,0,0,0],[301,1001,98,98,0,0,0],[301,1101,98,98,0,0,0],[301,1201,98,98,0,0,0],[301,1301,98,98,0,0,0],[301,1401,98,98,0,0,0],[301,1501,98,98,0,0,0],[301,1601,98,98,0,0,0],[301,1701,98,98,0,0,0],[301,1801,98,98,0,0,0],[301,1901,98,98,0,0,0],[401,301,98,98,0,0,0],[501,301,98,98,0,0,0],[601,301,98,98,0,0,0],[701,301,98,98,0,0,0],[801,301,98,98,0,0,0],[901,301,98,98,0,0,0],[1001,301,98,98,0,0,0],[1101,301,98,98,0,0,0],[1201,301,98,98,0,0,0],[1301,301,98,98,0,0,0],[1401,301,98,98,0,0,0],[1501,301,98,98,0,0,0],[1601,301,98,98,0,0,0],[1701,301,98,98,0,0,0],[1801,301,98,98,0,0,0],[1901,301,98,98,0,0,0],[401,401,98,97,0,0,-1],[501,401,98,97,0,0,-1],[601,401,98,97,0,0,-1],[701,401,98,97,0,0,-1],[801,401,98,97,0,0,-1],[901,401,98,97,0,0,0],[1001,401,98,97,0,0,-1],[1101,401,98,97,0,0,-1],[1201,401,98,97,0,0,-1],[1301,401,98,97,0,0,-1],[1401,401,97,98,0,-1,0],[1500,401,97,98,0,0,0],[1599,401,97,98,0,-1,0],[1698,401,97,98,0,-1,0],[1797,401,97,98,0,0,0],[1896,401,97,98,0,0,0],[401,500,97,98,0,0,0],[500,500,97,97,0,0,0],[599,500,97,97,0,0,0],[698,500,97,97,0,0,0],[797,500,98,96,0,0,0],[897,500,96,98,0,-1,0],[797,598,96,98,0,-1,0],[500,599,96,97,0,-1,-1],[401,600,96,97,0,-2,0],[598,599,98,95,0,0,-3],[698,599,96,96,0,-1,-1],[598,696,98,95,0,0,-3],[499,698,96,96,0,-1,-1],[401,699,96,96,0,-1,-1],[698,697,96,96,0,-1,-1],[597,793,98,95,0,0,-3],[499,796,96,96,0,-1,-1],[401,797,96,96,0,-1,-1],[995,500,98,95,0,0,-3],[1095,500,98,95,0,0,-3],[1195,500,96,96,0,-1,-1],[1293,500,96,96,0,-1,-1],[995,597,96,96,0,-1,-1],[895,600,96,96,0,-1,-1],[1093,597,96,96,0,-1,-1],[1391,501,96,96,0,-1,-1],[1191,598,96,96,0,-1,-1],[1289,598,96,96,0,-1,-1],[993,695,96,96,0,-1,-1],[1091,695,96,96,0,-1,-1],[796,698,96,96,0,-1,-1],[697,795,96,96,0,-1,-1],[597,890,96,96,0,-1,-1],[499,894,96,96,0,-1,-1],[401,895,96,96,0,-1,-1],[894,698,95,97,0,-2,-1],[795,796,94,98,0,-2,0],[695,893,94,98,0,-2,0],[597,988,94,98,0,-2,0],[499,992,94,98,0,-2,0],[401,993,94,98,0,-2,0],[1489,501,94,98,0,-2,0],[1387,599,94,98,0,-2,0],[1189,696,94,98,0,-2,0],[1285,696,94,98,0,-2,0],[991,793,96,95,0,-1,-3],[891,797,96,95,0,-1,-3],[1089,793,96,95,0,-1,-3],[1585,501,96,95,0,-1,-3],[1683,501,96,95,0,-2,-3],[1781,501,96,95,0,0,-3],[1879,501,95,95,0,-2,-3],[1585,598,95,95,0,-2,-3],[1483,601,95,95,0,-2,-3],[1682,598,95,95,0,-2,-3],[1779,598,95,95,0,-2,-3],[1876,598,95,95,0,-2,-3],[1580,695,95,95,0,-2,-3],[1483,698,95,95,0,-2,-3],[1381,699,95,95,0,-2,-3],[1677,695,95,95,0,-2,-3],[1774,695,95,95,0,-2,-3],[1871,695,95,95,0,-2,-3],[1580,792,96,94,0,-2,-4],[1478,795,98,92,0,0,-6],[1187,796,98,92,0,0,-6],[1287,796,98,92,0,0,-6],[1387,796,87,92,0,-6,-3],[1678,792,98,92,0,0,-3],[1778,792,98,92,0,0,-3],[1878,792,92,98,0,-3,0],[1678,886,92,98,0,-3,0],[1578,888,92,98,0,-3,0],[1476,889,95,94,0,-2,-4],[1772,886,95,94,0,-2,-4],[1869,892,95,94,0,0,-4],[1772,982,94,95,0,-2,-1],[1672,986,94,95,0,-2,-1],[1868,988,94,95,0,-2,-1],[1768,1079,96,93,0,0,-5],[1866,1085,94,94,0,-2,-2],[989,890,94,94,0,-2,-2],[891,894,94,94,0,-2,-2],[791,896,94,94,0,-2,-4],[1085,890,94,94,0,-2,-4],[1181,890,94,94,0,-2,-2],[1277,890,94,94,0,-2,-2],[1373,890,94,94,0,-2,-2],[1469,985,94,94,0,-2,-2],[1565,988,94,94,0,-2,-2],[1661,1083,94,94,0,-2,-2],[1757,1174,94,94,0,-2,-2],[1853,1181,94,94,0,-2,-2],[987,986,94,94,0,-2,-2],[887,990,94,94,0,-2,-2],[791,992,94,94,0,-2,-2],[693,993,94,94,0,-2,-2],[595,1088,94,94,0,-2,-2],[497,1092,94,94,0,-2,-2],[401,1093,94,94,0,-2,-2],[1083,986,94,94,0,-2,-2],[1179,986,94,94,0,-2,-2],[1275,986,94,94,0,-2,-2],[1371,986,94,94,0,-2,-2],[1467,1081,94,94,0,-2,-2],[1563,1084,94,94,0,-2,-2],[1659,1179,94,94,0,-2,-2],[1755,1270,94,94,0,-2,-2],[1851,1277,94,94,0,-2,-2],[983,1082,94,94,0,-2,-2],[887,1086,94,93,0,-2,-5],[789,1088,94,93,0,-2,-5],[691,1089,93,94,0,-2,-4],[593,1184,93,94,0,-2,-4],[497,1188,93,93,0,-3,-2],[401,1189,93,93,0,-3,-2],[1079,1082,93,93,0,-3,-2],[1174,1082,93,93,0,-3,-2],[1269,1082,93,93,0,-3,-2],[1364,1082,92,93,0,-3,-2],[1079,1177,92,93,0,-3,-2],[983,1178,92,93,0,-3,-2],[885,1181,92,93,0,-3,-2],[786,1183,92,93,0,-3,-2],[688,1185,92,92,0,-3,-3],[1173,1177,92,92,0,-3,-3],[1267,1177,92,92,0,-3,-3],[1361,1177,92,92,0,-3,-3],[1455,1177,92,92,0,-3,-3],[1549,1180,92,92,0,-3,-3],[1173,1271,92,92,0,-3,-3],[1077,1272,92,92,0,-3,-3],[979,1273,92,92,0,-3,-3],[880,1276,92,92,0,-3,-3],[782,1278,92,92,0,-3,-3],[688,1279,92,92,0,-3,-3],[592,1280,92,92,0,-3,-3],[496,1283,90,92,0,-4,-3],[401,1284,92,89,0,-3,-6],[401,1375,92,89,0,-3,-6],[1267,1271,92,89,0,-3,-6],[1361,1271,92,89,0,-3,-6],[1455,1271,92,89,0,-3,-6],[1549,1274,98,82,0,0,-16],[1649,1275,98,82,0,0,-16],[1549,1358,98,82,0,0,-16],[1649,1359,98,82,0,0,-16],[1749,1366,98,82,0,0,-16],[1849,1373,98,82,0,0,-16],[1267,1362,87,92,0,-6,-3],[1171,1365,89,89,0,-5,-6],[1073,1366,92,86,0,-3,-8],[974,1367,92,86,0,-3,-8],[1068,1454,98,81,0,0,-17],[876,1370,92,86,0,-3,-8],[970,1455,92,86,0,-3,-8],[782,1372,92,86,0,-3,-8],[876,1458,92,85,0,-3,-8],[686,1373,92,85,0,-3,-8],[588,1374,92,85,0,-3,-8],[495,1377,86,86,0,-6,-6],[682,1460,98,81,0,0,-17],[782,1460,92,85,0,-3,-8],[583,1461,92,85,0,-3,-8],[495,1465,86,86,0,-6,-6],[677,1543,98,81,0,0,-17],[583,1548,86,86,0,-6,-6],[401,1466,86,86,0,-6,-6],[489,1553,86,86,0,-6,-6],[401,1554,86,84,0,-6,-8],[401,1640,86,84,0,-6,-8],[1356,1362,97,77,0,-1,-21],[1455,1362,90,82,0,-4,-8],[1356,1441,97,77,0,-1,-21],[1547,1442,97,77,0,-1,-21],[1455,1446,90,82,0,-4,-8],[1646,1443,90,82,0,-4,-8],[1547,1521,97,76,0,-1,-22],[1738,1450,97,76,0,-1,-22],[1646,1527,86,84,0,-6,-8],[1837,1457,97,76,0,-1,-22],[1936,1457,82,83,0,-8,-8],[1734,1528,86,84,0,-6,-8],[1822,1535,86,84,0,-6,-8],[1910,1542,90,80,0,-4,-9],[1168,1456,90,80,0,-4,-9],[1064,1537,90,80,0,-4,-9],[970,1543,90,80,0,-4,-9],[876,1545,90,80,0,-4,-9],[777,1547,90,80,0,-4,-9],[671,1626,90,80,0,-4,-9],[577,1636,90,80,0,-4,-9],[489,1641,82,83,0,-8,-8],[1260,1456,90,80,0,-4,-9],[1352,1520,90,80,0,-4,-9],[1444,1530,90,80,0,-4,-9],[1536,1599,90,80,0,-4,-9],[1628,1613,95,75,0,-1,-23],[1725,1614,95,75,0,-1,-23],[1822,1621,82,83,0,-8,-8],[1906,1624,95,75,0,-1,-23],[1906,1701,90,78,0,-4,-10],[1156,1538,90,78,0,-4,-10],[1248,1538,90,78,0,-4,-10],[1340,1602,90,78,0,-4,-10],[1432,1612,90,78,0,-4,-10],[1524,1681,88,78,0,-5,-10],[1614,1690,88,78,0,-5,-10],[1704,1691,88,78,0,-5,-10],[1794,1706,88,78,0,-5,-10],[1884,1781,88,78,0,-5,-10],[1156,1618,88,78,0,-5,-10],[1062,1619,88,78,0,-5,-10],[968,1625,88,78,0,-5,-10],[1246,1618,88,78,0,-5,-10],[1336,1682,88,78,0,-5,-10],[1426,1692,88,78,0,-5,-10],[1516,1761,88,78,0,-5,-10],[1606,1770,88,78,0,-5,-10],[1696,1771,88,78,0,-5,-10],[1786,1786,88,78,0,-5,-10],[1876,1861,82,82,0,-8,-8],[869,1627,82,82,0,-8,-8],[763,1629,82,82,0,-8,-8],[669,1708,82,82,0,-8,-8],[573,1718,82,82,0,-8,-8],[401,1726,86,78,0,-6,-10],[489,1726,82,81,0,-8,-8],[401,1806,86,78,0,-6,-10],[1152,1698,86,78,0,-6,-10],[1058,1699,86,78,0,-6,-10],[1240,1698,86,78,0,-6,-10],[1328,1762,86,78,0,-6,-10],[1416,1772,86,78,0,-6,-10],[1504,1841,86,78,0,-6,-10],[1592,1850,86,78,0,-6,-10],[1680,1851,86,78,0,-6,-10],[1768,1866,86,78,0,-6,-10],[1856,1945,97,61,0,-1,-37],[953,1705,86,78,0,-6,-10],[847,1711,86,78,0,-6,-10],[753,1713,86,78,0,-6,-10],[657,1792,86,78,0,-6,-10],[573,1802,82,81,0,-8,-8],[489,1809,82,74,0,-8,-12],[1146,1778,86,76,0,-6,-11],[1234,1778,86,76,0,-6,-11],[1322,1842,86,76,0,-6,-11],[1410,1852,86,76,0,-6,-11],[1498,1921,86,76,0,-6,-11],[1586,1930,84,77,0,-7,-11],[1672,1931,84,77,0,-7,-11],[1041,1779,84,77,0,-7,-11],[935,1785,84,76,0,-7,-12],[841,1791,84,76,0,-7,-11],[745,1793,84,76,0,-7,-11],[1127,1856,84,76,0,-7,-11],[1021,1858,84,76,0,-7,-11],[927,1863,84,76,0,-7,-11],[831,1869,84,76,0,-7,-11],[745,1871,84,76,0,-7,-11],[657,1872,84,76,0,-7,-12],[1213,1856,84,76,0,-7,-11],[1299,1920,84,74,0,-7,-12],[1385,1930,84,74,0,-7,-12],[1107,1934,82,74,0,-8,-12],[1013,1936,82,74,0,-8,-12],[917,1941,82,74,0,-8,-12],[1191,1934,82,74,0,-8,-12],[743,1949,97,61,0,-1,-37],[489,1885,97,61,0,-1,-37],[401,1948,97,60,0,-1,-38],[500,1948,97,60,0,-1,-38],[599,1950,97,60,0,-1,-38],[1,1,140,140,1,0,0],[1,143,140,140,1,0,0],[1,285,140,140,1,0,0],[1,427,140,140,1,0,0],[1,569,140,139,1,0,-1],[1,710,140,139,1,0,-1],[1,851,140,139,1,0,-1],[1,992,140,139,1,0,-1],[1,1133,140,139,1,0,-1],[1,1274,140,139,1,0,-1],[1,1415,132,132,1,-4,-4],[1,1549,132,132,1,-4,-4],[1,1683,132,132,1,-4,-4],[1,1817,132,132,1,-4,-4],[135,1415,132,132,1,-4,-4],[135,1549,132,132,1,-4,-4],[135,1683,132,132,1,-4,-4],[135,1817,132,132,1,-4,-4],[143,1,132,132,1,-4,-4],[143,135,132,132,1,-4,-4],[143,269,132,132,1,-4,-4],[143,403,132,132,1,-4,-4],[143,537,132,132,1,-4,-4],[143,671,132,132,1,-4,-4],[143,805,132,132,1,-4,-4],[143,939,132,132,1,-4,-4],[143,1073,132,132,1,-4,-4],[143,1207,132,132,1,-4,-4],[1,1,140,140,2,0,0],[1,143,140,140,2,0,0],[1,285,140,139,2,0,-1],[1,426,140,139,2,0,-1],[1,567,140,139,2,0,-1],[1,708,132,132,2,-4,-4],[135,708,132,132,2,-4,-4],[1,842,132,132,2,-4,-4],[135,842,132,132,2,-4,-4],[143,1,132,132,2,-4,-4],[143,135,132,132,2,-4,-4],[143,269,132,132,2,-4,-4],[143,403,132,132,2,-4,-4],[143,537,132,132,2,-4,-4]],"animations":{"blur_10":{"frames":[0]},"blur_11":{"frames":[1]},"blur_12":{"frames":[2]},"blur_13":{"frames":[3]},"blur_14":{"frames":[4]},"short_10":{"frames":[5,6,7,165,154,8,9,10,205,206,211,212,213,214,215,216,233,243,270,272,230,357,398,431,337,331,313,303,304,224]},"short_11":{"frames":[11,12,13,155,156,14,15,16,207,208,217,218,219,220,221,222,234,244,271,273,231,358,429,432,338,333,321,305,306,225]},"short_12":{"frames":[17,18,19,166,157,20,21,22,158,23,24,25,26,27,209,223,195,210,239,235,232,360,430,433,340,334,325,307,308,226]},"short_13":{"frames":[28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,145,146,147,148,43,44,45,46,47,48,49,50,51,52,53]},"short_14":{"frames":[54,167,310,227,309,297,228,229,55,56,57,58,59,60,164,168,149,61,159,160,62,63,64,65,66,67,68,69,70,71]},"short_6":{"frames":[257,289,290,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,170,172,173,174,176,177,258,259,260]},"short_7":{"frames":[261,291,292,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,161,180,181,182,183,184,236,262,263]},"short_8":{"frames":[264,293,294,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,162,185,186,187,188,189,237,265,266]},"short_9":{"frames":[267,295,296,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,163,190,191,192,193,194,238,268,269]},"short_1":{"frames":[240,241,242,169,144,366,387,404,381,423,413,414,405,329,386,388,389,320,367,368,361,344,345,346,317,311,298,284,279,274]},"short_2":{"frames":[245,246,247,171,150,369,382,425,341,415,410,416,406,330,390,391,392,324,370,371,362,347,348,332,318,312,299,285,280,275]},"short_3":{"frames":[248,249,250,175,151,372,383,426,352,417,411,418,407,339,393,394,395,326,373,374,363,349,350,335,319,314,300,286,281,276]},"short_4":{"frames":[251,252,253,178,152,375,384,427,359,419,412,420,408,342,396,397,399,327,376,377,364,351,353,336,322,315,301,287,282,277]},"short_5":{"frames":[254,255,256,179,153,378,403,428,385,424,421,422,409,343,400,401,402,328,379,380,365,354,355,356,323,316,302,288,283,278]},"blur_1":{"frames":[196]},"blur_2":{"frames":[197]},"blur_3":{"frames":[198]},"blur_4":{"frames":[199]},"blur_5":{"frames":[200]},"blur_6":{"frames":[201]},"blur_7":{"frames":[202]},"blur_8":{"frames":[203]},"blur_9":{"frames":[204]},"def_13":{"frames":[434]},"def_14":{"frames":[435]},"disable_13":{"frames":[436]},"disable_14":{"frames":[437]},"def_10":{"frames":[438]},"def_11":{"frames":[439]},"def_12":{"frames":[440]},"disable_10":{"frames":[441]},"disable_11":{"frames":[442]},"disable_12":{"frames":[443]},"def_1":{"frames":[444]},"def_2":{"frames":[445]},"def_3":{"frames":[446]},"def_4":{"frames":[447]},"def_5":{"frames":[448]},"def_6":{"frames":[449]},"def_7":{"frames":[450]},"def_8":{"frames":[451]},"def_9":{"frames":[452]},"disable_1":{"frames":[453]},"disable_2":{"frames":[454]},"disable_3":{"frames":[455]},"disable_4":{"frames":[456]},"disable_5":{"frames":[457]},"disable_6":{"frames":[458]},"disable_7":{"frames":[459]},"disable_8":{"frames":[460]},"disable_9":{"frames":[461]},"disable_freespins_14":{"frames":[462]},"disable_freespins_13":{"frames":[463]},"disable_freespins_12":{"frames":[464]},"disable_freespins_11":{"frames":[465]},"disable_freespins_10":{"frames":[466]},"disable_freespins_1":{"frames":[467]},"disable_freespins_5":{"frames":[468]},"disable_freespins_2":{"frames":[469]},"disable_freespins_4":{"frames":[470]},"disable_freespins_9":{"frames":[471]},"disable_freespins_3":{"frames":[472]},"disable_freespins_8":{"frames":[473]},"disable_freespins_7":{"frames":[474]},"disable_freespins_6":{"frames":[475]}},"framerate":15};exports.default=atlas;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var reelAnimationsAtlasConfig={"images":["reels_animations"],"frames":[[1,1,142,31,0,0,0],[1,34,142,31,0,0,0],[145,1,142,31,0,0,0],[1,67,142,31,0,0,0],[145,34,142,31,0,0,0],[1,100,142,31,0,0,0],[145,67,140,28,0,0,-2],[1,133,140,28,0,0,-2],[145,97,140,28,0,0,-2],[1,163,140,28,0,0,-2],[1,193,140,28,0,0,-2],[1,223,140,28,0,0,-2],[1,253,140,28,0,0,-2],[1,283,125,12,0,-4,-28],[145,127,127,40,0,-3,0],[143,169,127,36,0,-4,-4],[143,207,124,38,0,-6,-2],[143,247,125,22,0,-1,-18],[143,271,126,22,0,-4,-18]],"animations":{"top_reels_animation":{"frames":[0,1,2,3,4,5]},"freespins_reels_animation":{"frames":[6,7,8,9,10,11,12]},"main_reels_animation":{"frames":[17,18,16,14,15,13]}},framerate:15};exports.default=reelAnimationsAtlasConfig;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var dataConfig={defaultMask:{xOffsetCrunch:-100,widthCrunch:200}};exports.default=dataConfig;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _linesViewHandlerEs=__webpack_require__(156);var _linesViewHandlerEs2=_interopRequireDefault(_linesViewHandlerEs);var _config=__webpack_require__(240);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var MobileLinesViewHandler=function(_LinesViewHandler){_inherits(MobileLinesViewHandler,_LinesViewHandler);function MobileLinesViewHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,MobileLinesViewHandler);return _possibleConstructorReturn(this,(MobileLinesViewHandler.__proto__||Object.getPrototypeOf(MobileLinesViewHandler)).call(this,data,_config2.default));}
return MobileLinesViewHandler;}(_linesViewHandlerEs2.default);exports.default=MobileLinesViewHandler;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _numbersSpriteSheet=__webpack_require__(103);var config={children:{"linesManager":{type:"LineCarribeanManager",rowPadding:0,imageAlias:"line",debug:false,defaultLine:{background:{}},defaultLeftLine:{backgroundLeftAbsolute:272-160,labels:{"left":{leftAbsolute:272-160-11,font:"bold 14px Arial",color:"#876a37",backgroundImage:{on:"marker_on",off:"marker_off",win:"star",over_on:"marker_over_on",over_off:"marker_over_off"}}}},defaultRightLine:{backgroundRightAbsolute:1009-160,labels:{"right":{leftAbsolute:1009-160,font:"bold 14px Arial",color:"#876a37",backgroundImage:{on:"marker_on",off:"marker_off",win:"star",over_on:"marker_over_on",over_off:"marker_over_off"}}}},lines:{"1":{type:"left",backgroundTop:4,backgroundTopAbsolute:305,leftLabelTopAbsolute:305,start:{row:2,position:2}},"2":{type:"left",backgroundTop:4,backgroundTopAbsolute:182,leftLabelTopAbsolute:182,start:{row:1,position:2}},"3":{type:"left",backgroundTop:4,backgroundTopAbsolute:462,leftLabelTopAbsolute:462,start:{row:3,position:2}},"4":{type:"left",backgroundTop:29,backgroundTopAbsolute:215,leftLabelTopAbsolute:230,start:{row:1,position:3}},"5":{type:"left",backgroundTop:430,backgroundTopAbsolute:131,leftLabelTopAbsolute:415,start:{row:3,position:1}},"6":{type:"left",backgroundTop:367,backgroundTopAbsolute:132,leftLabelTopAbsolute:374,start:{row:2,position:4}},"7":{type:"left",backgroundTop:0,backgroundTopAbsolute:272,leftLabelTopAbsolute:272,start:{row:2,position:1}},"8":{type:"left",backgroundTop:4,backgroundTopAbsolute:132,leftLabelTopAbsolute:132,start:{row:1,position:1}},"9":{type:"left",backgroundTop:533,backgroundTopAbsolute:165,leftLabelTopAbsolute:516,start:{row:3,position:3}},"10":{type:"left",backgroundTop:267,backgroundTopAbsolute:163,leftLabelTopAbsolute:337,start:{row:2,position:3}},"11":{type:"right",backgroundTop:3,backgroundTopAbsolute:132,rightLabelTopAbsolute:132,start:{row:1,position:1}},"12":{type:"right",backgroundTop:242,backgroundTopAbsolute:354,rightLabelTopAbsolute:511,start:{row:3,position:3}},"13":{type:"right",backgroundTop:3,backgroundTopAbsolute:182,rightLabelTopAbsolute:182,start:{row:1,position:2}},"14":{type:"right",backgroundTop:382,backgroundTopAbsolute:214,rightLabelTopAbsolute:463,start:{row:3,position:2}},"15":{type:"right",backgroundTop:3,backgroundTopAbsolute:232,rightLabelTopAbsolute:231,start:{row:1,position:3}},"16":{type:"right",backgroundTop:382,backgroundTopAbsolute:165,rightLabelTopAbsolute:416,start:{row:3,position:1}},"17":{type:"right",backgroundTop:192,backgroundTopAbsolute:148,rightLabelTopAbsolute:272,start:{row:2,position:1}},"18":{type:"right",backgroundTop:79,backgroundTopAbsolute:321,rightLabelTopAbsolute:371,start:{row:2,position:4}},"19":{type:"right",backgroundTop:25,backgroundTopAbsolute:288,rightLabelTopAbsolute:303,start:{row:2,position:2}},"20":{type:"right",backgroundTop:240,backgroundTopAbsolute:181,rightLabelTopAbsolute:338,start:{row:2,position:3}}}},winLineAmount:{type:"Container",width:258,height:79,visible:false,children:{"background":{type:"Bitmap",src:"winLineAmountBackground",left:"50%",top:40,visible:true},value:{type:"BitmapText",text:"0",alias:"bonus",spriteSheet:_numbersSpriteSheet.numbersSmallSpriteSheet}}}},freezScatterScale:1};exports.default=config;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};var _bonusGameViewHandlerEs=__webpack_require__(97);var _bonusGameViewHandlerEs2=_interopRequireDefault(_bonusGameViewHandlerEs);var _config=__webpack_require__(242);var _config2=_interopRequireDefault(_config);var _bonusStartPopup=__webpack_require__(243);var _bonusStartPopup2=_interopRequireDefault(_bonusStartPopup);var _bonusEndPopup=__webpack_require__(245);var _bonusEndPopup2=_interopRequireDefault(_bonusEndPopup);var _bonusResumePopup=__webpack_require__(249);var _bonusResumePopup2=_interopRequireDefault(_bonusResumePopup);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var MobileBonusGameViewHandler=function(_BonusGameViewHandler){_inherits(MobileBonusGameViewHandler,_BonusGameViewHandler);function MobileBonusGameViewHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,MobileBonusGameViewHandler);return _possibleConstructorReturn(this,(MobileBonusGameViewHandler.__proto__||Object.getPrototypeOf(MobileBonusGameViewHandler)).call(this,data,_config2.default));}
_createClass(MobileBonusGameViewHandler,[{key:"initHandler",value:function initHandler(){this.controller=this.getController();this.initLayout(this.config);this.initChildren(this.config.children);this._bonusInit=true;this.initRoofAndFloor();this.initColumnContainer();this.getLayout().visible=false;this._startPopup=new _bonusStartPopup2.default({},this.alias);this._endPopup=new _bonusEndPopup2.default({},this.alias);this._resumePopup=new _bonusResumePopup2.default({},this.alias);}},{key:"activateVerticalMode",value:function activateVerticalMode(){this.verticalMode=true;this.getLayout().y=0;}},{key:"activateHorizontalMode",value:function activateHorizontalMode(){this.verticalMode=false;this.getLayout().y=-60;}},{key:"getLayout",value:function getLayout(){var alias=arguments.length<=0||arguments[0]===undefined?this.alias:arguments[0];return _get(MobileBonusGameViewHandler.prototype.__proto__||Object.getPrototypeOf(MobileBonusGameViewHandler.prototype),"getLayout",this).call(this,alias);}}]);return MobileBonusGameViewHandler;}(_bonusGameViewHandlerEs2.default);exports.default=MobileBonusGameViewHandler;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var config={layerSizeType:"fullsize",children:{roof:{type:"Container",width:1280,height:157,top:1},background:{type:"Bitmap",src:"background",top:158},floor:{type:"Container",width:1280,height:157,top:720-157},columnContainer:{type:"Container",top:158,height:405},elementsContainer:{type:"Container",top:158,height:405,width:"100%"},papirusRounds:{type:"Container",top:40,left:200,children:{background:{type:"Bitmap",src:"papirus"},roundText:{type:"Text",top:26,text:"bonus_rounds_left",left:"50%",textAlign:"center",font:"bold 20pt Arial",color:"#2d1e04"},levelMap:{type:"Bitmap",src:"level_map",align:"center",top:60}}},papirusLife:{type:"Container",top:40+48,right:200-132,width:265,height:97,regX:"50%",regY:"50%",children:{background:{type:"Bitmap",src:"papirus"},heart_disable_1:{type:"Bitmap",src:"heart_disable",regX:"50%",regY:"50%",top:"50%",left:"25%"},heart_disable_2:{type:"Bitmap",src:"heart_disable",regX:"50%",regY:"50%",top:"50%",left:"50%"},heart_disable_3:{type:"Bitmap",src:"heart_disable",regX:"50%",regY:"50%",top:"50%",left:"75%"},heart_1:{type:"Bitmap",src:"heart",regX:"50%",regY:"50%",top:"50%",left:"25%"},heart_2:{type:"Bitmap",src:"heart",regX:"50%",regY:"50%",top:"50%",left:"50%"},heart_3:{type:"Bitmap",src:"heart",regX:"50%",regY:"50%",top:"50%",left:"75%"}}},promptText:{type:"Text",text:"bonus_prompt_text",top:65,left:"50%",textAlign:"center",lineWidth:270,color:"#9ba5c3",font:"bold 11pt Arial"}}};exports.default=config;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};var _bonusStartPopup=__webpack_require__(111);var _bonusStartPopup2=_interopRequireDefault(_bonusStartPopup);var _config=__webpack_require__(244);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BonusStartMobilePopup=function(_BonusStartPopup){_inherits(BonusStartMobilePopup,_BonusStartPopup);function BonusStartMobilePopup(config,alias){_classCallCheck(this,BonusStartMobilePopup);var _this=_possibleConstructorReturn(this,(BonusStartMobilePopup.__proto__||Object.getPrototypeOf(BonusStartMobilePopup)).call(this,config,alias));_this.initHandler();return _this;}
_createClass(BonusStartMobilePopup,[{key:"initHandler",value:function initHandler(){this._container=new Container({width:this.getGameContainer().width,height:this.getGameContainer().height});this.initChildrenContainer(this._container,_config2.default.children);}},{key:"show",value:function show(resolve){_get(BonusStartMobilePopup.prototype.__proto__||Object.getPrototypeOf(BonusStartMobilePopup.prototype),"show",this).call(this,resolve);this._screenshot.x=this._screenshot.y=0;this._shape.x=this.getGameContainer().width/2;this._shape2.x=this.getGameContainer().width/2;this._shape.y=this.getGameContainer().height/2;this._shape2.y=this.getGameContainer().height/2;this._container.getChildByName('black').width=this.getCanvas().width;this._container.getChildByName('black').height=this.getCanvas().height;}},{key:"getLayout",value:function getLayout(){var alias=arguments.length<=0||arguments[0]===undefined?this.alias:arguments[0];return _get(BonusStartMobilePopup.prototype.__proto__||Object.getPrototypeOf(BonusStartMobilePopup.prototype),"getLayout",this).call(this,alias);}}]);return BonusStartMobilePopup;}(_bonusStartPopup2.default);exports.default=BonusStartMobilePopup;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var config={children:{black:{type:"Container",width:"100%",height:"100%",backgroundColor:"#000000",alpha:0.7},youWonStroke:{type:"Text",text:"You won Bonus game!",left:"50%",top:"50%",textBaseline:"middle",font:"bold 60px Arial",color:"#923831",textAlign:"center",outline:7},youWonText:{type:"Text",text:"You won Bonus game!",left:"50%",top:"50%",textBaseline:"middle",textAlign:"center",font:"bold 60px Arial",color:"#ffde8a",stroke:{color:"#e67b2c",outline:3}}}};exports.default=config;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};var _bonusEndPopup=__webpack_require__(113);var _bonusEndPopup2=_interopRequireDefault(_bonusEndPopup);var _particleConfig=__webpack_require__(246);var _particleConfig2=_interopRequireDefault(_particleConfig);var _numbersSpriteSheet=__webpack_require__(247);var _numbersSpriteSheet2=_interopRequireDefault(_numbersSpriteSheet);var _config=__webpack_require__(248);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BonusEndMobilePopup=function(_BonusEndPopup){_inherits(BonusEndMobilePopup,_BonusEndPopup);function BonusEndMobilePopup(config,alias){_classCallCheck(this,BonusEndMobilePopup);var _this=_possibleConstructorReturn(this,(BonusEndMobilePopup.__proto__||Object.getPrototypeOf(BonusEndMobilePopup)).call(this,config,alias));_this.initHandler();return _this;}
_createClass(BonusEndMobilePopup,[{key:"initHandler",value:function initHandler(){this._container=new Container({width:this.getGameContainer().width,height:this.getGameContainer().height});this.initChildrenContainer(this._container,_config2.default.children);this._container.getChildByName('black').width*=1.2;}},{key:"startAnimation",value:function startAnimation(){var _this2=this;var success=arguments.length<=0||arguments[0]===undefined?false:arguments[0];var totalWinPosition={x:this.getGameContainer().width/2+50,y:300};if(success){totalWinPosition={x:this.getLayout().width*.55,y:300};}
var data=this.getService("BonusService").getBonusContext();this._screenshot=this.getStageScreenshot();this._container.addChildAt(this._screenshot,0);this._screenshot.x=this._screenshot.y=0;var finalText=new Text({text:success?"bonus_success_text":"bonus_lose_text",font:"bold 35pt Arial",textAlign:"center",color:"#FFDE98",lineWidth:500,stroke:{outline:3,color:"#342C1A",offsetY:3}});finalText.name="finalText";finalText.x=this.getLayout().width/2;finalText.y=60;var princessContainer=new Container();princessContainer.name="princessContainer";princessContainer.x=-150;princessContainer.alpha=0;var princess=new Bitmap("princess_big",this.alias);princess.name="princess";princessContainer.addChild(princess);var princessEye=new Bitmap("princess_eye",this.alias);princessEye.name="princessEye";princessEye.x=143;princessEye.y=88;princessEye.alpha=0;princessContainer.addChild(princessEye);var winCounter=new BitmapText({text:"0",spriteSheet:_numbersSpriteSheet2.default},this.alias);winCounter.name="winCounter";winCounter.x=totalWinPosition.x;winCounter.y=totalWinPosition.y;var shape=new Bitmap("shape",this.alias);shape.x=totalWinPosition.x;shape.y=totalWinPosition.y;shape.regX=shape.width/2;shape.regY=shape.height/2;shape.scaleX=shape.scaleY=3;shape.alpha=0.4;var shape2=new Bitmap("shape",this.alias);shape2.x=totalWinPosition.x;shape2.y=totalWinPosition.y;shape2.regX=shape2.width/2;shape2.regY=shape2.height/2;shape2.scaleX=shape2.scaleY=3;shape2.alpha=0.4;var target=new Sprite({spriteSheet:{"images":["star_particle"],"frames":[[1,1,50,50,0,0,0]],"animations":{"star_particle_anim":{"frames":[0]}}}},this.alias);target.gotoAndPlay("star_particle_anim");target.regX=25;target.regY=25;this._finalEmitter=new ProtonEmitter({left:totalWinPosition.x,top:totalWinPosition.y,target:target,emitterConfig:_particleConfig2.default},this.alias);this._finalEmitter.emitter.rate.timePan.a=0;this._finalEmitter.emitter.rate.timePan.b=0;setTimeout(function(){_this2._finalEmitter.emitter.rate.numPan.a=0;_this2._finalEmitter.emitter.rate.numPan.b=0;},200);var showCircleParticles=function showCircleParticles(){_this2._finalEmitter.emitter.rate.numPan.a=20;_this2._finalEmitter.emitter.rate.numPan.b=30;_this2._finalEmitter.emitter.initializes.forEach(function(beh){var name=beh.constructor.name;if(name==='Velocity'){beh.rPan.a=3;beh.rPan.b=4;}});setTimeout(function(){_this2._finalEmitter.emitter.rate.numPan.a=0;_this2._finalEmitter.emitter.rate.numPan.b=0;},80);};var totalWin=data.total_win/100;this._container.addChild(finalText);if(success){this._container.addChild(princessContainer);this._container.setChildBottom(princessContainer,0);}
this._container.addChild(shape);this._container.addChild(shape2);this._container.addChild(this._finalEmitter);this._container.addChild(winCounter);this._finalPrincess=princessContainer;this._finalText=finalText;this._finalWinCounter=winCounter;this._shape=shape;this._shape2=shape2;return new Promise(function(resolve,reject){createjs.Tween.get(_this2._container.getChildByName('black')).to({alpha:0},0).to({alpha:0.75},1000).call(function(){resolve();});if(success){createjs.Tween.get(princessEye).wait(1000).to({alpha:1},100).wait(30).to({alpha:0},200);createjs.Tween.get(princessContainer,{override:true}).to({alpha:1,x:200},400).to({x:160,rotation:0.5},20000).to({x:200,rotation:0},20000);}
createjs.Tween.get(shape,{loop:true}).to({rotation:-360},10000);createjs.Tween.get(shape2,{loop:true}).to({rotation:360},15000);_this2.counterEffect(winCounter,0,totalWin,showCircleParticles);_this2._finalEmitter.emitter.emit();});}},{key:"getLayout",value:function getLayout(){var alias=arguments.length<=0||arguments[0]===undefined?this.alias:arguments[0];return _get(BonusEndMobilePopup.prototype.__proto__||Object.getPrototypeOf(BonusEndMobilePopup.prototype),"getLayout",this).call(this,alias);}}]);return BonusEndMobilePopup;}(_bonusEndPopup2.default);exports.default=BonusEndMobilePopup;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var particleConfig={"initializes":{"Mass":{"massPan":{"isArray":false,"a":5,"b":1,"center":false}},"ImageTarget":{"w":20,"h":20},"Life":{"lifePan":{"isArray":false,"a":18.5,"b":17.3,"center":false}},"Velocity":{"rPan":{"isArray":false,"a":1,"b":5,"center":false},"thaPan":{"isArray":false,"a":-360,"b":360,"center":false},"type":"polar"}},"behaviours":{"Alpha":{"id":"Behaviour_1","age":1173790.9709534035,"energy":0.740220705148827,"dead":false,"same":false,"a":{"isArray":false,"a":1,"b":1,"center":false},"b":{"isArray":false,"a":1,"b":1,"center":false}},"Attraction":{"energy":0.740220705148827,"dead":false,"targetPosition":{"x":0,"y":0},"radius":200,"force":100,"radiusSq":40000,"attractionForce":{"x":-881.1885136093837,"y":-133.72528661154678},"lengthSq":794375.6487964554},"Gravity":{"force":{"x":0,"y":50}},"RandomDrift":{"id":"Behaviour_3","age":1173790.9709534035,"energy":0.740220705148827,"dead":false,"panFoce":{"x":0,"y":0},"delay":0,"time":0},"Rotate":{"a":{"isArray":false,"a":-1,"b":3,"center":false},"b":{"isArray":false,"a":-1,"b":2,"center":false}},"Scale":{"a":{"isArray":false,"a":0.4,"b":1.1,"center":false},"b":{"isArray":false,"a":0,"b":0,"center":false}}},"rate":{"Rate":{"numPan":{"isArray":false,"a":40,"b":60,"center":false},"timePan":{"isArray":false,"a":10,"b":0,"center":false}}}};exports.default=particleConfig;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var numbersSpriteSheet={images:["bonus_numbers"],"frames":[[1,1,103,108,0,0,0],[116,1,93,111,0,0,0],[221,1,93,110,0,0,0],[326,1,93,109,0,0,0],[431,1,90,108,0,0,0],[533,1,86,110,0,0,0],[631,1,85,108,0,0,0],[728,1,84,110,0,0,0],[824,1,84,108,0,0,0],[920,1,54,109,0,0,0],[986,1,53,62,0,0,-60],[1051,1,48,50,0,0,-60]],"animations":{"0":{"frames":[0]},"4":{"frames":[1]},"9":{"frames":[2]},"6":{"frames":[3]},"2":{"frames":[4]},"8":{"frames":[5]},"5":{"frames":[6]},"7":{"frames":[7]},"3":{"frames":[8]},"1":{"frames":[9]},",":{"frames":[10]},".":{"frames":[11]}}};exports.default=numbersSpriteSheet;var numbersSmallSpriteSheet={images:["bonus_numbers_small"],"frames":[[1,1,21,25,0,0,0],[25,1,19,25,0,0,0],[47,1,18,26,0,0,0],[68,1,18,25,0,0,0],[89,1,18,25,0,0,0],[110,1,17,25,0,0,0],[130,1,17,25,0,0,0],[150,1,17,25,0,0,0],[170,1,17,25,0,0,0],[190,1,11,25,0,0,0],[204,1,11,15,0,0,-14],[218,1,9,11,0,0,-14]],"animations":{"0":{"frames":[0]},"2":{"frames":[1]},"4":{"frames":[2]},"6":{"frames":[3]},"9":{"frames":[4]},"3":{"frames":[5]},"5":{"frames":[6]},"7":{"frames":[7]},"8":{"frames":[8]},"1":{"frames":[9]},",":{"frames":[10]},".":{"frames":[11]}}};exports.numbersSmallSpriteSheet=numbersSmallSpriteSheet;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var config={children:{black:{type:"Container",width:"100%",height:"100%",backgroundColor:"#000000",alpha:0}}};exports.default=config;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};var _bonusResumePopup=__webpack_require__(116);var _bonusResumePopup2=_interopRequireDefault(_bonusResumePopup);var _config=__webpack_require__(250);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BonusResumeMobilePopup=function(_BonusResumePopup){_inherits(BonusResumeMobilePopup,_BonusResumePopup);function BonusResumeMobilePopup(config,alias){_classCallCheck(this,BonusResumeMobilePopup);var _this=_possibleConstructorReturn(this,(BonusResumeMobilePopup.__proto__||Object.getPrototypeOf(BonusResumeMobilePopup)).call(this,config,alias));_this.initHandler();return _this;}
_createClass(BonusResumeMobilePopup,[{key:"initHandler",value:function initHandler(){this._container=new Container({width:this.getGameContainer().width,height:this.getGameContainer().height});this.initChildrenContainer(this._container,_config2.default.children);}},{key:"show",value:function show(resolve){_get(BonusResumeMobilePopup.prototype.__proto__||Object.getPrototypeOf(BonusResumeMobilePopup.prototype),"show",this).call(this,resolve);this._screenshot.x=this._screenshot.y=0;this._shape.x=this.getGameContainer().width/2;this._shape2.x=this.getGameContainer().width/2;this._shape.y=this.getGameContainer().height/2;this._shape2.y=this.getGameContainer().height/2;this._container.getChildByName('black').width=this.getCanvas().width;this._container.getChildByName('black').height=this.getCanvas().height;}},{key:"getLayout",value:function getLayout(){var alias=arguments.length<=0||arguments[0]===undefined?this.alias:arguments[0];return _get(BonusResumeMobilePopup.prototype.__proto__||Object.getPrototypeOf(BonusResumeMobilePopup.prototype),"getLayout",this).call(this,alias);}}]);return BonusResumeMobilePopup;}(_bonusResumePopup2.default);exports.default=BonusResumeMobilePopup;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var config={children:{black:{type:"Container",width:"100%",height:"100%",backgroundColor:"#000000",alpha:0.7},youWonStroke:{type:"Text",text:"You won Bonus game!",left:"50%",top:"50%",textBaseline:"middle",font:"bold 60px Arial",color:"#923831",textAlign:"center",outline:7},youWonText:{type:"Text",text:"You won Bonus game!",left:"50%",top:"50%",textBaseline:"middle",textAlign:"center",font:"bold 60px Arial",color:"#ffde8a",stroke:{color:"#e67b2c",outline:3}}}};exports.default=config;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _FreespinsViewHandler2=__webpack_require__(124);var _FreespinsViewHandler3=_interopRequireDefault(_FreespinsViewHandler2);var _config=__webpack_require__(252);var _config2=_interopRequireDefault(_config);var _freeSpinStartMobilePopup=__webpack_require__(254);var _freeSpinStartMobilePopup2=_interopRequireDefault(_freeSpinStartMobilePopup);var _freeSpinEndMobilePopup=__webpack_require__(257);var _freeSpinEndMobilePopup2=_interopRequireDefault(_freeSpinEndMobilePopup);var _freeSpinResumeMobilePopup=__webpack_require__(259);var _freeSpinResumeMobilePopup2=_interopRequireDefault(_freeSpinResumeMobilePopup);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var FreespinsMobileViewHandler=function(_FreespinsViewHandler){_inherits(FreespinsMobileViewHandler,_FreespinsViewHandler);function FreespinsMobileViewHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,FreespinsMobileViewHandler);var _this=_possibleConstructorReturn(this,(FreespinsMobileViewHandler.__proto__||Object.getPrototypeOf(FreespinsMobileViewHandler)).call(this,data));_this._inited=false;return _this;}
_createClass(FreespinsMobileViewHandler,[{key:"initHandler",value:function initHandler(){if(this._inited){return;}
this.initLayout(_config2.default);this.initChildren(_config2.default.children);this._startPopup=new _freeSpinStartMobilePopup2.default({},this.alias);this._endPopup=new _freeSpinEndMobilePopup2.default({},this.alias);this._resumePopup=new _freeSpinResumeMobilePopup2.default({},this.alias);this.getLayout().visible=false;this._inited=true;}},{key:"activateVerticalMode",value:function activateVerticalMode(){this.verticalMode=true;this._startPopup.update();this.getLayout().y=0;}},{key:"activateHorizontalMode",value:function activateHorizontalMode(){this.verticalMode=false;this._startPopup.update();this.getLayout().y=-60;}}]);return FreespinsMobileViewHandler;}(_FreespinsViewHandler3.default);exports.default=FreespinsMobileViewHandler;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _spriteSheetConfig=__webpack_require__(253);var _spriteSheetConfig2=_interopRequireDefault(_spriteSheetConfig);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var config={layerSizeType:"fullsize",zIndex:60,children:{girl:{type:"Sprite",top:407,left:159,spriteSheet:_spriteSheetConfig2.default,defaultAnimation:"freespins_girl",framerate:18},cutLine:{type:"Bitmap",top:50,align:"center",src:"cut_line"},corner:{type:"Bitmap",top:482,left:952,src:"corner"},header:{type:"Sprite",top:42,left:511,spriteSheet:_spriteSheetConfig2.default,defaultAnimation:"Cut_head_10"}}};exports.default=config;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var spriteSheet={"images":["freespinsAtlas"],"frames":[[1,1,221,417,0,0,0],[1,420,221,417,0,0,0],[1,839,263,55,0,0,0],[224,1,221,417,0,0,0],[224,420,104,179,0,-10,-3],[224,601,104,179,0,-10,-3],[224,782,263,55,0,0,0],[266,839,263,55,0,0,0],[330,420,104,179,0,-10,-3],[330,601,103,179,0,-11,-3],[435,601,103,179,0,-11,-3],[436,420,103,179,0,-11,-3],[540,601,103,179,0,-11,-3],[447,1,103,179,0,-11,-3],[447,182,103,179,0,-11,-3],[541,363,103,179,0,-11,-3],[645,544,103,179,0,-11,-3],[645,725,102,179,0,-12,-3],[749,725,102,179,0,-12,-3],[750,1,102,179,0,-12,-3],[646,1,101,179,0,-12,-3],[552,182,101,179,0,-12,-3],[646,363,101,179,0,-12,-3],[655,182,100,179,0,-13,-3],[749,363,100,179,0,-13,-3],[757,182,100,179,0,-13,-3],[750,544,100,179,0,-13,-3]],"animations":{"fs_menu_1":{"frames":[0]},"fs_menu_2":{"frames":[1]},"Cut_head_10":{"frames":[2]},"fs_menu_3":{"frames":[3]},"freespins_girl":{"frames":[23,24,20,21,17,9,10,11,12,4,5,8,13,14,15,16,18,19,22,25,26]},"Cut_head_11":{"frames":[6]},"Cut_head_12":{"frames":[7]}}};exports.default=spriteSheet;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};var _freeSpinStartPopup=__webpack_require__(127);var _freeSpinStartPopup2=_interopRequireDefault(_freeSpinStartPopup);var _config=__webpack_require__(255);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var FreeSpinStartMobilePopup=function(_FreeSpinStartPopup){_inherits(FreeSpinStartMobilePopup,_FreeSpinStartPopup);function FreeSpinStartMobilePopup(config,alias){_classCallCheck(this,FreeSpinStartMobilePopup);var _this=_possibleConstructorReturn(this,(FreeSpinStartMobilePopup.__proto__||Object.getPrototypeOf(FreeSpinStartMobilePopup)).call(this,config,alias));_this.tempTweens=[];_this.initHandler();_this.suspendTweensColumns=false;return _this;}
_createClass(FreeSpinStartMobilePopup,[{key:"initHandler",value:function initHandler(){var _this2=this;this.multipliersSelectable=false;this._container=new Container({width:this.getGameContainer().width,height:this.getGameContainer().height});this.initChildrenContainer(this._container,_config2.default.children);var popups={left:this._container.getChildByName("left"),center:this._container.getChildByName("center"),right:this._container.getChildByName("right")};var scale=0.1;var countScale=0.2;var _loop=function _loop(p){var popup=popups[p];var freespinsCount=popup.getChildByName("value");var freespinsCountDefaultScale=freespinsCount.scaleX;popup.cursor="pointer";var onRollOverAction=function onRollOverAction(e){if(!_this2.multipliersSelectable){return;}
_this2.suspendAttraction();if(popup.mouseDown){popup.scaleX=popup.scaleY=1-scale;freespinsCount.scaleX=freespinsCount.scaleY=freespinsCountDefaultScale;}else{popup.scaleX=popup.scaleY=1+scale;freespinsCount.scaleX=freespinsCount.scaleY=(1+countScale)*freespinsCountDefaultScale;}
_this2._container.setChildIndex(popup,_this2._container.getNumChildren()-1);};var onRollOutAction=function onRollOutAction(e){_this2.resumeAttraction();if(!_this2.multipliersSelectable){return;}
popup.scaleX=popup.scaleY=1;freespinsCount.scaleX=freespinsCount.scaleY=1*freespinsCountDefaultScale;};var onMouseDownAction=function onMouseDownAction(e){if(!_this2.multipliersSelectable){return;}
_this2.suspendAttraction();popup.mouseDown=true;popup.scaleX=popup.scaleY=1-scale;freespinsCount.scaleX=freespinsCount.scaleY=freespinsCountDefaultScale;};var onClickAction=function onClickAction(e){if(!_this2.multipliersSelectable){return;}
_this2.multipliersSelectable=false;_this2.stopAttraction();popup.scaleX=popup.scaleY=1;freespinsCount.scaleX=freespinsCount.scaleY=1*freespinsCountDefaultScale;for(var pop in popups){popups[pop].cursor="";}
var symbol=popup.getChildByName("symbol");switch(symbol.symbolID){case 10:_this2.getService("SoundService").play("el_wild_pharaon_silmple","audio");_this2.getService("SoundService").play("sound_7","audio");break;case 11:_this2.getService("SoundService").play("el_wild_pharaon_red","audio");_this2.getService("SoundService").play("sound_8","audio");break;case 12:_this2.getService("SoundService").play("el_wild_pharaon_gold","audio");_this2.getService("SoundService").play("sound_9","audio");break;}
symbol.framerate=27;symbol.scaleX=symbol.scaleY=1.33;symbol.gotoAndPlay("short_"+symbol.symbolID);_this2.tempTweens.push(createjs.Tween.get(_this2._container.getChildByName('black')).to({alpha:1},2000));symbol.addEventListener("animationend",function(){symbol.removeAllEventListeners("animationend");symbol.gotoAndPlay("def_"+symbol.symbolID);symbol.scaleX=symbol.scaleY=1;_this2.getController().selectMultiplier(symbol.symbolID);_this2.hide();});popup.selected=true;for(var _pop in popups){popups[_pop].cursor="";if(popup.id!==popups[_pop].id){popups[_pop].filters=[new createjs.ColorMatrixFilter(new createjs.ColorMatrix(0,-9,-70,25)),new createjs.ColorMatrixFilter(new createjs.ColorMatrix(10,0,0,0))];var rect=popups[_pop].getBounds();popups[_pop].cache(rect.x,rect.y,rect.width,rect.height);}}};var onPressUpAction=function onPressUpAction(e){if(!_this2.multipliersSelectable){return;}
if(e.currentTarget.mouseDown&&e.localX>=0&&e.localX<=e.currentTarget.width&&e.localY>=0&&e.localY<=e.currentTarget.height){onClickAction();}
popup.mouseDown=false;};popup.addEventListener("rollover",onRollOverAction);popup.addEventListener("rollout",onRollOutAction);popup.addEventListener("mousedown",onMouseDownAction);popup.addEventListener("pressup",onPressUpAction);popup.addEventListener("click",onClickAction);_this2.startAttraction();};for(var p in popups){_loop(p);}
this._popups=popups;}},{key:"show",value:function show(resolve){_get(FreeSpinStartMobilePopup.prototype.__proto__||Object.getPrototypeOf(FreeSpinStartMobilePopup.prototype),"show",this).call(this,resolve);this._screenshot.x=this._screenshot.y=0;this._container.getChildByName('black').width=this.getCanvas().width;this._container.getChildByName('black').height=this.getCanvas().height;}}]);return FreeSpinStartMobilePopup;}(_freeSpinStartPopup2.default);exports.default=FreeSpinStartMobilePopup;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _spriteSheetConfig=__webpack_require__(253);var _spriteSheetConfig2=_interopRequireDefault(_spriteSheetConfig);var _numbersSpriteSheet=__webpack_require__(256);var _numbersSpriteSheet2=_interopRequireDefault(_numbersSpriteSheet);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var singlePopup={type:"Container",width:221,top:280,cursor:"pointer",regX:110,regY:209,children:{background:{type:"Sprite",spriteSheet:_spriteSheetConfig2.default,defaultAnimation:"fs_menu_1"},symbol:{type:"ReelSymbol",symbolNumber:10,align:"center",top:50},value:{type:"BitmapText",spriteSheet:_numbersSpriteSheet2.default,text:"15",left:"50%",top:214+36,scaleX:0.75,scaleY:0.75,regX:"50%",regY:"50%",alias:"bonus"},attemptText:{type:"Text",text:"freespins_start_popup_bottom_text",font:"bold 16pt Arial",color:"#ECCB1F",left:"50%",textAlign:"center",top:308,lineWidth:200,stroke:{color:"#292020",outline:3}}},left:"17%"};var left=getClone(singlePopup);var center=getClone(singlePopup);center.left="50%";center.children.background.defaultAnimation="fs_menu_2";center.children.symbol.symbolNumber=11;center.children.value.text="10";var right=getClone(singlePopup);right.left="83%";right.children.background.defaultAnimation="fs_menu_3";right.children.symbol.symbolNumber=12;right.children.value.text="5";var startPopupConfig={children:{black:{type:"Container",width:"100%",height:"100%",backgroundColor:"#000000",alpha:1},left:left,center:center,right:right,message:{type:"Text",text:"freespins_start_popup_top_text",font:"bold 16pt Arial",color:"#ECCB1F",left:"50%",textAlign:"center",stroke:{color:"#623C00",outline:3},top:30}}};exports.default=startPopupConfig;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var numbersSpriteSheet={images:["bonus_numbers"],"frames":[[1,1,103,108,0,0,0],[116,1,93,111,0,0,0],[221,1,93,110,0,0,0],[326,1,93,109,0,0,0],[431,1,90,108,0,0,0],[533,1,86,110,0,0,0],[631,1,85,108,0,0,0],[728,1,84,110,0,0,0],[824,1,84,108,0,0,0],[920,1,54,109,0,0,0],[986,1,53,62,0,0,-60],[1051,1,48,50,0,0,-60]],"animations":{"0":{"frames":[0]},"4":{"frames":[1]},"9":{"frames":[2]},"6":{"frames":[3]},"2":{"frames":[4]},"8":{"frames":[5]},"5":{"frames":[6]},"7":{"frames":[7]},"3":{"frames":[8]},"1":{"frames":[9]},",":{"frames":[10]},".":{"frames":[11]}}};exports.default=numbersSpriteSheet;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};var _freeSpinEndPopup=__webpack_require__(129);var _freeSpinEndPopup2=_interopRequireDefault(_freeSpinEndPopup);var _config=__webpack_require__(258);var _config2=_interopRequireDefault(_config);var _numbersSpriteSheet=__webpack_require__(256);var _numbersSpriteSheet2=_interopRequireDefault(_numbersSpriteSheet);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var FreeSpinEndMobilePopup=function(_FreeSpinEndPopup){_inherits(FreeSpinEndMobilePopup,_FreeSpinEndPopup);function FreeSpinEndMobilePopup(config,alias){_classCallCheck(this,FreeSpinEndMobilePopup);var _this=_possibleConstructorReturn(this,(FreeSpinEndMobilePopup.__proto__||Object.getPrototypeOf(FreeSpinEndMobilePopup)).call(this,config,alias));_this.initHandler();return _this;}
_createClass(FreeSpinEndMobilePopup,[{key:"initHandler",value:function initHandler(){this._container=new Container({width:this.getGameContainer().width,height:this.getGameContainer().height});this.initChildrenContainer(this._container,_config2.default.children);this._emitter=this._container.getChildByName("emitter");var winCounter=new BitmapText({text:"0",spriteSheet:_numbersSpriteSheet2.default},this.alias);winCounter.name="winCounter";winCounter.x=this.getGameContainer().width/2;winCounter.y=this.getGameContainer().height/2;this._container.addChild(winCounter);this._finalWinCounter=winCounter;}},{key:"show",value:function show(promise){_get(FreeSpinEndMobilePopup.prototype.__proto__||Object.getPrototypeOf(FreeSpinEndMobilePopup.prototype),"show",this).call(this,promise);this._screenshot.x=this._screenshot.y=0;this._container.getChildByName('black').width=this.getCanvas().width;this._container.getChildByName('black').height=this.getCanvas().height;return new Promise(function(resolve){resolve();});}},{key:"getLayout",value:function getLayout(){var alias=arguments.length<=0||arguments[0]===undefined?this.alias:arguments[0];return _get(FreeSpinEndMobilePopup.prototype.__proto__||Object.getPrototypeOf(FreeSpinEndMobilePopup.prototype),"getLayout",this).call(this,alias);}}]);return FreeSpinEndMobilePopup;}(_freeSpinEndPopup2.default);exports.default=FreeSpinEndMobilePopup;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var config={children:{black:{type:"Container",width:"100%",height:"100%",backgroundColor:"#000000",alpha:0.75},emitter:{type:"ProtonEmitter",top:"50%",left:"50%",targetConfig:{spriteSheet:{"images":"starParticle","frames":[[1,1,194,195,0,0,0]],"animations":{"star":{"frames":[0]}},framerate:10},regX:99,regY:99},emitterConfig:{"initializes":{"Mass":{"massPan":{"isArray":false,"a":1,"b":1,"center":false}},"ImageTarget":{"w":20,"h":20},"Life":{"lifePan":{"isArray":false,"a":1.6,"b":2.8000000000000003,"center":false}},"Velocity":{"rPan":{"isArray":false,"a":0,"b":0,"center":false},"thaPan":{"isArray":false,"a":0,"b":0,"center":false},"type":"polar"}},"behaviours":{"Alpha":{"id":"Behaviour_1","age":105926.84401473704,"energy":0.9430678691418031,"dead":false,"same":false,"a":{"isArray":false,"a":0,"b":0.6000000000000001,"center":false},"b":{"isArray":false,"a":0,"b":0,"center":false}},"Attraction":{"energy":0.9430678691418031,"dead":false,"targetPosition":{"x":0,"y":0},"radius":200,"force":100,"radiusSq":40000,"attractionForce":{"x":-640,"y":-360},"lengthSq":539200},"Gravity":{"force":{"x":0,"y":0}},"RandomDrift":{"id":"Behaviour_3","age":105926.84401473704,"energy":0.9430678691418031,"dead":false,"panFoce":{"x":0,"y":0},"delay":0,"time":0},"Rotate":{"a":{"isArray":false,"a":0,"b":0,"center":false},"b":{"isArray":false,"a":-1,"b":1,"center":false}},"Scale":{"a":{"isArray":false,"a":1.5,"b":1.5,"center":false},"b":{"isArray":false,"a":7.800000000000001,"b":10,"center":false}}},"rate":{"Rate":{"numPan":{"isArray":false,"a":1,"b":1,"center":false},"timePan":{"isArray":false,"a":0.1,"b":0.2,"center":false}}}}},congratulationStroke:{type:"Text",text:"free_spins_end_popup_congratulations",left:"50%",top:50,font:"bold 60px Arial",color:"#923831",textAlign:"center",outline:7},congratulationText:{type:"Text",text:"free_spins_end_popup_congratulations",left:"50%",top:50,font:"bold 60px Arial",color:"#ffde8a",textAlign:"center",stroke:{color:"#e67b2c",outline:3}},youWonStroke:{type:"Text",text:"free_spins_end_you_won",top:380,left:"50%",font:"bold 60px Arial",color:"#923831",textAlign:"center",outline:7},youWonText:{type:"Text",text:"free_spins_end_you_won",top:380,left:"50%",font:"bold 60px Arial",color:"#ffde8a",textAlign:"center",stroke:{color:"#e67b2c",outline:3}}}};exports.default=config;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};var _freeSpinResumePopup=__webpack_require__(132);var _freeSpinResumePopup2=_interopRequireDefault(_freeSpinResumePopup);var _config=__webpack_require__(260);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var FreeSpinResumeMobilePopup=function(_FreeSpinResumePopup){_inherits(FreeSpinResumeMobilePopup,_FreeSpinResumePopup);function FreeSpinResumeMobilePopup(config,alias){_classCallCheck(this,FreeSpinResumeMobilePopup);var _this=_possibleConstructorReturn(this,(FreeSpinResumeMobilePopup.__proto__||Object.getPrototypeOf(FreeSpinResumeMobilePopup)).call(this,config,alias));_this.initHandler();return _this;}
_createClass(FreeSpinResumeMobilePopup,[{key:"initHandler",value:function initHandler(){this._container=new Container({width:this.getGameContainer().width,height:this.getGameContainer().height});this._container.name="resumePopup";this._container.visible=false;this.getLayout().setChildWidth(this._container,"100%");this.getLayout().setChildHeight(this._container,"100%");this.initChildrenContainer(this._container,_config2.default.children);this._popups={left:this._container.getChildByName("left"),center:this._container.getChildByName("center"),right:this._container.getChildByName("right")};}},{key:"show",value:function show(){_get(FreeSpinResumeMobilePopup.prototype.__proto__||Object.getPrototypeOf(FreeSpinResumeMobilePopup.prototype),"show",this).call(this);this._screenshot.x=this._screenshot.y=0;return new Promise(function(resolve,reject){setTimeout(resolve,1000);});}}]);return FreeSpinResumeMobilePopup;}(_freeSpinResumePopup2.default);exports.default=FreeSpinResumeMobilePopup;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _spriteSheetConfig=__webpack_require__(253);var _spriteSheetConfig2=_interopRequireDefault(_spriteSheetConfig);var _numbersSpriteSheet=__webpack_require__(256);var _numbersSpriteSheet2=_interopRequireDefault(_numbersSpriteSheet);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var singlePopup={type:"Container",width:221,top:"40%",left:"40%",cursor:"pointer",regX:110,regY:209,visible:false,children:{background:{type:"Sprite",spriteSheet:_spriteSheetConfig2.default,defaultAnimation:"fs_menu_1"},symbol:{type:"ReelSymbol",symbolNumber:10,align:"center",top:50},value:{type:"BitmapText",spriteSheet:_numbersSpriteSheet2.default,text:"15",left:"50%",top:214+36,scaleX:0.75,scaleY:0.75,regX:"50%",regY:"50%",alias:"bonus"},attemptText:{type:"Text",text:"freespins_start_popup_bottom_text",font:"bold 16pt Arial",color:"#ECCB1F",left:"50%",textAlign:"center",top:308,lineWidth:200,stroke:{color:"#292020",outline:3}}}};var left=getClone(singlePopup);var center=getClone(singlePopup);center.children.background.defaultAnimation="fs_menu_2";center.children.symbol.symbolNumber=11;center.children.value.text="10";var right=getClone(singlePopup);right.children.background.defaultAnimation="fs_menu_3";right.children.symbol.symbolNumber=12;right.children.value.text="5";var startPopupConfig={children:{black:{type:"Container",width:"100%",height:"100%",backgroundColor:"#000000",alpha:.75},left:left,center:center,right:right,message:{type:"Text",text:"freespins_resume_popup_top_text",font:"bold 16pt Arial",color:"#ECCB1F",top:"6%",left:"40%",textAlign:"center",stroke:{color:"#623C00",outline:3}}}};exports.default=startPopupConfig;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ControllerEs=__webpack_require__(6);var _ControllerEs2=_interopRequireDefault(_ControllerEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var SettingsMobileController=function(_Controller){_inherits(SettingsMobileController,_Controller);function SettingsMobileController(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,SettingsMobileController);return _possibleConstructorReturn(this,(SettingsMobileController.__proto__||Object.getPrototypeOf(SettingsMobileController)).call(this,data));}
_createClass(SettingsMobileController,[{key:"initController",value:function initController(){}}]);return SettingsMobileController;}(_ControllerEs2.default);exports.default=SettingsMobileController;},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _EventsEs=__webpack_require__(7);var _EventsEs2=_interopRequireDefault(_EventsEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var SettingsMobileEvent=function(_Events){_inherits(SettingsMobileEvent,_Events);function SettingsMobileEvent(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,SettingsMobileEvent);return _possibleConstructorReturn(this,(SettingsMobileEvent.__proto__||Object.getPrototypeOf(SettingsMobileEvent)).call(this,data));}
_createClass(SettingsMobileEvent,[{key:'run',value:function run(){this.handler=this.getInst('SettingsMobileViewHandler');this.controller=this.getInst('SettingsMobileController');this.setSubscriber('initGame');this.setSubscriber('verticalMode');this.setSubscriber('horizontalMode');this.setSubscriber('showSettingPanel');this.setSubscriber('hideSettingPanel');}},{key:'initGameEvent',value:function initGameEvent(){this.handler.initHandler();this.controller.initController();}},{key:'verticalModeEvent',value:function verticalModeEvent(){this.handler.verticalModeToolbar();}},{key:'horizontalModeEvent',value:function horizontalModeEvent(){this.handler.horizontalModeToolbar();}},{key:'showSettingPanelEvent',value:function showSettingPanelEvent(){this.handler.showSettingPanel();}},{key:'hideSettingPanelEvent',value:function hideSettingPanelEvent(){this.handler.hideSettingPanel();}}]);return SettingsMobileEvent;}(_EventsEs2.default);exports.default=SettingsMobileEvent;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _ViewCanvasHandler2=__webpack_require__(82);var _ViewCanvasHandler3=_interopRequireDefault(_ViewCanvasHandler2);var _config=__webpack_require__(264);var _config2=_interopRequireDefault(_config);var _vertical=__webpack_require__(265);var _vertical2=_interopRequireDefault(_vertical);var _horizontal=__webpack_require__(266);var _horizontal2=_interopRequireDefault(_horizontal);var _toolbarMessages=__webpack_require__(267);var _toolbarMessages2=_interopRequireDefault(_toolbarMessages);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var SettingsMobileViewHandler=function(_ViewCanvasHandler){_inherits(SettingsMobileViewHandler,_ViewCanvasHandler);function SettingsMobileViewHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,SettingsMobileViewHandler);var _this=_possibleConstructorReturn(this,(SettingsMobileViewHandler.__proto__||Object.getPrototypeOf(SettingsMobileViewHandler)).call(this,data));_this.ready=false;_this.message=null;_this.messageContainer=null;$_service_ticker_tape.setQueueMessages(_toolbarMessages2.default);return _this;}
_createClass(SettingsMobileViewHandler,[{key:"initHandler",value:function initHandler(){var _this2=this;if(this.ready){return;}
this.ready=true;this.initLayout(_config2.default);this.initChildren(_config2.default.children);this.messageTweenId=null;this.toolbarFontChange=false;this.toolbarFontSize=16;if(this.isVerticalMode()){this.verticalModeToolbar();}else{this.horizontalModeToolbar();}
window.addEventListener("orientationchange",function(){var ins=_this2.querySelector("topBar");if(ins){ins.visible=false;setTimeout(function(){ins.visible=true;},200);}},true);}},{key:"showMessage",value:function showMessage(data,startPosition){var _this3=this;this.initHandler();if(!data||!data.text){return;}
this.message=this.querySelector("message");this.fastMessageContainer=this.querySelector("fastMessageContainer");this.fastMessage=this.querySelector("fastMessage");this.messageContainer=this.querySelector("messageContainer");startPosition=startPosition||this.messageContainer.width+5;if(this.messageTweenId!==null){this.endTween(this.messageTweenId);this.messageTweenId=null;createjs.Tween.removeTweens(this.message);}
this.message.visible=true;this.message.text=data.text;this.messageContainer.setChildLeft(this.message,startPosition);this.message.uncache();var rec=this.message.getBounds();var toX=-rec.width-5;var time=(rec.width+startPosition)*21;this.message.cache(rec.x,rec.y,rec.width,rec.height);var pt=this.messageContainer.localToGlobal(0,0);rec=new createjs.Rectangle(pt.x,pt.y,this.messageContainer.width,this.messageContainer.height);if(data.static){this._lastMessageStatic=true;this.messageContainer.setChildAlign("center",this.message);this.requestUpdate(rec);}else{this._lastMessageStatic=false;this.messageTweenId=this.startTween(rec);this.messageTween=createjs.Tween.get(this.message,{override:true,ignoreGlobalPause:true,paused:false}).to({x:toX},time).call(function(){$_service_ticker_tape.callback();_this3.endTween(_this3.messageTweenId);_this3.messageTweenId=null;});}}},{key:"updateTweenMessage",value:function updateTweenMessage(){if(!this.message){return;}
if(this.fastMessage.text.length<=0){this.showMessage({text:this.message.text,static:this._lastMessageStatic},this.message.x);}else{this.showFastToolbarMessage(this.fastMessage.text);}}},{key:"showFastToolbarMessage",value:function showFastToolbarMessage(){var _this4=this;var aliasText=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(this.getService("ProtocolService").hasFreeBets()&&this.getService("ProtocolService").getCurrentAction()==="spins"){return;}
this.fastMessage=this.querySelector("fastMessage");var messageContainer=this.querySelector("fastMessageContainer");if(!this.fastMessage){return;}
this.fastMessage.setText("");this.fastMessage.uncache();if(this._fastTimeout!=null){clearTimeout(this._fastTimeout);}
var promiseFinal=[];if(this.messageTweenFastId!==null){this.endTween(this.messageTweenFastId);this.messageTweenFastId=null;createjs.Tween.removeTweens(this.fastMessage);}
var promise=new Promise(function(res,rej){createjs.Tween.get(_this4.messageContainer,{override:true,ignoreGlobalPause:true,loop:false}).to({alpha:0},200).call(function(){if(_this4.messageTweenId!==null){_this4.messageTween.setPaused(true);}
createjs.Tween.get(messageContainer,{override:true,ignoreGlobalPause:true,loop:false}).to({alpha:1},100).call(function(){return res();});});}).then(function(){_this4.fastMessage.setText($_t.getText(aliasText));var rec=_this4.fastMessage.getBounds();_this4.fastMessage.cache(rec.x,rec.y,rec.width,rec.height);messageContainer.visible=true;return _this4.fastMessage.getMeasuredWidth()<=messageContainer.width;}).then(function(isShortMessage){if(isShortMessage===true){messageContainer.setChildAlign("center",_this4.fastMessage);}else{(function(){var pt=messageContainer.localToGlobal(0,0);var rec=new createjs.Rectangle(pt.x,pt.y,messageContainer.width,messageContainer.height);_this4.fastMessage.x=10;var toX=-(_this4.fastMessage.getMeasuredWidth()-messageContainer.width)-10;_this4.messageTweenFastId=_this4.startTween(rec);promiseFinal.push(new Promise(function(res,rej){createjs.Tween.get(_this4.fastMessage,{override:true,ignoreGlobalPause:true,loop:false,paused:false}).wait(500).to({x:toX},500).call(function(){res();});}));})();}}).then(function(){return Promise.all(promiseFinal);}).then(function(){return new Promise(function(res,rej){_this4._fastTimeout=setTimeout(res,2500);});}).then(function(){if(_this4.messageTweenId!==null){_this4.messageTween.setPaused(false);}}).then(function(){return new Promise(function(res){createjs.Tween.get(messageContainer,{override:true,ignoreGlobalPause:true,loop:false,paused:false}).to({alpha:0},500).call(function(){messageContainer.visible=true;_this4.fastMessage.setText("");createjs.Tween.get(_this4.messageContainer,{override:true,ignoreGlobalPause:true,loop:false,paused:false}).to({alpha:1},500).call(function(){return res();});});});});}},{key:"verticalModeToolbar",value:function verticalModeToolbar(){this.applyConfig(_vertical2.default);if(this.message&&this.message.cacheCanvas){this.message.uncache();var rec=this.message.getBounds();if(rec){this.message.cache(rec.x,rec.y,rec.width,rec.height);}}
if(this.fastMessage&&this.fastMessage.cacheCanvas){this.fastMessage.uncache();var _rec=this.fastMessage.getBounds();if(_rec){this.fastMessage.cache(_rec.x,_rec.y,_rec.width,_rec.height);}}
this.updateTweenMessage();}},{key:"horizontalModeToolbar",value:function horizontalModeToolbar(){this.applyConfig(_horizontal2.default);if(this.message&&this.message.cacheCanvas){this.message.uncache();var rec=this.message.getBounds();if(rec){this.message.cache(rec.x,rec.y,rec.width,rec.height);}}
if(this.fastMessage&&this.fastMessage.cacheCanvas){this.fastMessage.uncache();var _rec2=this.fastMessage.getBounds();if(_rec2){this.fastMessage.cache(_rec2.x,_rec2.y,_rec2.width,_rec2.height);}}
this.updateTweenMessage();}},{key:"showStaticToolbarMessage",value:function showStaticToolbarMessage(text){this.showMessage({static:true,text:text});}},{key:"showFreeBetToolbarMessage",value:function showFreeBetToolbarMessage(){var count=arguments.length<=0||arguments[0]===undefined?0:arguments[0];$_service_ticker_tape.staticMessage($_t.getText("Free Bets left: {0}",count));}},{key:"showDynamicToolbarMessage",value:function showDynamicToolbarMessage(){var listMessages=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];this.showMessage({static:false,text:listMessages});}},{key:"showSettingPanel",value:function showSettingPanel(){this.getLayout().visible=false;}},{key:"hideSettingPanel",value:function hideSettingPanel(){this.getLayout().visible=true;}}]);return SettingsMobileViewHandler;}(_ViewCanvasHandler3.default);exports.default=SettingsMobileViewHandler;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var config={layerSizeType:"overLayer",zIndex:10,children:{"topBar":{type:"Container",width:"100%",height:52,backgroundColor:"#000",children:{"messageContainer":{type:"Container",width:607,height:52,align:"center",overflow:"hidden",children:{"message":{type:"Text",font:"16pt Calibri",text:"This is the first message in this toolbar",color:"#FFFFFF",textBaseline:"middle",top:"50%",visible:true}}},"fastMessageContainer":{type:"Container",width:607,height:52,align:"center",overflow:"hidden",children:{"fastMessage":{type:"Text",font:"16pt Calibri",text:"",color:"#FFFFFF",textBaseline:"middle",top:"50%",visible:true}},alpha:0,visible:false}}}}};exports.default=config;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var verticalConfig={"topBar":{top:140,children:{"messageContainer":{width:"95%",align:"center",children:{"message":{font:"38pt Calibri"}}},"fastMessageContainer":{width:"95%",align:"center",children:{"fastMessage":{font:"38pt Calibri"}}}}}};exports.default=verticalConfig;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var horizontalConfig={"topBar":{top:0,children:{"messageContainer":{width:607,align:"center",children:{"message":{font:"16pt Calibri"}}},"fastMessageContainer":{width:607,align:"center",children:{"fastMessage":{font:"16pt Calibri"}}}}}};exports.default=horizontalConfig;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var toolbarMessages={"mainQueueDemo":["INFO_DEMO_1","INFO_SPINS_1","INFO_DEMO_2","INFO_SPINS_2","INFO_DEMO_1","INFO_SPINS_3","INFO_DEMO_2","INFO_SPINS_4","INFO_DEMO_1","INFO_SPINS_5","INFO_DEMO_2","INFO_SPINS_6","INFO_DEMO_1","INFO_SPINS_7","INFO_DEMO_2","INFO_SPINS_8"],"spinQueueDemo":["INFO_DEMO_1","INFO_SPINS_1","INFO_DEMO_2","INFO_SPINS_2","INFO_DEMO_1","INFO_SPINS_3","INFO_DEMO_2","INFO_SPINS_4","INFO_DEMO_1","INFO_SPINS_5","INFO_DEMO_2","INFO_SPINS_6","INFO_DEMO_1","INFO_SPINS_7","INFO_DEMO_2","INFO_SPINS_8"],"freeSpinQueueDemo":["INFO_DEMO_1","INFO_FS_1","INFO_DEMO_2"],"bonusQueueDemo":["INFO_DEMO_1","INFO_BONUS_1","INFO_DEMO_2"],"mainQueueNormal":["INFO_SPINS_1","INFO_SPINS_2","INFO_SPINS_3","INFO_SPINS_4","INFO_SPINS_5","INFO_SPINS_6","INFO_SPINS_7","INFO_SPINS_8"],"spinQueueNormal":["INFO_SPINS_1","INFO_SPINS_2","INFO_SPINS_3","INFO_SPINS_4","INFO_SPINS_5","INFO_SPINS_6","INFO_SPINS_7","INFO_SPINS_8"],"freeSpinQueueNormal":["INFO_FS_1"],"bonusQueueNormal":["INFO_BONUS_1"]};exports.default=toolbarMessages;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _WinCommonEvent2=__webpack_require__(140);var _WinCommonEvent3=_interopRequireDefault(_WinCommonEvent2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var WinMobileEvent=function(_WinCommonEvent){_inherits(WinMobileEvent,_WinCommonEvent);function WinMobileEvent(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,WinMobileEvent);var _this=_possibleConstructorReturn(this,(WinMobileEvent.__proto__||Object.getPrototypeOf(WinMobileEvent)).call(this,data));_this.init(data);return _this;}
_createClass(WinMobileEvent,[{key:"run",value:function run(){this.handler=this.getInst("WinMobileViewHandler");this.setSubscriber('initGame');this.setSubscriber('spinAction');}}]);return WinMobileEvent;}(_WinCommonEvent3.default);exports.default=WinMobileEvent;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};var _winCommonViewHandler2=__webpack_require__(141);var _winCommonViewHandler3=_interopRequireDefault(_winCommonViewHandler2);var _config=__webpack_require__(270);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var _interval=null;var winMobileViewHandler=function(_winCommonViewHandler){_inherits(winMobileViewHandler,_winCommonViewHandler);function winMobileViewHandler(){_classCallCheck(this,winMobileViewHandler);return _possibleConstructorReturn(this,(winMobileViewHandler.__proto__||Object.getPrototypeOf(winMobileViewHandler)).apply(this,arguments));}
_createClass(winMobileViewHandler,[{key:"initHandler",value:function initHandler(){var _this2=this;_get(winMobileViewHandler.prototype.__proto__||Object.getPrototypeOf(winMobileViewHandler.prototype),"initHandler",this).call(this);this.initChildrenContainer(this.getLayout(),_config2.default.children);this.type=undefined;this.texts={};_config2.default.available_types.forEach(function(item,i,arr){if(arr.length-1>=i){var container=new Container();var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=_config2.default.types_map[i][Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var curTexture=_step.value;var text=new Bitmap(curTexture,_this2.alias);if(container.children.length>0){var totalWidth=0;var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=container.children[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var child=_step2.value;totalWidth+=child.width;}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}
text.x=totalWidth;}
container.addChild(text);}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}
container.x=_this2.getLayout().width/2;container.y=_this2.getLayout().height/2;container.regX=container.width/2;container.regY=container.height/2;_this2.texts[item]=container;container['playTime']=2000;}});this.nextTextureIdx=undefined;this.currentCont=this.texts['Big'];for(var cont in this.texts){this.getLayout().addChild(this.texts[cont]);this.texts[cont].visible=false;}}},{key:"_nextAction",value:function _nextAction(){if(this.nextTextureIdx){if(_config2.default.available_types.indexOf(this.type)==this.nextTextureIdx){this.setEndAnimation();}
if(_config2.default.available_types.indexOf(this.type)>this.nextTextureIdx){this.setTransitionAnimation();}}else{this.setEndAnimation();}}},{key:"setTransitionAnimation",value:function setTransitionAnimation(){this.currentCont.visible=false;this.currentCont=this.texts[_config2.default.available_types[this.nextTextureIdx]];this.currentCont.visible=true;this.nextTextureIdx++;createjs.Tween.get(this.currentCont).to({scaleX:.4,scaleY:.4},0).to({scaleX:1.15,scaleY:1.15},100).to({scaleX:.9,scaleY:.9},160).to({scaleX:1,scaleY:1},400).to({scaleX:1.15,scaleY:1.15},100).to({scaleX:.4,scaleY:.4},100).call(this._nextAction.bind(this));}},{key:"setEndAnimation",value:function setEndAnimation(){this.currentCont.visible=false;this.currentCont=this.texts[this.type];this.currentCont.visible=true;createjs.Tween.get(this.currentCont).to({scaleX:.4,scaleY:.4},0).to({scaleX:1.15,scaleY:1.15},100).to({scaleX:.9,scaleY:.9},160).to({scaleX:1,scaleY:1},400).to({scaleX:1.15,scaleY:1.15},1000);}},{key:"showBigWin",value:function showBigWin(){var _this3=this;var resolveMain=arguments.length<=0||arguments[0]===undefined?null:arguments[0];var type=arguments.length<=1||arguments[1]===undefined?false:arguments[1];if(!this.ready){return;}
for(var cont in this.texts){this.texts[cont].scaleX=1;this.texts[cont].scaleY=1;this.texts[cont].visible=false;}
HelperFlags.set("noSpin",null);if(this._bwEmitter){this._bwEmitter.emitter.stopEmit();this.getLayout().removeChild(this._bwEmitter);delete this._bwEmitter;}
this.getLayout().getChildByName("black").alpha=0;this.getLayout().alpha=1;this.currentCont=this.texts['Big'];if(_config2.default.available_types.indexOf(type)>0){this.nextTextureIdx=1;}
this.timeToFinish=(_config2.default.available_types.indexOf(type)+1)*2000;this.type=type;this.getLayout().visible=true;this.activeBigWin=true;this.currentCont.visible=true;createjs.Tween.get(this.getLayout().getChildByName('black')).to({alpha:.75},300);createjs.Tween.get(this.currentCont).to({scaleX:.4,scaleY:.4},0).to({scaleX:1.15,scaleY:1.15},100).to({scaleX:.9,scaleY:.9},160).to({scaleX:1,scaleY:1},400).to({scaleX:1.15,scaleY:1.15},100).to({scaleX:.4,scaleY:.4},100).call(this._nextAction.bind(this));this.bigWinPromise=new Promise(function(resolve,reject){HelperFlags.set("noSpin",true);_this3._bwEmitter=new ProtonEmitter({left:_this3.getLayout().width/2,top:720+100,target:new Sprite({spriteSheet:_config2.default.coinSpriteSheet},_this3.alias),emitterConfig:_config2.default.bigWinEmitter},_this3.alias);_this3.getLayout().addChildAt(_this3._bwEmitter,1);_this3._bwEmitter.emitter.emit();setTimeout(function(){resolve();},_this3.currentCont.playTime);}).then(function(){HelperFlags.set("noSpin",null);if(_this3._bwEmitter){_this3._bwEmitter.emitter.stopEmit();setTimeout(function(){createjs.Tween.get(_this3.getLayout()).to({alpha:0},300);delete _this3._bwEmitter;},_this3.timeToFinish);}
resolveMain();});}},{key:"hideBigWin",value:function hideBigWin(){_get(winMobileViewHandler.prototype.__proto__||Object.getPrototypeOf(winMobileViewHandler.prototype),"hideBigWin",this).call(this);for(var cont in this.texts){this.texts[cont].visible=false;}
this.getLayout().visible=false;HelperFlags.set("noSpin",null);}},{key:"stopBigWinAnimation",value:function stopBigWinAnimation(){var _this4=this;_get(winMobileViewHandler.prototype.__proto__||Object.getPrototypeOf(winMobileViewHandler.prototype),"stopBigWinAnimation",this).call(this);if(_interval!==null){clearTimeout(_interval);}
this.getService("SoundService").stop("audio_big_win");setTimeout(function(){_this4.getService("SoundService").stop("audio_big_win");},100);}}]);return winMobileViewHandler;}(_winCommonViewHandler3.default);exports.default=winMobileViewHandler;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _coinSpriteSheetConfig=__webpack_require__(271);var _coinSpriteSheetConfig2=_interopRequireDefault(_coinSpriteSheetConfig);var _bigWinEmitterConfig=__webpack_require__(272);var _bigWinEmitterConfig2=_interopRequireDefault(_bigWinEmitterConfig);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var config={coinSpriteSheet:_coinSpriteSheetConfig2.default,bigWinEmitter:_bigWinEmitterConfig2.default,children:{black:{type:"Container",width:"100%",height:"100%",backgroundColor:"#000000",alpha:0}},types_map:[['big_','_win'],['mega_','_win'],['super_','_win'],['super_','mega_','_win']],available_types:['Big','Mega','Super','SuperMega']};exports.default=config;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var coinSpriteSheet={"images":["big_win_sprite"],"frames":[[1,1,74,74,0,-3,-3],[77,1,76,74,0,-2,-3],[155,1,74,75,0,-3,-3],[231,1,74,75,0,-3,-3],[1,77,72,76,0,-4,-2],[75,77,68,76,0,-6,-2],[145,78,64,76,0,-8,-2],[211,78,58,76,0,-11,-2],[271,78,34,76,0,-23,-2],[1,155,50,76,0,-15,-2],[53,155,42,76,0,-19,-2],[97,155,26,76,0,-27,-2],[125,156,26,76,0,-27,-2],[153,156,34,76,0,-23,-2],[189,156,42,76,0,-19,-2],[233,156,50,76,0,-15,-2],[1,233,58,76,0,-11,-2],[61,234,64,76,0,-8,-2],[127,234,68,76,0,-6,-2],[197,234,72,76,0,-4,-2]],"animations":{"BW_coin":{"frames":[0,1,2,4,5,6,7,9,10,8,11,12,13,14,15,16,17,18,19,3]}}};exports.default=coinSpriteSheet;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var emitterConfig={"initializes":{"Mass":{"massPan":{"isArray":false,"a":1,"b":1,"center":false}},"ImageTarget":{"w":20,"h":20},"Life":{"lifePan":{"isArray":false,"a":20,"b":20,"center":false}},"Velocity":{"rPan":{"isArray":false,"a":4.397463002114165,"b":10,"center":false},"thaPan":{"isArray":false,"a":20,"b":-20,"center":false},"type":"polar"}},"behaviours":{"Alpha":{"id":"Behaviour_1","age":4346791.622329093,"energy":0.99915,"dead":false,"same":false,"a":{"isArray":false,"a":1,"b":1,"center":false},"b":{"isArray":false,"a":1,"b":1,"center":false}},"Attraction":{"energy":0.99915,"dead":false,"targetPosition":{"x":0,"y":0},"radius":200,"force":100,"radiusSq":40000,"attractionForce":{"x":-640,"y":-845},"lengthSq":1123625},"Gravity":{"force":{"x":0,"y":400}},"RandomDrift":{"id":"Behaviour_3","age":4346791.622329093,"energy":0.99915,"dead":false,"panFoce":{"x":0,"y":100},"delay":0,"time":0},"Rotate":{"a":{"isArray":false,"a":-3,"b":3,"center":false},"b":{"isArray":false,"a":-3,"b":3,"center":false}},"Scale":{"a":{"isArray":false,"a":0.6000000000000001,"b":1.2000000000000002,"center":false},"b":{"isArray":false,"a":0.5,"b":1,"center":false}}},"rate":{"Rate":{"numPan":{"isArray":false,"a":0,"b":1,"center":false},"timePan":{"isArray":false,"a":0,"b":0,"center":false}}}};exports.default=emitterConfig;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _PopupViewHandlerEs=__webpack_require__(88);var _PopupViewHandlerEs2=_interopRequireDefault(_PopupViewHandlerEs);var _config=__webpack_require__(274);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var MobilePopupViewHandler=function(_PopupViewHandler){_inherits(MobilePopupViewHandler,_PopupViewHandler);function MobilePopupViewHandler(){var data=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,MobilePopupViewHandler);return _possibleConstructorReturn(this,(MobilePopupViewHandler.__proto__||Object.getPrototypeOf(MobilePopupViewHandler)).call(this,data,_config2.default));}
_createClass(MobilePopupViewHandler,[{key:"showSystemInfoPopup",value:function showSystemInfoPopup(data){this.initHandler();var message=this.querySelector("infoPopup.messageContainer.message");if(data.message.text===undefined){message.setText(data.message);}else{message.setText(data.message.text);}
this.querySelector("infoPopup.messageContainer").setChildVerticalAlign("middle",message);this.controller.nextSystemState=[];this.controller._lastSystemErrorsName=data.name;if(data.state){this.controller.nextSystemState.push(data.state);}
if(data.states){var _controller$nextSyste;(_controller$nextSyste=this.controller.nextSystemState).push.apply(_controller$nextSyste,_toConsumableArray(data.states));}
this.enableModalMode();this.getStage().requestUpdate();}},{key:"showSystemErrorPopup",value:function showSystemErrorPopup(data){this.initHandler();var message=this.querySelector("systemPopup.messageContainer.message");if(data.message.text===undefined){message.setText(data.message);}else{message.setText(data.message.text);}
this.querySelector("systemPopup.messageContainer").setChildVerticalAlign("middle",message);message.setText(data.message.text);this.enableModalMode();this.getStage().requestUpdate();}},{key:"hideSystemPopup",value:function hideSystemPopup(){var data=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(!this.ready){return;}
this.blurBackground.removeEventListener("click",this.systemAction);}},{key:"hideAllSystemPopups",value:function hideAllSystemPopups(){return;if(!this.ready){return;}
if(this.systemPopup){}
if(this.blackBackground){}
if(this.blurBackground){this.blurBackground.removeEventListener("click",this.systemAction);}
this.unblur();this.disableModalMode();this.getStage().requestUpdate();}},{key:"generateBlurBg",value:function generateBlurBg(){if(this.blur){this.getLayout().removeChild(this.blur);}
var blurFilter=new createjs.BlurFilter(8,8,3);this.getGameContainer().filters=[blurFilter];var preloaderLayout=this.getLayout("preloader");if(preloaderLayout){preloaderLayout.visible=false;}
var settingsLayout=this.getLayout("settings"),messageContainer=void 0,fastMessageContainer=void 0;if(settingsLayout){messageContainer=settingsLayout.getChildByName("topBar").getChildByName("messageContainer");if(messageContainer){messageContainer.visible=false;}
fastMessageContainer=settingsLayout.getChildByName("topBar").getChildByName("fastMessageContainer");if(fastMessageContainer){fastMessageContainer.visible=false;}}
this.getLayout("control").filters=[blurFilter];this.getStage().filters=[blurFilter];this.getStage().cache(0,0,this.getCanvas().width,this.getCanvas().height);var blur=new Bitmap(this.getStage().cacheCanvas,this.alias);blur.name="blur";var rect=blur.getBounds();blur.x=-(rect.width-this.getCanvas().width)/2;blur.y=-(rect.height-this.getCanvas().height)/2;this.getLayout().addChildAt(blur,0);if(messageContainer){messageContainer.visible=true;}
if(fastMessageContainer){fastMessageContainer.visible=true;}
this.getLayout("control").filters=[];this.getStage().filters=[];this.getStage().uncache();return this.blur=blur;}},{key:"showHomeButton",value:function showHomeButton(){var _this2=this;if(!this.homeBtn){this.homeBtn=new Container();this.homeBtn.top=60;this.homeBtn.left=20;this.getLayout().addChild(this.homeBtn);var icon=new Button({spriteSheet:{images:["home_btn"],frames:{width:88,height:88},animations:{normal:[0]}}},this.alias);this.homeBtn.addChild(icon);icon.gotoAndStop("normal");icon.visible=true;this.homeBtn.addEventListener("click",function(){_this2.getService("SoundService").play("audio_options");var url=_this2.getService("GameSettingsService").getExitUrl();if(url){try{window.parent.location=url;}catch(e){window.location=url;}}});}
this.homeBtn.visible=true;}},{key:"hideHomeButton",value:function hideHomeButton(){if(this.homeBtn){this.homeBtn.visible=false;}}}]);return MobilePopupViewHandler;}(_PopupViewHandlerEs2.default);exports.default=MobilePopupViewHandler;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _gamePopup=__webpack_require__(275);var _gamePopup2=_interopRequireDefault(_gamePopup);var _systemPopup=__webpack_require__(276);var _systemPopup2=_interopRequireDefault(_systemPopup);var _infoPopup=__webpack_require__(277);var _infoPopup2=_interopRequireDefault(_infoPopup);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var config={layerSizeType:"overLayer",zIndex:15,children:{gameBlockPopup:{type:"Container",width:1280,height:720,top:0,left:0},backgroundContainer:{type:"Container",width:1280,height:720,top:0,left:0},systemPopup:_systemPopup2.default,infoPopup:_infoPopup2.default,gamePopup:_gamePopup2.default}};exports.default=config;},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _numbersSpriteSheet=__webpack_require__(103);var _numbersSpriteSheet2=_interopRequireDefault(_numbersSpriteSheet);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var crunchOffset=/Chrome/.test(navigator.userAgent)&&/Win/.test(navigator.platform)?-3:0;var defaultFont={type:"Text",font:"bold 34px Arial",color:"#fbffb8",left:"50%",textAlign:"center",lineHeight:40,lineWidth:400,stroke:{color:"#2c4f5f",outline:4,alpha:0.75,offsetY:3}};var message_free_spins_start={type:"Container",width:"100%",height:"100%",children:{message_1:Object.assign({},defaultFont,{text:"free_spins_start_congratulations",font:"bold 24px Arial",textAlign:"left",left:"50%",top:92}),message_2:Object.assign({},defaultFont,{text:"free_spins_start_you_won",top:155,left:158,textAlign:"left",font:"bold 18px Arial"}),message_3:Object.assign({},defaultFont,{text:"free_spins_start_free_spins",top:155,left:321,textAlign:"left",font:"bold 18px Arial"}),winValue:{type:"BitmapText",text:"15",left:"50%",scaleX:0.4,scaleY:0.4,top:143,alias:"bonus",spriteSheet:_numbersSpriteSheet2.default}}};var message_free_spins_end={type:"Container",width:"100%",height:"100%",children:{message_1:Object.assign({},defaultFont,{text:"Congratulations!",font:"bold 24px Arial",textAlign:"left",left:"50%",top:70}),message_2:Object.assign({},defaultFont,{text:"free_spins_end_you_won",top:184,left:"50%",textAlign:"left",font:"bold 18px Arial"}),winValue:{type:"BitmapText",text:"15",left:"50%",scaleX:0.4,scaleY:0.4,top:125,alias:"bonus",spriteSheet:_numbersSpriteSheet2.default}}};var message_free_spins_end_zero={type:"Container",width:"100%",height:"100%",children:{message_1:Object.assign({},defaultFont,{text:"Better luck next time!",font:"bold 18px Arial",textAlign:"left",left:"50%",top:"50%"})}};var message_free_spins_add={type:"Container",width:"100%",height:"100%",children:{message_1:Object.assign({},defaultFont,{text:"Congratulations!",font:"bold 24px Arial",textAlign:"left",left:"50%",top:66}),message_2:Object.assign({},defaultFont,{text:"free_spin_add_you_won",top:112,left:"50%",textAlign:"left",font:"bold 18px Arial"}),message_3:Object.assign({},defaultFont,{text:"additional Free Spins!",top:157,left:"50%",textAlign:"center",font:"bold 18px Arial"}),winValue:{type:"BitmapText",text:"15",left:"50%",top:"50%",scaleX:0.4,scaleY:0.4,alias:"bonus",spriteSheet:_numbersSpriteSheet2.default}}};var message_bonus_start={type:"Container",width:"100%",height:"100%",children:{message_1:Object.assign({},defaultFont,{text:"Congratulations!",font:"bold 24px Arial",textAlign:"left",left:"50%",top:80}),message_2:Object.assign({},defaultFont,{text:"You won Bonus game!",left:"50%",top:"54%",textAlign:"left",font:"bold 18px Arial"})}};var message_auto_game_end={type:"Container",width:"100%",height:"100%",children:{message_1:{type:"Container",left:"50%",top:106,width:160,height:30,children:{message:Object.assign({},defaultFont,{text:"Spins made:",font:"bold 18px Arial",textAlign:"left",left:0,top:0}),winValue:{type:"BitmapText",text:"15",left:182,scaleX:0.4,scaleY:0.4,top:-4,alias:"bonus",spriteSheet:_numbersSpriteSheet2.default}}},message_2:Object.assign({},defaultFont,{text:"Resume autoplay?",top:158,left:"50%",textAlign:"left",font:"bold 18px Arial"})}};var gamePopup={type:"Container",align:"center",width:503,height:308,children:{background:{type:"Bitmap",src:"popup_back",zIndex:0},messageAliasContainer:{type:"Container",width:"100%",height:"100%",zIndex:10,children:{message_free_spins_start:message_free_spins_start,message_free_spins_end:message_free_spins_end,message_free_spins_end_zero:message_free_spins_end_zero,message_free_spins_add:message_free_spins_add,message_bonus_start:message_bonus_start,message_auto_game_end:message_auto_game_end}},messageContainer:{type:"Container",width:"100%",height:"100%",zIndex:10,children:{message:{type:"Text",text:"The game is currently not available.\nTry again later.",font:"bold 34px Arial",color:"#fbffb8",left:"50%",lineHeight:40,lineWidth:400,stroke:{color:"#2c4f5f",outline:4,alpha:0.75},textAlign:"center",verticalAlign:"middle"}}},okButton:{type:"Container",left:"50%",width:110,height:37,regX:"50%",regY:"50%",bottom:3,zIndex:10,children:{button:{type:"Button","width":110,"height":37,"spriteSheet":{"images":["popup_ok_button"],"frames":{"width":48,"height":25},"animations":{"normal":[2],"hover":[3],"clicked":[0],"disabled":[1]}}},buttonText:{type:"Text",text:"OK",font:"bold 14pt Calibri","color":"#55702B","left":"50%","textAlign":"center","textBaseline":"middle",top:22+crunchOffset,mouseEnabled:false}}}},visible:false};exports.default=gamePopup;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var systemPopup={type:"Container",align:"center",children:{background:{type:"Bitmap",src:"UI_MG_popup_system",align:"center",zIndex:0},messageContainer:{type:"Container",top:0,left:0,width:"100%",height:"100%",children:{message:{type:"Text",text:"The game is currently not available.\nTry again later.",color:"#996600","font":"bold 24pt Calibri",left:"50%",lineHeight:32,lineWidth:500,textAlign:"center",verticalAlign:"middle"},okButton:{type:"Container"}}}},visible:false};exports.default=systemPopup;},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var infoPopup={type:"Container",align:"center",children:{background:{type:"Bitmap",src:"UI_MG_popup_system",align:"center",zIndex:0},messageContainer:{type:"Container",top:0,left:0,width:"100%",height:"100%",children:{message:{type:"Text",text:"The game is currently not available.\nTry again later.",color:"#f8a116","font":"bold 24pt Calibri",left:"50%",lineHeight:32,lineWidth:500,textAlign:"center",verticalAlign:"middle"},okButton:{type:"Container"}}}},visible:false};exports.default=infoPopup;}]);var $_event=new EventHandleListener();var $_event_blocked=new EventBlockedListener();var $_component_instances=new ComponentInstanceCache();var $_log=new LogApplication();var $_t=new Translations();var $_services=new ServiceFabric();var $_service_ticker_tape=new TickerTapeService({instanceName:"$_service_ticker_tape"});var HelperFlags=new FlagsService({instanceName:"HelperFlags"});var $_signal_history=new HistoryRouter();var $_signal_init=new SignalInitialization();var $_signal=new SignalRouter({_getRouter:$_signal_init.getRouter});var $_required=new Required();var $_required_controller=new ControllerRequired({countStreams:5});var $_shifter=new HHSShifter({titleGame:"Nifertiti",template:new HHSShifterTemplates(),trace:new HHSShifterTraceLog(),traceDOM:new HHSShifterDOMTraceLog(),getCheats:"http://betlabel-sharks.dev.booongo.com/play/?name={0}",addCheats:"http://betlabel-sharks.dev.booongo.com/cheat/add/"});var $_view_canvas=new ViewMainCanvas({canvasID:"wrapper",titleGame:"Nifertiti",translate:window["$_t"],frameSize:{"mobile":{"canvas":{"maxWidth":1280,"maxHeight":720},"gameContainer":{"width":960,"height":540}},"tablet":{"canvas":{"maxWidth":1280,"maxHeight":720},"gameContainer":{"width":960,"height":540}},"desktop":{"canvas":{"maxWidth":1280,"maxHeight":720},"gameContainer":{"width":960,"height":720}}}});var $_background_desktop_e_backgroundevent=new BackgroundEvent({instanceName:"$_background_desktop_e_backgroundevent",alias:"background",getBackgroundEvent:function(){return window['$_background_desktop_e_backgroundevent'];},getBackgroundHandler:function(){return window['$_background_common_h_background'];},typePart:"desktop"});var $_background_mobile_e_backgroundevent=new BackgroundEvent({instanceName:"$_background_mobile_e_backgroundevent",alias:"background",getBackgroundEvent:function(){return window['$_background_mobile_e_backgroundevent'];},getBackgroundHandler:function(){return window['$_background_common_h_background'];},getBackgroundMobileHandler:function(){return window['$_background_mobile_h_backgroundmobile'];},typePart:"mobile"});var $_background_common_h_background=new BackgroundHandler({alias:"background",instanceName:"$_background_common_h_background",getBackgroundEvent:function(){return window['$_background_common_e_backgroundevent'];},getBackgroundHandler:function(){return window['$_background_common_h_background'];},typePart:"common"});var $_popup_common_c_popup=new PopupController({instanceName:"$_popup_common_c_popup",alias:"popup",getPopupController:function(){return window['$_popup_common_c_popup'];},getPopupInitEvent:function(){return window['$_popup_common_e_popupinitevent'];},getPopupViewHandler:function(){return window['$_popup_common_h_popupview'];},typePart:"common"});var $_popup_desktop_e_popupinitevent=new PopupInitEvent({instanceName:"$_popup_desktop_e_popupinitevent",alias:"popup",getPopupController:function(){return window['$_popup_common_c_popup'];},getPopupInitEvent:function(){return window['$_popup_desktop_e_popupinitevent'];},getPopupViewHandler:function(){return window['$_popup_desktop_h_desktoppopupview'];},getDesktopPopupViewHandler:function(){return window['$_popup_desktop_h_desktoppopupview'];},typePart:"desktop"});var $_popup_mobile_e_popupinitevent=new PopupInitEvent({instanceName:"$_popup_mobile_e_popupinitevent",alias:"popup",getPopupController:function(){return window['$_popup_common_c_popup'];},getPopupInitEvent:function(){return window['$_popup_mobile_e_popupinitevent'];},getPopupViewHandler:function(){return window['$_popup_mobile_h_mobilepopupview'];},getMobilePopupViewHandler:function(){return window['$_popup_mobile_h_mobilepopupview'];},typePart:"mobile"});var $_popup_common_h_popupview=new PopupViewHandler({alias:"popup",instanceName:"$_popup_common_h_popupview",getPopupController:function(){return window['$_popup_common_c_popup'];},getPopupInitEvent:function(){return window['$_popup_common_e_popupinitevent'];},getPopupViewHandler:function(){return window['$_popup_common_h_popupview'];},typePart:"common"});var $_protocol_common_c_protocollucky=new ProtocolLuckyController({instanceName:"$_protocol_common_c_protocollucky",alias:"protocol",getProtocolLuckyController:function(){return window['$_protocol_common_c_protocollucky'];},getProtocolLuckyEvent:function(){return window['$_protocol_common_e_protocolluckyevent'];},typePart:"common"});var $_protocol_common_e_protocolluckyevent=new ProtocolLuckyEvent({instanceName:"$_protocol_common_e_protocolluckyevent",alias:"protocol",getProtocolLuckyController:function(){return window['$_protocol_common_c_protocollucky'];},getProtocolLuckyEvent:function(){return window['$_protocol_common_e_protocolluckyevent'];},typePart:"common"});var $_bonus_common_c_bonusgame=new BonusGameController({instanceName:"$_bonus_common_c_bonusgame",alias:"bonus",getBonusGameController:function(){return window['$_bonus_common_c_bonusgame'];},getBonusGameEvent:function(){return window['$_bonus_common_e_bonusgameevent'];},getBonusGameViewHandler:function(){return window['$_bonus_common_h_bonusgameview'];},typePart:"common"});var $_bonus_desktop_e_bonusgameevent=new BonusGameEvent({instanceName:"$_bonus_desktop_e_bonusgameevent",alias:"bonus",getBonusGameController:function(){return window['$_bonus_common_c_bonusgame'];},getBonusGameEvent:function(){return window['$_bonus_desktop_e_bonusgameevent'];},getBonusGameViewHandler:function(){return window['$_bonus_desktop_h_desktopbonusgameview'];},getDesktopBonusGameViewHandler:function(){return window['$_bonus_desktop_h_desktopbonusgameview'];},typePart:"desktop"});var $_bonus_mobile_e_bonusgameevent=new BonusGameEvent({instanceName:"$_bonus_mobile_e_bonusgameevent",alias:"bonus",getBonusGameController:function(){return window['$_bonus_common_c_bonusgame'];},getBonusGameEvent:function(){return window['$_bonus_mobile_e_bonusgameevent'];},getBonusGameViewHandler:function(){return window['$_bonus_mobile_h_mobilebonusgameview'];},getMobileBonusGameViewHandler:function(){return window['$_bonus_mobile_h_mobilebonusgameview'];},typePart:"mobile"});var $_bonus_common_h_bonusgameview=new BonusGameViewHandler({alias:"bonus",instanceName:"$_bonus_common_h_bonusgameview",getBonusGameController:function(){return window['$_bonus_common_c_bonusgame'];},getBonusGameEvent:function(){return window['$_bonus_common_e_bonusgameevent'];},getBonusGameViewHandler:function(){return window['$_bonus_common_h_bonusgameview'];},typePart:"common"});var $_freespins_common_c_freespins=new FreespinsController({instanceName:"$_freespins_common_c_freespins",alias:"freespins",getFreespinsController:function(){return window['$_freespins_common_c_freespins'];},getFreespinsEvent:function(){return window['$_freespins_common_e_freespinsevent'];},getFreespinsViewHandler:function(){return window['$_freespins_common_h_freespinsview'];},typePart:"common"});var $_freespins_mobile_e_freespinsevent=new FreespinsEvent({instanceName:"$_freespins_mobile_e_freespinsevent",alias:"freespins",getFreespinsController:function(){return window['$_freespins_common_c_freespins'];},getFreespinsEvent:function(){return window['$_freespins_mobile_e_freespinsevent'];},getFreespinsViewHandler:function(){return window['$_freespins_common_h_freespinsview'];},getFreespinsMobileViewHandler:function(){return window['$_freespins_mobile_h_freespinsmobileview'];},typePart:"mobile"});var $_freespins_common_h_freespinsview=new FreespinsViewHandler({alias:"freespins",instanceName:"$_freespins_common_h_freespinsview",getFreespinsController:function(){return window['$_freespins_common_c_freespins'];},getFreespinsEvent:function(){return window['$_freespins_common_e_freespinsevent'];},getFreespinsViewHandler:function(){return window['$_freespins_common_h_freespinsview'];},typePart:"common"});var $_win_common_c_win=new WinController({instanceName:"$_win_common_c_win",alias:"win",getWinController:function(){return window['$_win_common_c_win'];},getWinCommonEvent:function(){return window['$_win_common_e_wincommonevent'];},getWinCommonViewHandler:function(){return window['$_win_common_h_wincommonview'];},typePart:"common"});var $_win_common_e_wincommonevent=new WinCommonEvent({instanceName:"$_win_common_e_wincommonevent",alias:"win",getWinController:function(){return window['$_win_common_c_win'];},getWinCommonEvent:function(){return window['$_win_common_e_wincommonevent'];},getWinCommonViewHandler:function(){return window['$_win_common_h_wincommonview'];},typePart:"common"});var $_win_common_h_wincommonview=new WinCommonViewHandler({alias:"win",instanceName:"$_win_common_h_wincommonview",getWinController:function(){return window['$_win_common_c_win'];},getWinCommonEvent:function(){return window['$_win_common_e_wincommonevent'];},getWinCommonViewHandler:function(){return window['$_win_common_h_wincommonview'];},typePart:"common"});var $_audio_common_c_audio=new AudioController({instanceName:"$_audio_common_c_audio",alias:"audio",getAudioController:function(){return window['$_audio_common_c_audio'];},getAudioEvents:function(){return window['$_audio_common_e_audio'];},typePart:"common"});var $_audio_common_e_audio=new AudioEvents({instanceName:"$_audio_common_e_audio",alias:"audio",getAudioController:function(){return window['$_audio_common_c_audio'];},getAudioEvents:function(){return window['$_audio_common_e_audio'];},typePart:"common"});var $_control_common_c_controlcommon=new ControlCommonController({instanceName:"$_control_common_c_controlcommon",alias:"control",getControlCommonController:function(){return window['$_control_common_c_controlcommon'];},typePart:"common"});var $_preloader_common_c_preloader=new PreloaderController({instanceName:"$_preloader_common_c_preloader",alias:"preloader",getPreloaderController:function(){return window['$_preloader_common_c_preloader'];},getPreloaderInitEvent:function(){return window['$_preloader_common_e_preloaderinitevent'];},getPreloaderCommonViewHandler:function(){return window['$_preloader_common_h_preloadercommonview'];},typePart:"common"});var $_preloader_desktop_e_preloaderinitevent=new PreloaderInitEvent({instanceName:"$_preloader_desktop_e_preloaderinitevent",alias:"preloader",getPreloaderController:function(){return window['$_preloader_common_c_preloader'];},getPreloaderInitEvent:function(){return window['$_preloader_desktop_e_preloaderinitevent'];},getPreloaderCommonViewHandler:function(){return window['$_preloader_common_h_preloadercommonview'];},getPreloaderDesktopViewHandler:function(){return window['$_preloader_desktop_h_preloaderdesktopview'];},typePart:"desktop"});var $_preloader_mobile_e_preloaderinitevent=new PreloaderInitEvent({instanceName:"$_preloader_mobile_e_preloaderinitevent",alias:"preloader",getPreloaderController:function(){return window['$_preloader_common_c_preloader'];},getPreloaderInitEvent:function(){return window['$_preloader_mobile_e_preloaderinitevent'];},getPreloaderCommonViewHandler:function(){return window['$_preloader_common_h_preloadercommonview'];},typePart:"mobile"});var $_preloader_common_h_preloadercommonview=new PreloaderCommonViewHandler({alias:"preloader",instanceName:"$_preloader_common_h_preloadercommonview",getPreloaderController:function(){return window['$_preloader_common_c_preloader'];},getPreloaderInitEvent:function(){return window['$_preloader_common_e_preloaderinitevent'];},getPreloaderCommonViewHandler:function(){return window['$_preloader_common_h_preloadercommonview'];},typePart:"common"});var $_reels_desktop_e_initreels=new InitReels({instanceName:"$_reels_desktop_e_initreels",alias:"reels",getInitReels:function(){return window['$_reels_desktop_e_initreels'];},getReelHandler:function(){return window['$_reels_desktop_h_desktopreel'];},getDesktopReelHandler:function(){return window['$_reels_desktop_h_desktopreel'];},typePart:"desktop"});var $_reels_mobile_e_initreels=new InitReels({instanceName:"$_reels_mobile_e_initreels",alias:"reels",getInitReels:function(){return window['$_reels_mobile_e_initreels'];},getReelHandler:function(){return window['$_reels_mobile_h_mobilereel'];},getMobileReelHandler:function(){return window['$_reels_mobile_h_mobilereel'];},typePart:"mobile"});var $_reels_common_h_reel=new ReelHandler({alias:"reels",instanceName:"$_reels_common_h_reel",getInitReels:function(){return window['$_reels_common_e_initreels'];},getReelHandler:function(){return window['$_reels_common_h_reel'];},typePart:"common"});var $_lines_desktop_e_linesevent=new LinesEvent({instanceName:"$_lines_desktop_e_linesevent",alias:"lines",getLinesEvent:function(){return window['$_lines_desktop_e_linesevent'];},getLinesViewHandler:function(){return window['$_lines_desktop_h_desktoplinesview'];},getDesktopLinesViewHandler:function(){return window['$_lines_desktop_h_desktoplinesview'];},typePart:"desktop"});var $_lines_mobile_e_linesevent=new LinesEvent({instanceName:"$_lines_mobile_e_linesevent",alias:"lines",getLinesEvent:function(){return window['$_lines_mobile_e_linesevent'];},getLinesViewHandler:function(){return window['$_lines_mobile_h_mobilelinesview'];},getMobileLinesViewHandler:function(){return window['$_lines_mobile_h_mobilelinesview'];},typePart:"mobile"});var $_lines_common_h_linesview=new LinesViewHandler({alias:"lines",instanceName:"$_lines_common_h_linesview",getLinesEvent:function(){return window['$_lines_common_e_linesevent'];},getLinesViewHandler:function(){return window['$_lines_common_h_linesview'];},typePart:"common"});var $_control_desktop_c_controldesktop=new ControlDesktopController({instanceName:"$_control_desktop_c_controldesktop",alias:"control",getControlCommonController:function(){return window['$_control_common_c_controlcommon'];},getControlDesktopController:function(){return window['$_control_desktop_c_controldesktop'];},getControlDesktopEvent:function(){return window['$_control_desktop_e_controldesktopevent'];},getControlDesktopViewHandler:function(){return window['$_control_desktop_h_controldesktopview'];},typePart:"desktop"});var $_control_desktop_e_controldesktopevent=new ControlDesktopEvent({instanceName:"$_control_desktop_e_controldesktopevent",alias:"control",getControlCommonController:function(){return window['$_control_common_c_controlcommon'];},getControlDesktopController:function(){return window['$_control_desktop_c_controldesktop'];},getControlDesktopEvent:function(){return window['$_control_desktop_e_controldesktopevent'];},getControlDesktopViewHandler:function(){return window['$_control_desktop_h_controldesktopview'];},typePart:"desktop"});var $_control_desktop_h_controldesktopview=new ControlDesktopViewHandler({alias:"control",instanceName:"$_control_desktop_h_controldesktopview",getControlCommonController:function(){return window['$_control_common_c_controlcommon'];},getControlDesktopController:function(){return window['$_control_desktop_c_controldesktop'];},getControlDesktopEvent:function(){return window['$_control_desktop_e_controldesktopevent'];},getControlDesktopViewHandler:function(){return window['$_control_desktop_h_controldesktopview'];},typePart:"desktop"});var $_reels_desktop_h_desktopreel=new DesktopReelHandler({alias:"reels",instanceName:"$_reels_desktop_h_desktopreel",getInitReels:function(){return window['$_reels_desktop_e_initreels'];},getReelHandler:function(){return window['$_reels_desktop_h_desktopreel'];},getDesktopReelHandler:function(){return window['$_reels_desktop_h_desktopreel'];},typePart:"desktop"});var $_settings_desktop_c_settingsdesktop=new SettingsDesktopController({instanceName:"$_settings_desktop_c_settingsdesktop",alias:"settings",getSettingsDesktopController:function(){return window['$_settings_desktop_c_settingsdesktop'];},getSettingsDesktopEvent:function(){return window['$_settings_desktop_e_settingsdesktopevent'];},getSettingsDesktopViewHandler:function(){return window['$_settings_desktop_h_settingsdesktopview'];},typePart:"desktop"});var $_settings_desktop_e_settingsdesktopevent=new SettingsDesktopEvent({instanceName:"$_settings_desktop_e_settingsdesktopevent",alias:"settings",getSettingsDesktopController:function(){return window['$_settings_desktop_c_settingsdesktop'];},getSettingsDesktopEvent:function(){return window['$_settings_desktop_e_settingsdesktopevent'];},getSettingsDesktopViewHandler:function(){return window['$_settings_desktop_h_settingsdesktopview'];},typePart:"desktop"});var $_settings_desktop_h_settingsdesktopview=new SettingsDesktopViewHandler({alias:"settings",instanceName:"$_settings_desktop_h_settingsdesktopview",getSettingsDesktopController:function(){return window['$_settings_desktop_c_settingsdesktop'];},getSettingsDesktopEvent:function(){return window['$_settings_desktop_e_settingsdesktopevent'];},getSettingsDesktopViewHandler:function(){return window['$_settings_desktop_h_settingsdesktopview'];},typePart:"desktop"});var $_lines_desktop_h_desktoplinesview=new DesktopLinesViewHandler({alias:"lines",instanceName:"$_lines_desktop_h_desktoplinesview",getLinesEvent:function(){return window['$_lines_desktop_e_linesevent'];},getLinesViewHandler:function(){return window['$_lines_desktop_h_desktoplinesview'];},getDesktopLinesViewHandler:function(){return window['$_lines_desktop_h_desktoplinesview'];},typePart:"desktop"});var $_bonus_desktop_h_desktopbonusgameview=new DesktopBonusGameViewHandler({alias:"bonus",instanceName:"$_bonus_desktop_h_desktopbonusgameview",getBonusGameController:function(){return window['$_bonus_common_c_bonusgame'];},getBonusGameEvent:function(){return window['$_bonus_desktop_e_bonusgameevent'];},getBonusGameViewHandler:function(){return window['$_bonus_desktop_h_desktopbonusgameview'];},getDesktopBonusGameViewHandler:function(){return window['$_bonus_desktop_h_desktopbonusgameview'];},typePart:"desktop"});var $_preloader_desktop_h_preloaderdesktopview=new PreloaderDesktopViewHandler({alias:"preloader",instanceName:"$_preloader_desktop_h_preloaderdesktopview",getPreloaderController:function(){return window['$_preloader_common_c_preloader'];},getPreloaderInitEvent:function(){return window['$_preloader_desktop_e_preloaderinitevent'];},getPreloaderCommonViewHandler:function(){return window['$_preloader_common_h_preloadercommonview'];},getPreloaderDesktopViewHandler:function(){return window['$_preloader_desktop_h_preloaderdesktopview'];},typePart:"desktop"});var $_paytable_desktop_c_paytabledesktop=new PaytableDesktopController({instanceName:"$_paytable_desktop_c_paytabledesktop",alias:"paytable",getPaytableDesktopController:function(){return window['$_paytable_desktop_c_paytabledesktop'];},getPaytableDesktopEvent:function(){return window['$_paytable_desktop_e_paytabledesktopevent'];},getPaytableDesktopViewHandler:function(){return window['$_paytable_desktop_h_paytabledesktopview'];},typePart:"desktop"});var $_paytable_desktop_e_paytabledesktopevent=new PaytableDesktopEvent({instanceName:"$_paytable_desktop_e_paytabledesktopevent",alias:"paytable",getPaytableDesktopController:function(){return window['$_paytable_desktop_c_paytabledesktop'];},getPaytableDesktopEvent:function(){return window['$_paytable_desktop_e_paytabledesktopevent'];},getPaytableDesktopViewHandler:function(){return window['$_paytable_desktop_h_paytabledesktopview'];},typePart:"desktop"});var $_paytable_desktop_h_paytabledesktopview=new PaytableDesktopViewHandler({alias:"paytable",instanceName:"$_paytable_desktop_h_paytabledesktopview",getPaytableDesktopController:function(){return window['$_paytable_desktop_c_paytabledesktop'];},getPaytableDesktopEvent:function(){return window['$_paytable_desktop_e_paytabledesktopevent'];},getPaytableDesktopViewHandler:function(){return window['$_paytable_desktop_h_paytabledesktopview'];},typePart:"desktop"});var $_win_desktop_e_windesktopevent=new WinDesktopEvent({instanceName:"$_win_desktop_e_windesktopevent",alias:"win",getWinController:function(){return window['$_win_common_c_win'];},getWinCommonEvent:function(){return window['$_win_common_e_wincommonevent'];},getWinCommonViewHandler:function(){return window['$_win_common_h_wincommonview'];},getWinDesktopEvent:function(){return window['$_win_desktop_e_windesktopevent'];},getWinDesktopViewHandler:function(){return window['$_win_desktop_h_windesktopview'];},typePart:"desktop"});var $_win_desktop_h_windesktopview=new winDesktopViewHandler({alias:"win",instanceName:"$_win_desktop_h_windesktopview",getWinController:function(){return window['$_win_common_c_win'];},getWinCommonEvent:function(){return window['$_win_common_e_wincommonevent'];},getWinCommonViewHandler:function(){return window['$_win_common_h_wincommonview'];},getWinDesktopEvent:function(){return window['$_win_desktop_e_windesktopevent'];},getWinDesktopViewHandler:function(){return window['$_win_desktop_h_windesktopview'];},typePart:"desktop"});var $_popup_desktop_h_desktoppopupview=new DesktopPopupViewHandler({alias:"popup",instanceName:"$_popup_desktop_h_desktoppopupview",getPopupController:function(){return window['$_popup_common_c_popup'];},getPopupInitEvent:function(){return window['$_popup_desktop_e_popupinitevent'];},getPopupViewHandler:function(){return window['$_popup_desktop_h_desktoppopupview'];},getDesktopPopupViewHandler:function(){return window['$_popup_desktop_h_desktoppopupview'];},typePart:"desktop"});var $_background_mobile_h_backgroundmobile=new BackgroundMobileHandler({alias:"background",instanceName:"$_background_mobile_h_backgroundmobile",getBackgroundEvent:function(){return window['$_background_mobile_e_backgroundevent'];},getBackgroundHandler:function(){return window['$_background_common_h_background'];},getBackgroundMobileHandler:function(){return window['$_background_mobile_h_backgroundmobile'];},typePart:"mobile"});var $_control_mobile_c_controlmobile=new ControlMobileController({instanceName:"$_control_mobile_c_controlmobile",alias:"control",getControlCommonController:function(){return window['$_control_common_c_controlcommon'];},getControlMobileController:function(){return window['$_control_mobile_c_controlmobile'];},getControlMobileEvent:function(){return window['$_control_mobile_e_controlmobileevent'];},getControlMobileViewHandler:function(){return window['$_control_mobile_h_controlmobileview'];},typePart:"mobile"});var $_control_mobile_e_controlmobileevent=new ControlMobileEvent({instanceName:"$_control_mobile_e_controlmobileevent",alias:"control",getControlCommonController:function(){return window['$_control_common_c_controlcommon'];},getControlMobileController:function(){return window['$_control_mobile_c_controlmobile'];},getControlMobileEvent:function(){return window['$_control_mobile_e_controlmobileevent'];},getControlMobileViewHandler:function(){return window['$_control_mobile_h_controlmobileview'];},typePart:"mobile"});var $_control_mobile_h_controlmobileview=new ControlMobileViewHandler({alias:"control",instanceName:"$_control_mobile_h_controlmobileview",getControlCommonController:function(){return window['$_control_common_c_controlcommon'];},getControlMobileController:function(){return window['$_control_mobile_c_controlmobile'];},getControlMobileEvent:function(){return window['$_control_mobile_e_controlmobileevent'];},getControlMobileViewHandler:function(){return window['$_control_mobile_h_controlmobileview'];},typePart:"mobile"});var $_reels_mobile_h_mobilereel=new MobileReelHandler({alias:"reels",instanceName:"$_reels_mobile_h_mobilereel",getInitReels:function(){return window['$_reels_mobile_e_initreels'];},getReelHandler:function(){return window['$_reels_mobile_h_mobilereel'];},getMobileReelHandler:function(){return window['$_reels_mobile_h_mobilereel'];},typePart:"mobile"});var $_lines_mobile_h_mobilelinesview=new MobileLinesViewHandler({alias:"lines",instanceName:"$_lines_mobile_h_mobilelinesview",getLinesEvent:function(){return window['$_lines_mobile_e_linesevent'];},getLinesViewHandler:function(){return window['$_lines_mobile_h_mobilelinesview'];},getMobileLinesViewHandler:function(){return window['$_lines_mobile_h_mobilelinesview'];},typePart:"mobile"});var $_bonus_mobile_h_mobilebonusgameview=new MobileBonusGameViewHandler({alias:"bonus",instanceName:"$_bonus_mobile_h_mobilebonusgameview",getBonusGameController:function(){return window['$_bonus_common_c_bonusgame'];},getBonusGameEvent:function(){return window['$_bonus_mobile_e_bonusgameevent'];},getBonusGameViewHandler:function(){return window['$_bonus_mobile_h_mobilebonusgameview'];},getMobileBonusGameViewHandler:function(){return window['$_bonus_mobile_h_mobilebonusgameview'];},typePart:"mobile"});var $_freespins_mobile_h_freespinsmobileview=new FreespinsMobileViewHandler({alias:"freespins",instanceName:"$_freespins_mobile_h_freespinsmobileview",getFreespinsController:function(){return window['$_freespins_common_c_freespins'];},getFreespinsEvent:function(){return window['$_freespins_mobile_e_freespinsevent'];},getFreespinsViewHandler:function(){return window['$_freespins_common_h_freespinsview'];},getFreespinsMobileViewHandler:function(){return window['$_freespins_mobile_h_freespinsmobileview'];},typePart:"mobile"});var $_settings_mobile_c_settingsmobile=new SettingsMobileController({instanceName:"$_settings_mobile_c_settingsmobile",alias:"settings",getSettingsMobileController:function(){return window['$_settings_mobile_c_settingsmobile'];},getSettingsMobileEvent:function(){return window['$_settings_mobile_e_settingsmobileevent'];},getSettingsMobileViewHandler:function(){return window['$_settings_mobile_h_settingsmobileview'];},typePart:"mobile"});var $_settings_mobile_e_settingsmobileevent=new SettingsMobileEvent({instanceName:"$_settings_mobile_e_settingsmobileevent",alias:"settings",getSettingsMobileController:function(){return window['$_settings_mobile_c_settingsmobile'];},getSettingsMobileEvent:function(){return window['$_settings_mobile_e_settingsmobileevent'];},getSettingsMobileViewHandler:function(){return window['$_settings_mobile_h_settingsmobileview'];},typePart:"mobile"});var $_settings_mobile_h_settingsmobileview=new SettingsMobileViewHandler({alias:"settings",instanceName:"$_settings_mobile_h_settingsmobileview",getSettingsMobileController:function(){return window['$_settings_mobile_c_settingsmobile'];},getSettingsMobileEvent:function(){return window['$_settings_mobile_e_settingsmobileevent'];},getSettingsMobileViewHandler:function(){return window['$_settings_mobile_h_settingsmobileview'];},typePart:"mobile"});var $_win_mobile_e_winmobileevent=new WinMobileEvent({instanceName:"$_win_mobile_e_winmobileevent",alias:"win",getWinController:function(){return window['$_win_common_c_win'];},getWinCommonEvent:function(){return window['$_win_common_e_wincommonevent'];},getWinCommonViewHandler:function(){return window['$_win_common_h_wincommonview'];},getWinMobileEvent:function(){return window['$_win_mobile_e_winmobileevent'];},getWinMobileViewHandler:function(){return window['$_win_mobile_h_winmobileview'];},typePart:"mobile"});var $_win_mobile_h_winmobileview=new winMobileViewHandler({alias:"win",instanceName:"$_win_mobile_h_winmobileview",getWinController:function(){return window['$_win_common_c_win'];},getWinCommonEvent:function(){return window['$_win_common_e_wincommonevent'];},getWinCommonViewHandler:function(){return window['$_win_common_h_wincommonview'];},getWinMobileEvent:function(){return window['$_win_mobile_e_winmobileevent'];},getWinMobileViewHandler:function(){return window['$_win_mobile_h_winmobileview'];},typePart:"mobile"});var $_popup_mobile_h_mobilepopupview=new MobilePopupViewHandler({alias:"popup",instanceName:"$_popup_mobile_h_mobilepopupview",getPopupController:function(){return window['$_popup_common_c_popup'];},getPopupInitEvent:function(){return window['$_popup_mobile_e_popupinitevent'];},getPopupViewHandler:function(){return window['$_popup_mobile_h_mobilepopupview'];},getMobilePopupViewHandler:function(){return window['$_popup_mobile_h_mobilepopupview'];},typePart:"mobile"});$_t.setTranslations({"game_not_allowed":{"text":"You can't play this game now.\nPlease contact support."},"expired_token":{"text":"Security alert.\nPlease reload the game."},"invalid_token":{"text":"Security alert.\nPlease reload the game."},"currency_not_supported":{"text":"Currency is not supported.\nPlease contact support."},"player_lockout":{"text":"Internal Error.\nPlease contact support."},"bet_limit_error":{"text":"Internal Error.\nPlease contact support."},"freebet_not_allowed":{"text":"Internal Error.\nPlease contact support."},"api_protocol_error":{"text":"Internal Error.\nPlease contact support."},"session_lost":{"text":"Internal Error.\nPlease contact support."},"server_error":{"text":"Internal Error.\nPlease contact support."},"mode_not_supported":{"text":"Internal Error.\nPlease contact support."},"game_settings_changed":{"text":"New version of the game is available.\nPlease reload the game."},"game_reopened":{"text":"This game session was closed.\nPlease reload the game."},"player_disconnected":{"text":"This game session was closed.\nPlease reload the game."},"not enough money for round":{"text":"Please make a deposit or reduce the bet."},"bet_exceed":{"text":"Please make a deposit or reduce the bet."},"ok":{"text":"OK"},"time_exceed":{"text":"Wow!\n You are playing too long.\nTake a rest."},"loss_exceed":{"text":"Attention!\nYou have exceeded loss limit."},"funds_exceed":{"text":"Balance has run out.\nPlease make a deposit."},"other_exceed":{"text":"Message from the casino: \n {0}"},"client error":{"text":"Something went wrong!\nPlease reload the game."},"problem with player's internet connection":{"text":"Your current internet connection is slow.\nConnection Lost.\nPlease reload the game."},"404":{"text":"Server error.\nPlease try again later."},"503":{"text":"Server error.\nPlease try again later."},"502":{"text":"Server error.\nPlease try again later."},"500":{"text":"Server error.\nPlease try again later."},"no_activity":{"text":""},"message":{"text":"System message"},"error!":{"text":"ERROR!"}});$_t.setAvailableLanguages(["main","preloader"],{"ru":"32516","en":"10764","it":"11602","zh":"14351","tr":"13094","es":"12205","fr":"12691"});$_required.setScripts({"preloader":{"audio_sprite":{"a":"audio_sprite","u":"..\/assets\/audio_sprite\/audio_sprite.js","s":"10514","f":"js","p":"common"},"translations":{"ru":{"a":"translations","u":"..\/assets\/translation_ru.js","s":"32516","f":"js","p":"common"},"en":{"a":"translations","u":"..\/assets\/translation_en.js","s":"10764","f":"js","p":"common"},"it":{"a":"translations","u":"..\/assets\/translation_it.js","s":"11602","f":"js","p":"common"},"zh":{"a":"translations","u":"..\/assets\/translation_zh.js","s":"14351","f":"js","p":"common"},"tr":{"a":"translations","u":"..\/assets\/translation_tr.js","s":"13094","f":"js","p":"common"},"es":{"a":"translations","u":"..\/assets\/translation_es.js","s":"12205","f":"js","p":"common"},"fr":{"a":"translations","u":"..\/assets\/translation_fr.js","s":"12691","f":"js","p":"common"}}}});$_required.setQueue({"main":{"common_bonus_bonus_numbers":{"a":"bonus_bonus_numbers","u":"..\/assets\/images\/common_bonus_bonus_numbers_numbers_big.png","s":"77554","x":{"w":1100,"h":113},"f":"img","p":"common","l":null},"common_bonus_bonus_numbers_small":{"a":"bonus_bonus_numbers_small","u":"..\/assets\/images\/common_bonus_bonus_numbers_small_numbers_small.png","s":"12905","x":{"w":228,"h":28},"f":"img","p":"common","l":null},"common_bonus_bonus_x2":{"a":"bonus_bonus_x2","u":"..\/assets\/images\/common_bonus_bonus_x2_x2-sprite.png","s":"1394","x":{"w":64,"h":86},"f":"img","p":"common","l":null},"common_bonus_bonus_x3":{"a":"bonus_bonus_x3","u":"..\/assets\/images\/common_bonus_bonus_x3_x3-sprite.png","s":"1533","x":{"w":64,"h":86},"f":"img","p":"common","l":null},"common_bonus_bonus_x4":{"a":"bonus_bonus_x4","u":"..\/assets\/images\/common_bonus_bonus_x4_x4-sprite.png","s":"1330","x":{"w":60,"h":86},"f":"img","p":"common","l":null},"common_bonus_bonus_x_numbers":{"a":"bonus_bonus_x_numbers","u":"..\/assets\/images\/common_bonus_bonus_x_numbers_x-numbs-sprite.png","s":"3582","x":{"w":64,"h":258},"f":"img","p":"common","l":null},"common_bonus_background":{"a":"bonus_background","u":"..\/assets\/images\/common_bonus_background_background.png","s":"705601","x":{"w":1667,"h":405},"f":"img","p":"common","l":null},"common_bonus_basket":{"a":"bonus_basket","u":"..\/assets\/images\/common_bonus_basket_basket.png","s":"18953","x":{"w":111,"h":93},"f":"img","p":"common","l":null},"common_bonus_basket_close":{"a":"bonus_basket_close","u":"..\/assets\/images\/common_bonus_basket_close_basket_close.png","s":"6011","x":{"w":104,"h":29},"f":"img","p":"common","l":null},"common_bonus_basket_open":{"a":"bonus_basket_open","u":"..\/assets\/images\/common_bonus_basket_open_basket_open.png","s":"10368","x":{"w":107,"h":69},"f":"img","p":"common","l":null},"common_bonus_princess":{"a":"bonus_princess","u":"..\/assets\/images\/common_bonus_princess_bonus_princess_small.png","s":"26292","x":{"w":103,"h":260},"f":"img","p":"common","l":null},"common_bonus_princess_big":{"a":"bonus_princess_big","u":"..\/assets\/images\/common_bonus_princess_big_princess_bonus.png","s":"142830","x":{"w":283,"h":495},"f":"img","p":"common","l":null},"common_bonus_princess_eye":{"a":"bonus_princess_eye","u":"..\/assets\/images\/common_bonus_princess_eye_princess_bonus_eye.png","s":"2543","x":{"w":43,"h":27},"f":"img","p":"common","l":null},"common_bonus_chest_1":{"a":"bonus_chest_1","u":"..\/assets\/images\/common_bonus_chest_1_chest_1.png","s":"22633","x":{"w":144,"h":107},"f":"img","p":"common","l":null},"common_bonus_chest_1_close":{"a":"bonus_chest_1_close","u":"..\/assets\/images\/common_bonus_chest_1_close_chest_1_close.png","s":"5374","x":{"w":124,"h":27},"f":"img","p":"common","l":null},"common_bonus_chest_1_open":{"a":"bonus_chest_1_open","u":"..\/assets\/images\/common_bonus_chest_1_open_chest_1_open.png","s":"6972","x":{"w":112,"h":40},"f":"img","p":"common","l":null},"common_bonus_chest_2":{"a":"bonus_chest_2","u":"..\/assets\/images\/common_bonus_chest_2_chest_2.png","s":"31246","x":{"w":124,"h":192},"f":"img","p":"common","l":null},"common_bonus_chest_2_open":{"a":"bonus_chest_2_open","u":"..\/assets\/images\/common_bonus_chest_2_open_chest_open_2.png","s":"20059","x":{"w":149,"h":87},"f":"img","p":"common","l":null},"common_bonus_column":{"a":"bonus_column","u":"..\/assets\/images\/common_bonus_column_colum.png","s":"54057","x":{"w":153,"h":405},"f":"img","p":"common","l":null},"common_bonus_heart":{"a":"bonus_heart","u":"..\/assets\/images\/common_bonus_heart_heart.png","s":"5639","x":{"w":81,"h":73},"f":"img","p":"common","l":null},"common_bonus_heart_disable":{"a":"bonus_heart_disable","u":"..\/assets\/images\/common_bonus_heart_disable_heart_disable.png","s":"10763","x":{"w":82,"h":74},"f":"img","p":"common","l":null},"common_bonus_level_map":{"a":"bonus_level_map","u":"..\/assets\/images\/common_bonus_level_map_level_map.png","s":"3554","x":{"w":185,"h":24},"f":"img","p":"common","l":null},"common_bonus_light":{"a":"bonus_light","u":"..\/assets\/images\/common_bonus_light_light.png","s":"42607","x":{"w":181,"h":414},"f":"img","p":"common","l":null},"common_bonus_mummy":{"a":"bonus_mummy","u":"..\/assets\/images\/common_bonus_mummy_mummy.png","s":"329834","x":{"w":522,"h":522},"f":"img","p":"common","l":null},"common_bonus_smoke":{"a":"bonus_smoke","u":"..\/assets\/images\/common_bonus_smoke_smoke.png","s":"65057","x":{"w":511,"h":497},"f":"img","p":"common","l":null},"common_bonus_papirus":{"a":"bonus_papirus","u":"..\/assets\/images\/common_bonus_papirus_papirus.png","s":"40421","x":{"w":265,"h":97},"f":"img","p":"common","l":null},"common_bonus_pattern_floor":{"a":"bonus_pattern_floor","u":"..\/assets\/images\/common_bonus_pattern_floor_pattern_floor.png","s":"15559","x":{"w":112,"h":157},"f":"img","p":"common","l":null},"common_bonus_room_future":{"a":"bonus_room_future","u":"..\/assets\/images\/common_bonus_room_future_room_future.png","s":"482","x":{"w":19,"h":11},"f":"img","p":"common","l":null},"common_bonus_room_now":{"a":"bonus_room_now","u":"..\/assets\/images\/common_bonus_room_now_room_now.png","s":"631","x":{"w":19,"h":11},"f":"img","p":"common","l":null},"common_bonus_sarcophagus":{"a":"bonus_sarcophagus","u":"..\/assets\/images\/common_bonus_sarcophagus_sarcophagus.png","s":"39791","x":{"w":108,"h":241},"f":"img","p":"common","l":null},"common_bonus_sarcophagus_open":{"a":"bonus_sarcophagus_open","u":"..\/assets\/images\/common_bonus_sarcophagus_open_sarcophagus_open.png","s":"38033","x":{"w":122,"h":234},"f":"img","p":"common","l":null},"common_bonus_shape":{"a":"bonus_shape","u":"..\/assets\/images\/common_bonus_shape_shape.png","s":"76660","x":{"w":323,"h":323},"f":"img","p":"common","l":null},"common_bonus_star":{"a":"bonus_star","u":"..\/assets\/images\/common_bonus_star_star.png","s":"2039","x":{"w":68,"h":67},"f":"img","p":"common","l":null},"common_bonus_star_particle":{"a":"bonus_star_particle","u":"..\/assets\/images\/common_bonus_star_particle_star_particle_anim.png","s":"1728","x":{"w":52,"h":52},"f":"img","p":"common","l":null},"common_bonus_urn":{"a":"bonus_urn","u":"..\/assets\/images\/common_bonus_urn_urn.png","s":"26572","x":{"w":104,"h":159},"f":"img","p":"common","l":null},"common_bonus_urn_open":{"a":"bonus_urn_open","u":"..\/assets\/images\/common_bonus_urn_open_urn_open.png","s":"22355","x":{"w":135,"h":101},"f":"img","p":"common","l":null},"common_bonus_vase":{"a":"bonus_vase","u":"..\/assets\/images\/common_bonus_vase_vase.png","s":"19022","x":{"w":91,"h":156},"f":"img","p":"common","l":null},"common_bonus_start_big":{"a":"bonus_start_big","u":"..\/assets\/images\/common_bonus_start_big_star_particle_big.png","s":"61472","x":{"w":196,"h":197},"f":"img","p":"common","l":null},"common_bonus_vase_open":{"a":"bonus_vase_open","u":"..\/assets\/images\/common_bonus_vase_open_vase_open.png","s":"29396","x":{"w":134,"h":92},"f":"img","p":"common","l":null},"common_freespins_bonus_numbers":{"a":"freespins_bonus_numbers","u":"..\/assets\/images\/common_freespins_bonus_numbers_numbers_big.png","s":"77554","x":{"w":1100,"h":113},"f":"img","p":"common","l":null},"common_freespins_cut_line":{"a":"freespins_cut_line","u":"..\/assets\/images\/common_freespins_cut_line_Cut_line.png","s":"45680","x":{"w":753,"h":57},"f":"img","p":"common","l":null},"common_freespins_freespinsAtlas":{"a":"freespins_freespinsAtlas","u":"..\/assets\/images\/common_freespins_freespinsAtlas_freespins.png","s":"718648","x":{"w":905,"h":905},"f":"img","p":"common","l":null},"common_freespins_starParticle":{"a":"freespins_starParticle","u":"..\/assets\/images\/common_freespins_starParticle_star_particle_big.png","s":"40899","x":{"w":196,"h":197},"f":"img","p":"common","l":null},"common_freespins_corner":{"a":"freespins_corner","u":"..\/assets\/images\/common_freespins_corner_freespin_corner.png","s":"5420","x":{"w":53,"h":68},"f":"img","p":"common","l":null},"common_lines_line_1":{"a":"lines_line_1","u":"..\/assets\/images\/common_lines_line_1_1.png","s":"243","x":{"w":737,"h":6},"f":"img","p":"common","l":null},"common_lines_line_2":{"a":"lines_line_2","u":"..\/assets\/images\/common_lines_line_2_1.png","s":"243","x":{"w":737,"h":6},"f":"img","p":"common","l":null},"common_lines_line_3":{"a":"lines_line_3","u":"..\/assets\/images\/common_lines_line_3_1.png","s":"243","x":{"w":737,"h":6},"f":"img","p":"common","l":null},"common_lines_line_4":{"a":"lines_line_4","u":"..\/assets\/images\/common_lines_line_4_4.png","s":"17761","x":{"w":737,"h":303},"f":"img","p":"common","l":null},"common_lines_line_5":{"a":"lines_line_5","u":"..\/assets\/images\/common_lines_line_5_5.png","s":"22166","x":{"w":737,"h":302},"f":"img","p":"common","l":null},"common_lines_line_6":{"a":"lines_line_6","u":"..\/assets\/images\/common_lines_line_6_6.png","s":"15414","x":{"w":737,"h":246},"f":"img","p":"common","l":null},"common_lines_line_7":{"a":"lines_line_7","u":"..\/assets\/images\/common_lines_line_7_7.png","s":"15443","x":{"w":737,"h":246},"f":"img","p":"common","l":null},"common_lines_line_8":{"a":"lines_line_8","u":"..\/assets\/images\/common_lines_line_8_8.png","s":"9837","x":{"w":737,"h":352},"f":"img","p":"common","l":null},"common_lines_line_9":{"a":"lines_line_9","u":"..\/assets\/images\/common_lines_line_9_9.png","s":"8870","x":{"w":737,"h":352},"f":"img","p":"common","l":null},"common_lines_line_10":{"a":"lines_line_10","u":"..\/assets\/images\/common_lines_line_10_10.png","s":"25749","x":{"w":737,"h":288},"f":"img","p":"common","l":null},"common_lines_line_11":{"a":"lines_line_11","u":"..\/assets\/images\/common_lines_line_11_11.png","s":"12142","x":{"w":737,"h":163},"f":"img","p":"common","l":null},"common_lines_line_12":{"a":"lines_line_12","u":"..\/assets\/images\/common_lines_line_12_12.png","s":"11792","x":{"w":737,"h":162},"f":"img","p":"common","l":null},"common_lines_line_13":{"a":"lines_line_13","u":"..\/assets\/images\/common_lines_line_13_13.png","s":"28836","x":{"w":737,"h":254},"f":"img","p":"common","l":null},"common_lines_line_14":{"a":"lines_line_14","u":"..\/assets\/images\/common_lines_line_14_14.png","s":"28308","x":{"w":737,"h":253},"f":"img","p":"common","l":null},"common_lines_line_15":{"a":"lines_line_15","u":"..\/assets\/images\/common_lines_line_15_15.png","s":"11823","x":{"w":737,"h":252},"f":"img","p":"common","l":null},"common_lines_line_16":{"a":"lines_line_16","u":"..\/assets\/images\/common_lines_line_16_16.png","s":"11746","x":{"w":737,"h":252},"f":"img","p":"common","l":null},"common_lines_line_17":{"a":"lines_line_17","u":"..\/assets\/images\/common_lines_line_17_17.png","s":"17464","x":{"w":737,"h":179},"f":"img","p":"common","l":null},"common_lines_line_18":{"a":"lines_line_18","u":"..\/assets\/images\/common_lines_line_18_18.png","s":"17475","x":{"w":737,"h":180},"f":"img","p":"common","l":null},"common_lines_line_19":{"a":"lines_line_19","u":"..\/assets\/images\/common_lines_line_19_19.png","s":"13151","x":{"w":737,"h":180},"f":"img","p":"common","l":null},"common_lines_line_20":{"a":"lines_line_20","u":"..\/assets\/images\/common_lines_line_20_20.png","s":"11950","x":{"w":737,"h":162},"f":"img","p":"common","l":null},"common_lines_marker_on":{"a":"lines_marker_on","u":"..\/assets\/images\/common_lines_marker_on_number_rectangle.png","s":"245","x":{"w":11,"h":11},"f":"img","p":"common","l":null},"common_lines_marker_off":{"a":"lines_marker_off","u":"..\/assets\/images\/common_lines_marker_off_number_rectangle_disable.png","s":"199","x":{"w":11,"h":11},"f":"img","p":"common","l":null},"common_lines_marker_over_on":{"a":"lines_marker_over_on","u":"..\/assets\/images\/common_lines_marker_over_on_number_over_rectangle.png","s":"247","x":{"w":25,"h":25},"f":"img","p":"common","l":null},"common_lines_marker_over_off":{"a":"lines_marker_over_off","u":"..\/assets\/images\/common_lines_marker_over_off_number_over_rectangle_disable.png","s":"218","x":{"w":25,"h":25},"f":"img","p":"common","l":null},"common_lines_winLineAmountBackground":{"a":"lines_winLineAmountBackground","u":"..\/assets\/images\/common_lines_winLineAmountBackground_win_border_numbers.png","s":"5846","x":{"w":147,"h":36},"f":"img","p":"common","l":null},"common_lines_star":{"a":"lines_star","u":"..\/assets\/images\/common_lines_star_star.png","s":"2039","x":{"w":68,"h":67},"f":"img","p":"common","l":null},"desktop_background_background_main":{"a":"background_background_main","u":"..\/assets\/images\/desktop_background_background_main_Secret_of_Nefertiti_mainform.jpg","s":"648644","x":{"w":1280,"h":720},"f":"img","p":"desktop","l":null},"desktop_background_background_free_spins":{"a":"background_background_free_spins","u":"..\/assets\/images\/desktop_background_background_free_spins_background_freespins.jpg","s":"675242","x":{"w":1280,"h":720},"f":"img","p":"desktop","l":null},"desktop_background_main_back_anim":{"a":"background_main_back_anim","u":"..\/assets\/images\/desktop_background_main_back_anim_main_back_anim.png","s":"3222758","x":{"w":1775,"h":1775},"f":"img","p":"desktop","l":null},"desktop_background_logo":{"a":"background_logo","u":"..\/assets\/images\/desktop_background_logo_logo.png","s":"35191","x":{"w":360,"h":88},"f":"img","p":"desktop","l":null},"desktop_background_lucky_logo":{"a":"background_lucky_logo","u":"..\/assets\/images\/desktop_background_lucky_logo_Lucky_logo.png","s":"644","x":{"w":22,"h":29},"f":"img","p":"desktop","l":null},"desktop_control_back_button":{"a":"control_back_button","u":"..\/assets\/images\/desktop_control_back_button_back-button-sprite.png","s":"1851","x":{"w":84,"h":22},"f":"img","p":"desktop","l":null},"desktop_control_forward_button":{"a":"control_forward_button","u":"..\/assets\/images\/desktop_control_forward_button_forward-button-sprite.png","s":"1800","x":{"w":84,"h":22},"f":"img","p":"desktop","l":null},"desktop_control_info_button":{"a":"control_info_button","u":"..\/assets\/images\/desktop_control_info_button_info-button-sprite.png","s":"4765","x":{"w":180,"h":44},"f":"img","p":"desktop","l":null},"desktop_control_quick_spin_on_button":{"a":"control_quick_spin_on_button","u":"..\/assets\/images\/desktop_control_quick_spin_on_button_quickspin-on-button-sprite.png","s":"2649","x":{"w":132,"h":21},"f":"img","p":"desktop","l":null},"desktop_control_quick_spin_off_button":{"a":"control_quick_spin_off_button","u":"..\/assets\/images\/desktop_control_quick_spin_off_button_quickspin-off-button-sprite.png","s":"2596","x":{"w":132,"h":21},"f":"img","p":"desktop","l":null},"desktop_control_spin_default_button":{"a":"control_spin_default_button","u":"..\/assets\/images\/desktop_control_spin_default_button_spin-default-button-sprite.png","s":"19014","x":{"w":468,"h":116},"f":"img","p":"desktop","l":null},"desktop_control_free_spin_button":{"a":"control_free_spin_button","u":"..\/assets\/images\/desktop_control_free_spin_button_spin-freespin-button-sprite.png","s":"18000","x":{"w":468,"h":116},"f":"img","p":"desktop","l":null},"desktop_control_default-button":{"a":"control_default-button","u":"..\/assets\/images\/desktop_control_default-button_default-button-sprite.png","s":"6772","x":{"w":412,"h":65},"f":"img","p":"desktop","l":null},"desktop_control_btn_autogame_label":{"a":"control_btn_autogame_label","u":"..\/assets\/images\/desktop_control_btn_autogame_label_UI_btn_autogame.png","s":"770","x":{"w":39,"h":25},"f":"img","p":"desktop","l":null},"desktop_control_fastspin_back_label":{"a":"control_fastspin_back_label","u":"..\/assets\/images\/desktop_control_fastspin_back_label_UI_fastspin_back.png","s":"3212","x":{"w":66,"h":28},"f":"img","p":"desktop","l":null},"desktop_control_FG_meters_win_label":{"a":"control_FG_meters_win_label","u":"..\/assets\/images\/desktop_control_FG_meters_win_label_UI_FG_meters_win.png","s":"3386","x":{"w":296,"h":57},"f":"img","p":"desktop","l":null},"desktop_control_MG_meters_balance_label":{"a":"control_MG_meters_balance_label","u":"..\/assets\/images\/desktop_control_MG_meters_balance_label_UI_MG_meters_balance.png","s":"3057","x":{"w":212,"h":48},"f":"img","p":"desktop","l":null},"desktop_control_MG_meters_bet_label":{"a":"control_MG_meters_bet_label","u":"..\/assets\/images\/desktop_control_MG_meters_bet_label_UI_MG_meters_bet.png","s":"3232","x":{"w":181,"h":57},"f":"img","p":"desktop","l":null},"desktop_control_MG_meters_lines_label":{"a":"control_MG_meters_lines_label","u":"..\/assets\/images\/desktop_control_MG_meters_lines_label_UI_MG_meters_lines.png","s":"2998","x":{"w":95,"h":57},"f":"img","p":"desktop","l":null},"desktop_control_MG_meters_totalbet":{"a":"control_MG_meters_totalbet","u":"..\/assets\/images\/desktop_control_MG_meters_totalbet_UI_MG_meters_totalbet.png","s":"3051","x":{"w":181,"h":48},"f":"img","p":"desktop","l":null},"desktop_control_MG_meters_win":{"a":"control_MG_meters_win","u":"..\/assets\/images\/desktop_control_MG_meters_win_UI_MG_meters_win.png","s":"3326","x":{"w":273,"h":57},"f":"img","p":"desktop","l":null},"desktop_control_UI_panel_autogame":{"a":"control_UI_panel_autogame","u":"..\/assets\/images\/desktop_control_UI_panel_autogame_UI_panel_autogame_rus.png","s":"15556","x":{"w":200,"h":184},"f":"img","p":"desktop","l":null},"desktop_control_UI_panel_autogame_custom":{"a":"control_UI_panel_autogame_custom","u":"..\/assets\/images\/desktop_control_UI_panel_autogame_custom_UI_panel_autogame_custom_rus.png","s":"15330","x":{"w":240,"h":184},"f":"img","p":"desktop","l":null},"desktop_control_UI_panel_autogame_value":{"a":"control_UI_panel_autogame_value","u":"..\/assets\/images\/desktop_control_UI_panel_autogame_value_UI_panel_autogame_value.png","s":"15163","x":{"w":39,"h":25},"f":"img","p":"desktop","l":null},"desktop_control_UI_panel_autogame_value_arrow":{"a":"control_UI_panel_autogame_value_arrow","u":"..\/assets\/images\/desktop_control_UI_panel_autogame_value_arrow_UI_panel_autogame_value_arrow.png","s":"144","x":{"w":8,"h":10},"f":"img","p":"desktop","l":null},"desktop_control_UI_panel_check":{"a":"control_UI_panel_check","u":"..\/assets\/images\/desktop_control_UI_panel_check_UI_panel_check.png","s":"267","x":{"w":17,"h":14},"f":"img","p":"desktop","l":null},"desktop_control_UI_panel_checkbox":{"a":"control_UI_panel_checkbox","u":"..\/assets\/images\/desktop_control_UI_panel_checkbox_UI_panel_checkbox.png","s":"583","x":{"w":17,"h":17},"f":"img","p":"desktop","l":null},"desktop_control_UI_panel_currencybox":{"a":"control_UI_panel_currencybox","u":"..\/assets\/images\/desktop_control_UI_panel_currencybox_UI_panel_currencybox.png","s":"418","x":{"w":39,"h":15},"f":"img","p":"desktop","l":null},"desktop_control_UI_panel_settings":{"a":"control_UI_panel_settings","u":"..\/assets\/images\/desktop_control_UI_panel_settings_UI_panel_settings.png","s":"333","x":{"w":13,"h":13},"f":"img","p":"desktop","l":null},"desktop_control_UI_panel_checkbox-sprite":{"a":"control_UI_panel_checkbox-sprite","u":"..\/assets\/images\/desktop_control_UI_panel_checkbox-sprite_UI_panel_checkbox-sprite.png","s":"16138","x":{"w":40,"h":17},"f":"img","p":"desktop","l":null},"desktop_reels_atlas":{"a":"reels_atlas","u":"..\/assets\/images\/desktop_reels_atlas_atlas.png","s":"13497683","x":{"w":2752,"h":2752},"f":"img","p":"desktop","l":null},"desktop_reels_atlasMini":{"a":"reels_atlasMini","u":"..\/assets\/images\/desktop_reels_atlasMini_atlasMini.png","s":"815857","x":{"w":276,"h":1950},"f":"img","p":"desktop","l":null},"desktop_reels_atlasFreespinsDisable":{"a":"reels_atlasFreespinsDisable","u":"..\/assets\/images\/desktop_reels_atlasFreespinsDisable_atlasFreespinsDisable.png","s":"308656","x":{"w":276,"h":975},"f":"img","p":"desktop","l":null},"desktop_reels_reels_animations":{"a":"reels_reels_animations","u":"..\/assets\/images\/desktop_reels_reels_animations_reels_animation.png","s":"101566","x":{"w":296,"h":296},"f":"img","p":"desktop","l":null},"desktop_reels_scatterBlendReel":{"a":"reels_scatterBlendReel","u":"..\/assets\/images\/desktop_reels_scatterBlendReel_MG_reel_FX_Scatter.png","s":"8275","x":{"w":106,"h":257},"f":"img","p":"desktop","l":null},"desktop_reels_bonusBlendReel":{"a":"reels_bonusBlendReel","u":"..\/assets\/images\/desktop_reels_bonusBlendReel_MG_reel_FX_Bonus.png","s":"8402","x":{"w":106,"h":257},"f":"img","p":"desktop","l":null},"desktop_reels_Wild_X2_BlendReel":{"a":"reels_Wild_X2_BlendReel","u":"..\/assets\/images\/desktop_reels_Wild_X2_BlendReel_FS_reel_FX_x2_green.png","s":"5490","x":{"w":91,"h":259},"f":"img","p":"desktop","l":null},"desktop_reels_Wild_X3_BlendReel":{"a":"reels_Wild_X3_BlendReel","u":"..\/assets\/images\/desktop_reels_Wild_X3_BlendReel_FS_reel_FX_x3_red.png","s":"5771","x":{"w":91,"h":259},"f":"img","p":"desktop","l":null},"desktop_reels_Wild_X5_BlendReel":{"a":"reels_Wild_X5_BlendReel","u":"..\/assets\/images\/desktop_reels_Wild_X5_BlendReel_FS_reel_FX_x5_gold.png","s":"5808","x":{"w":91,"h":259},"f":"img","p":"desktop","l":null},"desktop_reels_bonusElementBlend":{"a":"reels_bonusElementBlend","u":"..\/assets\/images\/desktop_reels_bonusElementBlend_bonus_reel_stop.png","s":"24913","x":{"w":80,"h":80},"f":"img","p":"desktop","l":null},"desktop_reels_scatterElementBlend":{"a":"reels_scatterElementBlend","u":"..\/assets\/images\/desktop_reels_scatterElementBlend_scatter_reel_stop.png","s":"25019","x":{"w":75,"h":75},"f":"img","p":"desktop","l":null},"desktop_settings_toolbar_help_button":{"a":"settings_toolbar_help_button","u":"..\/assets\/images\/desktop_settings_toolbar_help_button_help-sprite.png","s":"2871","x":{"w":132,"h":26},"f":"img","p":"desktop","l":null},"desktop_settings_toolbar_setting_button":{"a":"settings_toolbar_setting_button","u":"..\/assets\/images\/desktop_settings_toolbar_setting_button_setting-sprite.png","s":"3053","x":{"w":132,"h":26},"f":"img","p":"desktop","l":null},"desktop_settings_toolbar_sound_on":{"a":"settings_toolbar_sound_on","u":"..\/assets\/images\/desktop_settings_toolbar_sound_on_sound-on-sprite.png","s":"3021","x":{"w":132,"h":26},"f":"img","p":"desktop","l":null},"desktop_settings_toolbar_sound_off":{"a":"settings_toolbar_sound_off","u":"..\/assets\/images\/desktop_settings_toolbar_sound_off_sound-off-sprite.png","s":"3302","x":{"w":132,"h":26},"f":"img","p":"desktop","l":null},"desktop_settings_toolbar_message_bg":{"a":"settings_toolbar_message_bg","u":"..\/assets\/images\/desktop_settings_toolbar_message_bg_message_bg.png","s":"14659","x":{"w":6,"h":35},"f":"img","p":"desktop","l":null},"desktop_settings_toolbar_label":{"a":"settings_toolbar_label","u":"..\/assets\/images\/desktop_settings_toolbar_label_message_label.png","s":"16250","x":{"w":410,"h":25},"f":"img","p":"desktop","l":null},"desktop_settings_UI_panel_check":{"a":"settings_UI_panel_check","u":"..\/assets\/images\/desktop_settings_UI_panel_check_UI_panel_check.png","s":"269","x":{"w":26,"h":21},"f":"img","p":"desktop","l":null},"desktop_settings_UI_panel_checkbox":{"a":"settings_UI_panel_checkbox","u":"..\/assets\/images\/desktop_settings_UI_panel_checkbox_UI_panel_checkbox.png","s":"933","x":{"w":26,"h":26},"f":"img","p":"desktop","l":null},"desktop_settings_UI_top_tools_game_settings":{"a":"settings_UI_top_tools_game_settings","u":"..\/assets\/images\/desktop_settings_UI_top_tools_game_settings_UI_top_tools_game_settings.png","s":"704","x":{"w":187,"h":147},"f":"img","p":"desktop","l":null},"desktop_settings_UI_panel_checkbox-sprite":{"a":"settings_UI_panel_checkbox-sprite","u":"..\/assets\/images\/desktop_settings_UI_panel_checkbox-sprite_UI_panel_checkbox-sprite.png","s":"16138","x":{"w":40,"h":17},"f":"img","p":"desktop","l":null},"desktop_paytable_paytableAtlas":{"a":"paytable_paytableAtlas","u":"..\/assets\/images\/desktop_paytable_paytableAtlas_paytableAtlas.png","s":"376220","x":{"w":698,"h":407},"f":"img","p":"desktop","l":null},"desktop_paytable_background":{"a":"paytable_background","u":"..\/assets\/images\/desktop_paytable_background_paytable_back.png","s":"565714","x":{"w":892,"h":502},"f":"img","p":"desktop","l":null},"desktop_paytable_mini_background":{"a":"paytable_mini_background","u":"..\/assets\/images\/desktop_paytable_mini_background_el_frame_new.png","s":"95476","x":{"w":400,"h":234},"f":"img","p":"desktop","l":null},"desktop_paytable_miniSimpleShadow":{"a":"paytable_miniSimpleShadow","u":"..\/assets\/images\/desktop_paytable_miniSimpleShadow_shadow_circle.png","s":"5294","x":{"w":63,"h":127},"f":"img","p":"desktop","l":null},"desktop_paytable_miniBlockShadow":{"a":"paytable_miniBlockShadow","u":"..\/assets\/images\/desktop_paytable_miniBlockShadow_shadow_squire.png","s":"2440","x":{"w":28,"h":126},"f":"img","p":"desktop","l":null},"desktop_paytable_point_white":{"a":"paytable_point_white","u":"..\/assets\/images\/desktop_paytable_point_white_piont_white.png","s":"440","x":{"w":13,"h":13},"f":"img","p":"desktop","l":null},"desktop_paytable_point_blue":{"a":"paytable_point_blue","u":"..\/assets\/images\/desktop_paytable_point_blue_point_blue.png","s":"406","x":{"w":13,"h":13},"f":"img","p":"desktop","l":null},"desktop_paytable_x5":{"a":"paytable_x5","u":"..\/assets\/images\/desktop_paytable_x5_x5yellow.png","s":"851","x":{"w":61,"h":43},"f":"img","p":"desktop","l":null},"desktop_paytable_equal":{"a":"paytable_equal","u":"..\/assets\/images\/desktop_paytable_equal_equal.png","s":"431","x":{"w":14,"h":15},"f":"img","p":"desktop","l":null},"desktop_paytable_paylines":{"a":"paytable_paylines","u":"..\/assets\/images\/desktop_paytable_paylines_paylines.png","s":"11562","x":{"w":563,"h":247},"f":"img","p":"desktop","l":null},"desktop_paytable_lines_bonus":{"a":"paytable_lines_bonus","u":"..\/assets\/images\/desktop_paytable_lines_bonus_lines_bonus.png","s":"4705","x":{"w":371,"h":28},"f":"img","p":"desktop","l":null},"desktop_paytable_screen_1":{"a":"paytable_screen_1","u":"..\/assets\/images\/desktop_paytable_screen_1_bonus_screen.png","s":"104738","x":{"w":331,"h":192},"f":"img","p":"desktop","l":null},"desktop_win_big_win_sprite":{"a":"win_big_win_sprite","u":"..\/assets\/images\/desktop_win_big_win_sprite_big_win_coin.png","s":"134103","x":{"w":311,"h":311},"f":"img","p":"desktop","l":null},"desktop_win_big_":{"a":"win_big_","u":"..\/assets\/images\/desktop_win_big__big_.png","s":"23671","x":{"w":159,"h":94},"f":"img","p":"desktop","l":null},"desktop_win_mega_":{"a":"win_mega_","u":"..\/assets\/images\/desktop_win_mega__mega_.png","s":"44213","x":{"w":298,"h":95},"f":"img","p":"desktop","l":null},"desktop_win_super_":{"a":"win_super_","u":"..\/assets\/images\/desktop_win_super__super_.png","s":"46421","x":{"w":326,"h":96},"f":"img","p":"desktop","l":null},"desktop_win__win":{"a":"win__win","u":"..\/assets\/images\/desktop_win__win__win.png","s":"25308","x":{"w":186,"h":95},"f":"img","p":"desktop","l":null},"desktop_win_shape":{"a":"win_shape","u":"..\/assets\/images\/desktop_win_shape_star_pat_2.png","s":"19183","x":{"w":196,"h":197},"f":"img","p":"desktop","l":null},"desktop_win_shape_super":{"a":"win_shape_super","u":"..\/assets\/images\/desktop_win_shape_super_star_pat_2_superwin.png","s":"35378","x":{"w":196,"h":197},"f":"img","p":"desktop","l":null},"desktop_win_shape_mega":{"a":"win_shape_mega","u":"..\/assets\/images\/desktop_win_shape_mega_star_pat_2_megawin.png","s":"37384","x":{"w":196,"h":197},"f":"img","p":"desktop","l":null},"desktop_win_shape_super_mega":{"a":"win_shape_super_mega","u":"..\/assets\/images\/desktop_win_shape_super_mega_star_pat_2_super_megawin.png","s":"34438","x":{"w":196,"h":197},"f":"img","p":"desktop","l":null},"desktop_win_bonus_numbers":{"a":"win_bonus_numbers","u":"..\/assets\/images\/desktop_win_bonus_numbers_numbers_big.png","s":"77554","x":{"w":1100,"h":113},"f":"img","p":"desktop","l":null},"mobile_background_background_main":{"a":"background_background_main","u":"..\/assets\/images\/mobile_background_background_main_Secret_of_Nefertiti_mainform.jpg","s":"648644","x":{"w":1280,"h":720},"f":"img","p":"mobile","l":null},"mobile_background_background_free_spins":{"a":"background_background_free_spins","u":"..\/assets\/images\/mobile_background_background_free_spins_background_freespins.jpg","s":"675242","x":{"w":1280,"h":720},"f":"img","p":"mobile","l":null},"mobile_background_main_back_anim":{"a":"background_main_back_anim","u":"..\/assets\/images\/mobile_background_main_back_anim_main_back_anim.png","s":"3222758","x":{"w":1775,"h":1775},"f":"img","p":"mobile","l":null},"mobile_background_logo":{"a":"background_logo","u":"..\/assets\/images\/mobile_background_logo_logo.png","s":"35191","x":{"w":360,"h":88},"f":"img","p":"mobile","l":null},"mobile_background_lucky_logo":{"a":"background_lucky_logo","u":"..\/assets\/images\/mobile_background_lucky_logo_Lucky_logo.png","s":"2054","x":{"w":45,"h":55},"f":"img","p":"mobile","l":null},"mobile_control_settings_back_btn":{"a":"control_settings_back_btn","u":"..\/assets\/images\/mobile_control_settings_back_btn_back-sprite.png","s":"2979","x":{"w":138,"h":268},"f":"img","p":"mobile","l":null},"mobile_control_settings_bet_btn":{"a":"control_settings_bet_btn","u":"..\/assets\/images\/mobile_control_settings_bet_btn_bet-sprite.png","s":"7475","x":{"w":138,"h":268},"f":"img","p":"mobile","l":null},"mobile_control_settings_fast_spin_btn":{"a":"control_settings_fast_spin_btn","u":"..\/assets\/images\/mobile_control_settings_fast_spin_btn_fast_spin-sprite.png","s":"6820","x":{"w":138,"h":268},"f":"img","p":"mobile","l":null},"mobile_control_settings_info_btn":{"a":"control_settings_info_btn","u":"..\/assets\/images\/mobile_control_settings_info_btn_info-sprite.png","s":"6480","x":{"w":138,"h":268},"f":"img","p":"mobile","l":null},"mobile_control_settings_paytable_btn":{"a":"control_settings_paytable_btn","u":"..\/assets\/images\/mobile_control_settings_paytable_btn_paytable-sprite.png","s":"4121","x":{"w":138,"h":268},"f":"img","p":"mobile","l":null},"mobile_control_settings_sound_btn":{"a":"control_settings_sound_btn","u":"..\/assets\/images\/mobile_control_settings_sound_btn_sound-sprite.png","s":"4846","x":{"w":138,"h":268},"f":"img","p":"mobile","l":null},"mobile_control_settings_top_line":{"a":"control_settings_top_line","u":"..\/assets\/images\/mobile_control_settings_top_line_shape_settings.png","s":"533","x":{"w":1135,"h":2},"f":"img","p":"mobile","l":null},"mobile_control_setting_slide_button_bg":{"a":"control_setting_slide_button_bg","u":"..\/assets\/images\/mobile_control_setting_slide_button_bg_slide_button_bg.png","s":"3611","x":{"w":122,"h":126},"f":"img","p":"mobile","l":null},"mobile_control_setting_slide_button_element":{"a":"control_setting_slide_button_element","u":"..\/assets\/images\/mobile_control_setting_slide_button_element_slide_button_element.png","s":"1337","x":{"w":62,"h":126},"f":"img","p":"mobile","l":null},"mobile_control_settings_slide_swipe_button":{"a":"control_settings_slide_swipe_button","u":"..\/assets\/images\/mobile_control_settings_slide_swipe_button_active_slide_elem.png","s":"669","x":{"w":44,"h":44},"f":"img","p":"mobile","l":null},"mobile_control_setting_slide_flow":{"a":"control_setting_slide_flow","u":"..\/assets\/images\/mobile_control_setting_slide_flow_value_line_slider.png","s":"139","x":{"w":507,"h":43},"f":"img","p":"mobile","l":null},"mobile_control_setting_slide_flow_active":{"a":"control_setting_slide_flow_active","u":"..\/assets\/images\/mobile_control_setting_slide_flow_active_value_line_slider_active.png","s":"139","x":{"w":507,"h":43},"f":"img","p":"mobile","l":null},"mobile_control_settings_bg_value":{"a":"control_settings_bg_value","u":"..\/assets\/images\/mobile_control_settings_bg_value_bg_number_value.png","s":"898","x":{"w":114,"h":99},"f":"img","p":"mobile","l":null},"mobile_control_spin_expand_bg":{"a":"control_spin_expand_bg","u":"..\/assets\/images\/mobile_control_spin_expand_bg_expand_BG.png","s":"3295","x":{"w":667,"h":205},"f":"img","p":"mobile","l":null},"mobile_control_spin_expand":{"a":"control_spin_expand","u":"..\/assets\/images\/mobile_control_spin_expand_expand_btn-sprite.png","s":"873","x":{"w":80,"h":80},"f":"img","p":"mobile","l":null},"mobile_control_spin_btn":{"a":"control_spin_btn","u":"..\/assets\/images\/mobile_control_spin_btn_spin-sprite_o.png","s":"8175","x":{"w":204,"h":612},"f":"img","p":"mobile","l":null},"mobile_control_spin_btn_states":{"a":"control_spin_btn_states","u":"..\/assets\/images\/mobile_control_spin_btn_states_spin-sprite-btn.png","s":"3215","x":{"w":96,"h":174},"f":"img","p":"mobile","l":null},"mobile_control_spin_states":{"a":"control_spin_states","u":"..\/assets\/images\/mobile_control_spin_states_ext-spin-btn-sprite_o.png","s":"2708","x":{"w":143,"h":500},"f":"img","p":"mobile","l":null},"mobile_control_spin_states_close":{"a":"control_spin_states_close","u":"..\/assets\/images\/mobile_control_spin_states_close_ext-close-sprite_o.png","s":"1136","x":{"w":53,"h":106},"f":"img","p":"mobile","l":null},"mobile_control_spin_menu_fast":{"a":"control_spin_menu_fast","u":"..\/assets\/images\/mobile_control_spin_menu_fast_expand_BG_mini.png","s":"1703","x":{"w":392,"h":205},"f":"img","p":"mobile","l":null},"mobile_control_spin_menu_normal":{"a":"control_spin_menu_normal","u":"..\/assets\/images\/mobile_control_spin_menu_normal_expand_BG_mini.png","s":"1703","x":{"w":392,"h":205},"f":"img","p":"mobile","l":null},"mobile_control_spin_state_global":{"a":"control_spin_state_global","u":"..\/assets\/images\/mobile_control_spin_state_global_arrow_sprite_o.png","s":"7460","x":{"w":138,"h":925},"f":"img","p":"mobile","l":null},"mobile_control_background":{"a":"control_background","u":"..\/assets\/images\/mobile_control_background_background.jpg","s":"61319","x":{"w":1280,"h":720},"f":"img","p":"mobile","l":null},"mobile_control_background_top":{"a":"control_background_top","u":"..\/assets\/images\/mobile_control_background_top_top.png","s":"452","x":{"w":1334,"h":48},"f":"img","p":"mobile","l":null},"mobile_control_background_bottom":{"a":"control_background_bottom","u":"..\/assets\/images\/mobile_control_background_bottom_bottom.png","s":"448","x":{"w":1280,"h":44},"f":"img","p":"mobile","l":null},"mobile_control_background_win":{"a":"control_background_win","u":"..\/assets\/images\/mobile_control_background_win_bottom_win.png","s":"476","x":{"w":1332,"h":51},"f":"img","p":"mobile","l":null},"mobile_control_home_btn":{"a":"control_home_btn","u":"..\/assets\/images\/mobile_control_home_btn_home_btn.png","s":"3704","x":{"w":88,"h":88},"f":"img","p":"mobile","l":null},"mobile_control_settings_btn":{"a":"control_settings_btn","u":"..\/assets\/images\/mobile_control_settings_btn_set_btn.png","s":"4372","x":{"w":118,"h":118},"f":"img","p":"mobile","l":null},"mobile_control_paytableAtlas":{"a":"control_paytableAtlas","u":"..\/assets\/images\/mobile_control_paytableAtlas_paytableAtlas.png","s":"376220","x":{"w":698,"h":407},"f":"img","p":"mobile","l":null},"mobile_control_grid_horizont":{"a":"control_grid_horizont","u":"..\/assets\/images\/mobile_control_grid_horizont_grid_gorizont.png","s":"781","x":{"w":691,"h":5},"f":"img","p":"mobile","l":null},"mobile_control_grid_vertical":{"a":"control_grid_vertical","u":"..\/assets\/images\/mobile_control_grid_vertical_grid_vertical.png","s":"436","x":{"w":5,"h":201},"f":"img","p":"mobile","l":null},"mobile_control_x5":{"a":"control_x5","u":"..\/assets\/images\/mobile_control_x5_x5yellow.png","s":"851","x":{"w":61,"h":43},"f":"img","p":"mobile","l":null},"mobile_control_paylines":{"a":"control_paylines","u":"..\/assets\/images\/mobile_control_paylines_paylines.png","s":"11562","x":{"w":563,"h":247},"f":"img","p":"mobile","l":null},"mobile_control_equal":{"a":"control_equal","u":"..\/assets\/images\/mobile_control_equal_equal.png","s":"431","x":{"w":14,"h":15},"f":"img","p":"mobile","l":null},"mobile_control_lines_bonus":{"a":"control_lines_bonus","u":"..\/assets\/images\/mobile_control_lines_bonus_lines_bonus.png","s":"4705","x":{"w":371,"h":28},"f":"img","p":"mobile","l":null},"mobile_control_screen_1":{"a":"control_screen_1","u":"..\/assets\/images\/mobile_control_screen_1_bonus_screen.png","s":"104738","x":{"w":331,"h":192},"f":"img","p":"mobile","l":null},"mobile_control_scrollbar_background":{"a":"control_scrollbar_background","u":"..\/assets\/images\/mobile_control_scrollbar_background_slider_vertical.png","s":"93","x":{"w":8,"h":8},"f":"img","p":"mobile","l":null},"mobile_control_scrollbar":{"a":"control_scrollbar","u":"..\/assets\/images\/mobile_control_scrollbar_slider_white.png","s":"93","x":{"w":8,"h":8},"f":"img","p":"mobile","l":null},"mobile_reels_atlas":{"a":"reels_atlas","u":"..\/assets\/images\/mobile_reels_atlas_atlas.png","s":"4165116","x":{"w":2019,"h":2019},"f":"img","p":"mobile","l":null},"mobile_reels_atlasMini":{"a":"reels_atlasMini","u":"..\/assets\/images\/mobile_reels_atlasMini_atlasMini.png","s":"815857","x":{"w":276,"h":1950},"f":"img","p":"mobile","l":null},"mobile_reels_atlasFreespinsDisable":{"a":"reels_atlasFreespinsDisable","u":"..\/assets\/images\/mobile_reels_atlasFreespinsDisable_atlasFreespinsDisable.png","s":"308656","x":{"w":276,"h":975},"f":"img","p":"mobile","l":null},"mobile_reels_reels_animations":{"a":"reels_reels_animations","u":"..\/assets\/images\/mobile_reels_reels_animations_reels_animation.png","s":"101566","x":{"w":296,"h":296},"f":"img","p":"mobile","l":null},"mobile_reels_scatterBlendReel":{"a":"reels_scatterBlendReel","u":"..\/assets\/images\/mobile_reels_scatterBlendReel_MG_reel_FX_Scatter.png","s":"8275","x":{"w":106,"h":257},"f":"img","p":"mobile","l":null},"mobile_reels_bonusBlendReel":{"a":"reels_bonusBlendReel","u":"..\/assets\/images\/mobile_reels_bonusBlendReel_MG_reel_FX_Bonus.png","s":"8402","x":{"w":106,"h":257},"f":"img","p":"mobile","l":null},"mobile_reels_Wild_X2_BlendReel":{"a":"reels_Wild_X2_BlendReel","u":"..\/assets\/images\/mobile_reels_Wild_X2_BlendReel_FS_reel_FX_x2_green.png","s":"5490","x":{"w":91,"h":259},"f":"img","p":"mobile","l":null},"mobile_reels_Wild_X3_BlendReel":{"a":"reels_Wild_X3_BlendReel","u":"..\/assets\/images\/mobile_reels_Wild_X3_BlendReel_FS_reel_FX_x3_red.png","s":"5771","x":{"w":91,"h":259},"f":"img","p":"mobile","l":null},"mobile_reels_Wild_X5_BlendReel":{"a":"reels_Wild_X5_BlendReel","u":"..\/assets\/images\/mobile_reels_Wild_X5_BlendReel_FS_reel_FX_x5_gold.png","s":"5808","x":{"w":91,"h":259},"f":"img","p":"mobile","l":null},"mobile_reels_bonusElementBlend":{"a":"reels_bonusElementBlend","u":"..\/assets\/images\/mobile_reels_bonusElementBlend_bonus_reel_stop.png","s":"24913","x":{"w":80,"h":80},"f":"img","p":"mobile","l":null},"mobile_reels_scatterElementBlend":{"a":"reels_scatterElementBlend","u":"..\/assets\/images\/mobile_reels_scatterElementBlend_scatter_reel_stop.png","s":"25019","x":{"w":75,"h":75},"f":"img","p":"mobile","l":null},"mobile_win_big_win_sprite":{"a":"win_big_win_sprite","u":"..\/assets\/images\/mobile_win_big_win_sprite_big_win_coin.png","s":"134103","x":{"w":311,"h":311},"f":"img","p":"mobile","l":null},"mobile_win_big_":{"a":"win_big_","u":"..\/assets\/images\/mobile_win_big__big_.png","s":"23671","x":{"w":159,"h":94},"f":"img","p":"mobile","l":null},"mobile_win_mega_":{"a":"win_mega_","u":"..\/assets\/images\/mobile_win_mega__mega_.png","s":"44213","x":{"w":298,"h":95},"f":"img","p":"mobile","l":null},"mobile_win_super_":{"a":"win_super_","u":"..\/assets\/images\/mobile_win_super__super_.png","s":"46421","x":{"w":326,"h":96},"f":"img","p":"mobile","l":null},"mobile_win__win":{"a":"win__win","u":"..\/assets\/images\/mobile_win__win__win.png","s":"25308","x":{"w":186,"h":95},"f":"img","p":"mobile","l":null}},"preloader":{"desktop_preloader_logo":{"a":"preloader_logo","u":"..\/assets\/images\/desktop_preloader_logo_boongo_logo.png","s":"17789","x":{"w":762,"h":240},"f":"img","p":"desktop","l":null},"desktop_preloader_progressbar":{"a":"preloader_progressbar","u":"..\/assets\/images\/desktop_preloader_progressbar_progressbar_1.png","s":"16534","x":{"w":339,"h":31},"f":"img","p":"desktop","l":null},"desktop_preloader_progressbar_background":{"a":"preloader_progressbar_background","u":"..\/assets\/images\/desktop_preloader_progressbar_background_progressbar_2.png","s":"7795","x":{"w":348,"h":31},"f":"img","p":"desktop","l":null},"desktop_preloader_background":{"a":"preloader_background","u":"..\/assets\/images\/desktop_preloader_background_start_screen_half_back.jpg","s":"36406","x":{"w":640,"h":720},"f":"img","p":"desktop","l":null},"desktop_preloader_loader":{"a":"preloader_loader","u":"..\/assets\/images\/desktop_preloader_loader_Lucky_line_logo.png","s":"55068","x":{"w":571,"h":114},"f":"img","p":"desktop","l":null},"desktop_preloader_start_screen_arrow":{"a":"preloader_start_screen_arrow","u":"..\/assets\/images\/desktop_preloader_start_screen_arrow_start.png","s":"43771","x":{"w":175,"h":105},"f":"img","p":"desktop","l":null},"desktop_preloader_start_screen_button":{"a":"preloader_start_screen_button","u":"..\/assets\/images\/desktop_preloader_start_screen_button_start.png","s":"43771","x":{"w":175,"h":105},"f":"img","p":"desktop","l":null},"desktop_preloader_star":{"a":"preloader_star","u":"..\/assets\/images\/desktop_preloader_star_star.png","s":"2039","x":{"w":68,"h":67},"f":"img","p":"desktop","l":null},"desktop_preloader_bonus":{"a":"preloader_bonus","u":"..\/assets\/images\/desktop_preloader_bonus_bonus.png","s":"10734","x":{"w":142,"h":142},"f":"img","p":"desktop","l":null},"desktop_preloader_scatter":{"a":"preloader_scatter","u":"..\/assets\/images\/desktop_preloader_scatter_scatter.png","s":"14023","x":{"w":142,"h":142},"f":"img","p":"desktop","l":null},"desktop_preloader_wild_2":{"a":"preloader_wild_2","u":"..\/assets\/images\/desktop_preloader_wild_2_wild_2.png","s":"11368","x":{"w":138,"h":139},"f":"img","p":"desktop","l":null},"desktop_preloader_wild_3":{"a":"preloader_wild_3","u":"..\/assets\/images\/desktop_preloader_wild_3_wild_3.png","s":"11945","x":{"w":137,"h":139},"f":"img","p":"desktop","l":null},"desktop_preloader_wild_5":{"a":"preloader_wild_5","u":"..\/assets\/images\/desktop_preloader_wild_5_wild_5.png","s":"11754","x":{"w":138,"h":139},"f":"img","p":"desktop","l":null},"desktop_preloader_columns_wilds":{"a":"preloader_columns_wilds","u":"..\/assets\/images\/desktop_preloader_columns_wilds_columns_wilds.jpg","s":"50382","x":{"w":453,"h":273},"f":"img","p":"desktop","l":null},"desktop_popup_popup_ok_button":{"a":"popup_popup_ok_button","u":"..\/assets\/images\/desktop_popup_popup_ok_button_popup-ok-button.png","s":"4992","x":{"w":192,"h":25},"f":"img","p":"desktop","l":null},"desktop_popup_popup_normal_button":{"a":"popup_popup_normal_button","u":"..\/assets\/images\/desktop_popup_popup_normal_button_popup-normal-button.png","s":"15038","x":{"w":384,"h":47},"f":"img","p":"desktop","l":null},"desktop_popup_popup_back":{"a":"popup_popup_back","u":"..\/assets\/images\/desktop_popup_popup_back_pop_up_back.png","s":"203626","x":{"w":503,"h":308},"f":"img","p":"desktop","l":null},"desktop_popup_UI_MG_popup_normal":{"a":"popup_UI_MG_popup_normal","u":"..\/assets\/images\/desktop_popup_UI_MG_popup_normal_popup.png","s":"70193","x":{"w":468,"h":276},"f":"img","p":"desktop","l":null},"desktop_popup_UI_MG_popup_system":{"a":"popup_UI_MG_popup_system","u":"..\/assets\/images\/desktop_popup_UI_MG_popup_system_UI_MG_popup_system.png","s":"915","x":{"w":299,"h":127},"f":"img","p":"desktop","l":null},"desktop_popup_popup_shape":{"a":"popup_popup_shape","u":"..\/assets\/images\/desktop_popup_popup_shape_popup_shape.png","s":"8442","x":{"w":162,"h":162},"f":"img","p":"desktop","l":null},"desktop_popup_popup_star":{"a":"popup_popup_star","u":"..\/assets\/images\/desktop_popup_popup_star_popup_star.png","s":"325","x":{"w":18,"h":20},"f":"img","p":"desktop","l":null},"mobile_preloader_logo":{"a":"preloader_logo","u":"..\/assets\/images\/mobile_preloader_logo_boongo_logo.png","s":"17789","x":{"w":762,"h":240},"f":"img","p":"mobile","l":null},"mobile_preloader_loader":{"a":"preloader_loader","u":"..\/assets\/images\/mobile_preloader_loader_start_screen_mobile.jpg","s":"44178","x":{"w":960,"h":540},"f":"img","p":"mobile","l":null},"mobile_preloader_progressbar":{"a":"preloader_progressbar","u":"..\/assets\/images\/mobile_preloader_progressbar_progressbar_1.png","s":"16534","x":{"w":339,"h":31},"f":"img","p":"mobile","l":null},"mobile_preloader_progressbar_background":{"a":"preloader_progressbar_background","u":"..\/assets\/images\/mobile_preloader_progressbar_background_progressbar_2.png","s":"7795","x":{"w":348,"h":31},"f":"img","p":"mobile","l":null},"mobile_popup_popup_ok_button":{"a":"popup_popup_ok_button","u":"..\/assets\/images\/mobile_popup_popup_ok_button_popup-ok-button.png","s":"4992","x":{"w":192,"h":25},"f":"img","p":"mobile","l":null},"mobile_popup_popup_normal_button":{"a":"popup_popup_normal_button","u":"..\/assets\/images\/mobile_popup_popup_normal_button_popup-normal-button.png","s":"15038","x":{"w":384,"h":47},"f":"img","p":"mobile","l":null},"mobile_popup_home_btn":{"a":"popup_home_btn","u":"..\/assets\/images\/mobile_popup_home_btn_home_btn.png","s":"3704","x":{"w":88,"h":88},"f":"img","p":"mobile","l":null},"mobile_popup_popup_border":{"a":"popup_popup_border","u":"..\/assets\/images\/mobile_popup_popup_border_pop_up.png","s":"65878","x":{"w":470,"h":276},"f":"img","p":"mobile","l":null},"mobile_popup_popup_back":{"a":"popup_popup_back","u":"..\/assets\/images\/mobile_popup_popup_back_pop_up_back.png","s":"203626","x":{"w":503,"h":308},"f":"img","p":"mobile","l":null},"mobile_popup_UI_MG_popup_normal":{"a":"popup_UI_MG_popup_normal","u":"..\/assets\/images\/mobile_popup_UI_MG_popup_normal_popup.png","s":"70193","x":{"w":468,"h":276},"f":"img","p":"mobile","l":null},"mobile_popup_UI_MG_popup_system":{"a":"popup_UI_MG_popup_system","u":"..\/assets\/images\/mobile_popup_UI_MG_popup_system_UI_MG_popup_system.png","s":"8003","x":{"w":612,"h":358},"f":"img","p":"mobile","l":null},"mobile_popup_popup_shape":{"a":"popup_popup_shape","u":"..\/assets\/images\/mobile_popup_popup_shape_popup_shape.png","s":"8442","x":{"w":162,"h":162},"f":"img","p":"mobile","l":null},"mobile_popup_popup_star":{"a":"popup_popup_star","u":"..\/assets\/images\/mobile_popup_popup_star_popup_star.png","s":"325","x":{"w":18,"h":20},"f":"img","p":"mobile","l":null}}});$_required.setAudio({"overload":{"ogg":{"au_sp_overload_background":{"a":"au_sp_overload_background","u":"..\/assets\/audio_sprite\/au_sp_overload_background.ogg","s":"1932479","f":"audio","t":false,"p":"common"},"au_sp_overload_main":{"a":"au_sp_overload_main","u":"..\/assets\/audio_sprite\/au_sp_overload_main.ogg","s":"276471","f":"audio","t":false,"p":"common"}},"m4a":{"au_sp_overload_background":{"a":"au_sp_overload_background","u":"..\/assets\/audio_sprite\/au_sp_overload_background.m4a","s":"1936441","f":"audio","t":false,"p":"common"},"au_sp_overload_main":{"a":"au_sp_overload_main","u":"..\/assets\/audio_sprite\/au_sp_overload_main.m4a","s":"332159","f":"audio","t":false,"p":"common"}},"mp3":{"au_sp_overload_background":{"a":"au_sp_overload_background","u":"..\/assets\/audio_sprite\/au_sp_overload_background.mp3","s":"1969049","f":"audio","t":false,"p":"common"},"au_sp_overload_main":{"a":"au_sp_overload_main","u":"..\/assets\/audio_sprite\/au_sp_overload_main.mp3","s":"593128","f":"audio","t":false,"p":"common"}},"ac3":{"au_sp_overload_background":{"a":"au_sp_overload_background","u":"..\/assets\/audio_sprite\/au_sp_overload_background.ac3","s":"1968308","f":"audio","t":false,"p":"common"},"au_sp_overload_main":{"a":"au_sp_overload_main","u":"..\/assets\/audio_sprite\/au_sp_overload_main.ac3","s":"592388","f":"audio","t":false,"p":"common"}}},"main":{"ogg":{"au_sp_main_main":{"a":"au_sp_main_main","u":"..\/assets\/audio_sprite\/au_sp_main_main.ogg","s":"1120086","f":"audio","t":false,"p":"common"}},"m4a":{"au_sp_main_main":{"a":"au_sp_main_main","u":"..\/assets\/audio_sprite\/au_sp_main_main.m4a","s":"1316388","f":"audio","t":false,"p":"common"}},"mp3":{"au_sp_main_main":{"a":"au_sp_main_main","u":"..\/assets\/audio_sprite\/au_sp_main_main.mp3","s":"2305088","f":"audio","t":false,"p":"common"}},"ac3":{"au_sp_main_main":{"a":"au_sp_main_main","u":"..\/assets\/audio_sprite\/au_sp_main_main.ac3","s":"2304348","f":"audio","t":false,"p":"common"}}}});$_component_instances.setAll({"BackgroundEvent_background_common":"$_background_common_e_backgroundevent","BackgroundHandler_background_common":"$_background_common_h_background","PopupController_popup_common":"$_popup_common_c_popup","PopupInitEvent_popup_common":"$_popup_common_e_popupinitevent","PopupViewHandler_popup_common":"$_popup_common_h_popupview","ProtocolLuckyController_protocol_common":"$_protocol_common_c_protocollucky","ProtocolLuckyEvent_protocol_common":"$_protocol_common_e_protocolluckyevent","BonusGameController_bonus_common":"$_bonus_common_c_bonusgame","BonusGameEvent_bonus_common":"$_bonus_common_e_bonusgameevent","BonusGameViewHandler_bonus_common":"$_bonus_common_h_bonusgameview","FreespinsController_freespins_common":"$_freespins_common_c_freespins","FreespinsEvent_freespins_common":"$_freespins_common_e_freespinsevent","FreespinsViewHandler_freespins_common":"$_freespins_common_h_freespinsview","WinController_win_common":"$_win_common_c_win","WinCommonEvent_win_common":"$_win_common_e_wincommonevent","WinCommonViewHandler_win_common":"$_win_common_h_wincommonview","AudioController_audio_common":"$_audio_common_c_audio","AudioEvents_audio_common":"$_audio_common_e_audio","ControlCommonController_control_common":"$_control_common_c_controlcommon","PreloaderController_preloader_common":"$_preloader_common_c_preloader","PreloaderInitEvent_preloader_common":"$_preloader_common_e_preloaderinitevent","PreloaderCommonViewHandler_preloader_common":"$_preloader_common_h_preloadercommonview","InitReels_reels_common":"$_reels_common_e_initreels","ReelHandler_reels_common":"$_reels_common_h_reel","LinesEvent_lines_common":"$_lines_common_e_linesevent","LinesViewHandler_lines_common":"$_lines_common_h_linesview","BackgroundEvent_background_desktop":"$_background_desktop_e_backgroundevent","ControlDesktopController_control_desktop":"$_control_desktop_c_controldesktop","ControlDesktopEvent_control_desktop":"$_control_desktop_e_controldesktopevent","ControlDesktopViewHandler_control_desktop":"$_control_desktop_h_controldesktopview","InitReels_reels_desktop":"$_reels_desktop_e_initreels","DesktopReelHandler_reels_desktop":"$_reels_desktop_h_desktopreel","SettingsDesktopController_settings_desktop":"$_settings_desktop_c_settingsdesktop","SettingsDesktopEvent_settings_desktop":"$_settings_desktop_e_settingsdesktopevent","SettingsDesktopViewHandler_settings_desktop":"$_settings_desktop_h_settingsdesktopview","LinesEvent_lines_desktop":"$_lines_desktop_e_linesevent","DesktopLinesViewHandler_lines_desktop":"$_lines_desktop_h_desktoplinesview","BonusGameEvent_bonus_desktop":"$_bonus_desktop_e_bonusgameevent","DesktopBonusGameViewHandler_bonus_desktop":"$_bonus_desktop_h_desktopbonusgameview","PreloaderInitEvent_preloader_desktop":"$_preloader_desktop_e_preloaderinitevent","PreloaderDesktopViewHandler_preloader_desktop":"$_preloader_desktop_h_preloaderdesktopview","PaytableDesktopController_paytable_desktop":"$_paytable_desktop_c_paytabledesktop","PaytableDesktopEvent_paytable_desktop":"$_paytable_desktop_e_paytabledesktopevent","PaytableDesktopViewHandler_paytable_desktop":"$_paytable_desktop_h_paytabledesktopview","WinDesktopEvent_win_desktop":"$_win_desktop_e_windesktopevent","winDesktopViewHandler_win_desktop":"$_win_desktop_h_windesktopview","PopupInitEvent_popup_desktop":"$_popup_desktop_e_popupinitevent","DesktopPopupViewHandler_popup_desktop":"$_popup_desktop_h_desktoppopupview","BackgroundEvent_background_mobile":"$_background_mobile_e_backgroundevent","BackgroundMobileHandler_background_mobile":"$_background_mobile_h_backgroundmobile","PreloaderInitEvent_preloader_mobile":"$_preloader_mobile_e_preloaderinitevent","ControlMobileController_control_mobile":"$_control_mobile_c_controlmobile","ControlMobileEvent_control_mobile":"$_control_mobile_e_controlmobileevent","ControlMobileViewHandler_control_mobile":"$_control_mobile_h_controlmobileview","InitReels_reels_mobile":"$_reels_mobile_e_initreels","MobileReelHandler_reels_mobile":"$_reels_mobile_h_mobilereel","LinesEvent_lines_mobile":"$_lines_mobile_e_linesevent","MobileLinesViewHandler_lines_mobile":"$_lines_mobile_h_mobilelinesview","BonusGameEvent_bonus_mobile":"$_bonus_mobile_e_bonusgameevent","MobileBonusGameViewHandler_bonus_mobile":"$_bonus_mobile_h_mobilebonusgameview","FreespinsEvent_freespins_mobile":"$_freespins_mobile_e_freespinsevent","FreespinsMobileViewHandler_freespins_mobile":"$_freespins_mobile_h_freespinsmobileview","SettingsMobileController_settings_mobile":"$_settings_mobile_c_settingsmobile","SettingsMobileEvent_settings_mobile":"$_settings_mobile_e_settingsmobileevent","SettingsMobileViewHandler_settings_mobile":"$_settings_mobile_h_settingsmobileview","WinMobileEvent_win_mobile":"$_win_mobile_e_winmobileevent","winMobileViewHandler_win_mobile":"$_win_mobile_h_winmobileview","PopupInitEvent_popup_mobile":"$_popup_mobile_e_popupinitevent","MobilePopupViewHandler_popup_mobile":"$_popup_mobile_h_mobilepopupview"});$_settingService=new GameSettingsService({"title":"Secret of Nefertiti","variablePageSettings":"$_args","exit_url":"http:\/\/google.com.ua","actionCurlUrl":"http:\/\/localhost\/game_kernel_v2_creates\/app\/curl_request.php?url={0}","endpoint":"http:\/\/betman-sharks.dev.booongo.com\/gs\/{0}\/{1}\/prod\/","alias":"secret_of_nefertiti","token":"","lang":"en","max_fails":3,"max_timeout":3000,"language":"en"});$_stateMachine=new StateMachine();$_stateMachine.initOrders([["STATE_BONUS_INTRO","STATE_BONUS_IDLE","STATE_BONUS_RESULT","STATE_BONUS_OUTRO"],["STATE_FREE_SPINS_INTRO","STATE_FREE_SPINS_SPINNING","STATE_FREE_SPINS_RESULT","STATE_FREE_SPINS_OUTRO"],["STATE_LOADING","START_ROUTER"],["STATE_SPINS_INTRO","STATE_SPINS_IDLE","STATE_SPINS_SPINNING","STATE_SPINS_RESULT","STATE_SPINS_OUTRO"]]);$_stateMachine.initStates({"START_ROUTER":[StartState,"protocol"],"STATE_BONUS_INTRO":[BonusIntroState,"bonus"],"STATE_BONUS_IDLE":[BonusIdleState,"bonus"],"STATE_BONUS_RESULT":[BonusResultState,"bonus"],"STATE_BONUS_OUTRO":[BonusOutroState,"bonus"],"STATE_FREE_SPINS_INTRO":[FreeSpinIntroState,"freespins"],"STATE_FREE_SPINS_ADDED":[FreeSpinAddedState,"freespins"],"STATE_FREE_SPINS_SPINNING":[FreeSpinSpinninsState,"freespins"],"STATE_FREE_SPINS_RESULT":[FreeSpinResultState,"freespins"],"STATE_FREE_SPINS_OUTRO":[FreeSpinOutroState,"freespins"],"STATE_LOADING":[StateLoading,"preloader"],"STATE_SPINS_INTRO":[SpinIntroState,"spin"],"STATE_SPINS_IDLE":[SpinIdleState,"spin"],"STATE_SPINS_SPINNING":[SpinSpinningState,"spin"],"STATE_SPINS_RESULT":[SpinResultState,"spin"],"STATE_SPINS_OUTRO":[SpinOutroState,"spin"]});$_stateMachine.setRouter(new RouterState());$_stateMachine.setStateComponent("FREEBETS",new FreeBetsStateComponent());$_signal_init.setRouters({"mobile":{"signals":{"background.main":{"m":[["$_background_mobile_h_backgroundmobile.showMainBackground"]]},"background.freespins":{"m":[["$_background_mobile_h_backgroundmobile.showFreeSpinBackground"]]},"background.bonus":{"m":[["$_background_mobile_h_backgroundmobile.showBonusBackground"]]},"popup.popups.bonusStart":{"m":[["$_popup_mobile_e_popupinitevent.showPopupBonusStartEvent"]]},"popup.popups.freeSpinStart":{"a":["countFreeSpins"],"m":[["$_popup_mobile_e_popupinitevent.showPopupFreeSpinsStartEvent",[0]]]},"popup.popups.freeSpinAdd":{"a":["countAdd"],"m":[["$_popup_mobile_e_popupinitevent.showPopupFreeSpinsAdditionalEvent",[0]]]},"popup.popups.freeSpinFinish":{"a":["amountWin","state"],"m":[["$_popup_mobile_e_popupinitevent.showPopupFreeSpinsFinishEvent",[0,1]]]},"popup.popups.autoSpinFinish":{"a":["config"],"m":[["$_popup_mobile_e_popupinitevent.showPopupAutoSpinFinishEvent",[0]]]},"popup.popups.showCustomPopup":{"a":["data"],"m":[["$_popup_mobile_e_popupinitevent.showCustomPopupEvent",[0]]]},"popup.popups.systemInfo":{"a":["data"],"m":[["$_popup_mobile_e_popupinitevent.showSystemInfoPopupEvent",[0]]]},"popup.popups.systemError":{"a":["data"],"m":[["$_popup_mobile_e_popupinitevent.showSystemErrorPopupEvent",[0]]]},"popup.popups.emptyBlur":{"m":[["$_popup_mobile_h_mobilepopupview.showEmptyBlur"]]},"popup.popups.show":{"a":["type","object","showBG","resolve"],"m":[["$_popup_mobile_h_mobilepopupview.showPopupLayer",[0,1,2,3]]]},"popup.popups.hide":{"a":["type","object","hideBG","resolve"],"m":[["$_popup_mobile_h_mobilepopupview.hidePopupLayer",[0,1,2,3]]]},"popup.errors.system":{"a":["data"],"m":[["$_popup_mobile_e_popupinitevent.showSystemErrorPopupEvent",[0]]]},"popup.errors.hideSystem":{"a":["data"],"m":[["$_popup_mobile_h_mobilepopupview.hideSystemPopup",[0]]]},"popup.errors.hideAllSystem":{"m":[["$_popup_mobile_h_mobilepopupview.hideAllSystemPopups"]]},"popup.loading.show":{"m":[["$_popup_mobile_h_mobilepopupview.showLoadingAnimation"]]},"popup.loading.hide":{"m":[["$_popup_mobile_h_mobilepopupview.hideLoadingAnimation"]]},"protocol.init":{"m":[["$_protocol_common_c_protocollucky.authAction"]]},"protocol.checkInit":{"m":[["$_protocol_common_c_protocollucky.checkInitProtocol"]]},"protocol.loaded":{"s":[["GameActionService.setActivate"]],"x":[["lines.initRestoreWin"]],"m":[["$_protocol_common_c_protocollucky.readyGame"]],"f":[["gameLoaded",[true]]],"o":["flags","methods","services","executeStates"]},"protocol.async.restartSession":{"m":[["$_protocol_common_c_protocollucky.restartSession"]]},"protocol.async.changeBalance":{"x":[["control.async.changeBalance"]]},"protocol.freebets.reload":{"s":[["AutoPlayService.suspend"]],"m":[["$_protocol_common_c_protocollucky.updateStartAction"]]},"protocol.freebets.stop":{"a":["bet_per_line","left_spins","lines","total_bet","total_spins","total_win"],"x":[["control.freebets.init",[1]],["control.freebets.change",[0,1,2,3,4,5]]]},"protocol.freebets.remove":{"x":[["lines.ended.execute"]]},"protocol.freebets.check":{"m":[["$_protocol_common_c_protocollucky.checkFreeBets"]]},"protocol.ready.spins":{"x":[["+protocol.spins.init"]]},"protocol.ready.respin":{"x":[["+protocol.spins.init"],["protocol.respins.play"]]},"protocol.ready.freebets":{"a":["bet_per_line","left_spins","lines","total_bet","total_spins","total_win"],"x":[["protocol.freebets.stop",[0,1,2,3,4,5]]]},"protocol.ready.freespin_init":{"x":[["+protocol.freespin_init.init"]]},"protocol.ready.freespins":{"x":[["protocol.spins.init"],["+protocol.freespin.restore"]]},"protocol.ready.freespins_stops":{"x":[["protocol.freespin.init"],["+protocol.freespins_stops.init"]]},"protocol.ready.bonus":{"x":[["protocol.spins.init"],["bonus.game.restore"]]},"protocol.ready.bonus_init":{"x":[["protocol.spins.init"],["+protocol.bonus_init.init"]]},"protocol.ready.bonus_stop":{"x":[["protocol.spins.init"],["protocol.bonus.init"],["+protocol.bonus_stop.init"]]},"protocol.spin.init":{"x":[["protocol.spins.init"]]},"protocol.spins.init":{"reducers":{"type":2,"execute":{".freespins.stopAnimation":{"x":[["control.freespins.showPopupEnd"],["audio.background.change",["spins"]]]},".freespin_stops.sendStop":{"resume":true,"x":[["settings.toolbar.fastMessage",["fast_start_game_message"]]]},"control.freebets.nextGameSession":{"resume":true,"indexHistory":[0,1,2],"x":[["reels.updateReelsSets"]]}}},"s":[["AutoPlayService.resume"]],"x":[["reels.spins.init"],["lines.spins.init"],["control.spins.init"],["background.main"],["audio.background.change",["spins"]]],"f":[["freeSpinsEnabled",[false]]],"o":["services","flags","executeStates"]},"protocol.spins.play":{"m":[["$_protocol_common_c_protocollucky.spinSendAction"]]},"protocol.spins.stop":{"x":[["reels.spins.stop"]]},"protocol.spins.end":{"x":[["reels.spins.end"],["lines.spins.end"]]},"protocol.autoSpins.play":{"m":[["$_protocol_common_c_protocollucky.spinSendAction"]]},"protocol.autoSpins.stop":{"x":[["+reels.autoSpins.stop"]]},"protocol.respin.init":{"x":[["protocol.spins.init"],["protocol.respins.init"]]},"protocol.respins.init":{"x":[["+control.respins.play"]]},"protocol.respins.play":{"m":[["$_protocol_common_c_protocollucky.spinSendAction",["respin"]]]},"protocol.respins.stop":{"x":[["reels.respins.stop"]]},"protocol.freespin_init.init":{"reducers":{"type":2,"execute":{"protocol.spins.stop":[],".spins.stopAnimation":{"x":[["freespins.intro.init"]]},"reels.autoSpins.stopAnimation":{"s":[["AutoPlayService.suspend"]],"x":[["freespins.intro.init"]],"o":["services","executeStates"]},"reels.respins.stopAnimation":{"x":[["freespins.intro.init"]]},"control.freebets.nextGameSession":{"indexHistory":[0,1,2],"x":[["freespins.intro.init"]]}}},"x":[["freespins.intro.init"]]},"protocol.freespin_init.play":{"a":["symbolID"],"m":[["$_protocol_common_c_protocollucky.freeSpinInitSendAction",[0]]]},"protocol.freespin_init.stop":{"x":[["freespins.intro.stop"]]},"protocol.freespin.init":{"reducers":{"type":2,"execute":{".spins.stopAnimation":{"x":[["freespins.game.init"]]},"reels.respins.stopAnimation":{"x":[["control.freespins.play"]]},"control.freebets.nextGameSession":{"indexHistory":[0,1,2],"x":[["lines.ended.clear"],["reels.updateReelsSets"],["freespins.game.resume"]],"f":[["freeSpinsEnabled",[true]]],"o":["flags","executeStates","services"]}}},"x":[["freespins.game.init"]]},"protocol.freespin.play":{"m":[["$_protocol_common_c_protocollucky.freespinSendAction"]]},"protocol.freespin.stop":{"x":[["freespins.game.stop"]]},"protocol.freespin.restore":{"x":[["freespins.game.restore"]]},"protocol.freespin_stop.init":{"x":[["freespins.outro.init"]]},"protocol.freespin_stop.play":{"m":[["$_protocol_common_c_protocollucky.freeSpinEndSendAction"]]},"protocol.freespin_stop.stop":{"x":[["freespins.outro.end"]]},"protocol.bonus_init.init":{"reducers":{"type":2,"execute":{"reels.autoSpins.stopAnimation":{"s":[["AutoPlayService.suspend"]],"x":[["bonus.intro.init"]],"o":["services","executeStates"]},"control.freebets.nextGameSession":{"indexHistory":[0,1,2],"x":[["protocol.spin.init"],["bonus.intro.init"]]}}},"x":[["bonus.intro.init"]]},"protocol.bonus_init.play":{"m":[["$_protocol_common_c_protocollucky.bonusStartSendAction"]]},"protocol.bonus_init.stop":{"x":[["bonus.intro.end"]]},"protocol.bonus.init":{"reducers":{"type":2,"execute":{"reels.spins.stopAnimation":{"indexHistory":[1],"x":[["bonus.game.resume"]]},"reels.autoSpins.stopAnimation":{"s":[["AutoPlayService.suspend"]],"x":[["bonus.game.resume"]],"o":["services","executeStates"]},"control.freebets.nextGameSession":{"x":[["bonus.game.resume"]]}}},"x":[["bonus.game.init"]]},"protocol.bonus.play":{"a":["choose"],"m":[["$_protocol_common_c_protocollucky.bonusSendAction",[0]]]},"protocol.bonus.stop":{"x":[["bonus.game.play"]]},"protocol.bonus.restore":{"x":[["bonus.game.restore"]]},"protocol.bonus_stop.init":{"x":[["bonus.outro.init"]]},"protocol.bonus_stop.play":{"m":[["$_protocol_common_c_protocollucky.bonusEndSendAction"]]},"protocol.bonus_stop.stop":{"x":[["bonus.outro.end"]]},"protocol.gamble.start":{"m":[["ProtocolController::sendStartDoubleAction"]]},"protocol.gamble.choose":{"a":["cardID"],"m":[["ProtocolController::sendPlayDoubleAction",[0]]]},"bonus.intro.init":{"m":[["$_bonus_common_c_bonusgame.startIntro"]],"o":["methods"]},"bonus.intro.end":{"m":[["$_bonus_common_c_bonusgame.endIntro"]]},"bonus.game.init":{"x":[["control.bonus.init"],["reels.bonus.init"],["lines.bonus.init"],["audio.background.change",["bonus"]]],"m":[["$_bonus_mobile_h_mobilebonusgameview.initBonusGame"]],"o":["executeStates","methods"]},"bonus.game.start":{"m":[["$_bonus_common_c_bonusgame.startGame"]]},"bonus.game.play":{"x":[["control.bonus.picks"]],"m":[["$_bonus_mobile_h_mobilebonusgameview.showResult"]]},"bonus.game.restore":{"x":[["bonus.game.init"]],"m":[["$_bonus_common_c_bonusgame.restoreGame"]],"o":["executeStates","methods"]},"bonus.outro.init":{"m":[["$_bonus_common_c_bonusgame.startOutro"]]},"bonus.outro.end":{"x":[["control.bonus.end"],["reels.bonus.end"],["lines.bonus.end"]],"m":[["$_bonus_common_c_bonusgame.endOutro"]],"o":["executeStates","methods"]},"freespins.intro.init":{"x":[["freespins.game.init"],["control.freespins.init"]],"m":[["$_freespins_common_c_freespins.startIntro"]],"o":["methods","executeStates"]},"freespins.intro.play":{"a":["symbolID"],"x":[["protocol.freespin_init.play",[0]]]},"freespins.intro.stop":{"x":[["control.freespins.init"]],"m":[["$_freespins_common_c_freespins.endIntro"]]},"freespins.game.init":{"s":[["TickerTapeService.freeSpinGameInfo"]],"x":[["control.freespins.init"],["reels.freespin.init"],["lines.freespins.init"],["background.freespins"],["audio.background.change",["freespins"]]],"m":[["$_freespins_mobile_h_freespinsmobileview.showLayout"],["$_freespins_mobile_h_freespinsmobileview.showSelectedHeader"]],"f":[["freeSpinsEnabled",[true]]],"o":["flags","executeStates","methods","services"]},"freespins.game.start":{"m":[["$_freespins_common_c_freespins.startGame"]]},"freespins.game.play":{"s":[["SoundService.stopGroup",["main"]],["SoundService.play",["audio_freespin_numbers"]],["SoundService.play",["audio_reel_rotate",null,{"loop":true}]]],"x":[["reels.freespin.spin"],["control.freespins.play"],["lines.spin.start"],["settings.spin.start"],["+protocol.freespin.play"]],"e":[["spinAction"]]},"freespins.game.stop":{"x":[["control.freespins.stop"],["reels.freespin.stop"]]},"freespins.game.wait":{"m":[["$_freespins_common_c_freespins.checkFreeSpinEnd"]]},"freespins.game.restore":{"x":[["freespins.game.init"]],"m":[["$_freespins_common_c_freespins.restoreGame"]],"o":["executeStates","methods"]},"freespins.outro.init":{"m":[["$_freespins_common_c_freespins.startOutro"]]},"freespins.outro.end":{"m":[["$_freespins_common_c_freespins.endOutro"]]},"freespins.initLayout":{"m":[["$_freespins_mobile_h_freespinsmobileview.initHandler"]]},"audio.lineAudio.one":{"a":["winLine","hasWild","resolve"],"m":[["$_audio_common_c_audio.playLineCombination",[0,1,2]]]},"audio.lineAudio.max":{"a":["winLines","hasWild","resolve"],"m":[["$_audio_common_c_audio.playMaxOfLineCombination",[0,1,2]]]},"audio.lineAudio.bonusLine":{"a":["symbolID","resolve"],"m":[["$_audio_common_c_audio.playLineBonusCombination",[0,1]]]},"audio.play.normal":{"a":["name","resolve","volume"],"m":[["$_audio_common_c_audio.playSound",[0,1,2]]]},"audio.play.loop":{"a":["name","resolve","volume"],"m":[["$_audio_common_c_audio.playSound",[0,1,2,0]]]},"audio.background.change":{"a":["action"],"m":[["$_audio_common_c_audio.changeBackgroundSound",[0]]]},"audio.background.fadeIn":{"a":["resolve"],"m":[["$_audio_common_c_audio.backgroundSoundFadeIn",[0]]]},"audio.background.fadeOut":{"a":["resolve","volume"],"m":[["$_audio_common_c_audio.backgroundSoundFadeOut",[0,1]]]},"preloader.startLoading":{"x":[["protocol.init"]],"e":[["startLoading"]]},"preloader.endPreload":{"m":[["$_preloader_common_c_preloader.readyInc"]]},"preloader.initGame":{"x":[["popup.errors.hideSystem"]],"m":[["$_preloader_common_c_preloader.readyInc"]]},"preloader.ready":{"e":[["initGame",[true]]],"f":[["gameReady",[true]]],"o":["flags","events"]},"preloader.ready_":{"x":[["reels.init"],["lines.init"],["control.init"],["popup.init"],["freespins.initLayout"],["bonus.initLayout"]],"m":[["$_preloader_common_h_preloadercommonview.hide"]],"e":[["initGame",[true]]],"f":[["gameReady",[true]]],"o":["flags","services","methods","events","executeStates"]},"reels.default":{"m":[["$_reels_mobile_h_mobilereel.initGameReels"]]},"reels.defaultBackground":{"x":[["background.main"]],"m":[["$_reels_mobile_h_mobilereel.initDefaultBackground"]]},"reels.updateReelsSets":{"m":[["$_reels_mobile_h_mobilereel.updateReelsSets"]]},"reels.spins.init":{"m":[["$_reels_mobile_h_mobilereel.showLayout"],["$_reels_mobile_h_mobilereel.initDefaultBackground"]]},"reels.spins.spin":{"m":[["$_reels_mobile_h_mobilereel.startReels"]]},"reels.spins.fastStop":{"m":[["$_reels_mobile_h_mobilereel.stopReels"]]},"reels.spins.stop":{"m":[["$_reels_mobile_h_mobilereel.stopReels"]]},"reels.spins.stopAnimation":{"reducers":{"type":2,"execute":{"protocol.freebets.reload":{"resume":true,"indexHistory":[1,2,3],"x":[["control.freebets.end"]]}}},"x":[["control.spin.stop"],["win.lines.checkBigWin",["!lines.spin.stop"]],["settings.spin.stop"],["protocol.freebets.check"]],"m":[["$_reels_mobile_h_mobilereel.setWinElements"]]},"reels.spins.end":{"x":[["paytable.hideMiniPaytable"]],"m":[["$_reels_mobile_h_mobilereel.hideLayout"]]},"reels.respins.spin":{"m":[["$_reels_mobile_h_mobilereel.startRespinReels"]]},"reels.respins.stop":{"m":[["$_reels_mobile_h_mobilereel.stopReels"]]},"reels.respins.stopAnimation":{"x":[["win.lines.checkBigWin",["!lines.respins.stop"]],["control.respins.stop"]],"m":[["$_reels_mobile_h_mobilereel.stopRespinReels"]]},"reels.freespin.init":{"m":[["$_reels_mobile_h_mobilereel.showLayout"],["$_reels_mobile_h_mobilereel.showFreeSpinBackground"]]},"reels.freespin.spin":{"m":[["$_reels_mobile_h_mobilereel.startReels"]]},"reels.freespin.stop":{"m":[["$_reels_mobile_h_mobilereel.stopReels"]]},"reels.freespin.stopAnimation":{"x":[["control.freespins.stop"],["win.lines.checkBigWin",["!lines.freespins.stop"]]],"m":[["$_reels_mobile_h_mobilereel.setWinElements"]]},"reels.freespin.end":{"m":[["$_reels_mobile_h_mobilereel.hideFreeSpinBackground"]]},"reels.bonus.init":{"x":[["paytable.hideMiniPaytable"]],"m":[["$_reels_mobile_h_mobilereel.hideLayout"]]},"reels.bonus.end":{"x":[["reels.spins.init"]]},"reels.autoSpins.spin":{"m":[["$_reels_mobile_h_mobilereel.startReels"]]},"reels.autoSpins.fastStop":{"m":[["$_reels_mobile_h_mobilereel.stopReels"]]},"reels.autoSpins.stop":{"m":[["$_reels_mobile_h_mobilereel.stopReels"]]},"reels.autoSpins.stopAnimation":{"reducers":{"type":2,"execute":{"protocol.freebets.reload":{"resume":true,"indexHistory":[1,2,3],"x":[["control.freebets.end"]]}}},"x":[["control.autoSpins.stop"],["win.lines.checkBigWin",["!lines.autoSpins.stop"]],["protocol.freebets.check"]],"m":[["$_reels_mobile_h_mobilereel.setWinElements"]]},"reels.sounds.stopReel":{"a":["number"],"m":[["$_reels_mobile_h_mobilereel.stopReelSound",[0]]]},"lines.initRestoreWin":{"m":[["$_lines_mobile_h_mobilelinesview.playStartWinLines"]]},"lines.hideLines":{"a":["isQSTrigger"],"m":[["$_lines_mobile_h_mobilelinesview.hideAllWinLines",[0]]]},"lines.interruptAnimations":{"m":[["$_lines_mobile_h_mobilelinesview.interruptAnimations"]]},"lines.showNext":{"m":[["$_lines_mobile_h_mobilelinesview.showNextWinLine"]]},"lines.showAllWinLines":{"m":[["$_lines_mobile_h_mobilelinesview.showAllWinLines"]]},"lines.enableLines":{"m":[["$_lines_mobile_h_mobilelinesview.enableBetLinesShow"]]},"lines.ended.subscribe":{"a":["executeWaitState"],"m":[["$_lines_mobile_h_mobilelinesview.subscribeEnded",[0]]]},"lines.ended.execute":{"m":[["$_lines_mobile_h_mobilelinesview.checkAnimationEnded"]]},"lines.ended.clear":{"m":[["$_lines_mobile_h_mobilelinesview.clearAnimationEnded"]]},"lines.spin.start":{"m":[["$_lines_mobile_h_mobilelinesview.startSpinAction"]]},"lines.spin.stop":{"m":[["$_lines_mobile_h_mobilelinesview.stopSpinAction"]]},"lines.spins.init":{"m":[["$_lines_mobile_h_mobilelinesview.showLayout"],["$_lines_mobile_h_mobilelinesview.checkBetLinesShow"],["$_lines_mobile_h_mobilelinesview.checkAnimationEnded"]]},"lines.spins.end":{"m":[["$_lines_mobile_h_mobilelinesview.hideLayout"]]},"lines.freespins.init":{"m":[["$_lines_mobile_h_mobilelinesview.showLayout"]]},"lines.freespins.stop":{"m":[["$_lines_mobile_h_mobilelinesview.stopFreeSpinsAction"]]},"lines.freespins.end":{"m":[["$_lines_mobile_h_mobilelinesview.hideLayout"]]},"lines.autoSpins.init":{"m":[["$_lines_mobile_h_mobilelinesview.showLayout"]]},"lines.autoSpins.stop":{"m":[["$_lines_mobile_h_mobilelinesview.stopAutoSpinAction"]]},"lines.autoSpins.end":{"m":[["$_lines_mobile_h_mobilelinesview.hideLayout"]]},"lines.bonus.init":{"m":[["$_lines_mobile_h_mobilelinesview.hideLayout"]]},"lines.bonus.end":{"m":[["$_lines_mobile_h_mobilelinesview.showLayout"],["$_lines_mobile_h_mobilelinesview.enableBetLinesShow"]]},"lines.respins.stop":{"m":[["$_lines_mobile_h_mobilelinesview.stopRespinAction"]]},"lines.respins.next":{"s":[["GameActionService.next",["play","respins"]]]},"control.async.wait":[],"control.async.changeBalance":{"m":[["$_control_mobile_h_controlmobileview.changeBalanceValue"]]},"control.spin.play":{"s":[["SoundService.stopGroup",["main"]],["SoundService.play",["audio_spin_mbet"]],["SoundService.play",["audio_reel_rotate",null,{"loop":true}]]],"x":[["+protocol.spins.play"],["reels.spins.spin"],["lines.spin.start"],["settings.toolbar.fastMessage",["fast_click_spin_message"]]],"m":[["$_control_mobile_h_controlmobileview.changeWinValue",[null]],["$_control_mobile_h_controlmobileview.changeBalanceValueBeforeSpin"],["$_control_mobile_h_controlmobileview.hideSpinButton"],["$_control_mobile_h_controlmobileview.hideSettingsButton"]],"e":[["spinAction"]]},"control.spin.stop":{"s":[["SoundService.stop",["audio_reel_rotate"]]],"m":[["$_control_mobile_h_controlmobileview.changeWinValue"],["$_control_mobile_h_controlmobileview.changeBalanceValue"],["$_control_mobile_c_controlmobile.checkButtonsActive"]]},"control.spin.fastStop":[],"control.spin.quickSpinOn":[],"control.spin.quickSpinOff":[],"control.spin.wait":[],"control.spins.init":{"s":[["TickerTapeService.spinGameInfo"]],"x":[["background.main"],["control.freespins.hide"],["settings.toolbar.fastMessage",["fast_click_spin_message"]]],"m":[["$_control_mobile_h_controlmobileview.hideFreePanel"],["$_control_mobile_h_controlmobileview.showAdditionalButtons"],["$_control_mobile_h_controlmobileview.enableAutospinButton"],["$_control_mobile_h_controlmobileview.enableAllButtons"],["$_control_mobile_c_controlmobile.detectAutoSpins"],["$_control_mobile_c_controlmobile.checkButtonsActive"]]},"control.spins.stop":{"x":[["protocol.spins.stop"]]},"control.spins.wait":{"reducers":{"type":2,"execute":{"protocol.spins.init":{"resume":true,"x":[["settings.toolbar.fastMessage",["fast_start_game_message"]]]}}},"m":[["$_control_mobile_c_controlmobile.checkSpinEnd"]]},"control.respins.play":{"s":[["SoundService.stopGroup",["main"]],["SoundService.play",["audio_reel_rotate",null,{"loop":true}]]],"x":[["+protocol.respins.play"],["reels.respins.spin"],["lines.spin.start"],["settings.spin.start"]],"m":[["$_control_mobile_h_controlmobileview.hideSettingsButton"],["$_control_mobile_h_controlmobileview.changeWinValue"]],"e":[["spinAction"]]},"control.respins.stop":{"s":[["SoundService.stop",["audio_reel_rotate"]]],"m":[["$_control_mobile_h_controlmobileview.addWinValue"],["$_control_mobile_h_controlmobileview.changeWinValue"],["$_control_mobile_h_controlmobileview.changeBalanceValue"],["$_control_mobile_h_controlmobileview.enableAllButtons"],["$_control_mobile_c_controlmobile.checkButtonsActive"]]},"control.respins.wait":{"reducers":{"type":2,"execute":{"protocol.respins.init":{"resume":true,"indexHistory":[4,5],"x":[["control.respins.end"]]}}},"x":[["lines.enableLines"]],"m":[["$_control_mobile_h_controlmobileview.enableAllButtons"],["$_control_mobile_c_controlmobile.detectAutoSpins"],["$_control_mobile_c_controlmobile.detectFreeSpins"]]},"control.respins.end":{"m":[["$_control_mobile_h_controlmobileview.enableAllButtons"],["$_control_mobile_h_controlmobileview.changeWinFreeBets"]]},"control.freebets.init":{"a":["count"],"m":[["$_control_mobile_h_controlmobileview.initFreeBets",[0]]]},"control.freebets.change":{"a":["bet_per_line","left_spins","lines","total_bet","total_spins","total_win"],"x":[["settings.toolbar.staticFreeBetMessage",[1]]],"m":[["$_control_mobile_h_controlmobileview.changeWinFreeBets",[5]]]},"control.freebets.end":{"x":[["lines.ended.subscribe",["control.freebets.hide"]]]},"control.freebets.hide":{"s":[["SoundService.stopGroup",["main"]]],"m":[["$_control_mobile_h_controlmobileview.hideFreeBets"]]},"control.freebets.wait":{"reducers":{"type":2,"execute":{"protocol.freebets.reload":{"x":[["lines.ended.clear"],["control.freebets.hide"]]}}},"x":[["control.autoSpins.stopAutoSpins"]]},"control.freebets.nextGameSession":{"s":[["GameActionService.next"]]},"control.freespins.init":{"s":[["TickerTapeService.freeSpinGameInfo"]],"m":[["$_control_mobile_h_controlmobileview.hideAdditionalButtons"],["$_control_mobile_h_controlmobileview.changeTotalBetValue"],["$_control_mobile_h_controlmobileview.disableAutospinButton"],["$_control_mobile_h_controlmobileview.hideSpinButton"],["$_control_mobile_h_controlmobileview.changeWinValue",[null]],["$_control_mobile_h_controlmobileview.changeTotalWinValue"],["$_control_mobile_h_controlmobileview.showFreePanel"]]},"control.freespins.start":{"m":[["$_control_mobile_h_controlmobileview.changeTotalWinValue",[true]],["$_control_mobile_c_controlmobile.startPlayFreeSpins"],["$_control_mobile_h_controlmobileview.showSpinButton"]]},"control.freespins.play":{"s":[["SoundService.play",["audio_freespin_numbers"]],["SoundService.stopGroup",["main"]],["SoundService.play",["audio_reel_rotate",null,{"loop":true}]]],"x":[["+protocol.freespins.play"],["reels.freespins.spin"],["lines.spin.start"],["settings.spin.start"]],"m":[["$_control_mobile_h_controlmobileview.disableAllButtons"],["$_control_mobile_h_controlmobileview.changeWinValue",[null]],["$_control_mobile_h_controlmobileview.changeFreespinCounterBeforeSpin"]],"e":[["spinAction"]]},"control.freespins.spin":[],"control.freespins.stop":{"s":[["SoundService.stop",["audio_reel_rotate"]]],"m":[["$_control_mobile_h_controlmobileview.changeTotalWinValue"],["$_control_mobile_h_controlmobileview.changeWinValue"],["$_control_mobile_h_controlmobileview.changeBalanceValue"],["$_control_mobile_c_controlmobile.checkButtonsActive"]]},"control.freespins.show":{"m":[["$_control_mobile_h_controlmobileview.enableAllButtons"],["$_control_mobile_h_controlmobileview.showFreePanel"]]},"control.freespins.hide":{"x":[["reels.freespins.end"]],"m":[["$_control_mobile_h_controlmobileview.changeWinValue"],["$_control_mobile_h_controlmobileview.changeBalanceValue"]]},"control.freespins.wait":{"reducers":{"type":2,"execute":{"protocol.freespins.init":[]}},"m":[["$_control_mobile_c_controlmobile.checkFreeSpinEnd"]]},"control.freespins.showPopupStart":{"m":[["$_control_mobile_h_controlmobileview.disableAllButtons"],["$_control_mobile_h_controlmobileview.showTotalPanelRestore"],["$_control_mobile_c_controlmobile.showStartFreeSpins"]]},"control.freespins.showPopupAdditional":{"a":["count"],"m":[["$_control_mobile_c_controlmobile.showAdditionalFreeSpins",[0]]]},"control.freespins.hideAddition":{"s":[["PopupService.removeGamePopup",["freespin"]]],"x":[["control.freespins.play"]],"o":["services","executeStates"]},"control.freespins.showPopupEnd":{"a":["state"],"m":[["$_control_mobile_c_controlmobile.checkButtonsActive"],["$_control_mobile_c_controlmobile.showEndFreeSpins",[0]]]},"control.bonus.init":{"s":[["TickerTapeService.bonusGameInfo"]],"m":[["$_control_mobile_h_controlmobileview.hideAdditionalButtons"],["$_control_mobile_h_controlmobileview.showBonusPanel"],["$_control_mobile_h_controlmobileview.disableAllButtons"],["$_control_mobile_h_controlmobileview.changeTotalBetValue"],["$_control_mobile_h_controlmobileview.changeBalanceValue"]]},"control.bonus.showPopupStart":{"s":[["PopupService.addGamePopup",["bonus",{"states":[["popup.popups.bonusStart"]]}]],["PopupService.addWaitGamePopup",["bonus",2]]],"m":[["$_control_mobile_h_controlmobileview.hideAllButtons"]]},"control.bonus.showPanel":{"m":[["$_control_mobile_h_controlmobileview.showBonusPanel"]]},"control.bonus.picks":{"m":[["$_control_mobile_h_controlmobileview.showBonusPanel"]]},"control.bonus.showWinRound":{"m":[["$_control_mobile_h_controlmobileview.showBonusRoundWin"]]},"control.bonus.hideWinRound":{"m":[["$_control_mobile_h_controlmobileview.hideBonusRoundWin"]]},"control.bonus.hide":{"x":[["reels.defaultBackground"]],"m":[["$_control_mobile_h_controlmobileview.hideBonusPanel"]]},"control.bonus.wait":[],"control.bonus.end":{"m":[["$_control_mobile_h_controlmobileview.hideBonusPanel"],["$_control_mobile_h_controlmobileview.enableAllButtons"]]},"control.bonus_stops.init":{"x":[["protocol.bonus.end"],["bonus.end"]],"m":[["$_control_mobile_h_controlmobileview.hideBonusPanel"],["$_control_mobile_h_controlmobileview.enableAllButtons"]]},"control.bonus_stops.stop":[],"control.autoSpins.start":{"x":[["control.autoSpins.spin"]],"m":[["$_control_mobile_h_controlmobileview.disableAllButtons"]]},"control.autoSpins.play":{"m":[["$_control_mobile_c_controlmobile.playAutoSpins"]]},"control.autoSpins.wait":{"m":[["$_control_mobile_c_controlmobile.playAutoSpins"]]},"control.autoSpins.spin":{"s":[["SoundService.stopGroup",["main"]],["SoundService.play",["audio_freespin_numbers"]],["SoundService.play",["audio_reel_rotate",null,{"loop":true}]]],"x":[["+protocol.autoSpins.play"],["reels.spins.spin"],["lines.hideLines"]],"m":[["$_control_mobile_h_controlmobileview.changeSpinState"],["$_control_mobile_h_controlmobileview.changeBalanceValueBeforeSpin"],["$_control_mobile_h_controlmobileview.changeWinValue",[null]]],"e":[["spinAction"]]},"control.autoSpins.stop":{"s":[["SoundService.stop",["audio_reel_rotate"]]],"m":[["$_control_mobile_h_controlmobileview.changeWinValue"],["$_control_mobile_h_controlmobileview.changeBalanceValue"]]},"control.autoSpins.stopAutoSpins":{"m":[["$_control_mobile_h_controlmobileview.enableAllButtons"],["$_control_mobile_h_controlmobileview.changeSpinState"],["$_control_mobile_h_controlmobileview.stopAutoSpins"]]},"control.autoSpins.resume":[],"control.changeBet.back":{"m":[["$_control_mobile_h_controlmobileview.changeDecBetButton"]]},"control.changeBet.forward":{"m":[["$_control_mobile_h_controlmobileview.changeIncBetButton"]]},"control.changeBet.change":{"a":["numBet"],"f":[["currentBetLine",[0]]]},"control.changeLines.back":{"m":[["$_control_mobile_h_controlmobileview.changeDecLineButton"],["$_lines_mobile_h_mobilelinesview.showActiveLines"]]},"control.changeLines.forward":{"m":[["$_control_mobile_h_controlmobileview.changeIncLineButton"],["$_lines_mobile_h_mobilelinesview.showActiveLines"]]},"control.changeLines.change":{"a":["numLines"],"f":[["currentCountLines",[0]]]},"control.changeToMaxBet":{"m":[["$_control_mobile_h_controlmobileview.changeToMaxBet"]]},"control.fastMode.available":[],"control.fastMode.disabled":[],"control.info.show":[],"control.info.hide":[],"control.help.show":[],"control.help.hide":[],"control.sound.available":[],"control.sound.disabled":[],"control.sound.backgroundOn":[],"control.sound.backgroundOff":[],"control.sound.effectsOn":[],"control.sound.effectsOff":[],"control.quality.high":[],"control.quality.medium":[],"control.quality.low":[],"control.keyboards.spaceBarSpinOn":[],"control.keyboards.spaceBarSpinOff":[],"settings.spin.start":[],"settings.spin.stop":[],"settings.toolbar.staticMessage":{"a":["message"],"m":[["$_settings_mobile_h_settingsmobileview.showStaticToolbarMessage",[0]]]},"settings.toolbar.dynamicMessages":{"a":["messages"],"m":[["$_settings_mobile_h_settingsmobileview.showDynamicToolbarMessage",[0]]]},"settings.toolbar.staticFreeBetMessage":{"a":["count"],"m":[["$_settings_mobile_h_settingsmobileview.showFreeBetToolbarMessage",[0]]]},"settings.toolbar.fastMessage":{"a":["aliasText"],"m":[["$_settings_mobile_h_settingsmobileview.showFastToolbarMessage",[0]]]},"settings.quickMode.enable":[],"settings.quickMode.disable":[],"win.lines.checkBigWin":{"a":["executeNextState"],"m":[["$_win_common_c_win.checkBigWin",[0]]]},"win.bigWin":{"a":["resolve"],"m":[["$_win_mobile_h_winmobileview.showBigWin",[0]]]},"win.hideBigWin":{"m":[["$_win_mobile_h_winmobileview.hideBigWin"]]}}},"desktop":{"signals":{"background.main":{"m":[["$_background_common_h_background.showMainBackground"]]},"background.freespins":{"m":[["$_background_common_h_background.showFreeSpinBackground"]]},"background.bonus":{"m":[["$_background_common_h_background.showBonusBackground"]]},"popup.popups.bonusStart":{"m":[["$_popup_desktop_e_popupinitevent.showPopupBonusStartEvent"]]},"popup.popups.freeSpinStart":{"a":["countFreeSpins"],"m":[["$_popup_desktop_e_popupinitevent.showPopupFreeSpinsStartEvent",[0]]]},"popup.popups.freeSpinAdd":{"a":["countAdd"],"m":[["$_popup_desktop_e_popupinitevent.showPopupFreeSpinsAdditionalEvent",[0]]]},"popup.popups.freeSpinFinish":{"a":["amountWin","state"],"m":[["$_popup_desktop_e_popupinitevent.showPopupFreeSpinsFinishEvent",[0,1]]]},"popup.popups.autoSpinFinish":{"a":["config"],"m":[["$_popup_desktop_e_popupinitevent.showPopupAutoSpinFinishEvent",[0]]]},"popup.popups.showCustomPopup":{"a":["data"],"m":[["$_popup_desktop_e_popupinitevent.showCustomPopupEvent",[0]]]},"popup.popups.systemInfo":{"a":["data"],"m":[["$_popup_desktop_e_popupinitevent.showSystemInfoPopupEvent",[0]]]},"popup.popups.systemError":{"a":["data"],"m":[["$_popup_desktop_e_popupinitevent.showSystemErrorPopupEvent",[0]]]},"popup.popups.emptyBlur":{"m":[["$_popup_desktop_h_desktoppopupview.showEmptyBlur"]]},"popup.popups.show":{"a":["type","object","showBG","resolve"],"m":[["$_popup_desktop_h_desktoppopupview.showPopupLayer",[0,1,2,3]]]},"popup.popups.hide":{"a":["type","object","hideBG","resolve"],"m":[["$_popup_desktop_h_desktoppopupview.hidePopupLayer",[0,1,2,3]]]},"popup.errors.system":{"a":["data"],"m":[["$_popup_desktop_e_popupinitevent.showSystemErrorPopupEvent",[0]]]},"popup.errors.hideSystem":{"a":["data"],"m":[["$_popup_desktop_h_desktoppopupview.hideSystemPopup",[0]]]},"popup.errors.hideAllSystem":{"m":[["$_popup_desktop_h_desktoppopupview.hideAllSystemPopups"]]},"popup.loading.show":{"m":[["$_popup_desktop_h_desktoppopupview.showLoadingAnimation"]]},"popup.loading.hide":{"m":[["$_popup_desktop_h_desktoppopupview.hideLoadingAnimation"]]},"protocol.init":{"m":[["$_protocol_common_c_protocollucky.authAction"]]},"protocol.checkInit":{"m":[["$_protocol_common_c_protocollucky.checkInitProtocol"]]},"protocol.loaded":{"s":[["GameActionService.setActivate"]],"x":[["lines.initRestoreWin"]],"m":[["$_protocol_common_c_protocollucky.readyGame"]],"f":[["gameLoaded",[true]]],"o":["flags","methods","services","executeStates"]},"protocol.async.restartSession":{"m":[["$_protocol_common_c_protocollucky.restartSession"]]},"protocol.async.changeBalance":{"x":[["control.async.changeBalance"]]},"protocol.freebets.reload":{"s":[["AutoPlayService.suspend"]],"m":[["$_protocol_common_c_protocollucky.updateStartAction"]]},"protocol.freebets.stop":{"a":["bet_per_line","left_spins","lines","total_bet","total_spins","total_win"],"x":[["control.freebets.init",[1]],["control.freebets.change",[0,1,2,3,4,5]]]},"protocol.freebets.remove":{"x":[["lines.ended.execute"]]},"protocol.freebets.check":{"m":[["$_protocol_common_c_protocollucky.checkFreeBets"]]},"protocol.ready.spins":{"x":[["+protocol.spins.init"]]},"protocol.ready.respin":{"x":[["+protocol.spins.init"],["protocol.respins.play"]]},"protocol.ready.freebets":{"a":["bet_per_line","left_spins","lines","total_bet","total_spins","total_win"],"x":[["protocol.freebets.stop",[0,1,2,3,4,5]]]},"protocol.ready.freespin_init":{"x":[["+protocol.freespin_init.init"]]},"protocol.ready.freespins":{"x":[["protocol.spins.init"],["+protocol.freespin.restore"]]},"protocol.ready.freespins_stops":{"x":[["protocol.freespin.init"],["+protocol.freespins_stops.init"]]},"protocol.ready.bonus":{"x":[["protocol.spins.init"],["bonus.game.restore"]]},"protocol.ready.bonus_init":{"x":[["protocol.spins.init"],["+protocol.bonus_init.init"]]},"protocol.ready.bonus_stop":{"x":[["protocol.spins.init"],["protocol.bonus.init"],["+protocol.bonus_stop.init"]]},"protocol.spin.init":{"x":[["protocol.spins.init"]]},"protocol.spins.init":{"reducers":{"type":2,"execute":{".freespins.stopAnimation":{"x":[["control.freespins.showPopupEnd"],["audio.background.change",["spins"]]]},".freespin_stops.sendStop":{"resume":true,"x":[["settings.toolbar.fastMessage",["fast_start_game_message"]]]},"control.freebets.nextGameSession":{"resume":true,"indexHistory":[0,1,2],"x":[["reels.updateReelsSets"]]}}},"s":[["AutoPlayService.resume"]],"x":[["reels.spins.init"],["lines.spins.init"],["control.spins.init"],["background.main"],["audio.background.change",["spins"]]],"f":[["freeSpinsEnabled",[false]]],"o":["services","flags","executeStates"]},"protocol.spins.play":{"m":[["$_protocol_common_c_protocollucky.spinSendAction"]]},"protocol.spins.stop":{"x":[["reels.spins.stop"]]},"protocol.spins.end":{"x":[["reels.spins.end"],["lines.spins.end"]]},"protocol.autoSpins.play":{"m":[["$_protocol_common_c_protocollucky.spinSendAction"]]},"protocol.autoSpins.stop":{"x":[["+reels.autoSpins.stop"]]},"protocol.respin.init":{"x":[["protocol.spins.init"],["protocol.respins.init"]]},"protocol.respins.init":{"x":[["+control.respins.play"]]},"protocol.respins.play":{"m":[["$_protocol_common_c_protocollucky.spinSendAction",["respin"]]]},"protocol.respins.stop":{"x":[["reels.respins.stop"]]},"protocol.freespin_init.init":{"reducers":{"type":2,"execute":{"protocol.spins.stop":[],".spins.stopAnimation":{"x":[["freespins.intro.init"]]},"reels.autoSpins.stopAnimation":{"s":[["AutoPlayService.suspend"]],"x":[["freespins.intro.init"]],"o":["services","executeStates"]},"reels.respins.stopAnimation":{"x":[["freespins.intro.init"]]},"control.freebets.nextGameSession":{"indexHistory":[0,1,2],"x":[["freespins.intro.init"]]}}},"x":[["freespins.intro.init"]]},"protocol.freespin_init.play":{"a":["symbolID"],"m":[["$_protocol_common_c_protocollucky.freeSpinInitSendAction",[0]]]},"protocol.freespin_init.stop":{"x":[["freespins.intro.stop"]]},"protocol.freespin.init":{"reducers":{"type":2,"execute":{".spins.stopAnimation":{"x":[["freespins.game.init"]]},"reels.respins.stopAnimation":{"x":[["control.freespins.play"]]},"control.freebets.nextGameSession":{"indexHistory":[0,1,2],"x":[["lines.ended.clear"],["reels.updateReelsSets"],["freespins.game.resume"]],"f":[["freeSpinsEnabled",[true]]],"o":["flags","executeStates","services"]}}},"x":[["freespins.game.init"]]},"protocol.freespin.play":{"m":[["$_protocol_common_c_protocollucky.freespinSendAction"]]},"protocol.freespin.stop":{"x":[["freespins.game.stop"]]},"protocol.freespin.restore":{"x":[["freespins.game.restore"]]},"protocol.freespin_stop.init":{"x":[["freespins.outro.init"]]},"protocol.freespin_stop.play":{"m":[["$_protocol_common_c_protocollucky.freeSpinEndSendAction"]]},"protocol.freespin_stop.stop":{"x":[["freespins.outro.end"]]},"protocol.bonus_init.init":{"reducers":{"type":2,"execute":{"reels.autoSpins.stopAnimation":{"s":[["AutoPlayService.suspend"]],"x":[["bonus.intro.init"]],"o":["services","executeStates"]},"control.freebets.nextGameSession":{"indexHistory":[0,1,2],"x":[["protocol.spin.init"],["bonus.intro.init"]]}}},"x":[["bonus.intro.init"]]},"protocol.bonus_init.play":{"m":[["$_protocol_common_c_protocollucky.bonusStartSendAction"]]},"protocol.bonus_init.stop":{"x":[["bonus.intro.end"]]},"protocol.bonus.init":{"reducers":{"type":2,"execute":{"reels.spins.stopAnimation":{"indexHistory":[1],"x":[["bonus.game.resume"]]},"reels.autoSpins.stopAnimation":{"s":[["AutoPlayService.suspend"]],"x":[["bonus.game.resume"]],"o":["services","executeStates"]},"control.freebets.nextGameSession":{"x":[["bonus.game.resume"]]}}},"x":[["bonus.game.init"]]},"protocol.bonus.play":{"a":["choose"],"m":[["$_protocol_common_c_protocollucky.bonusSendAction",[0]]]},"protocol.bonus.stop":{"x":[["bonus.game.play"]]},"protocol.bonus.restore":{"x":[["bonus.game.restore"]]},"protocol.bonus_stop.init":{"x":[["bonus.outro.init"]]},"protocol.bonus_stop.play":{"m":[["$_protocol_common_c_protocollucky.bonusEndSendAction"]]},"protocol.bonus_stop.stop":{"x":[["bonus.outro.end"]]},"protocol.gamble.start":{"m":[["ProtocolController::sendStartDoubleAction"]]},"protocol.gamble.choose":{"a":["cardID"],"m":[["ProtocolController::sendPlayDoubleAction",[0]]]},"bonus.intro.init":{"m":[["$_bonus_common_c_bonusgame.startIntro"]],"o":["methods"]},"bonus.intro.end":{"m":[["$_bonus_common_c_bonusgame.endIntro"]]},"bonus.game.init":{"x":[["control.bonus.init"],["reels.bonus.init"],["lines.bonus.init"],["audio.background.change",["bonus"]]],"m":[["$_bonus_desktop_h_desktopbonusgameview.initBonusGame"]],"o":["executeStates","methods"]},"bonus.game.start":{"m":[["$_bonus_common_c_bonusgame.startGame"]]},"bonus.game.play":{"x":[["control.bonus.picks"]],"m":[["$_bonus_desktop_h_desktopbonusgameview.showResult"]]},"bonus.game.restore":{"x":[["bonus.game.init"]],"m":[["$_bonus_common_c_bonusgame.restoreGame"]],"o":["executeStates","methods"]},"bonus.outro.init":{"m":[["$_bonus_common_c_bonusgame.startOutro"]]},"bonus.outro.end":{"x":[["control.bonus.end"],["reels.bonus.end"],["lines.bonus.end"]],"m":[["$_bonus_common_c_bonusgame.endOutro"]],"o":["executeStates","methods"]},"freespins.intro.init":{"x":[["freespins.game.init"]],"m":[["$_freespins_common_c_freespins.startIntro"]],"o":["methods","executeStates"]},"freespins.intro.play":{"a":["symbolID"],"x":[["protocol.freespin_init.play",[0]]]},"freespins.intro.stop":{"x":[["control.freespins.init"]],"m":[["$_freespins_common_c_freespins.endIntro"]]},"freespins.game.init":{"s":[["TickerTapeService.freeSpinGameInfo"]],"x":[["control.freespins.init"],["reels.freespin.init"],["lines.freespins.init"],["background.freespins"],["audio.background.change",["freespins"]]],"m":[["$_freespins_common_h_freespinsview.showLayout"],["$_freespins_common_h_freespinsview.showSelectedHeader"]],"f":[["freeSpinsEnabled",[true]]],"o":["flags","executeStates","methods","services"]},"freespins.game.start":{"m":[["$_freespins_common_c_freespins.startGame"]]},"freespins.game.play":{"s":[["SoundService.stopGroup",["main"]],["SoundService.play",["audio_freespin_numbers"]],["SoundService.play",["audio_reel_rotate",null,{"loop":true}]]],"x":[["reels.freespin.spin"],["control.freespins.play"],["lines.spin.start"],["settings.spin.start"],["+protocol.freespin.play"]],"e":[["spinAction"]]},"freespins.game.stop":{"x":[["control.freespins.stop"],["reels.freespin.stop"]]},"freespins.game.wait":{"m":[["$_freespins_common_c_freespins.checkFreeSpinEnd"]]},"freespins.game.restore":{"x":[["freespins.game.init"]],"m":[["$_freespins_common_c_freespins.restoreGame"]],"o":["executeStates","methods"]},"freespins.outro.init":{"m":[["$_freespins_common_c_freespins.startOutro"]]},"freespins.outro.end":{"m":[["$_freespins_common_c_freespins.endOutro"]]},"audio.lineAudio.one":{"a":["winLine","hasWild","resolve"],"m":[["$_audio_common_c_audio.playLineCombination",[0,1,2]]]},"audio.lineAudio.max":{"a":["winLines","hasWild","resolve"],"m":[["$_audio_common_c_audio.playMaxOfLineCombination",[0,1,2]]]},"audio.lineAudio.bonusLine":{"a":["symbolID","resolve"],"m":[["$_audio_common_c_audio.playLineBonusCombination",[0,1]]]},"audio.play.normal":{"a":["name","resolve","volume"],"m":[["$_audio_common_c_audio.playSound",[0,1,2]]]},"audio.play.loop":{"a":["name","resolve","volume"],"m":[["$_audio_common_c_audio.playSound",[0,1,2,0]]]},"audio.background.change":{"a":["action"],"m":[["$_audio_common_c_audio.changeBackgroundSound",[0]]]},"audio.background.fadeIn":{"a":["resolve"],"m":[["$_audio_common_c_audio.backgroundSoundFadeIn",[0]]]},"audio.background.fadeOut":{"a":["resolve","volume"],"m":[["$_audio_common_c_audio.backgroundSoundFadeOut",[0,1]]]},"preloader.startLoading":{"x":[["protocol.init"]],"e":[["startLoading"]]},"preloader.endPreload":{"m":[["$_preloader_common_c_preloader.readyInc"]]},"preloader.initGame":{"x":[["popup.errors.hideSystem"]],"m":[["$_preloader_common_c_preloader.readyInc"]]},"preloader.ready":{"e":[["initGame",[true]]],"f":[["gameReady",[true]]],"o":["flags","events"]},"preloader.ready_":{"x":[["reels.init"],["lines.init"],["control.init"],["popup.init"],["freespins.initLayout"],["bonus.initLayout"]],"m":[["$_preloader_desktop_h_preloaderdesktopview.hide"]],"e":[["initGame",[true]]],"f":[["gameReady",[true]]],"o":["flags","services","methods","events","executeStates"]},"reels.default":{"m":[["$_reels_desktop_h_desktopreel.initGameReels"]]},"reels.defaultBackground":{"x":[["background.main"]],"m":[["$_reels_desktop_h_desktopreel.initDefaultBackground"]]},"reels.updateReelsSets":{"m":[["$_reels_desktop_h_desktopreel.updateReelsSets"]]},"reels.spins.init":{"m":[["$_reels_desktop_h_desktopreel.showLayout"],["$_reels_desktop_h_desktopreel.initDefaultBackground"]]},"reels.spins.spin":{"m":[["$_reels_desktop_h_desktopreel.startReels"]]},"reels.spins.fastStop":{"m":[["$_reels_desktop_h_desktopreel.stopReels"]]},"reels.spins.stop":{"m":[["$_reels_desktop_h_desktopreel.stopReels"]]},"reels.spins.stopAnimation":{"reducers":{"type":2,"execute":{"protocol.freebets.reload":{"resume":true,"indexHistory":[1,2,3],"x":[["control.freebets.end"]]}}},"x":[["control.spin.stop"],["win.lines.checkBigWin",["!lines.spin.stop"]],["settings.spin.stop"],["protocol.freebets.check"]],"m":[["$_reels_desktop_h_desktopreel.setWinElements"]]},"reels.spins.end":{"x":[["paytable.hideMiniPaytable"]],"m":[["$_reels_desktop_h_desktopreel.hideLayout"]]},"reels.respins.spin":{"m":[["$_reels_desktop_h_desktopreel.startRespinReels"]]},"reels.respins.stop":{"m":[["$_reels_desktop_h_desktopreel.stopReels"]]},"reels.respins.stopAnimation":{"x":[["win.lines.checkBigWin",["!lines.respins.stop"]],["control.respins.stop"]],"m":[["$_reels_desktop_h_desktopreel.stopRespinReels"]]},"reels.freespin.init":{"m":[["$_reels_desktop_h_desktopreel.showLayout"],["$_reels_desktop_h_desktopreel.showFreeSpinBackground"]]},"reels.freespin.spin":{"m":[["$_reels_desktop_h_desktopreel.startReels"]]},"reels.freespin.stop":{"m":[["$_reels_desktop_h_desktopreel.stopReels"]]},"reels.freespin.stopAnimation":{"x":[["control.freespins.stop"],["win.lines.checkBigWin",["!lines.freespins.stop"]]],"m":[["$_reels_desktop_h_desktopreel.setWinElements"]]},"reels.freespin.end":{"m":[["$_reels_desktop_h_desktopreel.hideFreeSpinBackground"]]},"reels.bonus.init":{"x":[["paytable.hideMiniPaytable"]],"m":[["$_reels_desktop_h_desktopreel.hideLayout"]]},"reels.bonus.end":{"x":[["reels.spins.init"]]},"reels.autoSpins.spin":{"m":[["$_reels_desktop_h_desktopreel.startReels"]]},"reels.autoSpins.fastStop":{"m":[["$_reels_desktop_h_desktopreel.stopReels"]]},"reels.autoSpins.stop":{"m":[["$_reels_desktop_h_desktopreel.stopReels"]]},"reels.autoSpins.stopAnimation":{"reducers":{"type":2,"execute":{"protocol.freebets.reload":{"resume":true,"indexHistory":[1,2,3],"x":[["control.freebets.end"]]}}},"x":[["control.autoSpins.stop"],["win.lines.checkBigWin",["!lines.autoSpins.stop"]],["protocol.freebets.check"]],"m":[["$_reels_desktop_h_desktopreel.setWinElements"]]},"reels.sounds.stopReel":{"a":["number"],"m":[["$_reels_desktop_h_desktopreel.stopReelSound",[0]]]},"lines.initRestoreWin":{"m":[["$_lines_desktop_h_desktoplinesview.playStartWinLines"]]},"lines.hideLines":{"a":["isQSTrigger"],"m":[["$_lines_desktop_h_desktoplinesview.hideAllWinLines",[0]]]},"lines.interruptAnimations":{"m":[["$_lines_desktop_h_desktoplinesview.interruptAnimations"]]},"lines.showNext":{"m":[["$_lines_desktop_h_desktoplinesview.showNextWinLine"]]},"lines.showAllWinLines":{"m":[["$_lines_desktop_h_desktoplinesview.showAllWinLines"]]},"lines.enableLines":{"m":[["$_lines_desktop_h_desktoplinesview.enableBetLinesShow"]]},"lines.ended.subscribe":{"a":["executeWaitState"],"m":[["$_lines_desktop_h_desktoplinesview.subscribeEnded",[0]]]},"lines.ended.execute":{"m":[["$_lines_desktop_h_desktoplinesview.checkAnimationEnded"]]},"lines.ended.clear":{"m":[["$_lines_desktop_h_desktoplinesview.clearAnimationEnded"]]},"lines.spin.start":{"m":[["$_lines_desktop_h_desktoplinesview.startSpinAction"]]},"lines.spin.stop":{"m":[["$_lines_desktop_h_desktoplinesview.stopSpinAction"]]},"lines.spins.init":{"m":[["$_lines_desktop_h_desktoplinesview.showLayout"],["$_lines_desktop_h_desktoplinesview.checkBetLinesShow"],["$_lines_desktop_h_desktoplinesview.checkAnimationEnded"]]},"lines.spins.end":{"m":[["$_lines_desktop_h_desktoplinesview.hideLayout"]]},"lines.freespins.init":{"m":[["$_lines_desktop_h_desktoplinesview.showLayout"]]},"lines.freespins.stop":{"m":[["$_lines_desktop_h_desktoplinesview.stopFreeSpinsAction"]]},"lines.freespins.end":{"m":[["$_lines_desktop_h_desktoplinesview.hideLayout"]]},"lines.autoSpins.init":{"m":[["$_lines_desktop_h_desktoplinesview.showLayout"]]},"lines.autoSpins.stop":{"m":[["$_lines_desktop_h_desktoplinesview.stopAutoSpinAction"]]},"lines.autoSpins.end":{"m":[["$_lines_desktop_h_desktoplinesview.hideLayout"]]},"lines.bonus.init":{"m":[["$_lines_desktop_h_desktoplinesview.hideLayout"]]},"lines.bonus.end":{"m":[["$_lines_desktop_h_desktoplinesview.showLayout"],["$_lines_desktop_h_desktoplinesview.enableBetLinesShow"]]},"lines.respins.stop":{"m":[["$_lines_desktop_h_desktoplinesview.stopRespinAction"]]},"lines.respins.next":{"s":[["GameActionService.next",["play","respins"]]]},"control.async.wait":[],"control.async.changeBalance":{"m":[["$_control_desktop_h_controldesktopview.changeBalanceValue"]]},"control.spin.play":{"s":[["SoundService.stopGroup",["main"]],["SoundService.play",["audio_spin_mbet"]],["SoundService.play",["audio_reel_rotate",null,{"loop":true}]]],"x":[["+protocol.spins.play"],["reels.spins.spin"],["lines.spin.start"],["settings.spin.start"],["settings.toolbar.fastMessage",["fast_click_spin_message"]]],"m":[["$_control_desktop_h_controldesktopview.disableAllButtons"],["$_control_desktop_h_controldesktopview.changeWinValue",[null]],["$_control_desktop_h_controldesktopview.changeBalanceValueBeforeSpin"]],"e":[["spinAction"]]},"control.spin.spacePlay":{"reducers":{"type":2,"execute":{".spins.stopAnimation":{"resume":true,"x":[["+control.spin.play"]]},"protocol.spins.init":{"resume":true,"x":[["+control.spin.play"]]}}}},"control.spin.stop":{"s":[["SoundService.stop",["audio_reel_rotate"]]],"m":[["$_control_desktop_h_controldesktopview.enableAllButtons"],["$_control_desktop_h_controldesktopview.changeWinValue"],["$_control_desktop_h_controldesktopview.changeBalanceValue"],["$_control_desktop_c_controldesktop.checkSpinButtonActive"]]},"control.spin.fastStop":[],"control.spin.quickSpinOn":[],"control.spin.quickSpinOff":[],"control.spin.wait":[],"control.spins.init":{"s":[["TickerTapeService.spinGameInfo"]],"m":[["$_control_desktop_h_controldesktopview.enableAllButtons"],["$_control_desktop_h_controldesktopview.hideFreePanel"],["$_control_desktop_c_controldesktop.detectAutoSpins"],["$_control_desktop_c_controldesktop.checkSpinButtonActive"]]},"control.spins.stop":{"x":[["protocol.spins.stop"]]},"control.spins.wait":{"reducers":{"type":2,"execute":{"protocol.spins.init":{"resume":true,"x":[["settings.toolbar.fastMessage",["fast_start_game_message"]]]}}},"x":[["lines.enableLines"]],"m":[["$_control_desktop_c_controldesktop.checkSpinEnd"]]},"control.respins.play":{"s":[["SoundService.stopGroup",["main"]],["SoundService.play",["audio_reel_rotate",null,{"loop":true}]]],"x":[["+protocol.respins.play"],["reels.respins.spin"],["lines.spin.start"],["settings.spin.start"]],"m":[["$_control_desktop_h_controldesktopview.disableAllButtons"],["$_control_desktop_h_controldesktopview.changeBalanceValue"]],"e":[["spinAction"]]},"control.respins.stop":{"s":[["SoundService.stop",["audio_reel_rotate"]]],"m":[["$_control_desktop_h_controldesktopview.addWinValue"],["$_control_desktop_h_controldesktopview.changeTotalWinValue"],["$_control_desktop_h_controldesktopview.changeBalanceValue"],["$_control_desktop_h_controldesktopview.enableAllButtons"],["$_control_desktop_c_controldesktop.checkSpinButtonActive"]]},"control.respins.wait":{"reducers":{"type":2,"execute":{"protocol.respins.init":{"resume":true,"indexHistory":[4,5],"x":[["control.respins.end"]]}}},"x":[["lines.enableLines"]],"m":[["$_control_desktop_h_controldesktopview.enableAllButtons"],["$_control_desktop_c_controldesktop.detectAutoSpins"],["$_control_desktop_c_controldesktop.detectFreeSpins"],["$_control_desktop_c_controldesktop.checkSpinEnd"]]},"control.respins.end":{"m":[["$_control_desktop_h_controldesktopview.enableAllButtons"],["$_control_desktop_h_controldesktopview.changeWinFreeBets"]]},"control.freebets.init":{"a":["count"],"m":[["$_control_desktop_h_controldesktopview.initFreeBets",[0]]]},"control.freebets.change":{"a":["bet_per_line","left_spins","lines","total_bet","total_spins","total_win"],"x":[["settings.toolbar.staticFreeBetMessage",[1]]],"m":[["$_control_desktop_h_controldesktopview.changeWinFreeBets",[5]]]},"control.freebets.end":{"x":[["lines.ended.subscribe",["control.freebets.hide"]]]},"control.freebets.hide":{"s":[["SoundService.stopGroup",["main"]]],"m":[["$_control_desktop_h_controldesktopview.hideFreeBets"]]},"control.freebets.wait":{"reducers":{"type":2,"execute":{"protocol.freebets.reload":{"resume":true,"x":[["lines.ended.clear"],["control.freebets.hide"]]}}},"x":[["control.autoSpins.stopAutoSpins"]]},"control.freebets.nextGameSession":{"reducers":{"type":2,"execute":{"protocol.bonus_stop.stop":{"x":[["protocol.spin.init"]]}}},"s":[["GameActionService.next"]]},"control.freespins.init":{"m":[["$_control_desktop_h_controldesktopview.enableAllButtons"],["$_control_desktop_h_controldesktopview.showFreePanel"],["$_control_desktop_h_controldesktopview.changeTotalWinValue"]]},"control.freespins.play":{"m":[["$_control_desktop_h_controldesktopview.disableAllButtons"],["$_control_desktop_h_controldesktopview.changeFreeCounterBeforeSpin"],["$_control_desktop_h_controldesktopview.changeWinValue",[null]]]},"control.freespins.stop":{"s":[["SoundService.stop",["audio_reel_rotate"]]],"m":[["$_control_desktop_h_controldesktopview.enableAllButtons"],["$_control_desktop_h_controldesktopview.changeWinValue"],["$_control_desktop_h_controldesktopview.changeTotalWinValue"],["$_control_desktop_h_controldesktopview.changeBalanceValue"]]},"control.freespins.wait":{"reducers":{"type":2,"execute":{"protocol.freespins.init":[]}},"m":[["$_control_desktop_c_controldesktop.checkFreeSpinEnd"]],"e":[["clearBlockAction"]]},"control.freespins.showPopupAdditional":{"a":["count"],"m":[["$_control_desktop_c_controldesktop.showAdditionalFreeSpins",[0]]]},"control.freespins.hideAddition":{"s":[["PopupService.removeGamePopup",["freespin"]]],"x":[["control.freespins.play"]],"o":["services","executeStates"]},"control.freespins.end":{"m":[["$_control_desktop_h_controldesktopview.changeWinValue"],["$_control_desktop_h_controldesktopview.changeWinFreeBets"]]},"control.bonus.init":{"s":[["TickerTapeService.bonusGameInfo"]],"m":[["$_control_desktop_h_controldesktopview.showBonusPanel"]]},"control.bonus.showPopupStart":{"s":[["PopupService.addGamePopup",["bonus",{"states":[["popup.popups.bonusStart"]]}]],["PopupService.addWaitGamePopup",["bonus",2]]]},"control.bonus.showPanel":{"m":[["$_control_desktop_h_controldesktopview.showBonusPanel"]]},"control.bonus.picks":{"m":[["$_control_desktop_h_controldesktopview.showBonusPanel"]]},"control.bonus.showWinRound":[],"control.bonus.hideWinRound":[],"control.bonus.hide":{"x":[["reels.defaultBackground"]],"m":[["$_control_desktop_h_controldesktopview.hideBonusPanel"]]},"control.bonus.wait":[],"control.bonus.end":{"m":[["$_control_desktop_h_controldesktopview.hideBonusPanel"],["$_control_desktop_h_controldesktopview.changeWinFreeBets"]]},"control.bonus_stops.init":{"x":[["protocol.bonus.end"],["bonus.end"]],"m":[["$_control_desktop_h_controldesktopview.hideBonusPanel"]]},"control.bonus_stops.stop":[],"control.autoSpins.start":{"x":[["control.autoSpins.spin"],["settings.toolbar.fastMessage",["fast_click_avto_spin"]]],"m":[["$_control_desktop_h_controldesktopview.hideAutoPlaySettings"],["$_control_desktop_h_controldesktopview.hideAdvancedAutoPlaySettings"],["$_control_desktop_h_controldesktopview.hideAutoPlayButton"],["$_control_desktop_h_controldesktopview.showAutoStopButton"],["$_control_desktop_h_controldesktopview.showAutoPlayCounter"],["$_control_desktop_h_controldesktopview.disableAllButtons"],["$_control_desktop_h_controldesktopview.disabledSpinButton"]]},"control.autoSpins.play":{"m":[["$_control_desktop_c_controldesktop.playAutoSpins"]]},"control.autoSpins.wait":{"m":[["$_control_desktop_c_controldesktop.playAutoSpins"]]},"control.autoSpins.spin":{"s":[["SoundService.stopGroup",["main"]],["SoundService.play",["audio_freespin_numbers"]],["SoundService.play",["audio_reel_rotate",null,{"loop":true}]]],"x":[["+protocol.autoSpins.play"],["reels.spins.spin"],["lines.spin.start"]],"m":[["$_control_desktop_h_controldesktopview.changeAutoPlayValue"],["$_control_desktop_h_controldesktopview.changeWinValue",[null]],["$_control_desktop_h_controldesktopview.changeBalanceValueBeforeSpin"]],"e":[["spinAction"]]},"control.autoSpins.stop":{"s":[["SoundService.stop",["audio_reel_rotate"]]],"m":[["$_control_desktop_h_controldesktopview.changeWinValue"],["$_control_desktop_h_controldesktopview.changeBalanceValue"]]},"control.autoSpins.stopAutoSpins":{"s":[["PopupService.removeGamePopup",["autoPlay"]]],"x":[["control.spins.wait"]],"m":[["$_control_desktop_h_controldesktopview.hideAutoPlayInterface"],["$_control_desktop_h_controldesktopview.enableAllButtons"],["$_control_desktop_c_controldesktop.checkSpinButtonActive"]],"o":["services","methods","executeStates"]},"control.autoSpins.resume":[],"control.changeBet.back":{"s":[["SoundService.play",["audio_line"]]],"x":[["lines.interruptAnimations"],["lines.enableLines"],["win.hideBigWin"]],"m":[["$_control_desktop_h_controldesktopview.changeDecBetButton"],["$_control_desktop_h_controldesktopview.changeBalanceValue"],["$_control_desktop_h_controldesktopview.changeWinValue",[null]]]},"control.changeBet.forward":{"s":[["SoundService.play",["audio_line"]]],"x":[["lines.interruptAnimations"],["lines.enableLines"],["win.hideBigWin"]],"m":[["$_control_desktop_h_controldesktopview.changeIncBetButton"],["$_control_desktop_h_controldesktopview.changeBalanceValue"],["$_control_desktop_h_controldesktopview.changeWinValue",[null]]]},"control.changeBet.change":{"a":["numBet"],"f":[["currentBetLine",[0]]]},"control.changeLines.back":{"s":[["SoundService.play",["audio_line"]]],"x":[["lines.interruptAnimations"],["lines.enableLines"],["win.hideBigWin"]],"m":[["$_control_desktop_h_controldesktopview.changeDecLineButton"],["$_lines_desktop_h_desktoplinesview.showActiveLines"],["$_control_desktop_h_controldesktopview.changeWinValue",[null]]]},"control.changeLines.forward":{"s":[["SoundService.play",["audio_line"]]],"x":[["lines.interruptAnimations"],["lines.enableLines"],["win.hideBigWin"]],"m":[["$_control_desktop_h_controldesktopview.changeIncLineButton"],["$_lines_desktop_h_desktoplinesview.showActiveLines"],["$_control_desktop_h_controldesktopview.changeWinValue",[null]]]},"control.changeLines.change":{"a":["numLines"],"f":[["currentCountLines",[0]]]},"control.changeToMaxBet":{"s":[["SoundService.play",["audio_spin_mbet"]]],"x":[["settings.toolbar.fastMessage",["fast_max_bet"]],["lines.interruptAnimations"],["lines.enableLines"],["win.hideBigWin"]],"m":[["$_control_desktop_h_controldesktopview.changeToMaxBet"],["$_control_desktop_h_controldesktopview.changeWinValue",[null]]]},"control.quickMode.enable":{"x":[["settings.quickMode.enable"]],"m":[["$_control_desktop_c_controldesktop.enableQuickMode"]]},"control.quickMode.disable":{"x":[["settings.quickMode.disable"]],"m":[["$_control_desktop_c_controldesktop.disableQuickMode"]]},"control.info.show":[],"control.info.hide":[],"control.help.show":[],"control.help.hide":[],"control.sound.available":[],"control.sound.disabled":[],"control.sound.backgroundOn":[],"control.sound.backgroundOff":[],"control.sound.effectsOn":[],"control.sound.effectsOff":[],"control.quality.high":[],"control.quality.medium":[],"control.quality.low":[],"control.keyboards.spaceBarSpinOn":[],"control.keyboards.spaceBarSpinOff":[],"control.hideAutoPlayInterface":{"m":[["$_control_desktop_h_controldesktopview.hideAutoPlayInterface"]]},"control.disableAllButtons":{"m":[["$_control_desktop_h_controldesktopview.disableAllButtons"]]},"control.paytable":{"m":[["$_control_desktop_h_controldesktopview.changeWinValue",[null]]]},"settings.spin.start":[],"settings.spin.stop":[],"settings.toolbar.staticMessage":{"a":["message"],"m":[["$_settings_desktop_h_settingsdesktopview.showStaticToolbarMessage",[0]]]},"settings.toolbar.dynamicMessages":{"a":["messages"],"m":[["$_settings_desktop_h_settingsdesktopview.showDynamicToolbarMessage",[0]]]},"settings.toolbar.staticFreeBetMessage":{"a":["count"],"m":[["$_settings_desktop_h_settingsdesktopview.showFreeBetToolbarMessage",[0]]]},"settings.toolbar.fastMessage":{"a":["aliasText"],"m":[["$_settings_desktop_h_settingsdesktopview.showFastToolbarMessage",[0]]]},"settings.quickMode.enable":{"m":[["$_settings_desktop_h_settingsdesktopview.quickSpinCheck"]]},"settings.quickMode.disable":{"m":[["$_settings_desktop_h_settingsdesktopview.quickSpinUncheck"]]},"paytable.show":{"s":[["SoundService.play",["audio_paytable"]]],"x":[["lines.hideLines",[true]],["lines.enableLines"],["win.hideBigWin"],["control.paytable"]],"m":[["$_paytable_desktop_h_paytabledesktopview.show"]]},"paytable.hide":{"s":[["SoundService.play",["audio_paytable"]]],"m":[["$_paytable_desktop_h_paytabledesktopview.hide"]]},"paytable.hideMiniPaytable":{"m":[["$_paytable_desktop_h_paytabledesktopview.hideMiniPaytable"]]},"win.lines.checkBigWin":{"a":["executeNextState"],"m":[["$_win_common_c_win.checkBigWin",[0]]]},"win.bigWin":{"a":["resolve"],"m":[["$_win_desktop_h_windesktopview.showBigWin",[0]]]},"win.hideBigWin":{"m":[["$_win_desktop_h_windesktopview.hideBigWin"]]}}}});$_log.dev=true;var __RunPartialApplication=new StartConditions([{"condition":"$_args.mobile == '1' || ($_args.opt && $_args.opt.mobile == '1') || HelpersCheckBrowser.detect().mobile === true || HelpersCheckBrowser.detect().ios === true || HelpersCheckBrowser.detect().android === true || HelpersCheckBrowser.detect().tablet === true","exec":["mobile"]},{"condition":"HelpersCheckBrowser.detect().mobile !== true && HelpersCheckBrowser.detect().ios !== true && HelpersCheckBrowser.detect().android !== true","exec":["desktop"]}],null);__RunPartialApplication.setCallback("mobile",function(){__RunPartialApplication.type="mobile";__RunApplication.list=["$_background_mobile_e_backgroundevent","$_popup_mobile_e_popupinitevent","$_protocol_common_e_protocolluckyevent","$_bonus_mobile_e_bonusgameevent","$_freespins_mobile_e_freespinsevent","$_win_common_e_wincommonevent","$_audio_common_e_audio","$_preloader_mobile_e_preloaderinitevent","$_reels_mobile_e_initreels","$_lines_mobile_e_linesevent","$_win_mobile_e_winmobileevent","$_control_mobile_e_controlmobileevent","$_settings_mobile_e_settingsmobileevent"];});__RunPartialApplication.setCallback("desktop",function(){__RunPartialApplication.type="desktop";__RunApplication.list=["$_background_desktop_e_backgroundevent","$_popup_desktop_e_popupinitevent","$_protocol_common_e_protocolluckyevent","$_bonus_desktop_e_bonusgameevent","$_freespins_common_e_freespinsevent","$_win_common_e_wincommonevent","$_audio_common_e_audio","$_preloader_desktop_e_preloaderinitevent","$_reels_desktop_e_initreels","$_lines_desktop_e_linesevent","$_win_desktop_e_windesktopevent","$_control_desktop_e_controldesktopevent","$_settings_desktop_e_settingsdesktopevent","$_paytable_desktop_e_paytabledesktopevent"];});__RunPartialApplication.execute();__RunApplication.run();